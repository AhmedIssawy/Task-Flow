(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3138],{5160:(e,t,s)=>{Promise.resolve().then(s.bind(s,91890))},59409:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>p,gC:()=>m,l6:()=>o,yv:()=>c});var a=s(95155);s(12115);var n=s(22918),r=s(66474),l=s(5196),i=s(47863),d=s(59434);function o(e){let{...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,a.jsx)(n.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:s="default",children:l,...i}=e;return(0,a.jsxs)(n.l9,{"data-slot":"select-trigger","data-size":s,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[l,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:s,position:r="popper",...l}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...l,children:[(0,a.jsx)(x,{}),(0,a.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(h,{})]})})}function p(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(n.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(l.A,{className:"size-4"})})}),(0,a.jsx)(n.p4,{children:s})]})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(n.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(i.A,{className:"size-4"})})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(n.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(r.A,{className:"size-4"})})}},74946:(e,t,s)=>{"use strict";s.d(t,{Ks:()=>l,Lx:()=>d,WQ:()=>o,br:()=>r,wM:()=>c});var a=s(70404),n=s(76411);let r=(0,a.xP)({reducerPath:"departmentApi",baseQuery:(0,n.X)(),tagTypes:["Department"],endpoints:e=>({getDepartmentsPage:e.query({query:e=>{let{universityId:t,collegeId:s,page:a=1,limit:n=40}=e;return"/universities/".concat(t,"/colleges/").concat(s,"/departments?page=").concat(a,"&limit=").concat(n)},transformResponse:e=>e.data,providesTags:["Department"]}),getDepartmentById:e.query({query:e=>"/departments/".concat(e)}),createDepartment:e.mutation({query:e=>{let{universityId:t,collegeId:s,body:a}=e;return{url:"/departments/".concat(t,"/").concat(s),method:"POST",body:a}}}),updateDepartment:e.mutation({query:e=>{let{id:t,...s}=e;return{url:"/departments",method:"PATCH",body:{id:t,...s}}}}),deleteDepartment:e.mutation({query:e=>({url:"/departments/".concat(e),method:"DELETE"})})})}),{useGetDepartmentsPageQuery:l,useGetDepartmentByIdQuery:i,useCreateDepartmentMutation:d,useUpdateDepartmentMutation:o,useDeleteDepartmentMutation:c}=r},91890:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(95155),n=s(11623),r=s(12115),l=s(72381),i=s(59648),d=s(30285),o=s(51154),c=s(56671),u=s(59409),m=s(74946),p=s(59434);function x(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,p.cn)("bg-accent animate-pulse rounded-md",t),...s})}function h(e){let{universityId:t,collegeId:s,value:n,onChange:r,placeholder:l="Select department"}=e,{data:i,isLoading:d}=(0,m.Ks)({universityId:t,collegeId:s,page:1,limit:100});if(d)return(0,a.jsx)(x,{className:"h-10 w-full rounded-md"});let o=(null==i?void 0:i.departments)||[];return console.log("DepartmentSelect departments:",o),(0,a.jsx)("div",{className:"max-w-fit",children:(0,a.jsxs)(u.l6,{value:n,onValueChange:r,children:[(0,a.jsx)(u.bq,{className:"w-full",children:(0,a.jsx)(u.yv,{placeholder:l})}),(0,a.jsx)(u.gC,{children:null==o?void 0:o.map(e=>(0,a.jsx)(u.eb,{value:e._id,children:e.name},e._id))})]})})}function g(){let[e,t]=(0,r.useState)("685bd15728a896bea985cf47"),s="685b113ccce35d1be7fb42d6",u="685b0635a4b32e07ca4e97e6",[m,p]=(0,r.useState)(1),[x,g]=(0,r.useState)(!1),[f,v]=(0,r.useState)(null),{data:b,isLoading:j}=(0,n.th)({departmentId:e,collegeId:s,universityId:u,page:m,limit:5}),[y]=(0,n.AA)(),[w]=(0,n.VD)(),[N]=(0,n.v5)(),_=async t=>{try{f?(await w({courseId:f._id,updates:t}).unwrap(),c.o.success("Course updated successfully")):(await y({...t,departmentId:e}).unwrap(),c.o.success("Course created successfully"))}catch(e){c.o.error("An error occurred while submitting the course")}finally{g(!1),v(null)}},C=async e=>{try{await N(e).unwrap(),c.o.success("Course deleted successfully")}catch(e){c.o.error("An error occurred while deleting the course")}};return j?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsx)(o.A,{className:"animate-spin"})}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)(h,{universityId:u,collegeId:s,value:e,onChange:e=>t(e)}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Courses"}),(0,a.jsx)(d.$,{onClick:()=>g(!0),children:"+ Add Course"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:null==b?void 0:b.courses.map(t=>(0,a.jsx)(l.A,{course:t,onEdit:()=>{v(t),g(!0)},onDelete:()=>C(t._id),universityId:u,collegeId:s,departmentId:e},t._id))}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsx)(d.$,{variant:"outline",disabled:!(null==b?void 0:b.pagination.hasPrevPage),onClick:()=>p(e=>Math.max(e-1,1)),children:"Previous"}),(0,a.jsx)(d.$,{variant:"outline",disabled:!(null==b?void 0:b.pagination.hasNextPage),onClick:()=>p(e=>e+1),children:"Next"})]}),(0,a.jsx)(i.A,{open:x,onClose:()=>{g(!1),v(null)},onSubmit:_,initialData:f||{},isEditing:!!f})]})}}},e=>{e.O(0,[5198,4277,59,5222,3585,6874,9339,8441,5964,7358],()=>e(e.s=5160)),_N_E=e.O()}]);