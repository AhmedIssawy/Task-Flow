(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{5651:(e,t,r)=>{"use strict";r.d(t,{HC:()=>s,ad:()=>o,oE:()=>d,v1:()=>c});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"collegeApi",baseQuery:(0,n.X)(),tagTypes:["College"],endpoints:e=>({getCollegesPage:e.query({query:e=>{let{universityId:t,page:r=1,limit:a=40}=e;return"/universities/".concat(t,"/colleges?page=").concat(r,"&limit=").concat(a)},transformResponse:e=>e.data,providesTags:["College"]}),getCollegeById:e.query({query:e=>{let{universityId:t,collegeId:r}=e;return"/colleges/".concat(t,"/").concat(r)}}),createCollege:e.mutation({query:e=>({url:"/colleges",method:"POST",body:e})}),updateCollege:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/colleges",method:"PATCH",body:{id:t,...r}}}})})}),{useGetCollegesPageQuery:s,useGetCollegeByIdQuery:u,useCreateCollegeMutation:d,useUpdateCollegeMutation:c}=o},7829:(e,t,r)=>{"use strict";r.d(t,{DU:()=>c,JE:()=>i,U_:()=>u,ic:()=>o,mi:()=>d});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"adminApi",baseQuery:(0,n.X)(),tagTypes:["Admin"],endpoints:e=>({getAdminById:e.query({query:e=>"/admin/".concat(e),providesTags:(e,t,r)=>[{type:"Admin",id:r}]}),getPageOfAdmins:e.query({query:e=>{let{page:t=1,limit:r=40}=e;return"/admin?page=".concat(t,"&limit=").concat(r)},transformResponse:e=>e.data,providesTags:["Admin"]}),createAdmin:e.mutation({query:e=>({url:"/admin",method:"POST",body:e}),invalidatesTags:["Admin"]}),updateAdmin:e.mutation({query:e=>({url:"/admin",method:"PUT",body:e}),invalidatesTags:(e,t,r)=>{let{id:a}=r;return[{type:"Admin",id:a}]}}),deleteAdmin:e.mutation({query:e=>({url:"/admin/admin/".concat(e),method:"DELETE"}),invalidatesTags:(e,t,r)=>[{type:"Admin",id:r}]})})}),{useGetAdminByIdQuery:s,useGetPageOfAdminsQuery:u,useCreateAdminMutation:d,useUpdateAdminMutation:c,useDeleteAdminMutation:i}=o},11623:(e,t,r)=>{"use strict";r.d(t,{AA:()=>d,VD:()=>c,kD:()=>o,pL:()=>u,th:()=>s,v5:()=>i});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"courseApi",baseQuery:(0,n.X)(),tagTypes:["Course"],endpoints:e=>({getCoursesPage:e.query({query:e=>{let{departmentId:t,collegeId:r,universityId:a,page:n=1,limit:o=40}=e;return"/courses?departmentId=".concat(t,"&collegeId=").concat(r,"&universityId=").concat(a,"&page=").concat(n,"&limit=").concat(o)},transformResponse:e=>e.data,providesTags:["Course"]}),getCourseById:e.query({query:e=>"/courses/".concat(e),transformResponse:e=>e.data,providesTags:["Course"]}),createCourse:e.mutation({query:e=>({url:"/admin/course",method:"POST",body:e}),invalidatesTags:["Course"]}),updateCourse:e.mutation({query:e=>{let{courseId:t,updates:r}=e;return{url:"/admin/course/".concat(t),method:"PATCH",body:r}},invalidatesTags:["Course"]}),deleteCourse:e.mutation({query:e=>({url:"/courses/".concat(e),method:"DELETE"}),invalidatesTags:["Course"]})})}),{useGetCoursesPageQuery:s,useGetCourseByIdQuery:u,useCreateCourseMutation:d,useUpdateCourseMutation:c,useDeleteCourseMutation:i}=o},25731:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(r(6267).Ii.isNativePlatform()?"http://192.168.56.1:5000/api":"http://localhost:5000/api")||"http://localhost:5000/api"},30347:()=>{},49330:(e,t,r)=>{"use strict";r.d(t,{GC:()=>s,_D:()=>u,jA:()=>o});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"teacherApi",baseQuery:(0,n.X)(),tagTypes:["Teacher"],endpoints:e=>({getTeachersPage:e.query({query:e=>{let{page:t=1,limit:r=40}=e;return"/teachers?page=".concat(t,"&limit=").concat(r)},transformResponse:e=>e.data,providesTags:["Teacher"]}),getTeacherById:e.query({query:e=>"/teachers/".concat(e)}),createTeacher:e.mutation({query:e=>({url:"/teachers",method:"POST",body:e})}),updateTeacher:e.mutation({query:e=>({url:e.id?"/teachers/".concat(e.id):"/teachers",method:"PATCH",body:e})}),deleteTeacher:e.mutation({query:e=>{let{id:t,_id:r}=e;return{url:t?"/teachers/".concat(t):"/teachers",method:"DELETE",body:t?void 0:{_id:r}}}})})}),{useGetTeachersPageQuery:s,useGetTeacherByIdQuery:u,useCreateTeacherMutation:d,useUpdateTeacherMutation:c,useDeleteTeacherMutation:i}=o},71489:(e,t,r)=>{"use strict";r.d(t,{D7:()=>m,D8:()=>l,Hx:()=>h,W4:()=>o,X5:()=>g,h2:()=>u,l_:()=>y,mo:()=>s,zV:()=>i});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"studentApi",baseQuery:(0,n.X)(),tagTypes:["Student"],endpoints:e=>({createStudent:e.mutation({query:e=>({url:"admin/student",method:"POST",body:e}),invalidatesTags:["Student"]}),getStudentsPage:e.query({query:e=>{let{page:t=1,limit:r=20}=e;return"/students?page=".concat(t,"&limit=").concat(r)},transformResponse:e=>e.data,providesTags:["Student"]}),getStudentsPageOfUniversity:e.query({query:e=>{let{universityId:t,page:r=1,limit:a=40}=e;return"/students/university/".concat(t,"?page=").concat(r,"&limit=").concat(a)},providesTags:["Student"]}),getAllStudentsOfUniversity:e.query({query:e=>"/students/university/".concat(e),providesTags:["Student"]}),getStudentById:e.query({query:e=>"/students/".concat(e),providesTags:["Student"]}),updateStudent:e.mutation({query:e=>{let{_id:t,...r}=e;return{url:"admin/student/".concat(t),method:"PATCH",body:r}},invalidatesTags:["Student"]}),deleteStudent:e.mutation({query:e=>({url:"/students/".concat(e),method:"DELETE"}),invalidatesTags:["Student"]}),getStudentCourses:e.query({query:e=>"/students/".concat(e,"/courses")}),getStudentCourseById:e.query({query:e=>{let{id:t,courseId:r}=e;return"/students/".concat(t,"/courses/").concat(r)}}),getStudentGrades:e.query({query:e=>"/students/".concat(e,"/grades")}),getStudentAssignments:e.query({query:e=>"/students/".concat(e,"/assignments")}),getStudentCalendar:e.query({query:e=>"/students/".concat(e,"/calendar")})})}),{useCreateStudentMutation:s,useGetStudentsPageQuery:u,useGetStudentsPageOfUniversityQuery:d,useGetAllStudentsOfUniversityQuery:c,useGetStudentByIdQuery:i,useUpdateStudentMutation:l,useDeleteStudentMutation:m,useGetStudentCoursesQuery:y,useGetStudentCourseByIdQuery:p,useGetStudentGradesQuery:g,useGetStudentAssignmentsQuery:h,useGetStudentCalendarQuery:q}=o},74946:(e,t,r)=>{"use strict";r.d(t,{Ks:()=>s,Lx:()=>d,WQ:()=>c,br:()=>o,wM:()=>i});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"departmentApi",baseQuery:(0,n.X)(),tagTypes:["Department"],endpoints:e=>({getDepartmentsPage:e.query({query:e=>{let{universityId:t,collegeId:r,page:a=1,limit:n=40}=e;return"/universities/".concat(t,"/colleges/").concat(r,"/departments?page=").concat(a,"&limit=").concat(n)},transformResponse:e=>e.data,providesTags:["Department"]}),getDepartmentById:e.query({query:e=>"/departments/".concat(e)}),createDepartment:e.mutation({query:e=>{let{universityId:t,collegeId:r,body:a}=e;return{url:"/departments/".concat(t,"/").concat(r),method:"POST",body:a}}}),updateDepartment:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/departments",method:"PATCH",body:{id:t,...r}}}}),deleteDepartment:e.mutation({query:e=>({url:"/departments/".concat(e),method:"DELETE"})})})}),{useGetDepartmentsPageQuery:s,useGetDepartmentByIdQuery:u,useCreateDepartmentMutation:d,useUpdateDepartmentMutation:c,useDeleteDepartmentMutation:i}=o},76411:(e,t,r)=>{"use strict";r.d(t,{X:()=>u});var a=r(76698),n=r(56671),o=r(89519),s=r(25731);let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.A||"http://localhost:5000/api",t=(0,a.cw)({baseUrl:e,credentials:"include"});return async(e,r,a)=>{let s=await t(e,r,a),u="object"==typeof e&&"suppress401"in e&&e.suppress401;if(s.error){var d;let e=s.error.status,t=(null==(d=s.error.data)?void 0:d.message)||("string"==typeof s.error.error?s.error.error:"Something went wrong");401!==e||u?"PARSING_ERROR"===s.error.status?(console.error("Received invalid JSON (likely HTML):",s.error),n.o.error("Unexpected server response (invalid JSON).")):u||(console.error("[API Error ".concat(e,"]"),t),n.o.error(t)):(r.dispatch((0,o.q0)()),n.o.error("Session expired. Please log in again."),setTimeout(()=>{window.location.href="/protected-redirect"},500))}return s}}},86434:(e,t,r)=>{"use strict";r.d(t,{CR:()=>u,Ng:()=>c,ZQ:()=>s,_L:()=>d});var a=r(70404),n=r(76411),o=r(25731);let s=(0,a.xP)({reducerPath:"authApi",baseQuery:(0,n.X)("".concat(o.A)||"http://localhost:5000/api"),endpoints:e=>({getMe:e.query({query:()=>({url:"/auth",suppress401:!0})}),login:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"/auth/logout",method:"POST"})})})}),{useGetMeQuery:u,useLoginMutation:d,useLogoutMutation:c}=s},89519:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,Uv:()=>n,q0:()=>u});var a=r(5710),n=function(e){return e.STUDENT="STUDENT",e.TEACHER="TEACHER",e.ADMIN="ADMIN",e.SUPER_ADMIN="SUPER-ADMIN",e}({});let o=(0,a.Z0)({name:"auth",initialState:{id:null,mongoId:null,role:null},reducers:{setAuth:(e,t)=>{e.id=t.payload.id,e.mongoId=t.payload.mongoId,e.role=t.payload.role,console.log("âœ… Reducer triggered with:",t.payload)},clearAuth:e=>{e.id=null,e.role=null,e.mongoId=null}}}),{setAuth:s,clearAuth:u}=o.actions,d=o.reducer},92973:(e,t,r)=>{"use strict";r.d(t,{KS:()=>d,OU:()=>o,Ts:()=>c,Vs:()=>i,jf:()=>s});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"sectionApi",baseQuery:(0,n.X)(),tagTypes:["Section"],endpoints:e=>({getSectionsPage:e.query({query:e=>{let{universityId:t,collegeId:r,departmentId:a,page:n=1,limit:o=40,course:s}=e,u="/admin/university/".concat(t,"/college/").concat(r,"/department/").concat(a,"/section?page=").concat(n,"&limit=").concat(o);return s&&(u+="&course=".concat(s)),u},transformResponse:e=>e.data,providesTags:["Section"]}),getSectionById:e.query({query:e=>{let{sectionId:t}=e;return"/sections/".concat(t)},transformResponse:e=>e.data}),createSection:e.mutation({query:e=>{let{universityId:t,collegeId:r,departmentId:a,payload:n}=e;return{url:"/admin/university/".concat(t,"/college/").concat(r,"/department/").concat(a,"/section"),method:"POST",body:n}},invalidatesTags:["Section"]}),updateSection:e.mutation({query:e=>{let{sectionId:t,updates:r}=e;return{url:"/admin/section/".concat(t),method:"PATCH",body:r}},invalidatesTags:["Section"]}),deleteSection:e.mutation({query:e=>({url:"admin/section/".concat(e),method:"DELETE"}),invalidatesTags:["Section"]})})}),{useGetSectionsPageQuery:s,useGetSectionByIdQuery:u,useCreateSectionMutation:d,useUpdateSectionMutation:c,useDeleteSectionMutation:i}=o},96567:(e,t,r)=>{Promise.resolve().then(r.bind(r,46096)),Promise.resolve().then(r.bind(r,51362)),Promise.resolve().then(r.bind(r,56671)),Promise.resolve().then(r.t.bind(r,30347,23)),Promise.resolve().then(r.bind(r,97518))},97518:(e,t,r)=>{"use strict";r.d(t,{default:()=>I});var a=r(95155),n=r(34540),o=r(5710),s=r(61328),u=r(18091),d=r(86434),c=r(71489),i=r(7829),l=r(5651),m=r(74946),y=r(49330),p=r(11623),g=r(92973),h=r(89519);let q=(0,o.Z0)({name:"user",initialState:{name:null,email:null},reducers:{setUser(e,t){e.name=t.payload.name,e.email=t.payload.email},clearUser(e){e.name=null,e.email=null}}}),{setUser:T,clearUser:v}=q.actions,P=q.reducer,A={key:"auth",storage:u.A,whitelist:["id","mongoId","role"]},S={key:"user",storage:u.A,whitelist:["name","email"]},C=(0,s.rL)(A,h.Ay),b=(0,s.rL)(S,P),E=(0,o.U1)({reducer:{[d.ZQ.reducerPath]:d.ZQ.reducer,[c.W4.reducerPath]:c.W4.reducer,[i.ic.reducerPath]:i.ic.reducer,[l.ad.reducerPath]:l.ad.reducer,[m.br.reducerPath]:m.br.reducer,[y.jA.reducerPath]:y.jA.reducer,[p.kD.reducerPath]:p.kD.reducer,[g.OU.reducerPath]:g.OU.reducer,auth:C,user:b},middleware:e=>e({serializableCheck:{ignoredActions:[s.ZM,s.r2,s.Hz,s.DY,s.Cq,s.eY]}}).concat(d.ZQ.middleware).concat(c.W4.middleware).concat(i.ic.middleware).concat(l.ad.middleware).concat(m.br.middleware).concat(y.jA.middleware).concat(p.kD.middleware).concat(g.OU.middleware),devTools:!1}),D=(0,s.GM)(E);var f=r(97730);function I(e){let{children:t}=e;return(0,a.jsxs)(n.Kq,{store:E,children:[" ",(0,a.jsx)(f.Q,{loading:null,persistor:D,children:t})]})}}},e=>{e.O(0,[7690,5198,6453,9119,8441,5964,7358],()=>e(e.s=96567)),_N_E=e.O()}]);