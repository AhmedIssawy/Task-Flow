"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9339],{11623:(e,t,r)=>{r.d(t,{AA:()=>d,VD:()=>l,kD:()=>o,pL:()=>i,th:()=>s,v5:()=>c});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"courseApi",baseQuery:(0,n.X)(),tagTypes:["Course"],endpoints:e=>({getCoursesPage:e.query({query:e=>{let{departmentId:t,collegeId:r,universityId:a,page:n=1,limit:o=40}=e;return"/courses?departmentId=".concat(t,"&collegeId=").concat(r,"&universityId=").concat(a,"&page=").concat(n,"&limit=").concat(o)},transformResponse:e=>e.data,providesTags:["Course"]}),getCourseById:e.query({query:e=>"/courses/".concat(e),transformResponse:e=>e.data,providesTags:["Course"]}),createCourse:e.mutation({query:e=>({url:"/admin/course",method:"POST",body:e}),invalidatesTags:["Course"]}),updateCourse:e.mutation({query:e=>{let{courseId:t,updates:r}=e;return{url:"/admin/course/".concat(t),method:"PATCH",body:r}},invalidatesTags:["Course"]}),deleteCourse:e.mutation({query:e=>({url:"/courses/".concat(e),method:"DELETE"}),invalidatesTags:["Course"]})})}),{useGetCoursesPageQuery:s,useGetCourseByIdQuery:i,useCreateCourseMutation:d,useUpdateCourseMutation:l,useDeleteCourseMutation:c}=o},25731:(e,t,r)=>{r.d(t,{A:()=>a});let a=(r(6267).Ii.isNativePlatform()?"http://192.168.56.1:5000/api":"http://localhost:5000/api")||"http://localhost:5000/api"},30285:(e,t,r)=>{r.d(t,{$:()=>d,r:()=>i});var a=r(95155);r(12115);var n=r(99708),o=r(74466),s=r(59434);let i=(0,o.F)("inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:o,asChild:d=!1,...l}=e,c=d?n.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,s.cn)(i({variant:r,size:o,className:t})),...l})}},35695:(e,t,r)=>{var a=r(18999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},51154:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},54165:(e,t,r)=>{r.d(t,{Cf:()=>c,Es:()=>g,L3:()=>p,c7:()=>u,lG:()=>i,rr:()=>f});var a=r(95155);r(12115);var n=r(15452),o=r(54416),s=r(59434);function i(e){let{...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"dialog",...t})}function d(e){let{...t}=e;return(0,a.jsx)(n.ZL,{"data-slot":"dialog-portal",...t})}function l(e){let{className:t,...r}=e;return(0,a.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function c(e){let{className:t,children:r,showCloseButton:i=!0,...c}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(l,{}),(0,a.jsxs)(n.UC,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...c,children:[r,i&&(0,a.jsxs)(n.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function g(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,s.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function p(e){let{className:t,...r}=e;return(0,a.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",t),...r})}function f(e){let{className:t,...r}=e;return(0,a.jsx)(n.VY,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}},59434:(e,t,r)=>{r.d(t,{cn:()=>o});var a=r(52596),n=r(39688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},59648:(e,t,r)=>{r.d(t,{A:()=>d});var a=r(95155),n=r(54165),o=r(30285),s=r(62523),i=r(12115);function d(e){let{open:t,onClose:r,onSubmit:d,initialData:l={},isEditing:c=!1}=e,[u,g]=(0,i.useState)(l);return(0,i.useEffect)(()=>{g(l)},[l]),(0,a.jsx)(n.lG,{open:t,onOpenChange:r,children:(0,a.jsxs)(n.Cf,{children:[(0,a.jsx)(n.c7,{children:(0,a.jsx)(n.L3,{children:c?"Edit Course":"Create Course"})}),(0,a.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),d(u)},children:[(0,a.jsx)(s.p,{placeholder:"Course Name",value:u.name||"",onChange:e=>g({...u,name:e.target.value}),required:!0}),(0,a.jsx)(s.p,{type:"number",placeholder:"Hours",value:u.hours||"",onChange:e=>g({...u,hours:Number(e.target.value)}),required:!0}),(0,a.jsx)(n.Es,{children:(0,a.jsx)(o.$,{type:"submit",children:c?"Update":"Create"})})]})]})})}},62523:(e,t,r)=>{r.d(t,{p:()=>o});var a=r(95155);r(12115);var n=r(59434);function o(e){let{className:t,type:r,...o}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...o})}},66695:(e,t,r)=>{r.d(t,{Wu:()=>d,ZB:()=>i,Zp:()=>o,aR:()=>s,wL:()=>l});var a=r(95155);r(12115);var n=r(59434);function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("text-card-foreground flex flex-col gap-2 py-2",t),...r})}function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},72381:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(95155),n=r(66695),o=r(30285),s=r(6874),i=r.n(s),d=r(35695);function l(e){var t,r;let{course:s,onEdit:l,onDelete:c,universityId:u,collegeId:g,departmentId:p}=e,f=(0,d.usePathname)();return(0,a.jsx)(n.Zp,{className:"bg-gray-800 rounded-2xl shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300 ease-in-out",children:(0,a.jsxs)(i(),{href:{pathname:"".concat(f,"/").concat(s._id),query:{universityId:u,collegeId:g,departmentId:p}},className:"block",children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:s.name})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"text-sm text-gray-500 space-y-1",children:(0,a.jsxs)("p",{children:[" Teachers: ",null!=(r=null==(t=s.teachers)?void 0:t.length)?r:0]})})}),(0,a.jsxs)(n.wL,{className:"flex justify-between mt-2",children:[(0,a.jsx)(o.$,{size:"sm",variant:"outline",onClick:l,children:"Edit"}),(0,a.jsx)(o.$,{size:"sm",variant:"destructive",onClick:c,children:"Delete"})]})]})})}},76411:(e,t,r)=>{r.d(t,{X:()=>i});var a=r(76698),n=r(56671),o=r(89519),s=r(25731);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.A||"http://localhost:5000/api",t=(0,a.cw)({baseUrl:e,credentials:"include"});return async(e,r,a)=>{let s=await t(e,r,a),i="object"==typeof e&&"suppress401"in e&&e.suppress401;if(s.error){var d;let e=s.error.status,t=(null==(d=s.error.data)?void 0:d.message)||("string"==typeof s.error.error?s.error.error:"Something went wrong");401!==e||i?"PARSING_ERROR"===s.error.status?(console.error("Received invalid JSON (likely HTML):",s.error),n.o.error("Unexpected server response (invalid JSON).")):i||(console.error("[API Error ".concat(e,"]"),t),n.o.error(t)):(r.dispatch((0,o.q0)()),n.o.error("Session expired. Please log in again."),setTimeout(()=>{window.location.href="/protected-redirect"},500))}return s}}},89519:(e,t,r)=>{r.d(t,{Ay:()=>d,Uv:()=>n,q0:()=>i});var a=r(5710),n=function(e){return e.STUDENT="STUDENT",e.TEACHER="TEACHER",e.ADMIN="ADMIN",e.SUPER_ADMIN="SUPER-ADMIN",e}({});let o=(0,a.Z0)({name:"auth",initialState:{id:null,mongoId:null,role:null},reducers:{setAuth:(e,t)=>{e.id=t.payload.id,e.mongoId=t.payload.mongoId,e.role=t.payload.role,console.log("âœ… Reducer triggered with:",t.payload)},clearAuth:e=>{e.id=null,e.role=null,e.mongoId=null}}}),{setAuth:s,clearAuth:i}=o.actions,d=o.reducer}}]);