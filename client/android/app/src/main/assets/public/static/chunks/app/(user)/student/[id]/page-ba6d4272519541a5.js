(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9277],{17652:(e,t,r)=>{"use strict";r.d(t,{c3:()=>o});var a=r(46453);function n(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let o=n(0,a.c3);n(0,a.kc)},25731:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(r(6267).Ii.isNativePlatform()?"http://192.168.56.1:5000/api":"http://localhost:5000/api")||"http://localhost:5000/api"},28813:(e,t,r)=>{"use strict";r.d(t,{DA:()=>o,JP:()=>l,Qk:()=>s,VV:()=>u,kk:()=>i,xS:()=>d});let a=["en","ar"],n={name:"lang",maxAge:31536e3,secure:!0,sameSite:"lax",path:"/"},o={en:{name:"English",direction:"ltr",flag:"\uD83C\uDDFA\uD83C\uDDF8"},ar:{name:"العربية",direction:"rtl",flag:"\uD83C\uDDF8\uD83C\uDDE6"}};function l(e){return a.includes(e)}function s(){return a}function i(){return function(){if("undefined"==typeof document)return null;try{let t=document.cookie.split(";").find(e=>e.trim().startsWith("".concat(n.name,"=")));if(t){var e;let r=null==(e=t.split("=")[1])?void 0:e.trim();if(r&&l(r))return r}}catch(e){console.warn("Failed to read language cookie on client:",e)}return null}()||"en"}function d(e){l(e)||(console.warn("Invalid locale: ".concat(e,". Using default locale.")),e="en");var t=e;if("undefined"!=typeof document)try{l(t)||(console.warn("Invalid locale: ".concat(t,". Using default locale.")),t="en");let e=new Date;e.setTime(e.getTime()+1e3*n.maxAge);let r=["".concat(n.name,"=").concat(t),"expires=".concat(e.toUTCString()),"path=".concat(n.path),"SameSite=".concat(n.sameSite),n.secure?"Secure":""].filter(Boolean).join("; ");document.cookie=r}catch(e){console.error("Failed to set language cookie:",e)}(function(e){if("undefined"!=typeof document)try{let t=o[e];t&&(document.documentElement.lang=e,document.documentElement.dir=t.direction)}catch(e){console.error("Failed to update HTML attributes:",e)}})(e),window.dispatchEvent(new CustomEvent("localeChange",{detail:{locale:e}}))}function u(e){var t;return(null==(t=o[e])?void 0:t.flag)||"\uD83C\uDF10"}},34529:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var a=r(12115),n=r(28813);function o(){let[e,t]=(0,a.useState)(()=>(0,n.kk)()),[r,o]=(0,a.useTransition)(),l=(0,a.useRef)(null),s=(0,n.Qk)().map(e=>({code:e,name:n.DA[e].name,dir:n.DA[e].direction,flag:n.DA[e].flag})),i=s.find(t=>t.code===e);return(0,a.useEffect)(()=>{let e=e=>{t(e.detail.locale)};return window.addEventListener("localeChange",e),()=>{window.removeEventListener("localeChange",e)}},[]),(0,a.useEffect)(()=>{let r=r=>{if("locale-sync"===r.key&&r.newValue){let a=r.newValue;(0,n.JP)(a)&&a!==e&&t(a)}},a=()=>{let r=(0,n.kk)();r!==e&&t(r)},o=()=>{if(!document.hidden){let r=(0,n.kk)();r!==e&&t(r)}};return window.addEventListener("storage",r),window.addEventListener("focus",a),document.addEventListener("visibilitychange",o),()=>{window.removeEventListener("storage",r),window.removeEventListener("focus",a),document.removeEventListener("visibilitychange",o),l.current&&clearTimeout(l.current)}},[e]),{locale:e,switchLanguage:r=>{(0,n.JP)(r)&&r!==e&&o(()=>{(0,n.xS)(r),l.current&&clearTimeout(l.current),localStorage.setItem("locale-sync",r),l.current=setTimeout(()=>{localStorage.removeItem("locale-sync"),l.current=null},1e3),t(r),setTimeout(()=>{window.location.reload()},100)})},availableLocales:s,currentLocaleInfo:i,isPending:r,isRTL:"ar"===e}}},35020:(e,t,r)=>{Promise.resolve().then(r.bind(r,41331))},39249:(e,t,r)=>{"use strict";r.d(t,{C6:()=>n,Cl:()=>o,Tt:()=>l,fX:()=>s});var a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function l(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}Object.create;function s(e,t,r){if(r||2==arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}Object.create,"function"==typeof SuppressedError&&SuppressedError},41331:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(95155),n=r(71489),o=r(17652),l=r(34529),s=r(59434),i=r(66681);function d(){var e;let t=(0,i.A)().mongoId;console.log("Student ID from useAuth:",(0,i.A)());let{isRTL:r}=(0,l.o)();(0,o.c3)("student.dashboard"),console.log("Student ID from Redux:",t);let{data:d,isLoading:u}=(0,n.zV)(null!=t?t:"");return(0,a.jsxs)("div",{className:"relative min-h-screen bg-gradient-to-br from-background via-background to-accent/20 overflow-hidden ".concat(r?"rtl":"ltr"),dir:r?"rtl":"ltr",children:[(0,a.jsxs)("div",{className:"absolute inset-0 opacity-30 dark:opacity-10",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.15),transparent_50%)] dark:bg-[radial-gradient(circle_at_50%_50%,rgba(120,119,198,0.1),transparent_50%)]"}),(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-blue-500/20 to-purple-500/20 dark:from-primary/20 dark:to-secondary/20 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-to-l from-purple-500/20 to-pink-500/20 dark:from-accent/20 dark:to-primary/20 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-cyan-400/15 to-blue-600/15 dark:from-primary/15 dark:to-accent/15 rounded-full blur-2xl animate-pulse delay-500"})]}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-1/4 ltr:right-1/4 rtl:left-1/4 w-6 h-6 bg-blue-500/40 dark:bg-primary/30 rounded-full animate-bounce shadow-lg"}),(0,a.jsx)("div",{className:"absolute bottom-1/3 ltr:left-1/3 rtl:right-1/3 w-4 h-4 bg-purple-500/40 dark:bg-secondary/30 rounded-full animate-bounce delay-500 shadow-lg"}),(0,a.jsx)("div",{className:"absolute top-2/3 ltr:right-1/3 rtl:left-1/3 w-5 h-5 bg-pink-500/40 dark:bg-accent/30 rounded-full animate-bounce delay-1000 shadow-lg"}),(0,a.jsx)("div",{className:"absolute top-1/6 ltr:left-1/6 rtl:right-1/6 w-3 h-3 bg-cyan-500/35 dark:bg-primary/25 rounded-full animate-pulse delay-300"}),(0,a.jsx)("div",{className:"absolute bottom-1/6 ltr:right-1/6 rtl:left-1/6 w-4 h-4 bg-indigo-500/35 dark:bg-secondary/25 rounded-full animate-pulse delay-700"}),(0,a.jsx)("div",{className:"absolute top-1/2 ltr:left-1/5 rtl:right-1/5 w-2 h-2 bg-violet-500/40 dark:bg-accent/25 rounded-full animate-bounce delay-1200"}),(0,a.jsx)("div",{className:"absolute top-3/4 ltr:left-2/3 rtl:right-2/3 w-3 h-3 bg-emerald-500/30 dark:bg-primary/20 transform rotate-45 animate-pulse delay-800"}),(0,a.jsx)("div",{className:"absolute bottom-1/2 ltr:right-1/5 rtl:left-1/5 w-2 h-2 bg-orange-500/35 dark:bg-secondary/20 transform rotate-45 animate-bounce delay-1500"})]}),(0,a.jsxs)("div",{className:"absolute inset-0 opacity-40 dark:opacity-25",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(59,130,246,0.2)_1px,transparent_1px),linear-gradient(90deg,rgba(59,130,246,0.2)_1px,transparent_1px)] dark:bg-[linear-gradient(rgba(255,255,255,0.15)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.15)_1px,transparent_1px)] bg-[size:50px_50px]"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(139,92,246,0.15)_1px,transparent_1px),linear-gradient(-45deg,rgba(139,92,246,0.15)_1px,transparent_1px)] dark:bg-[linear-gradient(45deg,rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(-45deg,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:30px_30px] opacity-60"})]}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-15 dark:opacity-5",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.3)_1px,transparent_1px)] dark:bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.2)_1px,transparent_1px)] bg-[size:25px_25px]"})}),(0,a.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:(0,a.jsxs)("div",{className:"backdrop-blur-xl bg-background/80 border-white/10 dark:border-white/10 shadow-2xl rounded-3xl overflow-hidden p-8 relative",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full -translate-y-32 translate-x-32"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-secondary/5 rounded-full translate-y-24 -translate-x-24"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("h1",{className:(0,s.cn)("text-3xl md:text-4xl font-bold mb-2 text-foreground font-primary",r?"text-right":"text-left"),children:["Welcome back, ",u?"...":null==d?void 0:d.name,"! \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:(0,s.cn)("text-muted-foreground text-lg",r?"text-right":"text-left"),children:u?"...":null==d?void 0:d.email}),(0,a.jsx)("p",{className:(0,s.cn)("text-muted-foreground text-lg",r?"text-right":"text-left"),children:u?"...":null==d||null==(e=d.universityId)?void 0:e.name}),(0,a.jsx)("p",{className:(0,s.cn)("text-muted-foreground text-lg",r?"text-right":"text-left"),children:"Ready to tackle your goals today? You have 3 classes and 2 assignments due this week."})]})]})})]})}},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(52596),n=r(39688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},66681:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(86434);let n=()=>{var e,t,r;let{data:n,isLoading:o,isError:l}=(0,a.CR)();return{user:null==n?void 0:n.data,isLoading:o,isError:l,isLoggedIn:!!n,role:null==n||null==(e=n.data)?void 0:e.role,id:null==n||null==(t=n.data)?void 0:t.id,mongoId:null==n||null==(r=n.data)?void 0:r._id}}},71489:(e,t,r)=>{"use strict";r.d(t,{D7:()=>g,D8:()=>c,Hx:()=>y,W4:()=>o,X5:()=>f,h2:()=>s,l_:()=>p,mo:()=>l,zV:()=>u});var a=r(70404),n=r(76411);let o=(0,a.xP)({reducerPath:"studentApi",baseQuery:(0,n.X)(),tagTypes:["Student"],endpoints:e=>({createStudent:e.mutation({query:e=>({url:"admin/student",method:"POST",body:e}),invalidatesTags:["Student"]}),getStudentsPage:e.query({query:e=>{let{page:t=1,limit:r=20}=e;return"/students?page=".concat(t,"&limit=").concat(r)},transformResponse:e=>e.data,providesTags:["Student"]}),getStudentsPageOfUniversity:e.query({query:e=>{let{universityId:t,page:r=1,limit:a=40}=e;return"/students/university/".concat(t,"?page=").concat(r,"&limit=").concat(a)},providesTags:["Student"]}),getAllStudentsOfUniversity:e.query({query:e=>"/students/university/".concat(e),providesTags:["Student"]}),getStudentById:e.query({query:e=>"/students/".concat(e),providesTags:["Student"]}),updateStudent:e.mutation({query:e=>{let{_id:t,...r}=e;return{url:"admin/student/".concat(t),method:"PATCH",body:r}},invalidatesTags:["Student"]}),deleteStudent:e.mutation({query:e=>({url:"/students/".concat(e),method:"DELETE"}),invalidatesTags:["Student"]}),getStudentCourses:e.query({query:e=>"/students/".concat(e,"/courses")}),getStudentCourseById:e.query({query:e=>{let{id:t,courseId:r}=e;return"/students/".concat(t,"/courses/").concat(r)}}),getStudentGrades:e.query({query:e=>"/students/".concat(e,"/grades")}),getStudentAssignments:e.query({query:e=>"/students/".concat(e,"/assignments")}),getStudentCalendar:e.query({query:e=>"/students/".concat(e,"/calendar")})})}),{useCreateStudentMutation:l,useGetStudentsPageQuery:s,useGetStudentsPageOfUniversityQuery:i,useGetAllStudentsOfUniversityQuery:d,useGetStudentByIdQuery:u,useUpdateStudentMutation:c,useDeleteStudentMutation:g,useGetStudentCoursesQuery:p,useGetStudentCourseByIdQuery:m,useGetStudentGradesQuery:f,useGetStudentAssignmentsQuery:y,useGetStudentCalendarQuery:b}=o},76411:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var a=r(76698),n=r(56671),o=r(89519),l=r(25731);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.A||"http://localhost:5000/api",t=(0,a.cw)({baseUrl:e,credentials:"include"});return async(e,r,a)=>{let l=await t(e,r,a),s="object"==typeof e&&"suppress401"in e&&e.suppress401;if(l.error){var i;let e=l.error.status,t=(null==(i=l.error.data)?void 0:i.message)||("string"==typeof l.error.error?l.error.error:"Something went wrong");401!==e||s?"PARSING_ERROR"===l.error.status?(console.error("Received invalid JSON (likely HTML):",l.error),n.o.error("Unexpected server response (invalid JSON).")):s||(console.error("[API Error ".concat(e,"]"),t),n.o.error(t)):(r.dispatch((0,o.q0)()),n.o.error("Session expired. Please log in again."),setTimeout(()=>{window.location.href="/protected-redirect"},500))}return l}}},86434:(e,t,r)=>{"use strict";r.d(t,{CR:()=>s,Ng:()=>d,ZQ:()=>l,_L:()=>i});var a=r(70404),n=r(76411),o=r(25731);let l=(0,a.xP)({reducerPath:"authApi",baseQuery:(0,n.X)("".concat(o.A)||"http://localhost:5000/api"),endpoints:e=>({getMe:e.query({query:()=>({url:"/auth",suppress401:!0})}),login:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"/auth/logout",method:"POST"})})})}),{useGetMeQuery:s,useLoginMutation:i,useLogoutMutation:d}=l},89519:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>i,Uv:()=>n,q0:()=>s});var a=r(5710),n=function(e){return e.STUDENT="STUDENT",e.TEACHER="TEACHER",e.ADMIN="ADMIN",e.SUPER_ADMIN="SUPER-ADMIN",e}({});let o=(0,a.Z0)({name:"auth",initialState:{id:null,mongoId:null,role:null},reducers:{setAuth:(e,t)=>{e.id=t.payload.id,e.mongoId=t.payload.mongoId,e.role=t.payload.role,console.log("✅ Reducer triggered with:",t.payload)},clearAuth:e=>{e.id=null,e.role=null,e.mongoId=null}}}),{setAuth:l,clearAuth:s}=o.actions,i=o.reducer}},e=>{e.O(0,[5198,4277,6453,8441,5964,7358],()=>e(e.s=35020)),_N_E=e.O()}]);