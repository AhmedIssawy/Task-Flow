"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4091],{4091:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var a=r(95155),n=r(12115),o=r(54416),l=r(74783),s=r(35695),i=r(71185),d=r(30512),c=r(17652),u=r(33831),m=r(30004),h=r(66681);let p=()=>{var e;let[t,r]=(0,n.useState)(!1),p=(0,s.useRouter)(),g=(0,c.c3)("Landing.Header"),f=()=>{p.push("/login")},x=(0,h.A)(),{isLoggedIn:y,role:v,id:b}=x,w=null==(e=x.user)?void 0:e.name,k=(0,u.p)(v,b);return(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border pt-4 pb-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center h-header",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:(0,a.jsx)("span",{className:"text-xl font-bold text-foreground font-primary",children:g("logo.taskflow")})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[y?(0,a.jsx)(m.A,{name:w,onClick:()=>p.push(k)}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.U,{}),(0,a.jsx)(d.c,{}),(0,a.jsx)("button",{onClick:f,className:"hidden md:block bg-primary text-primary-foreground px-6 py-2 rounded-lg hover:opacity-90 transition-opacity shadow-md",children:g("cta.login")})]}),(0,a.jsx)("button",{onClick:()=>r(!t),className:"md:hidden p-2 text-muted-foreground hover:text-primary",children:t?(0,a.jsx)(o.A,{size:24}):(0,a.jsx)(l.A,{size:24})})]})]}),t&&(0,a.jsx)("div",{className:"md:hidden py-4 border-t border-border",children:(0,a.jsx)("nav",{className:"flex flex-col space-y-4",children:(0,a.jsx)("div",{className:"pt-4 border-t border-border",children:(0,a.jsx)("button",{onClick:f,className:"w-full bg-primary text-primary-foreground px-6 py-2 rounded-lg hover:opacity-90 transition-opacity shadow-md",children:g("cta.login")})})})})]})})}},14738:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(19946).A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},17652:(e,t,r)=>{r.d(t,{c3:()=>o});var a=r(46453);function n(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let o=n(0,a.c3);n(0,a.kc)},22436:(e,t,r)=>{var a=r(12115),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=a.useState,l=a.useEffect,s=a.useLayoutEffect,i=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=o({inst:{value:r,getSnapshot:t}}),n=a[0].inst,c=a[1];return s(function(){n.value=r,n.getSnapshot=t,d(n)&&c({inst:n})},[e,r,t]),l(function(){return d(n)&&c({inst:n}),e(function(){d(n)&&c({inst:n})})},[e]),i(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},25731:(e,t,r)=>{r.d(t,{A:()=>a});let a=(r(6267).Ii.isNativePlatform()?"http://192.168.56.1:5000/api":"http://localhost:5000/api")||"http://localhost:5000/api"},30004:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(95155);r(12115);var n=r(54011),o=r(59434);function l(e){let{className:t,...r}=e;return(0,a.jsx)(n.bL,{"data-slot":"avatar",className:(0,o.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...r})}function s(e){let{className:t,...r}=e;return(0,a.jsx)(n.H4,{"data-slot":"avatar-fallback",className:(0,o.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}function i(e){let{name:t,onClick:r}=e;return(0,a.jsx)(l,{className:"h-10 w-10 ring-2 ring-primary/20 rounded-2xl cursor-pointer",onClick:r,children:(0,a.jsx)(s,{className:"bg-primary text-primary-foreground font-medium rounded-2xl font-primary",children:null==t?void 0:t.split(" ").map(e=>e[0]).join("")})})}},30512:(e,t,r)=>{r.d(t,{c:()=>c});var a=r(95155),n=r(5196),o=r(30285),l=r(44838),s=r(34529),i=r(28813);let d=e=>{let{country:t,className:r="w-4 h-4"}=e,n=(0,i.VV)(t);return(0,a.jsx)("span",{className:"".concat(r," flex items-center justify-center text-lg leading-none transition-transform duration-200 hover:scale-110"),children:n})};function c(){let{switchLanguage:e,availableLocales:t,currentLocaleInfo:r,isPending:i}=(0,s.o)();return(0,a.jsxs)(l.rI,{children:[(0,a.jsx)(l.ty,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",size:"sm",disabled:i,className:"h-9 px-3 bg-background hover:bg-accent border-border hover:border-primary/50 transition-all duration-200 shadow-sm hover:shadow-md ".concat(i?"opacity-70 cursor-not-allowed":""),"aria-label":"Current language: ".concat(null==r?void 0:r.name,". Click to change language."),children:[(0,a.jsx)(d,{country:(null==r?void 0:r.code)||"en",className:"w-4 h-4 mr-2 flag-icon ".concat(i?"animate-pulse":"")}),(0,a.jsx)("span",{className:"font-medium",children:null==r?void 0:r.name}),i&&(0,a.jsx)("div",{className:"ml-2 w-3 h-3 border border-current border-t-transparent rounded-full animate-spin","aria-label":"Changing language..."})]})}),(0,a.jsx)(l.SQ,{align:"end",className:"bg-card/95 backdrop-blur-md border border-border/50 shadow-xl rounded-xl min-w-[160px] p-1 dropdown-content-enhanced",sideOffset:4,children:t.map(t=>{let o=(null==r?void 0:r.code)===t.code;return(0,a.jsxs)(l._2,{onClick:()=>{var a;(a=t.code)!==(null==r?void 0:r.code)&&e(a)},disabled:i||o,className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50 ".concat(o?"bg-primary/10 text-primary cursor-default":i?"opacity-50 cursor-not-allowed":"hover:bg-accent hover:text-accent-foreground active:bg-accent/80"),"aria-label":"Switch to ".concat(t.name),children:[(0,a.jsx)(d,{country:t.code,className:"w-4 h-4 flag-icon ".concat(i&&!o?"opacity-50":"")}),(0,a.jsx)("span",{className:"font-medium flex-1",children:t.name}),o&&(0,a.jsx)(n.A,{className:"w-4 h-4 text-primary animate-in fade-in-0 zoom-in-95 duration-200","aria-label":"Current language"})]},t.code)})})]})}},33831:(e,t,r)=>{r.d(t,{p:()=>a});let a=(e,t)=>{if(!e||!t)return"/";let r=t.split("-")[1];switch(e.toLowerCase().replace(/_/g,"-")){case"student":return"/student/".concat(r);case"admin":return"/admin/".concat(r);case"teacher":return"/teacher/".concat(r);case"super-admin":return"/super-admin/".concat(r);default:return"/"}}},35695:(e,t,r)=>{var a=r(18999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},49033:(e,t,r)=>{e.exports=r(22436)},51362:(e,t,r)=>{r.d(t,{D:()=>d,ThemeProvider:()=>c});var a=r(12115),n=(e,t,r,a,n,o,l,s)=>{let i=document.documentElement,d=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,a=r&&o?n.map(e=>o[e]||e):n;r?(i.classList.remove(...a),i.classList.add(o&&o[t]?o[t]:t)):i.setAttribute(e,t)}),r=t,s&&d.includes(r)&&(i.style.colorScheme=r)}if(a)c(a);else try{let e=localStorage.getItem(t)||r,a=l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(a)}catch(e){}},o=["light","dark"],l="(prefers-color-scheme: dark)",s=a.createContext(void 0),i={setTheme:e=>{},themes:[]},d=()=>{var e;return null!=(e=a.useContext(s))?e:i},c=e=>a.useContext(s)?a.createElement(a.Fragment,null,e.children):a.createElement(m,{...e}),u=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:d="theme",themes:c=u,defaultTheme:m=n?"system":"light",attribute:x="data-theme",value:y,children:v,nonce:b,scriptProps:w}=e,[k,j]=a.useState(()=>p(d,m)),[N,S]=a.useState(()=>"system"===k?f():k),A=y?Object.values(y):c,E=a.useCallback(e=>{let t=e;if(!t)return;"system"===e&&n&&(t=f());let a=y?y[t]:t,l=r?g(b):null,s=document.documentElement,d=e=>{"class"===e?(s.classList.remove(...A),a&&s.classList.add(a)):e.startsWith("data-")&&(a?s.setAttribute(e,a):s.removeAttribute(e))};if(Array.isArray(x)?x.forEach(d):d(x),i){let e=o.includes(m)?m:null,r=o.includes(t)?t:e;s.style.colorScheme=r}null==l||l()},[b]),C=a.useCallback(e=>{let t="function"==typeof e?e(k):e;j(t);try{localStorage.setItem(d,t)}catch(e){}},[k]),T=a.useCallback(e=>{S(f(e)),"system"===k&&n&&!t&&E("system")},[k,t]);a.useEffect(()=>{let e=window.matchMedia(l);return e.addListener(T),T(e),()=>e.removeListener(T)},[T]),a.useEffect(()=>{let e=e=>{e.key===d&&(e.newValue?j(e.newValue):C(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[C]),a.useEffect(()=>{E(null!=t?t:k)},[t,k]);let L=a.useMemo(()=>({theme:k,setTheme:C,forcedTheme:t,resolvedTheme:"system"===k?N:k,themes:n?[...c,"system"]:c,systemTheme:n?N:void 0}),[k,C,t,N,n,c]);return a.createElement(s.Provider,{value:L},a.createElement(h,{forcedTheme:t,storageKey:d,attribute:x,enableSystem:n,enableColorScheme:i,defaultTheme:m,value:y,themes:c,nonce:b,scriptProps:w}),v)},h=a.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:o,enableSystem:l,enableColorScheme:s,defaultTheme:i,value:d,themes:c,nonce:u,scriptProps:m}=e,h=JSON.stringify([o,r,i,t,c,d,l,s]).slice(1,-1);return a.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(n.toString(),")(").concat(h,")")}})}),p=(e,t)=>{let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},g=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},f=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light")},54011:(e,t,r)=>{r.d(t,{H4:()=>k,bL:()=>w});var a=r(12115),n=r(46081),o=r(39033),l=r(52712),s=r(63655),i=r(49033);function d(){return()=>{}}var c=r(95155),u="Avatar",[m,h]=(0,n.A)(u),[p,g]=m(u),f=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...n}=e,[o,l]=a.useState("idle");return(0,c.jsx)(p,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:(0,c.jsx)(s.sG.span,{...n,ref:t})})});f.displayName=u;var x="AvatarImage";a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:n,onLoadingStatusChange:u=()=>{},...m}=e,h=g(x,r),p=function(e,t){let{referrerPolicy:r,crossOrigin:n}=t,o=(0,i.useSyncExternalStore)(d,()=>!0,()=>!1),s=a.useRef(null),c=o?(s.current||(s.current=new window.Image),s.current):null,[u,m]=a.useState(()=>b(c,e));return(0,l.N)(()=>{m(b(c,e))},[c,e]),(0,l.N)(()=>{let e=e=>()=>{m(e)};if(!c)return;let t=e("loaded"),a=e("error");return c.addEventListener("load",t),c.addEventListener("error",a),r&&(c.referrerPolicy=r),"string"==typeof n&&(c.crossOrigin=n),()=>{c.removeEventListener("load",t),c.removeEventListener("error",a)}},[c,n,r]),u}(n,m),f=(0,o.c)(e=>{u(e),h.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==p&&f(p)},[p,f]),"loaded"===p?(0,c.jsx)(s.sG.img,{...m,ref:t,src:n}):null}).displayName=x;var y="AvatarFallback",v=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:n,...o}=e,l=g(y,r),[i,d]=a.useState(void 0===n);return a.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(e)}},[n]),i&&"loaded"!==l.imageLoadingStatus?(0,c.jsx)(s.sG.span,{...o,ref:t}):null});function b(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}v.displayName=y;var w=f,k=v},54416:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},62098:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(19946).A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},66681:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(86434);let n=()=>{var e,t,r;let{data:n,isLoading:o,isError:l}=(0,a.CR)();return{user:null==n?void 0:n.data,isLoading:o,isError:l,isLoggedIn:!!n,role:null==n||null==(e=n.data)?void 0:e.role,id:null==n||null==(t=n.data)?void 0:t.id,mongoId:null==n||null==(r=n.data)?void 0:r._id}}},71185:(e,t,r)=>{r.d(t,{U:()=>c});var a=r(95155);r(12115);var n=r(62098),o=r(93509),l=r(14738),s=r(51362),i=r(30285),d=r(44838);function c(){let{setTheme:e,theme:t}=(0,s.D)();return(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"ghost",size:"icon",className:"relative hover:bg-accent transition-all duration-200",children:[(0,a.jsx)(n.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0 theme-icon"}),(0,a.jsx)(o.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100 theme-icon"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(d.SQ,{align:"end",className:"bg-card/95 backdrop-blur-md border border-border/50 shadow-xl rounded-xl min-w-[140px] dropdown-content-enhanced",children:[(0,a.jsxs)(d._2,{onClick:()=>e("light"),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer rounded-lg transition-all duration-200 ".concat("light"===t?"bg-primary/10 text-primary":"hover:bg-accent hover:text-accent-foreground"),children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-medium",children:"Light"})]}),(0,a.jsxs)(d._2,{onClick:()=>e("dark"),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer rounded-lg transition-all duration-200 ".concat("dark"===t?"bg-primary/10 text-primary":"hover:bg-accent hover:text-accent-foreground"),children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-medium",children:"Dark"})]}),(0,a.jsxs)(d._2,{onClick:()=>e("system"),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer rounded-lg transition-all duration-200 ".concat("system"===t?"bg-primary/10 text-primary":"hover:bg-accent hover:text-accent-foreground"),children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-medium",children:"System"})]})]})]})}},74783:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(19946).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},76411:(e,t,r)=>{r.d(t,{X:()=>s});var a=r(76698),n=r(56671),o=r(89519),l=r(25731);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.A||"http://localhost:5000/api",t=(0,a.cw)({baseUrl:e,credentials:"include"});return async(e,r,a)=>{let l=await t(e,r,a),s="object"==typeof e&&"suppress401"in e&&e.suppress401;if(l.error){var i;let e=l.error.status,t=(null==(i=l.error.data)?void 0:i.message)||("string"==typeof l.error.error?l.error.error:"Something went wrong");401!==e||s?"PARSING_ERROR"===l.error.status?(console.error("Received invalid JSON (likely HTML):",l.error),n.o.error("Unexpected server response (invalid JSON).")):s||(console.error("[API Error ".concat(e,"]"),t),n.o.error(t)):(r.dispatch((0,o.q0)()),n.o.error("Session expired. Please log in again."),setTimeout(()=>{window.location.href="/protected-redirect"},500))}return l}}},86434:(e,t,r)=>{r.d(t,{CR:()=>s,Ng:()=>d,ZQ:()=>l,_L:()=>i});var a=r(70404),n=r(76411),o=r(25731);let l=(0,a.xP)({reducerPath:"authApi",baseQuery:(0,n.X)("".concat(o.A)||"http://localhost:5000/api"),endpoints:e=>({getMe:e.query({query:()=>({url:"/auth",suppress401:!0})}),login:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"/auth/logout",method:"POST"})})})}),{useGetMeQuery:s,useLoginMutation:i,useLogoutMutation:d}=l},89519:(e,t,r)=>{r.d(t,{Ay:()=>i,Uv:()=>n,q0:()=>s});var a=r(5710),n=function(e){return e.STUDENT="STUDENT",e.TEACHER="TEACHER",e.ADMIN="ADMIN",e.SUPER_ADMIN="SUPER-ADMIN",e}({});let o=(0,a.Z0)({name:"auth",initialState:{id:null,mongoId:null,role:null},reducers:{setAuth:(e,t)=>{e.id=t.payload.id,e.mongoId=t.payload.mongoId,e.role=t.payload.role,console.log("âœ… Reducer triggered with:",t.payload)},clearAuth:e=>{e.id=null,e.role=null,e.mongoId=null}}}),{setAuth:l,clearAuth:s}=o.actions,i=o.reducer},93509:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(19946).A)("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])}}]);