module.exports = {

"[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ /* global Reflect, Promise, SuppressedError, Symbol, Iterator */ __turbopack_context__.s({
    "__addDisposableResource": ()=>__addDisposableResource,
    "__assign": ()=>__assign,
    "__asyncDelegator": ()=>__asyncDelegator,
    "__asyncGenerator": ()=>__asyncGenerator,
    "__asyncValues": ()=>__asyncValues,
    "__await": ()=>__await,
    "__awaiter": ()=>__awaiter,
    "__classPrivateFieldGet": ()=>__classPrivateFieldGet,
    "__classPrivateFieldIn": ()=>__classPrivateFieldIn,
    "__classPrivateFieldSet": ()=>__classPrivateFieldSet,
    "__createBinding": ()=>__createBinding,
    "__decorate": ()=>__decorate,
    "__disposeResources": ()=>__disposeResources,
    "__esDecorate": ()=>__esDecorate,
    "__exportStar": ()=>__exportStar,
    "__extends": ()=>__extends,
    "__generator": ()=>__generator,
    "__importDefault": ()=>__importDefault,
    "__importStar": ()=>__importStar,
    "__makeTemplateObject": ()=>__makeTemplateObject,
    "__metadata": ()=>__metadata,
    "__param": ()=>__param,
    "__propKey": ()=>__propKey,
    "__read": ()=>__read,
    "__rest": ()=>__rest,
    "__rewriteRelativeImportExtension": ()=>__rewriteRelativeImportExtension,
    "__runInitializers": ()=>__runInitializers,
    "__setFunctionName": ()=>__setFunctionName,
    "__spread": ()=>__spread,
    "__spreadArray": ()=>__spreadArray,
    "__spreadArrays": ()=>__spreadArrays,
    "__values": ()=>__values,
    "default": ()=>__TURBOPACK__default__export__
});
var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf || ({
        __proto__: []
    }) instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };
    return extendStatics(d, b);
};
function __extends(d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
        this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}
var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for(var s, i = 1, n = arguments.length; i < n; i++){
            s = arguments[i];
            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
function __rest(s, e) {
    var t = {};
    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function") for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++){
        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
    }
    return t;
}
function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}
function __param(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
}
function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {
    function accept(f) {
        if (f !== void 0 && typeof f !== "function") throw new TypeError("Function expected");
        return f;
    }
    var kind = contextIn.kind, key = kind === "getter" ? "get" : kind === "setter" ? "set" : "value";
    var target = !descriptorIn && ctor ? contextIn["static"] ? ctor : ctor.prototype : null;
    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});
    var _, done = false;
    for(var i = decorators.length - 1; i >= 0; i--){
        var context = {};
        for(var p in contextIn)context[p] = p === "access" ? {} : contextIn[p];
        for(var p in contextIn.access)context.access[p] = contextIn.access[p];
        context.addInitializer = function(f) {
            if (done) throw new TypeError("Cannot add initializers after decoration has completed");
            extraInitializers.push(accept(f || null));
        };
        var result = (0, decorators[i])(kind === "accessor" ? {
            get: descriptor.get,
            set: descriptor.set
        } : descriptor[key], context);
        if (kind === "accessor") {
            if (result === void 0) continue;
            if (result === null || typeof result !== "object") throw new TypeError("Object expected");
            if (_ = accept(result.get)) descriptor.get = _;
            if (_ = accept(result.set)) descriptor.set = _;
            if (_ = accept(result.init)) initializers.unshift(_);
        } else if (_ = accept(result)) {
            if (kind === "field") initializers.unshift(_);
            else descriptor[key] = _;
        }
    }
    if (target) Object.defineProperty(target, contextIn.name, descriptor);
    done = true;
}
;
function __runInitializers(thisArg, initializers, value) {
    var useValue = arguments.length > 2;
    for(var i = 0; i < initializers.length; i++){
        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);
    }
    return useValue ? value : void 0;
}
;
function __propKey(x) {
    return typeof x === "symbol" ? x : "".concat(x);
}
;
function __setFunctionName(f, name, prefix) {
    if (typeof name === "symbol") name = name.description ? "[".concat(name.description, "]") : "";
    return Object.defineProperty(f, "name", {
        configurable: true,
        value: prefix ? "".concat(prefix, " ", name) : name
    });
}
;
function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}
function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}
function __generator(thisArg, body) {
    var _ = {
        label: 0,
        sent: function() {
            if (t[0] & 1) throw t[1];
            return t[1];
        },
        trys: [],
        ops: []
    }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() {
        return this;
    }), g;
    //TURBOPACK unreachable
    ;
    function verb(n) {
        return function(v) {
            return step([
                n,
                v
            ]);
        };
    }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while(g && (g = 0, op[0] && (_ = 0)), _)try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [
                op[0] & 2,
                t.value
            ];
            switch(op[0]){
                case 0:
                case 1:
                    t = op;
                    break;
                case 4:
                    _.label++;
                    return {
                        value: op[1],
                        done: false
                    };
                case 5:
                    _.label++;
                    y = op[1];
                    op = [
                        0
                    ];
                    continue;
                case 7:
                    op = _.ops.pop();
                    _.trys.pop();
                    continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                        _ = 0;
                        continue;
                    }
                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
                        _.label = op[1];
                        break;
                    }
                    if (op[0] === 6 && _.label < t[1]) {
                        _.label = t[1];
                        t = op;
                        break;
                    }
                    if (t && _.label < t[2]) {
                        _.label = t[2];
                        _.ops.push(op);
                        break;
                    }
                    if (t[2]) _.ops.pop();
                    _.trys.pop();
                    continue;
            }
            op = body.call(thisArg, _);
        } catch (e) {
            op = [
                6,
                e
            ];
            y = 0;
        } finally{
            f = t = 0;
        }
        if (op[0] & 5) throw op[1];
        return {
            value: op[0] ? op[1] : void 0,
            done: true
        };
    }
}
var __createBinding = Object.create ? function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
        desc = {
            enumerable: true,
            get: function() {
                return m[k];
            }
        };
    }
    Object.defineProperty(o, k2, desc);
} : function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
};
function __exportStar(m, o) {
    for(var p in m)if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}
function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function() {
            if (o && i >= o.length) o = void 0;
            return {
                value: o && o[i++],
                done: !o
            };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
}
function __spread() {
    for(var ar = [], i = 0; i < arguments.length; i++)ar = ar.concat(__read(arguments[i]));
    return ar;
}
function __spreadArrays() {
    for(var s = 0, i = 0, il = arguments.length; i < il; i++)s += arguments[i].length;
    for(var r = Array(s), k = 0, i = 0; i < il; i++)for(var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)r[k] = a[j];
    return r;
}
function __spreadArray(to, from, pack) {
    if (pack || arguments.length === 2) for(var i = 0, l = from.length, ar; i < l; i++){
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
}
function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}
function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = Object.create((typeof AsyncIterator === "function" ? AsyncIterator : Object).prototype), verb("next"), verb("throw"), verb("return", awaitReturn), i[Symbol.asyncIterator] = function() {
        return this;
    }, i;
    //TURBOPACK unreachable
    ;
    function awaitReturn(f) {
        return function(v) {
            return Promise.resolve(v).then(f, reject);
        };
    }
    function verb(n, f) {
        if (g[n]) {
            i[n] = function(v) {
                return new Promise(function(a, b) {
                    q.push([
                        n,
                        v,
                        a,
                        b
                    ]) > 1 || resume(n, v);
                });
            };
            if (f) i[n] = f(i[n]);
        }
    }
    function resume(n, v) {
        try {
            step(g[n](v));
        } catch (e) {
            settle(q[0][3], e);
        }
    }
    function step(r) {
        r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
    }
    function fulfill(value) {
        resume("next", value);
    }
    function reject(value) {
        resume("throw", value);
    }
    function settle(f, v) {
        if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
    }
}
function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function(e) {
        throw e;
    }), verb("return"), i[Symbol.iterator] = function() {
        return this;
    }, i;
    //TURBOPACK unreachable
    ;
    function verb(n, f) {
        i[n] = o[n] ? function(v) {
            return (p = !p) ? {
                value: __await(o[n](v)),
                done: false
            } : f ? f(v) : v;
        } : f;
    }
}
function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
        return this;
    }, i);
    //TURBOPACK unreachable
    ;
    function verb(n) {
        i[n] = o[n] && function(v) {
            return new Promise(function(resolve, reject) {
                v = o[n](v), settle(resolve, reject, v.done, v.value);
            });
        };
    }
    function settle(resolve, reject, d, v) {
        Promise.resolve(v).then(function(v) {
            resolve({
                value: v,
                done: d
            });
        }, reject);
    }
}
function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) {
        Object.defineProperty(cooked, "raw", {
            value: raw
        });
    } else {
        cooked.raw = raw;
    }
    return cooked;
}
;
var __setModuleDefault = Object.create ? function(o, v) {
    Object.defineProperty(o, "default", {
        enumerable: true,
        value: v
    });
} : function(o, v) {
    o["default"] = v;
};
var ownKeys = function(o) {
    ownKeys = Object.getOwnPropertyNames || function(o) {
        var ar = [];
        for(var k in o)if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
        return ar;
    };
    return ownKeys(o);
};
function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) {
        for(var k = ownKeys(mod), i = 0; i < k.length; i++)if (k[i] !== "default") __createBinding(result, mod, k[i]);
    }
    __setModuleDefault(result, mod);
    return result;
}
function __importDefault(mod) {
    return mod && mod.__esModule ? mod : {
        default: mod
    };
}
function __classPrivateFieldGet(receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}
function __classPrivateFieldSet(receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;
}
function __classPrivateFieldIn(state, receiver) {
    if (receiver === null || typeof receiver !== "object" && typeof receiver !== "function") throw new TypeError("Cannot use 'in' operator on non-object");
    return typeof state === "function" ? receiver === state : state.has(receiver);
}
function __addDisposableResource(env, value, async) {
    if (value !== null && value !== void 0) {
        if (typeof value !== "object" && typeof value !== "function") throw new TypeError("Object expected.");
        var dispose, inner;
        if (async) {
            if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined.");
            dispose = value[Symbol.asyncDispose];
        }
        if (dispose === void 0) {
            if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined.");
            dispose = value[Symbol.dispose];
            if (async) inner = dispose;
        }
        if (typeof dispose !== "function") throw new TypeError("Object not disposable.");
        if (inner) dispose = function() {
            try {
                inner.call(this);
            } catch (e) {
                return Promise.reject(e);
            }
        };
        env.stack.push({
            value: value,
            dispose: dispose,
            async: async
        });
    } else if (async) {
        env.stack.push({
            async: true
        });
    }
    return value;
}
var _SuppressedError = typeof SuppressedError === "function" ? SuppressedError : function(error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};
function __disposeResources(env) {
    function fail(e) {
        env.error = env.hasError ? new _SuppressedError(e, env.error, "An error was suppressed during disposal.") : e;
        env.hasError = true;
    }
    var r, s = 0;
    function next() {
        while(r = env.stack.pop()){
            try {
                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);
                if (r.dispose) {
                    var result = r.dispose.call(r.value);
                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) {
                        fail(e);
                        return next();
                    });
                } else s |= 1;
            } catch (e) {
                fail(e);
            }
        }
        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();
        if (env.hasError) throw env.error;
    }
    return next();
}
function __rewriteRelativeImportExtension(path, preserveJsx) {
    if (typeof path === "string" && /^\.\.?\//.test(path)) {
        return path.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i, function(m, tsx, d, ext, cm) {
            return tsx ? preserveJsx ? ".jsx" : ".js" : d && (!ext || !cm) ? m : d + ext + "." + cm.toLowerCase() + "js";
        });
    }
    return path;
}
const __TURBOPACK__default__export__ = {
    __extends,
    __assign,
    __rest,
    __decorate,
    __param,
    __esDecorate,
    __runInitializers,
    __propKey,
    __setFunctionName,
    __metadata,
    __awaiter,
    __generator,
    __createBinding,
    __exportStar,
    __values,
    __read,
    __spread,
    __spreadArrays,
    __spreadArray,
    __await,
    __asyncGenerator,
    __asyncDelegator,
    __asyncValues,
    __makeTemplateObject,
    __importStar,
    __importDefault,
    __classPrivateFieldGet,
    __classPrivateFieldSet,
    __classPrivateFieldIn,
    __addDisposableResource,
    __disposeResources,
    __rewriteRelativeImportExtension
};
}),
"[project]/node_modules/@formatjs/fast-memoize/lib/index.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

//
// Main
//
__turbopack_context__.s({
    "memoize": ()=>memoize,
    "strategies": ()=>strategies
});
function memoize(fn, options) {
    var cache = options && options.cache ? options.cache : cacheDefault;
    var serializer = options && options.serializer ? options.serializer : serializerDefault;
    var strategy = options && options.strategy ? options.strategy : strategyDefault;
    return strategy(fn, {
        cache: cache,
        serializer: serializer
    });
}
//
// Strategy
//
function isPrimitive(value) {
    return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === "string" 'unsafe' primitive for our needs
}
function monadic(fn, cache, serializer, arg) {
    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);
    var computedValue = cache.get(cacheKey);
    if (typeof computedValue === 'undefined') {
        computedValue = fn.call(this, arg);
        cache.set(cacheKey, computedValue);
    }
    return computedValue;
}
function variadic(fn, cache, serializer) {
    var args = Array.prototype.slice.call(arguments, 3);
    var cacheKey = serializer(args);
    var computedValue = cache.get(cacheKey);
    if (typeof computedValue === 'undefined') {
        computedValue = fn.apply(this, args);
        cache.set(cacheKey, computedValue);
    }
    return computedValue;
}
function assemble(fn, context, strategy, cache, serialize) {
    return strategy.bind(context, fn, cache, serialize);
}
function strategyDefault(fn, options) {
    var strategy = fn.length === 1 ? monadic : variadic;
    return assemble(fn, this, strategy, options.cache.create(), options.serializer);
}
function strategyVariadic(fn, options) {
    return assemble(fn, this, variadic, options.cache.create(), options.serializer);
}
function strategyMonadic(fn, options) {
    return assemble(fn, this, monadic, options.cache.create(), options.serializer);
}
//
// Serializer
//
var serializerDefault = function() {
    return JSON.stringify(arguments);
};
//
// Cache
//
var ObjectWithoutPrototypeCache = function() {
    function ObjectWithoutPrototypeCache() {
        this.cache = Object.create(null);
    }
    ObjectWithoutPrototypeCache.prototype.get = function(key) {
        return this.cache[key];
    };
    ObjectWithoutPrototypeCache.prototype.set = function(key, value) {
        this.cache[key] = value;
    };
    return ObjectWithoutPrototypeCache;
}();
var cacheDefault = {
    create: function create() {
        return new ObjectWithoutPrototypeCache();
    }
};
var strategies = {
    variadic: strategyVariadic,
    monadic: strategyMonadic
};
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/error.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "ErrorKind": ()=>ErrorKind
});
var ErrorKind;
(function(ErrorKind) {
    /** Argument is unclosed (e.g. `{0`) */ ErrorKind[ErrorKind["EXPECT_ARGUMENT_CLOSING_BRACE"] = 1] = "EXPECT_ARGUMENT_CLOSING_BRACE";
    /** Argument is empty (e.g. `{}`). */ ErrorKind[ErrorKind["EMPTY_ARGUMENT"] = 2] = "EMPTY_ARGUMENT";
    /** Argument is malformed (e.g. `{foo!}``) */ ErrorKind[ErrorKind["MALFORMED_ARGUMENT"] = 3] = "MALFORMED_ARGUMENT";
    /** Expect an argument type (e.g. `{foo,}`) */ ErrorKind[ErrorKind["EXPECT_ARGUMENT_TYPE"] = 4] = "EXPECT_ARGUMENT_TYPE";
    /** Unsupported argument type (e.g. `{foo,foo}`) */ ErrorKind[ErrorKind["INVALID_ARGUMENT_TYPE"] = 5] = "INVALID_ARGUMENT_TYPE";
    /** Expect an argument style (e.g. `{foo, number, }`) */ ErrorKind[ErrorKind["EXPECT_ARGUMENT_STYLE"] = 6] = "EXPECT_ARGUMENT_STYLE";
    /** The number skeleton is invalid. */ ErrorKind[ErrorKind["INVALID_NUMBER_SKELETON"] = 7] = "INVALID_NUMBER_SKELETON";
    /** The date time skeleton is invalid. */ ErrorKind[ErrorKind["INVALID_DATE_TIME_SKELETON"] = 8] = "INVALID_DATE_TIME_SKELETON";
    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */ ErrorKind[ErrorKind["EXPECT_NUMBER_SKELETON"] = 9] = "EXPECT_NUMBER_SKELETON";
    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */ ErrorKind[ErrorKind["EXPECT_DATE_TIME_SKELETON"] = 10] = "EXPECT_DATE_TIME_SKELETON";
    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */ ErrorKind[ErrorKind["UNCLOSED_QUOTE_IN_ARGUMENT_STYLE"] = 11] = "UNCLOSED_QUOTE_IN_ARGUMENT_STYLE";
    /** Missing select argument options (e.g. `{foo, select}`) */ ErrorKind[ErrorKind["EXPECT_SELECT_ARGUMENT_OPTIONS"] = 12] = "EXPECT_SELECT_ARGUMENT_OPTIONS";
    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */ ErrorKind[ErrorKind["EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE"] = 13] = "EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE";
    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */ ErrorKind[ErrorKind["INVALID_PLURAL_ARGUMENT_OFFSET_VALUE"] = 14] = "INVALID_PLURAL_ARGUMENT_OFFSET_VALUE";
    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */ ErrorKind[ErrorKind["EXPECT_SELECT_ARGUMENT_SELECTOR"] = 15] = "EXPECT_SELECT_ARGUMENT_SELECTOR";
    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */ ErrorKind[ErrorKind["EXPECT_PLURAL_ARGUMENT_SELECTOR"] = 16] = "EXPECT_PLURAL_ARGUMENT_SELECTOR";
    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */ ErrorKind[ErrorKind["EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT"] = 17] = "EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT";
    /**
     * Expecting a message fragment after the `plural` or `selectordinal` selector
     * (e.g. `{foo, plural, one}`)
     */ ErrorKind[ErrorKind["EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT"] = 18] = "EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT";
    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */ ErrorKind[ErrorKind["INVALID_PLURAL_ARGUMENT_SELECTOR"] = 19] = "INVALID_PLURAL_ARGUMENT_SELECTOR";
    /**
     * Duplicate selectors in `plural` or `selectordinal` argument.
     * (e.g. {foo, plural, one {#} one {#}})
     */ ErrorKind[ErrorKind["DUPLICATE_PLURAL_ARGUMENT_SELECTOR"] = 20] = "DUPLICATE_PLURAL_ARGUMENT_SELECTOR";
    /** Duplicate selectors in `select` argument.
     * (e.g. {foo, select, apple {apple} apple {apple}})
     */ ErrorKind[ErrorKind["DUPLICATE_SELECT_ARGUMENT_SELECTOR"] = 21] = "DUPLICATE_SELECT_ARGUMENT_SELECTOR";
    /** Plural or select argument option must have `other` clause. */ ErrorKind[ErrorKind["MISSING_OTHER_CLAUSE"] = 22] = "MISSING_OTHER_CLAUSE";
    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */ ErrorKind[ErrorKind["INVALID_TAG"] = 23] = "INVALID_TAG";
    /** The tag name is invalid. (e.g. `<123>foo</123>`) */ ErrorKind[ErrorKind["INVALID_TAG_NAME"] = 25] = "INVALID_TAG_NAME";
    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */ ErrorKind[ErrorKind["UNMATCHED_CLOSING_TAG"] = 26] = "UNMATCHED_CLOSING_TAG";
    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */ ErrorKind[ErrorKind["UNCLOSED_TAG"] = 27] = "UNCLOSED_TAG";
})(ErrorKind || (ErrorKind = {}));
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/types.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "SKELETON_TYPE": ()=>SKELETON_TYPE,
    "TYPE": ()=>TYPE,
    "createLiteralElement": ()=>createLiteralElement,
    "createNumberElement": ()=>createNumberElement,
    "isArgumentElement": ()=>isArgumentElement,
    "isDateElement": ()=>isDateElement,
    "isDateTimeSkeleton": ()=>isDateTimeSkeleton,
    "isLiteralElement": ()=>isLiteralElement,
    "isNumberElement": ()=>isNumberElement,
    "isNumberSkeleton": ()=>isNumberSkeleton,
    "isPluralElement": ()=>isPluralElement,
    "isPoundElement": ()=>isPoundElement,
    "isSelectElement": ()=>isSelectElement,
    "isTagElement": ()=>isTagElement,
    "isTimeElement": ()=>isTimeElement
});
var TYPE;
(function(TYPE) {
    /**
     * Raw text
     */ TYPE[TYPE["literal"] = 0] = "literal";
    /**
     * Variable w/o any format, e.g `var` in `this is a {var}`
     */ TYPE[TYPE["argument"] = 1] = "argument";
    /**
     * Variable w/ number format
     */ TYPE[TYPE["number"] = 2] = "number";
    /**
     * Variable w/ date format
     */ TYPE[TYPE["date"] = 3] = "date";
    /**
     * Variable w/ time format
     */ TYPE[TYPE["time"] = 4] = "time";
    /**
     * Variable w/ select format
     */ TYPE[TYPE["select"] = 5] = "select";
    /**
     * Variable w/ plural format
     */ TYPE[TYPE["plural"] = 6] = "plural";
    /**
     * Only possible within plural argument.
     * This is the `#` symbol that will be substituted with the count.
     */ TYPE[TYPE["pound"] = 7] = "pound";
    /**
     * XML-like tag
     */ TYPE[TYPE["tag"] = 8] = "tag";
})(TYPE || (TYPE = {}));
var SKELETON_TYPE;
(function(SKELETON_TYPE) {
    SKELETON_TYPE[SKELETON_TYPE["number"] = 0] = "number";
    SKELETON_TYPE[SKELETON_TYPE["dateTime"] = 1] = "dateTime";
})(SKELETON_TYPE || (SKELETON_TYPE = {}));
function isLiteralElement(el) {
    return el.type === TYPE.literal;
}
function isArgumentElement(el) {
    return el.type === TYPE.argument;
}
function isNumberElement(el) {
    return el.type === TYPE.number;
}
function isDateElement(el) {
    return el.type === TYPE.date;
}
function isTimeElement(el) {
    return el.type === TYPE.time;
}
function isSelectElement(el) {
    return el.type === TYPE.select;
}
function isPluralElement(el) {
    return el.type === TYPE.plural;
}
function isPoundElement(el) {
    return el.type === TYPE.pound;
}
function isTagElement(el) {
    return el.type === TYPE.tag;
}
function isNumberSkeleton(el) {
    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);
}
function isDateTimeSkeleton(el) {
    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);
}
function createLiteralElement(value) {
    return {
        type: TYPE.literal,
        value: value
    };
}
function createNumberElement(value, style) {
    return {
        type: TYPE.number,
        value: value,
        style: style
    };
}
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// @generated from regex-gen.ts
__turbopack_context__.s({
    "SPACE_SEPARATOR_REGEX": ()=>SPACE_SEPARATOR_REGEX,
    "WHITE_SPACE_REGEX": ()=>WHITE_SPACE_REGEX
});
var SPACE_SEPARATOR_REGEX = /[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/;
var WHITE_SPACE_REGEX = /[\t-\r \x85\u200E\u200F\u2028\u2029]/;
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/time-data.generated.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// @generated from time-data-gen.ts
// prettier-ignore  
__turbopack_context__.s({
    "timeData": ()=>timeData
});
var timeData = {
    "001": [
        "H",
        "h"
    ],
    "419": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "AC": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "AD": [
        "H",
        "hB"
    ],
    "AE": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "AF": [
        "H",
        "hb",
        "hB",
        "h"
    ],
    "AG": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "AI": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "AL": [
        "h",
        "H",
        "hB"
    ],
    "AM": [
        "H",
        "hB"
    ],
    "AO": [
        "H",
        "hB"
    ],
    "AR": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "AS": [
        "h",
        "H"
    ],
    "AT": [
        "H",
        "hB"
    ],
    "AU": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "AW": [
        "H",
        "hB"
    ],
    "AX": [
        "H"
    ],
    "AZ": [
        "H",
        "hB",
        "h"
    ],
    "BA": [
        "H",
        "hB",
        "h"
    ],
    "BB": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "BD": [
        "h",
        "hB",
        "H"
    ],
    "BE": [
        "H",
        "hB"
    ],
    "BF": [
        "H",
        "hB"
    ],
    "BG": [
        "H",
        "hB",
        "h"
    ],
    "BH": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "BI": [
        "H",
        "h"
    ],
    "BJ": [
        "H",
        "hB"
    ],
    "BL": [
        "H",
        "hB"
    ],
    "BM": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "BN": [
        "hb",
        "hB",
        "h",
        "H"
    ],
    "BO": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "BQ": [
        "H"
    ],
    "BR": [
        "H",
        "hB"
    ],
    "BS": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "BT": [
        "h",
        "H"
    ],
    "BW": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "BY": [
        "H",
        "h"
    ],
    "BZ": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "CA": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "CC": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "CD": [
        "hB",
        "H"
    ],
    "CF": [
        "H",
        "h",
        "hB"
    ],
    "CG": [
        "H",
        "hB"
    ],
    "CH": [
        "H",
        "hB",
        "h"
    ],
    "CI": [
        "H",
        "hB"
    ],
    "CK": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "CL": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "CM": [
        "H",
        "h",
        "hB"
    ],
    "CN": [
        "H",
        "hB",
        "hb",
        "h"
    ],
    "CO": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "CP": [
        "H"
    ],
    "CR": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "CU": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "CV": [
        "H",
        "hB"
    ],
    "CW": [
        "H",
        "hB"
    ],
    "CX": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "CY": [
        "h",
        "H",
        "hb",
        "hB"
    ],
    "CZ": [
        "H"
    ],
    "DE": [
        "H",
        "hB"
    ],
    "DG": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "DJ": [
        "h",
        "H"
    ],
    "DK": [
        "H"
    ],
    "DM": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "DO": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "DZ": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "EA": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "EC": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "EE": [
        "H",
        "hB"
    ],
    "EG": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "EH": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "ER": [
        "h",
        "H"
    ],
    "ES": [
        "H",
        "hB",
        "h",
        "hb"
    ],
    "ET": [
        "hB",
        "hb",
        "h",
        "H"
    ],
    "FI": [
        "H"
    ],
    "FJ": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "FK": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "FM": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "FO": [
        "H",
        "h"
    ],
    "FR": [
        "H",
        "hB"
    ],
    "GA": [
        "H",
        "hB"
    ],
    "GB": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "GD": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "GE": [
        "H",
        "hB",
        "h"
    ],
    "GF": [
        "H",
        "hB"
    ],
    "GG": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "GH": [
        "h",
        "H"
    ],
    "GI": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "GL": [
        "H",
        "h"
    ],
    "GM": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "GN": [
        "H",
        "hB"
    ],
    "GP": [
        "H",
        "hB"
    ],
    "GQ": [
        "H",
        "hB",
        "h",
        "hb"
    ],
    "GR": [
        "h",
        "H",
        "hb",
        "hB"
    ],
    "GT": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "GU": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "GW": [
        "H",
        "hB"
    ],
    "GY": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "HK": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "HN": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "HR": [
        "H",
        "hB"
    ],
    "HU": [
        "H",
        "h"
    ],
    "IC": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "ID": [
        "H"
    ],
    "IE": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "IL": [
        "H",
        "hB"
    ],
    "IM": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "IN": [
        "h",
        "H"
    ],
    "IO": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "IQ": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "IR": [
        "hB",
        "H"
    ],
    "IS": [
        "H"
    ],
    "IT": [
        "H",
        "hB"
    ],
    "JE": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "JM": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "JO": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "JP": [
        "H",
        "K",
        "h"
    ],
    "KE": [
        "hB",
        "hb",
        "H",
        "h"
    ],
    "KG": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "KH": [
        "hB",
        "h",
        "H",
        "hb"
    ],
    "KI": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "KM": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "KN": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "KP": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "KR": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "KW": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "KY": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "KZ": [
        "H",
        "hB"
    ],
    "LA": [
        "H",
        "hb",
        "hB",
        "h"
    ],
    "LB": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "LC": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "LI": [
        "H",
        "hB",
        "h"
    ],
    "LK": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "LR": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "LS": [
        "h",
        "H"
    ],
    "LT": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "LU": [
        "H",
        "h",
        "hB"
    ],
    "LV": [
        "H",
        "hB",
        "hb",
        "h"
    ],
    "LY": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "MA": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "MC": [
        "H",
        "hB"
    ],
    "MD": [
        "H",
        "hB"
    ],
    "ME": [
        "H",
        "hB",
        "h"
    ],
    "MF": [
        "H",
        "hB"
    ],
    "MG": [
        "H",
        "h"
    ],
    "MH": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "MK": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "ML": [
        "H"
    ],
    "MM": [
        "hB",
        "hb",
        "H",
        "h"
    ],
    "MN": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "MO": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "MP": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "MQ": [
        "H",
        "hB"
    ],
    "MR": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "MS": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "MT": [
        "H",
        "h"
    ],
    "MU": [
        "H",
        "h"
    ],
    "MV": [
        "H",
        "h"
    ],
    "MW": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "MX": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "MY": [
        "hb",
        "hB",
        "h",
        "H"
    ],
    "MZ": [
        "H",
        "hB"
    ],
    "NA": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "NC": [
        "H",
        "hB"
    ],
    "NE": [
        "H"
    ],
    "NF": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "NG": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "NI": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "NL": [
        "H",
        "hB"
    ],
    "NO": [
        "H",
        "h"
    ],
    "NP": [
        "H",
        "h",
        "hB"
    ],
    "NR": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "NU": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "NZ": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "OM": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "PA": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "PE": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "PF": [
        "H",
        "h",
        "hB"
    ],
    "PG": [
        "h",
        "H"
    ],
    "PH": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "PK": [
        "h",
        "hB",
        "H"
    ],
    "PL": [
        "H",
        "h"
    ],
    "PM": [
        "H",
        "hB"
    ],
    "PN": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "PR": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "PS": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "PT": [
        "H",
        "hB"
    ],
    "PW": [
        "h",
        "H"
    ],
    "PY": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "QA": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "RE": [
        "H",
        "hB"
    ],
    "RO": [
        "H",
        "hB"
    ],
    "RS": [
        "H",
        "hB",
        "h"
    ],
    "RU": [
        "H"
    ],
    "RW": [
        "H",
        "h"
    ],
    "SA": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "SB": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "SC": [
        "H",
        "h",
        "hB"
    ],
    "SD": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "SE": [
        "H"
    ],
    "SG": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "SH": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "SI": [
        "H",
        "hB"
    ],
    "SJ": [
        "H"
    ],
    "SK": [
        "H"
    ],
    "SL": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "SM": [
        "H",
        "h",
        "hB"
    ],
    "SN": [
        "H",
        "h",
        "hB"
    ],
    "SO": [
        "h",
        "H"
    ],
    "SR": [
        "H",
        "hB"
    ],
    "SS": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "ST": [
        "H",
        "hB"
    ],
    "SV": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "SX": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "SY": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "SZ": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "TA": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "TC": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "TD": [
        "h",
        "H",
        "hB"
    ],
    "TF": [
        "H",
        "h",
        "hB"
    ],
    "TG": [
        "H",
        "hB"
    ],
    "TH": [
        "H",
        "h"
    ],
    "TJ": [
        "H",
        "h"
    ],
    "TL": [
        "H",
        "hB",
        "hb",
        "h"
    ],
    "TM": [
        "H",
        "h"
    ],
    "TN": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "TO": [
        "h",
        "H"
    ],
    "TR": [
        "H",
        "hB"
    ],
    "TT": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "TW": [
        "hB",
        "hb",
        "h",
        "H"
    ],
    "TZ": [
        "hB",
        "hb",
        "H",
        "h"
    ],
    "UA": [
        "H",
        "hB",
        "h"
    ],
    "UG": [
        "hB",
        "hb",
        "H",
        "h"
    ],
    "UM": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "US": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "UY": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "UZ": [
        "H",
        "hB",
        "h"
    ],
    "VA": [
        "H",
        "h",
        "hB"
    ],
    "VC": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "VE": [
        "h",
        "H",
        "hB",
        "hb"
    ],
    "VG": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "VI": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "VN": [
        "H",
        "h"
    ],
    "VU": [
        "h",
        "H"
    ],
    "WF": [
        "H",
        "hB"
    ],
    "WS": [
        "h",
        "H"
    ],
    "XK": [
        "H",
        "hB",
        "h"
    ],
    "YE": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "YT": [
        "H",
        "hB"
    ],
    "ZA": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "ZM": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "ZW": [
        "H",
        "h"
    ],
    "af-ZA": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "ar-001": [
        "h",
        "hB",
        "hb",
        "H"
    ],
    "ca-ES": [
        "H",
        "h",
        "hB"
    ],
    "en-001": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "en-HK": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "en-IL": [
        "H",
        "h",
        "hb",
        "hB"
    ],
    "en-MY": [
        "h",
        "hb",
        "H",
        "hB"
    ],
    "es-BR": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "es-ES": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "es-GQ": [
        "H",
        "h",
        "hB",
        "hb"
    ],
    "fr-CA": [
        "H",
        "h",
        "hB"
    ],
    "gl-ES": [
        "H",
        "h",
        "hB"
    ],
    "gu-IN": [
        "hB",
        "hb",
        "h",
        "H"
    ],
    "hi-IN": [
        "hB",
        "h",
        "H"
    ],
    "it-CH": [
        "H",
        "h",
        "hB"
    ],
    "it-IT": [
        "H",
        "h",
        "hB"
    ],
    "kn-IN": [
        "hB",
        "h",
        "H"
    ],
    "ml-IN": [
        "hB",
        "h",
        "H"
    ],
    "mr-IN": [
        "hB",
        "hb",
        "h",
        "H"
    ],
    "pa-IN": [
        "hB",
        "hb",
        "h",
        "H"
    ],
    "ta-IN": [
        "hB",
        "h",
        "hb",
        "H"
    ],
    "te-IN": [
        "hB",
        "h",
        "H"
    ],
    "zu-ZA": [
        "H",
        "hB",
        "hb",
        "h"
    ]
};
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "getBestPattern": ()=>getBestPattern
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$time$2d$data$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/time-data.generated.js [app-ssr] (ecmascript)");
;
function getBestPattern(skeleton, locale) {
    var skeletonCopy = '';
    for(var patternPos = 0; patternPos < skeleton.length; patternPos++){
        var patternChar = skeleton.charAt(patternPos);
        if (patternChar === 'j') {
            var extraLength = 0;
            while(patternPos + 1 < skeleton.length && skeleton.charAt(patternPos + 1) === patternChar){
                extraLength++;
                patternPos++;
            }
            var hourLen = 1 + (extraLength & 1);
            var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);
            var dayPeriodChar = 'a';
            var hourChar = getDefaultHourSymbolFromLocale(locale);
            if (hourChar == 'H' || hourChar == 'k') {
                dayPeriodLen = 0;
            }
            while(dayPeriodLen-- > 0){
                skeletonCopy += dayPeriodChar;
            }
            while(hourLen-- > 0){
                skeletonCopy = hourChar + skeletonCopy;
            }
        } else if (patternChar === 'J') {
            skeletonCopy += 'H';
        } else {
            skeletonCopy += patternChar;
        }
    }
    return skeletonCopy;
}
/**
 * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)
 * of the given `locale` to the corresponding time pattern.
 * @param locale
 */ function getDefaultHourSymbolFromLocale(locale) {
    var hourCycle = locale.hourCycle;
    if (hourCycle === undefined && // @ts-ignore hourCycle(s) is not identified yet
    locale.hourCycles && // @ts-ignore
    locale.hourCycles.length) {
        // @ts-ignore
        hourCycle = locale.hourCycles[0];
    }
    if (hourCycle) {
        switch(hourCycle){
            case 'h24':
                return 'k';
            case 'h23':
                return 'H';
            case 'h12':
                return 'h';
            case 'h11':
                return 'K';
            default:
                throw new Error('Invalid hourCycle');
        }
    }
    // TODO: Once hourCycle is fully supported remove the following with data generation
    var languageTag = locale.language;
    var regionTag;
    if (languageTag !== 'root') {
        regionTag = locale.maximize().region;
    }
    var hourCycles = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$time$2d$data$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["timeData"][regionTag || ''] || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$time$2d$data$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["timeData"][languageTag || ''] || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$time$2d$data$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["timeData"]["".concat(languageTag, "-001")] || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$time$2d$data$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["timeData"]['001'];
    return hourCycles[0];
}
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/parser.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "Parser": ()=>Parser
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/error.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/types.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$regex$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/number.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$date$2d$time$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$date$2d$time$2d$pattern$2d$generator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js [app-ssr] (ecmascript)");
var _a;
;
;
;
;
;
;
var SPACE_SEPARATOR_START_REGEX = new RegExp("^".concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$regex$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SPACE_SEPARATOR_REGEX"].source, "*"));
var SPACE_SEPARATOR_END_REGEX = new RegExp("".concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$regex$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SPACE_SEPARATOR_REGEX"].source, "*$"));
function createLocation(start, end) {
    return {
        start: start,
        end: end
    };
}
// #region Ponyfills
// Consolidate these variables up top for easier toggling during debugging
var hasNativeStartsWith = !!String.prototype.startsWith && '_a'.startsWith('a', 1);
var hasNativeFromCodePoint = !!String.fromCodePoint;
var hasNativeFromEntries = !!Object.fromEntries;
var hasNativeCodePointAt = !!String.prototype.codePointAt;
var hasTrimStart = !!String.prototype.trimStart;
var hasTrimEnd = !!String.prototype.trimEnd;
var hasNativeIsSafeInteger = !!Number.isSafeInteger;
var isSafeInteger = hasNativeIsSafeInteger ? Number.isSafeInteger : function(n) {
    return typeof n === 'number' && isFinite(n) && Math.floor(n) === n && Math.abs(n) <= 0x1fffffffffffff;
};
// IE11 does not support y and u.
var REGEX_SUPPORTS_U_AND_Y = true;
try {
    var re = RE('([^\\p{White_Space}\\p{Pattern_Syntax}]*)', 'yu');
    /**
     * legacy Edge or Xbox One browser
     * Unicode flag support: supported
     * Pattern_Syntax support: not supported
     * See https://github.com/formatjs/formatjs/issues/2822
     */ REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';
} catch (_) {
    REGEX_SUPPORTS_U_AND_Y = false;
}
var startsWith = hasNativeStartsWith ? function startsWith(s, search, position) {
    return s.startsWith(search, position);
} : function startsWith(s, search, position) {
    return s.slice(position, position + search.length) === search;
};
var fromCodePoint = hasNativeFromCodePoint ? String.fromCodePoint : function fromCodePoint() {
    var codePoints = [];
    for(var _i = 0; _i < arguments.length; _i++){
        codePoints[_i] = arguments[_i];
    }
    var elements = '';
    var length = codePoints.length;
    var i = 0;
    var code;
    while(length > i){
        code = codePoints[i++];
        if (code > 0x10ffff) throw RangeError(code + ' is not a valid code point');
        elements += code < 0x10000 ? String.fromCharCode(code) : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00);
    }
    return elements;
};
var fromEntries = // native
hasNativeFromEntries ? Object.fromEntries : function fromEntries(entries) {
    var obj = {};
    for(var _i = 0, entries_1 = entries; _i < entries_1.length; _i++){
        var _a = entries_1[_i], k = _a[0], v = _a[1];
        obj[k] = v;
    }
    return obj;
};
var codePointAt = hasNativeCodePointAt ? function codePointAt(s, index) {
    return s.codePointAt(index);
} : function codePointAt(s, index) {
    var size = s.length;
    if (index < 0 || index >= size) {
        return undefined;
    }
    var first = s.charCodeAt(index);
    var second;
    return first < 0xd800 || first > 0xdbff || index + 1 === size || (second = s.charCodeAt(index + 1)) < 0xdc00 || second > 0xdfff ? first : (first - 0xd800 << 10) + (second - 0xdc00) + 0x10000;
};
var trimStart = hasTrimStart ? function trimStart(s) {
    return s.trimStart();
} : function trimStart(s) {
    return s.replace(SPACE_SEPARATOR_START_REGEX, '');
};
var trimEnd = hasTrimEnd ? function trimEnd(s) {
    return s.trimEnd();
} : function trimEnd(s) {
    return s.replace(SPACE_SEPARATOR_END_REGEX, '');
};
// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.
function RE(s, flag) {
    return new RegExp(s, flag);
}
// #endregion
var matchIdentifierAtIndex;
if (REGEX_SUPPORTS_U_AND_Y) {
    // Native
    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\p{White_Space}\\p{Pattern_Syntax}]*)', 'yu');
    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {
        var _a;
        IDENTIFIER_PREFIX_RE_1.lastIndex = index;
        var match = IDENTIFIER_PREFIX_RE_1.exec(s);
        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';
    };
} else {
    // IE11
    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {
        var match = [];
        while(true){
            var c = codePointAt(s, index);
            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {
                break;
            }
            match.push(c);
            index += c >= 0x10000 ? 2 : 1;
        }
        return fromCodePoint.apply(void 0, match);
    };
}
var Parser = function() {
    function Parser(message, options) {
        if (options === void 0) {
            options = {};
        }
        this.message = message;
        this.position = {
            offset: 0,
            line: 1,
            column: 1
        };
        this.ignoreTag = !!options.ignoreTag;
        this.locale = options.locale;
        this.requiresOtherClause = !!options.requiresOtherClause;
        this.shouldParseSkeletons = !!options.shouldParseSkeletons;
    }
    Parser.prototype.parse = function() {
        if (this.offset() !== 0) {
            throw Error('parser can only be used once');
        }
        return this.parseMessage(0, '', false);
    };
    Parser.prototype.parseMessage = function(nestingLevel, parentArgType, expectingCloseTag) {
        var elements = [];
        while(!this.isEOF()){
            var char = this.char();
            if (char === 123 /* `{` */ ) {
                var result = this.parseArgument(nestingLevel, expectingCloseTag);
                if (result.err) {
                    return result;
                }
                elements.push(result.val);
            } else if (char === 125 /* `}` */  && nestingLevel > 0) {
                break;
            } else if (char === 35 /* `#` */  && (parentArgType === 'plural' || parentArgType === 'selectordinal')) {
                var position = this.clonePosition();
                this.bump();
                elements.push({
                    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].pound,
                    location: createLocation(position, this.clonePosition())
                });
            } else if (char === 60 /* `<` */  && !this.ignoreTag && this.peek() === 47 // char code for '/'
            ) {
                if (expectingCloseTag) {
                    break;
                } else {
                    return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));
                }
            } else if (char === 60 /* `<` */  && !this.ignoreTag && _isAlpha(this.peek() || 0)) {
                var result = this.parseTag(nestingLevel, parentArgType);
                if (result.err) {
                    return result;
                }
                elements.push(result.val);
            } else {
                var result = this.parseLiteral(nestingLevel, parentArgType);
                if (result.err) {
                    return result;
                }
                elements.push(result.val);
            }
        }
        return {
            val: elements,
            err: null
        };
    };
    /**
     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the
     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters
     * are accepted:
     *
     * ```
     * tag ::= "<" tagName (whitespace)* "/>" | "<" tagName (whitespace)* ">" message "</" tagName (whitespace)* ">"
     * tagName ::= [a-z] (PENChar)*
     * PENChar ::=
     *     "-" | "." | [0-9] | "_" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |
     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |
     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]
     * ```
     *
     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name
     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do
     * since other tag-based engines like React allow it
     */ Parser.prototype.parseTag = function(nestingLevel, parentArgType) {
        var startPosition = this.clonePosition();
        this.bump(); // `<`
        var tagName = this.parseTagName();
        this.bumpSpace();
        if (this.bumpIf('/>')) {
            // Self closing tag
            return {
                val: {
                    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].literal,
                    value: "<".concat(tagName, "/>"),
                    location: createLocation(startPosition, this.clonePosition())
                },
                err: null
            };
        } else if (this.bumpIf('>')) {
            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);
            if (childrenResult.err) {
                return childrenResult;
            }
            var children = childrenResult.val;
            // Expecting a close tag
            var endTagStartPosition = this.clonePosition();
            if (this.bumpIf('</')) {
                if (this.isEOF() || !_isAlpha(this.char())) {
                    return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));
                }
                var closingTagNameStartPosition = this.clonePosition();
                var closingTagName = this.parseTagName();
                if (tagName !== closingTagName) {
                    return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));
                }
                this.bumpSpace();
                if (!this.bumpIf('>')) {
                    return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));
                }
                return {
                    val: {
                        type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].tag,
                        value: tagName,
                        children: children,
                        location: createLocation(startPosition, this.clonePosition())
                    },
                    err: null
                };
            } else {
                return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));
            }
        } else {
            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].INVALID_TAG, createLocation(startPosition, this.clonePosition()));
        }
    };
    /**
     * This method assumes that the caller has peeked ahead for the first tag character.
     */ Parser.prototype.parseTagName = function() {
        var startOffset = this.offset();
        this.bump(); // the first tag name character
        while(!this.isEOF() && _isPotentialElementNameChar(this.char())){
            this.bump();
        }
        return this.message.slice(startOffset, this.offset());
    };
    Parser.prototype.parseLiteral = function(nestingLevel, parentArgType) {
        var start = this.clonePosition();
        var value = '';
        while(true){
            var parseQuoteResult = this.tryParseQuote(parentArgType);
            if (parseQuoteResult) {
                value += parseQuoteResult;
                continue;
            }
            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);
            if (parseUnquotedResult) {
                value += parseUnquotedResult;
                continue;
            }
            var parseLeftAngleResult = this.tryParseLeftAngleBracket();
            if (parseLeftAngleResult) {
                value += parseLeftAngleResult;
                continue;
            }
            break;
        }
        var location = createLocation(start, this.clonePosition());
        return {
            val: {
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].literal,
                value: value,
                location: location
            },
            err: null
        };
    };
    Parser.prototype.tryParseLeftAngleBracket = function() {
        if (!this.isEOF() && this.char() === 60 /* `<` */  && (this.ignoreTag || // If at the opening tag or closing tag position, bail.
        !_isAlphaOrSlash(this.peek() || 0))) {
            this.bump(); // `<`
            return '<';
        }
        return null;
    };
    /**
     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes
     * a character that requires quoting (that is, "only where needed"), and works the same in
     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.
     */ Parser.prototype.tryParseQuote = function(parentArgType) {
        if (this.isEOF() || this.char() !== 39 /* `'` */ ) {
            return null;
        }
        // Parse escaped char following the apostrophe, or early return if there is no escaped char.
        // Check if is valid escaped character
        switch(this.peek()){
            case 39 /* `'` */ :
                // double quote, should return as a single quote.
                this.bump();
                this.bump();
                return "'";
            // '{', '<', '>', '}'
            case 123:
            case 60:
            case 62:
            case 125:
                break;
            case 35:
                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {
                    break;
                }
                return null;
            default:
                return null;
        }
        this.bump(); // apostrophe
        var codePoints = [
            this.char()
        ]; // escaped char
        this.bump();
        // read chars until the optional closing apostrophe is found
        while(!this.isEOF()){
            var ch = this.char();
            if (ch === 39 /* `'` */ ) {
                if (this.peek() === 39 /* `'` */ ) {
                    codePoints.push(39);
                    // Bump one more time because we need to skip 2 characters.
                    this.bump();
                } else {
                    // Optional closing apostrophe.
                    this.bump();
                    break;
                }
            } else {
                codePoints.push(ch);
            }
            this.bump();
        }
        return fromCodePoint.apply(void 0, codePoints);
    };
    Parser.prototype.tryParseUnquoted = function(nestingLevel, parentArgType) {
        if (this.isEOF()) {
            return null;
        }
        var ch = this.char();
        if (ch === 60 /* `<` */  || ch === 123 /* `{` */  || ch === 35 /* `#` */  && (parentArgType === 'plural' || parentArgType === 'selectordinal') || ch === 125 /* `}` */  && nestingLevel > 0) {
            return null;
        } else {
            this.bump();
            return fromCodePoint(ch);
        }
    };
    Parser.prototype.parseArgument = function(nestingLevel, expectingCloseTag) {
        var openingBracePosition = this.clonePosition();
        this.bump(); // `{`
        this.bumpSpace();
        if (this.isEOF()) {
            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));
        }
        if (this.char() === 125 /* `}` */ ) {
            this.bump();
            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));
        }
        // argument name
        var value = this.parseIdentifierIfPossible().value;
        if (!value) {
            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));
        }
        this.bumpSpace();
        if (this.isEOF()) {
            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));
        }
        switch(this.char()){
            // Simple argument: `{name}`
            case 125 /* `}` */ :
                {
                    this.bump(); // `}`
                    return {
                        val: {
                            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].argument,
                            // value does not include the opening and closing braces.
                            value: value,
                            location: createLocation(openingBracePosition, this.clonePosition())
                        },
                        err: null
                    };
                }
            // Argument with options: `{name, format, ...}`
            case 44 /* `,` */ :
                {
                    this.bump(); // `,`
                    this.bumpSpace();
                    if (this.isEOF()) {
                        return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));
                    }
                    return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);
                }
            default:
                return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));
        }
    };
    /**
     * Advance the parser until the end of the identifier, if it is currently on
     * an identifier character. Return an empty string otherwise.
     */ Parser.prototype.parseIdentifierIfPossible = function() {
        var startingPosition = this.clonePosition();
        var startOffset = this.offset();
        var value = matchIdentifierAtIndex(this.message, startOffset);
        var endOffset = startOffset + value.length;
        this.bumpTo(endOffset);
        var endPosition = this.clonePosition();
        var location = createLocation(startingPosition, endPosition);
        return {
            value: value,
            location: location
        };
    };
    Parser.prototype.parseArgumentOptions = function(nestingLevel, expectingCloseTag, value, openingBracePosition) {
        var _a;
        // Parse this range:
        // {name, type, style}
        //        ^---^
        var typeStartPosition = this.clonePosition();
        var argType = this.parseIdentifierIfPossible().value;
        var typeEndPosition = this.clonePosition();
        switch(argType){
            case '':
                // Expecting a style string number, date, time, plural, selectordinal, or select.
                return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));
            case 'number':
            case 'date':
            case 'time':
                {
                    // Parse this range:
                    // {name, number, style}
                    //              ^-------^
                    this.bumpSpace();
                    var styleAndLocation = null;
                    if (this.bumpIf(',')) {
                        this.bumpSpace();
                        var styleStartPosition = this.clonePosition();
                        var result = this.parseSimpleArgStyleIfPossible();
                        if (result.err) {
                            return result;
                        }
                        var style = trimEnd(result.val);
                        if (style.length === 0) {
                            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));
                        }
                        var styleLocation = createLocation(styleStartPosition, this.clonePosition());
                        styleAndLocation = {
                            style: style,
                            styleLocation: styleLocation
                        };
                    }
                    var argCloseResult = this.tryParseArgumentClose(openingBracePosition);
                    if (argCloseResult.err) {
                        return argCloseResult;
                    }
                    var location_1 = createLocation(openingBracePosition, this.clonePosition());
                    // Extract style or skeleton
                    if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {
                        // Skeleton starts with `::`.
                        var skeleton = trimStart(styleAndLocation.style.slice(2));
                        if (argType === 'number') {
                            var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);
                            if (result.err) {
                                return result;
                            }
                            return {
                                val: {
                                    type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].number,
                                    value: value,
                                    location: location_1,
                                    style: result.val
                                },
                                err: null
                            };
                        } else {
                            if (skeleton.length === 0) {
                                return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_DATE_TIME_SKELETON, location_1);
                            }
                            var dateTimePattern = skeleton;
                            // Get "best match" pattern only if locale is passed, if not, let it
                            // pass as-is where `parseDateTimeSkeleton()` will throw an error
                            // for unsupported patterns.
                            if (this.locale) {
                                dateTimePattern = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$date$2d$time$2d$pattern$2d$generator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getBestPattern"])(skeleton, this.locale);
                            }
                            var style = {
                                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SKELETON_TYPE"].dateTime,
                                pattern: dateTimePattern,
                                location: styleAndLocation.styleLocation,
                                parsedOptions: this.shouldParseSkeletons ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$date$2d$time$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseDateTimeSkeleton"])(dateTimePattern) : {}
                            };
                            var type = argType === 'date' ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].date : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].time;
                            return {
                                val: {
                                    type: type,
                                    value: value,
                                    location: location_1,
                                    style: style
                                },
                                err: null
                            };
                        }
                    }
                    // Regular style or no style.
                    return {
                        val: {
                            type: argType === 'number' ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].number : argType === 'date' ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].date : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].time,
                            value: value,
                            location: location_1,
                            style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null
                        },
                        err: null
                    };
                }
            case 'plural':
            case 'selectordinal':
            case 'select':
                {
                    // Parse this range:
                    // {name, plural, options}
                    //              ^---------^
                    var typeEndPosition_1 = this.clonePosition();
                    this.bumpSpace();
                    if (!this.bumpIf(',')) {
                        return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, typeEndPosition_1)));
                    }
                    this.bumpSpace();
                    // Parse offset:
                    // {name, plural, offset:1, options}
                    //                ^-----^
                    //
                    // or the first option:
                    //
                    // {name, plural, one {...} other {...}}
                    //                ^--^
                    var identifierAndLocation = this.parseIdentifierIfPossible();
                    var pluralOffset = 0;
                    if (argType !== 'select' && identifierAndLocation.value === 'offset') {
                        if (!this.bumpIf(':')) {
                            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));
                        }
                        this.bumpSpace();
                        var result = this.tryParseDecimalInteger(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);
                        if (result.err) {
                            return result;
                        }
                        // Parse another identifier for option parsing
                        this.bumpSpace();
                        identifierAndLocation = this.parseIdentifierIfPossible();
                        pluralOffset = result.val;
                    }
                    var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);
                    if (optionsResult.err) {
                        return optionsResult;
                    }
                    var argCloseResult = this.tryParseArgumentClose(openingBracePosition);
                    if (argCloseResult.err) {
                        return argCloseResult;
                    }
                    var location_2 = createLocation(openingBracePosition, this.clonePosition());
                    if (argType === 'select') {
                        return {
                            val: {
                                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].select,
                                value: value,
                                options: fromEntries(optionsResult.val),
                                location: location_2
                            },
                            err: null
                        };
                    } else {
                        return {
                            val: {
                                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"].plural,
                                value: value,
                                options: fromEntries(optionsResult.val),
                                offset: pluralOffset,
                                pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',
                                location: location_2
                            },
                            err: null
                        };
                    }
                }
            default:
                return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));
        }
    };
    Parser.prototype.tryParseArgumentClose = function(openingBracePosition) {
        // Parse: {value, number, ::currency/GBP }
        //
        if (this.isEOF() || this.char() !== 125 /* `}` */ ) {
            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));
        }
        this.bump(); // `}`
        return {
            val: true,
            err: null
        };
    };
    /**
     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659
     */ Parser.prototype.parseSimpleArgStyleIfPossible = function() {
        var nestedBraces = 0;
        var startPosition = this.clonePosition();
        while(!this.isEOF()){
            var ch = this.char();
            switch(ch){
                case 39 /* `'` */ :
                    {
                        // Treat apostrophe as quoting but include it in the style part.
                        // Find the end of the quoted literal text.
                        this.bump();
                        var apostrophePosition = this.clonePosition();
                        if (!this.bumpUntil("'")) {
                            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));
                        }
                        this.bump();
                        break;
                    }
                case 123 /* `{` */ :
                    {
                        nestedBraces += 1;
                        this.bump();
                        break;
                    }
                case 125 /* `}` */ :
                    {
                        if (nestedBraces > 0) {
                            nestedBraces -= 1;
                        } else {
                            return {
                                val: this.message.slice(startPosition.offset, this.offset()),
                                err: null
                            };
                        }
                        break;
                    }
                default:
                    this.bump();
                    break;
            }
        }
        return {
            val: this.message.slice(startPosition.offset, this.offset()),
            err: null
        };
    };
    Parser.prototype.parseNumberSkeletonFromString = function(skeleton, location) {
        var tokens = [];
        try {
            tokens = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseNumberSkeletonFromString"])(skeleton);
        } catch (e) {
            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].INVALID_NUMBER_SKELETON, location);
        }
        return {
            val: {
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SKELETON_TYPE"].number,
                tokens: tokens,
                location: location,
                parsedOptions: this.shouldParseSkeletons ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseNumberSkeleton"])(tokens) : {}
            },
            err: null
        };
    };
    /**
     * @param nesting_level The current nesting level of messages.
     *     This can be positive when parsing message fragment in select or plural argument options.
     * @param parent_arg_type The parent argument's type.
     * @param parsed_first_identifier If provided, this is the first identifier-like selector of
     *     the argument. It is a by-product of a previous parsing attempt.
     * @param expecting_close_tag If true, this message is directly or indirectly nested inside
     *     between a pair of opening and closing tags. The nested message will not parse beyond
     *     the closing tag boundary.
     */ Parser.prototype.tryParsePluralOrSelectOptions = function(nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {
        var _a;
        var hasOtherClause = false;
        var options = [];
        var parsedSelectors = new Set();
        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;
        // Parse:
        // one {one apple}
        // ^--^
        while(true){
            if (selector.length === 0) {
                var startPosition = this.clonePosition();
                if (parentArgType !== 'select' && this.bumpIf('=')) {
                    // Try parse `={number}` selector
                    var result = this.tryParseDecimalInteger(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_PLURAL_ARGUMENT_SELECTOR, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].INVALID_PLURAL_ARGUMENT_SELECTOR);
                    if (result.err) {
                        return result;
                    }
                    selectorLocation = createLocation(startPosition, this.clonePosition());
                    selector = this.message.slice(startPosition.offset, this.offset());
                } else {
                    break;
                }
            }
            // Duplicate selector clauses
            if (parsedSelectors.has(selector)) {
                return this.error(parentArgType === 'select' ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].DUPLICATE_SELECT_ARGUMENT_SELECTOR : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);
            }
            if (selector === 'other') {
                hasOtherClause = true;
            }
            // Parse:
            // one {one apple}
            //     ^----------^
            this.bumpSpace();
            var openingBracePosition = this.clonePosition();
            if (!this.bumpIf('{')) {
                return this.error(parentArgType === 'select' ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));
            }
            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);
            if (fragmentResult.err) {
                return fragmentResult;
            }
            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);
            if (argCloseResult.err) {
                return argCloseResult;
            }
            options.push([
                selector,
                {
                    value: fragmentResult.val,
                    location: createLocation(openingBracePosition, this.clonePosition())
                }
            ]);
            // Keep track of the existing selectors
            parsedSelectors.add(selector);
            // Prep next selector clause.
            this.bumpSpace();
            _a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location;
        }
        if (options.length === 0) {
            return this.error(parentArgType === 'select' ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_SELECT_ARGUMENT_SELECTOR : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));
        }
        if (this.requiresOtherClause && !hasOtherClause) {
            return this.error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"].MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));
        }
        return {
            val: options,
            err: null
        };
    };
    Parser.prototype.tryParseDecimalInteger = function(expectNumberError, invalidNumberError) {
        var sign = 1;
        var startingPosition = this.clonePosition();
        if (this.bumpIf('+')) {} else if (this.bumpIf('-')) {
            sign = -1;
        }
        var hasDigits = false;
        var decimal = 0;
        while(!this.isEOF()){
            var ch = this.char();
            if (ch >= 48 /* `0` */  && ch <= 57 /* `9` */ ) {
                hasDigits = true;
                decimal = decimal * 10 + (ch - 48);
                this.bump();
            } else {
                break;
            }
        }
        var location = createLocation(startingPosition, this.clonePosition());
        if (!hasDigits) {
            return this.error(expectNumberError, location);
        }
        decimal *= sign;
        if (!isSafeInteger(decimal)) {
            return this.error(invalidNumberError, location);
        }
        return {
            val: decimal,
            err: null
        };
    };
    Parser.prototype.offset = function() {
        return this.position.offset;
    };
    Parser.prototype.isEOF = function() {
        return this.offset() === this.message.length;
    };
    Parser.prototype.clonePosition = function() {
        // This is much faster than `Object.assign` or spread.
        return {
            offset: this.position.offset,
            line: this.position.line,
            column: this.position.column
        };
    };
    /**
     * Return the code point at the current position of the parser.
     * Throws if the index is out of bound.
     */ Parser.prototype.char = function() {
        var offset = this.position.offset;
        if (offset >= this.message.length) {
            throw Error('out of bound');
        }
        var code = codePointAt(this.message, offset);
        if (code === undefined) {
            throw Error("Offset ".concat(offset, " is at invalid UTF-16 code unit boundary"));
        }
        return code;
    };
    Parser.prototype.error = function(kind, location) {
        return {
            val: null,
            err: {
                kind: kind,
                message: this.message,
                location: location
            }
        };
    };
    /** Bump the parser to the next UTF-16 code unit. */ Parser.prototype.bump = function() {
        if (this.isEOF()) {
            return;
        }
        var code = this.char();
        if (code === 10 /* '\n' */ ) {
            this.position.line += 1;
            this.position.column = 1;
            this.position.offset += 1;
        } else {
            this.position.column += 1;
            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.
            this.position.offset += code < 0x10000 ? 1 : 2;
        }
    };
    /**
     * If the substring starting at the current position of the parser has
     * the given prefix, then bump the parser to the character immediately
     * following the prefix and return true. Otherwise, don't bump the parser
     * and return false.
     */ Parser.prototype.bumpIf = function(prefix) {
        if (startsWith(this.message, prefix, this.offset())) {
            for(var i = 0; i < prefix.length; i++){
                this.bump();
            }
            return true;
        }
        return false;
    };
    /**
     * Bump the parser until the pattern character is found and return `true`.
     * Otherwise bump to the end of the file and return `false`.
     */ Parser.prototype.bumpUntil = function(pattern) {
        var currentOffset = this.offset();
        var index = this.message.indexOf(pattern, currentOffset);
        if (index >= 0) {
            this.bumpTo(index);
            return true;
        } else {
            this.bumpTo(this.message.length);
            return false;
        }
    };
    /**
     * Bump the parser to the target offset.
     * If target offset is beyond the end of the input, bump the parser to the end of the input.
     */ Parser.prototype.bumpTo = function(targetOffset) {
        if (this.offset() > targetOffset) {
            throw Error("targetOffset ".concat(targetOffset, " must be greater than or equal to the current offset ").concat(this.offset()));
        }
        targetOffset = Math.min(targetOffset, this.message.length);
        while(true){
            var offset = this.offset();
            if (offset === targetOffset) {
                break;
            }
            if (offset > targetOffset) {
                throw Error("targetOffset ".concat(targetOffset, " is at invalid UTF-16 code unit boundary"));
            }
            this.bump();
            if (this.isEOF()) {
                break;
            }
        }
    };
    /** advance the parser through all whitespace to the next non-whitespace code unit. */ Parser.prototype.bumpSpace = function() {
        while(!this.isEOF() && _isWhiteSpace(this.char())){
            this.bump();
        }
    };
    /**
     * Peek at the *next* Unicode codepoint in the input without advancing the parser.
     * If the input has been exhausted, then this returns null.
     */ Parser.prototype.peek = function() {
        if (this.isEOF()) {
            return null;
        }
        var code = this.char();
        var offset = this.offset();
        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));
        return nextCode !== null && nextCode !== void 0 ? nextCode : null;
    };
    return Parser;
}();
;
/**
 * This check if codepoint is alphabet (lower & uppercase)
 * @param codepoint
 * @returns
 */ function _isAlpha(codepoint) {
    return codepoint >= 97 && codepoint <= 122 || codepoint >= 65 && codepoint <= 90;
}
function _isAlphaOrSlash(codepoint) {
    return _isAlpha(codepoint) || codepoint === 47; /* '/' */ 
}
/** See `parseTag` function docs. */ function _isPotentialElementNameChar(c) {
    return c === 45 /* '-' */  || c === 46 /* '.' */  || c >= 48 && c <= 57 || c === 95 /* '_' */  || c >= 97 && c <= 122 || c >= 65 && c <= 90 || c == 0xb7 || c >= 0xc0 && c <= 0xd6 || c >= 0xd8 && c <= 0xf6 || c >= 0xf8 && c <= 0x37d || c >= 0x37f && c <= 0x1fff || c >= 0x200c && c <= 0x200d || c >= 0x203f && c <= 0x2040 || c >= 0x2070 && c <= 0x218f || c >= 0x2c00 && c <= 0x2fef || c >= 0x3001 && c <= 0xd7ff || c >= 0xf900 && c <= 0xfdcf || c >= 0xfdf0 && c <= 0xfffd || c >= 0x10000 && c <= 0xeffff;
}
/**
 * Code point equivalent of regex `\p{White_Space}`.
 * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt
 */ function _isWhiteSpace(c) {
    return c >= 0x0009 && c <= 0x000d || c === 0x0020 || c === 0x0085 || c >= 0x200e && c <= 0x200f || c === 0x2028 || c === 0x2029;
}
/**
 * Code point equivalent of regex `\p{Pattern_Syntax}`.
 * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt
 */ function _isPatternSyntax(c) {
    return c >= 0x0021 && c <= 0x0023 || c === 0x0024 || c >= 0x0025 && c <= 0x0027 || c === 0x0028 || c === 0x0029 || c === 0x002a || c === 0x002b || c === 0x002c || c === 0x002d || c >= 0x002e && c <= 0x002f || c >= 0x003a && c <= 0x003b || c >= 0x003c && c <= 0x003e || c >= 0x003f && c <= 0x0040 || c === 0x005b || c === 0x005c || c === 0x005d || c === 0x005e || c === 0x0060 || c === 0x007b || c === 0x007c || c === 0x007d || c === 0x007e || c === 0x00a1 || c >= 0x00a2 && c <= 0x00a5 || c === 0x00a6 || c === 0x00a7 || c === 0x00a9 || c === 0x00ab || c === 0x00ac || c === 0x00ae || c === 0x00b0 || c === 0x00b1 || c === 0x00b6 || c === 0x00bb || c === 0x00bf || c === 0x00d7 || c === 0x00f7 || c >= 0x2010 && c <= 0x2015 || c >= 0x2016 && c <= 0x2017 || c === 0x2018 || c === 0x2019 || c === 0x201a || c >= 0x201b && c <= 0x201c || c === 0x201d || c === 0x201e || c === 0x201f || c >= 0x2020 && c <= 0x2027 || c >= 0x2030 && c <= 0x2038 || c === 0x2039 || c === 0x203a || c >= 0x203b && c <= 0x203e || c >= 0x2041 && c <= 0x2043 || c === 0x2044 || c === 0x2045 || c === 0x2046 || c >= 0x2047 && c <= 0x2051 || c === 0x2052 || c === 0x2053 || c >= 0x2055 && c <= 0x205e || c >= 0x2190 && c <= 0x2194 || c >= 0x2195 && c <= 0x2199 || c >= 0x219a && c <= 0x219b || c >= 0x219c && c <= 0x219f || c === 0x21a0 || c >= 0x21a1 && c <= 0x21a2 || c === 0x21a3 || c >= 0x21a4 && c <= 0x21a5 || c === 0x21a6 || c >= 0x21a7 && c <= 0x21ad || c === 0x21ae || c >= 0x21af && c <= 0x21cd || c >= 0x21ce && c <= 0x21cf || c >= 0x21d0 && c <= 0x21d1 || c === 0x21d2 || c === 0x21d3 || c === 0x21d4 || c >= 0x21d5 && c <= 0x21f3 || c >= 0x21f4 && c <= 0x22ff || c >= 0x2300 && c <= 0x2307 || c === 0x2308 || c === 0x2309 || c === 0x230a || c === 0x230b || c >= 0x230c && c <= 0x231f || c >= 0x2320 && c <= 0x2321 || c >= 0x2322 && c <= 0x2328 || c === 0x2329 || c === 0x232a || c >= 0x232b && c <= 0x237b || c === 0x237c || c >= 0x237d && c <= 0x239a || c >= 0x239b && c <= 0x23b3 || c >= 0x23b4 && c <= 0x23db || c >= 0x23dc && c <= 0x23e1 || c >= 0x23e2 && c <= 0x2426 || c >= 0x2427 && c <= 0x243f || c >= 0x2440 && c <= 0x244a || c >= 0x244b && c <= 0x245f || c >= 0x2500 && c <= 0x25b6 || c === 0x25b7 || c >= 0x25b8 && c <= 0x25c0 || c === 0x25c1 || c >= 0x25c2 && c <= 0x25f7 || c >= 0x25f8 && c <= 0x25ff || c >= 0x2600 && c <= 0x266e || c === 0x266f || c >= 0x2670 && c <= 0x2767 || c === 0x2768 || c === 0x2769 || c === 0x276a || c === 0x276b || c === 0x276c || c === 0x276d || c === 0x276e || c === 0x276f || c === 0x2770 || c === 0x2771 || c === 0x2772 || c === 0x2773 || c === 0x2774 || c === 0x2775 || c >= 0x2794 && c <= 0x27bf || c >= 0x27c0 && c <= 0x27c4 || c === 0x27c5 || c === 0x27c6 || c >= 0x27c7 && c <= 0x27e5 || c === 0x27e6 || c === 0x27e7 || c === 0x27e8 || c === 0x27e9 || c === 0x27ea || c === 0x27eb || c === 0x27ec || c === 0x27ed || c === 0x27ee || c === 0x27ef || c >= 0x27f0 && c <= 0x27ff || c >= 0x2800 && c <= 0x28ff || c >= 0x2900 && c <= 0x2982 || c === 0x2983 || c === 0x2984 || c === 0x2985 || c === 0x2986 || c === 0x2987 || c === 0x2988 || c === 0x2989 || c === 0x298a || c === 0x298b || c === 0x298c || c === 0x298d || c === 0x298e || c === 0x298f || c === 0x2990 || c === 0x2991 || c === 0x2992 || c === 0x2993 || c === 0x2994 || c === 0x2995 || c === 0x2996 || c === 0x2997 || c === 0x2998 || c >= 0x2999 && c <= 0x29d7 || c === 0x29d8 || c === 0x29d9 || c === 0x29da || c === 0x29db || c >= 0x29dc && c <= 0x29fb || c === 0x29fc || c === 0x29fd || c >= 0x29fe && c <= 0x2aff || c >= 0x2b00 && c <= 0x2b2f || c >= 0x2b30 && c <= 0x2b44 || c >= 0x2b45 && c <= 0x2b46 || c >= 0x2b47 && c <= 0x2b4c || c >= 0x2b4d && c <= 0x2b73 || c >= 0x2b74 && c <= 0x2b75 || c >= 0x2b76 && c <= 0x2b95 || c === 0x2b96 || c >= 0x2b97 && c <= 0x2bff || c >= 0x2e00 && c <= 0x2e01 || c === 0x2e02 || c === 0x2e03 || c === 0x2e04 || c === 0x2e05 || c >= 0x2e06 && c <= 0x2e08 || c === 0x2e09 || c === 0x2e0a || c === 0x2e0b || c === 0x2e0c || c === 0x2e0d || c >= 0x2e0e && c <= 0x2e16 || c === 0x2e17 || c >= 0x2e18 && c <= 0x2e19 || c === 0x2e1a || c === 0x2e1b || c === 0x2e1c || c === 0x2e1d || c >= 0x2e1e && c <= 0x2e1f || c === 0x2e20 || c === 0x2e21 || c === 0x2e22 || c === 0x2e23 || c === 0x2e24 || c === 0x2e25 || c === 0x2e26 || c === 0x2e27 || c === 0x2e28 || c === 0x2e29 || c >= 0x2e2a && c <= 0x2e2e || c === 0x2e2f || c >= 0x2e30 && c <= 0x2e39 || c >= 0x2e3a && c <= 0x2e3b || c >= 0x2e3c && c <= 0x2e3f || c === 0x2e40 || c === 0x2e41 || c === 0x2e42 || c >= 0x2e43 && c <= 0x2e4f || c >= 0x2e50 && c <= 0x2e51 || c === 0x2e52 || c >= 0x2e53 && c <= 0x2e7f || c >= 0x3001 && c <= 0x3003 || c === 0x3008 || c === 0x3009 || c === 0x300a || c === 0x300b || c === 0x300c || c === 0x300d || c === 0x300e || c === 0x300f || c === 0x3010 || c === 0x3011 || c >= 0x3012 && c <= 0x3013 || c === 0x3014 || c === 0x3015 || c === 0x3016 || c === 0x3017 || c === 0x3018 || c === 0x3019 || c === 0x301a || c === 0x301b || c === 0x301c || c === 0x301d || c >= 0x301e && c <= 0x301f || c === 0x3020 || c === 0x3030 || c === 0xfd3e || c === 0xfd3f || c >= 0xfe45 && c <= 0xfe46;
}
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/manipulator.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "hoistSelectors": ()=>hoistSelectors,
    "isStructurallySame": ()=>isStructurallySame
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/types.js [app-ssr] (ecmascript)");
;
;
function cloneDeep(obj) {
    if (Array.isArray(obj)) {
        // @ts-expect-error meh
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])([], obj.map(cloneDeep), true);
    }
    if (obj !== null && typeof obj === 'object') {
        // @ts-expect-error meh
        return Object.keys(obj).reduce(function(cloned, k) {
            // @ts-expect-error meh
            cloned[k] = cloneDeep(obj[k]);
            return cloned;
        }, {});
    }
    return obj;
}
function hoistPluralOrSelectElement(ast, el, positionToInject) {
    // pull this out of the ast and move it to the top
    var cloned = cloneDeep(el);
    var options = cloned.options;
    cloned.options = Object.keys(options).reduce(function(all, k) {
        var newValue = hoistSelectors((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])([], ast.slice(0, positionToInject), true), options[k].value, true), ast.slice(positionToInject + 1), true));
        all[k] = {
            value: newValue
        };
        return all;
    }, {});
    return cloned;
}
function isPluralOrSelectElement(el) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPluralElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectElement"])(el);
}
function findPluralOrSelectElement(ast) {
    return !!ast.find(function(el) {
        if (isPluralOrSelectElement(el)) {
            return true;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTagElement"])(el)) {
            return findPluralOrSelectElement(el.children);
        }
        return false;
    });
}
function hoistSelectors(ast) {
    for(var i = 0; i < ast.length; i++){
        var el = ast[i];
        if (isPluralOrSelectElement(el)) {
            return [
                hoistPluralOrSelectElement(ast, el, i)
            ];
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTagElement"])(el) && findPluralOrSelectElement([
            el
        ])) {
            throw new Error('Cannot hoist plural/select within a tag element. Please put the tag element inside each plural/select option');
        }
    }
    return ast;
}
/**
 * Collect all variables in an AST to Record<string, TYPE>
 * @param ast AST to collect variables from
 * @param vars Record of variable name to variable type
 */ function collectVariables(ast, vars) {
    if (vars === void 0) {
        vars = new Map();
    }
    ast.forEach(function(el) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isArgumentElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDateElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTimeElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isNumberElement"])(el)) {
            if (el.value in vars && vars.get(el.value) !== el.type) {
                throw new Error("Variable ".concat(el.value, " has conflicting types"));
            }
            vars.set(el.value, el.type);
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPluralElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectElement"])(el)) {
            vars.set(el.value, el.type);
            Object.keys(el.options).forEach(function(k) {
                collectVariables(el.options[k].value, vars);
            });
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTagElement"])(el)) {
            vars.set(el.value, el.type);
            collectVariables(el.children, vars);
        }
    });
}
function isStructurallySame(a, b) {
    var aVars = new Map();
    var bVars = new Map();
    collectVariables(a, aVars);
    collectVariables(b, bVars);
    if (aVars.size !== bVars.size) {
        return {
            success: false,
            error: new Error("Different number of variables: [".concat(Array.from(aVars.keys()).join(', '), "] vs [").concat(Array.from(bVars.keys()).join(', '), "]"))
        };
    }
    return Array.from(aVars.entries()).reduce(function(result, _a) {
        var key = _a[0], type = _a[1];
        if (!result.success) {
            return result;
        }
        var bType = bVars.get(key);
        if (bType == null) {
            return {
                success: false,
                error: new Error("Missing variable ".concat(key, " in message"))
            };
        }
        if (bType !== type) {
            return {
                success: false,
                error: new Error("Variable ".concat(key, " has conflicting types: ").concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"][type], " vs ").concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TYPE"][bType]))
            };
        }
        return result;
    }, {
        success: true
    });
}
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "_Parser": ()=>_Parser,
    "parse": ()=>parse
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/error.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$parser$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/parser.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/types.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$manipulator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/manipulator.js [app-ssr] (ecmascript)");
;
;
;
;
function pruneLocation(els) {
    els.forEach(function(el) {
        delete el.location;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPluralElement"])(el)) {
            for(var k in el.options){
                delete el.options[k].location;
                pruneLocation(el.options[k].value);
            }
        } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isNumberElement"])(el) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isNumberSkeleton"])(el.style)) {
            delete el.style.location;
        } else if (((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDateElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTimeElement"])(el)) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDateTimeSkeleton"])(el.style)) {
            delete el.style.location;
        } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTagElement"])(el)) {
            pruneLocation(el.children);
        }
    });
}
function parse(message, opts) {
    if (opts === void 0) {
        opts = {};
    }
    opts = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({
        shouldParseSkeletons: true,
        requiresOtherClause: true
    }, opts);
    var result = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$parser$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Parser"](message, opts).parse();
    if (result.err) {
        var error = SyntaxError(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorKind"][result.err.kind]);
        // @ts-expect-error Assign to error object
        error.location = result.err.location;
        // @ts-expect-error Assign to error object
        error.originalMessage = result.err.message;
        throw error;
    }
    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {
        pruneLocation(result.val);
    }
    return result.val;
}
;
var _Parser = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$parser$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Parser"];
;
}),
"[project]/node_modules/@formatjs/icu-messageformat-parser/lib/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/error.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$parser$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/parser.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/types.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$manipulator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/manipulator.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/index.js [app-ssr] (ecmascript) <locals>");
}),
"[project]/node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

/**
 * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table
 * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js
 * with some tweaks
 */ __turbopack_context__.s({
    "parseDateTimeSkeleton": ()=>parseDateTimeSkeleton
});
var DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;
function parseDateTimeSkeleton(skeleton) {
    var result = {};
    skeleton.replace(DATE_TIME_REGEX, function(match) {
        var len = match.length;
        switch(match[0]){
            // Era
            case 'G':
                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';
                break;
            // Year
            case 'y':
                result.year = len === 2 ? '2-digit' : 'numeric';
                break;
            case 'Y':
            case 'u':
            case 'U':
            case 'r':
                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');
            // Quarter
            case 'q':
            case 'Q':
                throw new RangeError('`q/Q` (quarter) patterns are not supported');
            // Month
            case 'M':
            case 'L':
                result.month = [
                    'numeric',
                    '2-digit',
                    'short',
                    'long',
                    'narrow'
                ][len - 1];
                break;
            // Week
            case 'w':
            case 'W':
                throw new RangeError('`w/W` (week) patterns are not supported');
            case 'd':
                result.day = [
                    'numeric',
                    '2-digit'
                ][len - 1];
                break;
            case 'D':
            case 'F':
            case 'g':
                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');
            // Weekday
            case 'E':
                result.weekday = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';
                break;
            case 'e':
                if (len < 4) {
                    throw new RangeError('`e..eee` (weekday) patterns are not supported');
                }
                result.weekday = [
                    'short',
                    'long',
                    'narrow',
                    'short'
                ][len - 4];
                break;
            case 'c':
                if (len < 4) {
                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');
                }
                result.weekday = [
                    'short',
                    'long',
                    'narrow',
                    'short'
                ][len - 4];
                break;
            // Period
            case 'a':
                result.hour12 = true;
                break;
            case 'b':
            case 'B':
                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');
            // Hour
            case 'h':
                result.hourCycle = 'h12';
                result.hour = [
                    'numeric',
                    '2-digit'
                ][len - 1];
                break;
            case 'H':
                result.hourCycle = 'h23';
                result.hour = [
                    'numeric',
                    '2-digit'
                ][len - 1];
                break;
            case 'K':
                result.hourCycle = 'h11';
                result.hour = [
                    'numeric',
                    '2-digit'
                ][len - 1];
                break;
            case 'k':
                result.hourCycle = 'h24';
                result.hour = [
                    'numeric',
                    '2-digit'
                ][len - 1];
                break;
            case 'j':
            case 'J':
            case 'C':
                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');
            // Minute
            case 'm':
                result.minute = [
                    'numeric',
                    '2-digit'
                ][len - 1];
                break;
            // Second
            case 's':
                result.second = [
                    'numeric',
                    '2-digit'
                ][len - 1];
                break;
            case 'S':
            case 'A':
                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');
            // Zone
            case 'z':
                result.timeZoneName = len < 4 ? 'short' : 'long';
                break;
            case 'Z':
            case 'O':
            case 'v':
            case 'V':
            case 'X':
            case 'x':
                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');
        }
        return '';
    });
    return result;
}
}),
"[project]/node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// @generated from regex-gen.ts
__turbopack_context__.s({
    "WHITE_SPACE_REGEX": ()=>WHITE_SPACE_REGEX
});
var WHITE_SPACE_REGEX = /[\t-\r \x85\u200E\u200F\u2028\u2029]/i;
}),
"[project]/node_modules/@formatjs/icu-skeleton-parser/lib/number.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "parseNumberSkeleton": ()=>parseNumberSkeleton,
    "parseNumberSkeletonFromString": ()=>parseNumberSkeletonFromString
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$regex$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js [app-ssr] (ecmascript)");
;
;
function parseNumberSkeletonFromString(skeleton) {
    if (skeleton.length === 0) {
        throw new Error('Number skeleton cannot be empty');
    }
    // Parse the skeleton
    var stringTokens = skeleton.split(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$regex$2e$generated$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WHITE_SPACE_REGEX"]).filter(function(x) {
        return x.length > 0;
    });
    var tokens = [];
    for(var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++){
        var stringToken = stringTokens_1[_i];
        var stemAndOptions = stringToken.split('/');
        if (stemAndOptions.length === 0) {
            throw new Error('Invalid number skeleton');
        }
        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);
        for(var _a = 0, options_1 = options; _a < options_1.length; _a++){
            var option = options_1[_a];
            if (option.length === 0) {
                throw new Error('Invalid number skeleton');
            }
        }
        tokens.push({
            stem: stem,
            options: options
        });
    }
    return tokens;
}
function icuUnitToEcma(unit) {
    return unit.replace(/^(.*?)-/, '');
}
var FRACTION_PRECISION_REGEX = /^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g;
var SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\+|#+)?[rs]?$/g;
var INTEGER_WIDTH_REGEX = /(\*)(0+)|(#+)(0+)|(0+)/g;
var CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;
function parseSignificantPrecision(str) {
    var result = {};
    if (str[str.length - 1] === 'r') {
        result.roundingPriority = 'morePrecision';
    } else if (str[str.length - 1] === 's') {
        result.roundingPriority = 'lessPrecision';
    }
    str.replace(SIGNIFICANT_PRECISION_REGEX, function(_, g1, g2) {
        // @@@ case
        if (typeof g2 !== 'string') {
            result.minimumSignificantDigits = g1.length;
            result.maximumSignificantDigits = g1.length;
        } else if (g2 === '+') {
            result.minimumSignificantDigits = g1.length;
        } else if (g1[0] === '#') {
            result.maximumSignificantDigits = g1.length;
        } else {
            result.minimumSignificantDigits = g1.length;
            result.maximumSignificantDigits = g1.length + (typeof g2 === 'string' ? g2.length : 0);
        }
        return '';
    });
    return result;
}
function parseSign(str) {
    switch(str){
        case 'sign-auto':
            return {
                signDisplay: 'auto'
            };
        case 'sign-accounting':
        case '()':
            return {
                currencySign: 'accounting'
            };
        case 'sign-always':
        case '+!':
            return {
                signDisplay: 'always'
            };
        case 'sign-accounting-always':
        case '()!':
            return {
                signDisplay: 'always',
                currencySign: 'accounting'
            };
        case 'sign-except-zero':
        case '+?':
            return {
                signDisplay: 'exceptZero'
            };
        case 'sign-accounting-except-zero':
        case '()?':
            return {
                signDisplay: 'exceptZero',
                currencySign: 'accounting'
            };
        case 'sign-never':
        case '+_':
            return {
                signDisplay: 'never'
            };
    }
}
function parseConciseScientificAndEngineeringStem(stem) {
    // Engineering
    var result;
    if (stem[0] === 'E' && stem[1] === 'E') {
        result = {
            notation: 'engineering'
        };
        stem = stem.slice(2);
    } else if (stem[0] === 'E') {
        result = {
            notation: 'scientific'
        };
        stem = stem.slice(1);
    }
    if (result) {
        var signDisplay = stem.slice(0, 2);
        if (signDisplay === '+!') {
            result.signDisplay = 'always';
            stem = stem.slice(2);
        } else if (signDisplay === '+?') {
            result.signDisplay = 'exceptZero';
            stem = stem.slice(2);
        }
        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {
            throw new Error('Malformed concise eng/scientific notation');
        }
        result.minimumIntegerDigits = stem.length;
    }
    return result;
}
function parseNotationOptions(opt) {
    var result = {};
    var signOpts = parseSign(opt);
    if (signOpts) {
        return signOpts;
    }
    return result;
}
function parseNumberSkeleton(tokens) {
    var result = {};
    for(var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++){
        var token = tokens_1[_i];
        switch(token.stem){
            case 'percent':
            case '%':
                result.style = 'percent';
                continue;
            case '%x100':
                result.style = 'percent';
                result.scale = 100;
                continue;
            case 'currency':
                result.style = 'currency';
                result.currency = token.options[0];
                continue;
            case 'group-off':
            case ',_':
                result.useGrouping = false;
                continue;
            case 'precision-integer':
            case '.':
                result.maximumFractionDigits = 0;
                continue;
            case 'measure-unit':
            case 'unit':
                result.style = 'unit';
                result.unit = icuUnitToEcma(token.options[0]);
                continue;
            case 'compact-short':
            case 'K':
                result.notation = 'compact';
                result.compactDisplay = 'short';
                continue;
            case 'compact-long':
            case 'KK':
                result.notation = 'compact';
                result.compactDisplay = 'long';
                continue;
            case 'scientific':
                result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, result), {
                    notation: 'scientific'
                }), token.options.reduce(function(all, opt) {
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, all), parseNotationOptions(opt));
                }, {}));
                continue;
            case 'engineering':
                result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, result), {
                    notation: 'engineering'
                }), token.options.reduce(function(all, opt) {
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, all), parseNotationOptions(opt));
                }, {}));
                continue;
            case 'notation-simple':
                result.notation = 'standard';
                continue;
            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h
            case 'unit-width-narrow':
                result.currencyDisplay = 'narrowSymbol';
                result.unitDisplay = 'narrow';
                continue;
            case 'unit-width-short':
                result.currencyDisplay = 'code';
                result.unitDisplay = 'short';
                continue;
            case 'unit-width-full-name':
                result.currencyDisplay = 'name';
                result.unitDisplay = 'long';
                continue;
            case 'unit-width-iso-code':
                result.currencyDisplay = 'symbol';
                continue;
            case 'scale':
                result.scale = parseFloat(token.options[0]);
                continue;
            case 'rounding-mode-floor':
                result.roundingMode = 'floor';
                continue;
            case 'rounding-mode-ceiling':
                result.roundingMode = 'ceil';
                continue;
            case 'rounding-mode-down':
                result.roundingMode = 'trunc';
                continue;
            case 'rounding-mode-up':
                result.roundingMode = 'expand';
                continue;
            case 'rounding-mode-half-even':
                result.roundingMode = 'halfEven';
                continue;
            case 'rounding-mode-half-down':
                result.roundingMode = 'halfTrunc';
                continue;
            case 'rounding-mode-half-up':
                result.roundingMode = 'halfExpand';
                continue;
            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width
            case 'integer-width':
                if (token.options.length > 1) {
                    throw new RangeError('integer-width stems only accept a single optional option');
                }
                token.options[0].replace(INTEGER_WIDTH_REGEX, function(_, g1, g2, g3, g4, g5) {
                    if (g1) {
                        result.minimumIntegerDigits = g2.length;
                    } else if (g3 && g4) {
                        throw new Error('We currently do not support maximum integer digits');
                    } else if (g5) {
                        throw new Error('We currently do not support exact integer digits');
                    }
                    return '';
                });
                continue;
        }
        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width
        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {
            result.minimumIntegerDigits = token.stem.length;
            continue;
        }
        if (FRACTION_PRECISION_REGEX.test(token.stem)) {
            // Precision
            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision
            // precision-integer case
            if (token.options.length > 1) {
                throw new RangeError('Fraction-precision stems only accept a single optional option');
            }
            token.stem.replace(FRACTION_PRECISION_REGEX, function(_, g1, g2, g3, g4, g5) {
                // .000* case (before ICU67 it was .000+)
                if (g2 === '*') {
                    result.minimumFractionDigits = g1.length;
                } else if (g3 && g3[0] === '#') {
                    result.maximumFractionDigits = g3.length;
                } else if (g4 && g5) {
                    result.minimumFractionDigits = g4.length;
                    result.maximumFractionDigits = g4.length + g5.length;
                } else {
                    result.minimumFractionDigits = g1.length;
                    result.maximumFractionDigits = g1.length;
                }
                return '';
            });
            var opt = token.options[0];
            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display
            if (opt === 'w') {
                result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, result), {
                    trailingZeroDisplay: 'stripIfInteger'
                });
            } else if (opt) {
                result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, result), parseSignificantPrecision(opt));
            }
            continue;
        }
        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision
        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {
            result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, result), parseSignificantPrecision(token.stem));
            continue;
        }
        var signOpts = parseSign(token.stem);
        if (signOpts) {
            result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, result), signOpts);
        }
        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);
        if (conciseScientificAndEngineeringOpts) {
            result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, result), conciseScientificAndEngineeringOpts);
        }
    }
    return result;
}
}),
"[project]/node_modules/@formatjs/icu-skeleton-parser/lib/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$date$2d$time$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/number.js [app-ssr] (ecmascript)");
;
;
}),
"[project]/node_modules/@formatjs/icu-skeleton-parser/lib/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$date$2d$time$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/number.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$skeleton$2d$parser$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-skeleton-parser/lib/index.js [app-ssr] (ecmascript) <locals>");
}),
"[project]/node_modules/intl-messageformat/lib/src/error.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "ErrorCode": ()=>ErrorCode,
    "FormatError": ()=>FormatError,
    "InvalidValueError": ()=>InvalidValueError,
    "InvalidValueTypeError": ()=>InvalidValueTypeError,
    "MissingValueError": ()=>MissingValueError
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
;
var ErrorCode;
(function(ErrorCode) {
    // When we have a placeholder but no value to format
    ErrorCode["MISSING_VALUE"] = "MISSING_VALUE";
    // When value supplied is invalid
    ErrorCode["INVALID_VALUE"] = "INVALID_VALUE";
    // When we need specific Intl API but it's not available
    ErrorCode["MISSING_INTL_API"] = "MISSING_INTL_API";
})(ErrorCode || (ErrorCode = {}));
var FormatError = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__extends"])(FormatError, _super);
    function FormatError(msg, code, originalMessage) {
        var _this = _super.call(this, msg) || this;
        _this.code = code;
        _this.originalMessage = originalMessage;
        return _this;
    }
    FormatError.prototype.toString = function() {
        return "[formatjs Error: ".concat(this.code, "] ").concat(this.message);
    };
    return FormatError;
}(Error);
;
var InvalidValueError = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__extends"])(InvalidValueError, _super);
    function InvalidValueError(variableId, value, options, originalMessage) {
        return _super.call(this, "Invalid values for \"".concat(variableId, "\": \"").concat(value, "\". Options are \"").concat(Object.keys(options).join('", "'), "\""), ErrorCode.INVALID_VALUE, originalMessage) || this;
    }
    return InvalidValueError;
}(FormatError);
;
var InvalidValueTypeError = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__extends"])(InvalidValueTypeError, _super);
    function InvalidValueTypeError(value, type, originalMessage) {
        return _super.call(this, "Value for \"".concat(value, "\" must be of type ").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;
    }
    return InvalidValueTypeError;
}(FormatError);
;
var MissingValueError = function(_super) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__extends"])(MissingValueError, _super);
    function MissingValueError(variableId, originalMessage) {
        return _super.call(this, "The intl string context variable \"".concat(variableId, "\" was not provided to the string \"").concat(originalMessage, "\""), ErrorCode.MISSING_VALUE, originalMessage) || this;
    }
    return MissingValueError;
}(FormatError);
;
}),
"[project]/node_modules/intl-messageformat/lib/src/formatters.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "PART_TYPE": ()=>PART_TYPE,
    "formatToParts": ()=>formatToParts,
    "isFormatXMLElementFn": ()=>isFormatXMLElementFn
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/types.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/intl-messageformat/lib/src/error.js [app-ssr] (ecmascript)");
;
;
var PART_TYPE;
(function(PART_TYPE) {
    PART_TYPE[PART_TYPE["literal"] = 0] = "literal";
    PART_TYPE[PART_TYPE["object"] = 1] = "object";
})(PART_TYPE || (PART_TYPE = {}));
function mergeLiteral(parts) {
    if (parts.length < 2) {
        return parts;
    }
    return parts.reduce(function(all, part) {
        var lastPart = all[all.length - 1];
        if (!lastPart || lastPart.type !== PART_TYPE.literal || part.type !== PART_TYPE.literal) {
            all.push(part);
        } else {
            lastPart.value += part.value;
        }
        return all;
    }, []);
}
function isFormatXMLElementFn(el) {
    return typeof el === 'function';
}
function formatToParts(els, locales, formatters, formats, values, currentPluralValue, // For debugging
originalMessage) {
    // Hot path for straight simple msg translations
    if (els.length === 1 && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isLiteralElement"])(els[0])) {
        return [
            {
                type: PART_TYPE.literal,
                value: els[0].value
            }
        ];
    }
    var result = [];
    for(var _i = 0, els_1 = els; _i < els_1.length; _i++){
        var el = els_1[_i];
        // Exit early for string parts.
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isLiteralElement"])(el)) {
            result.push({
                type: PART_TYPE.literal,
                value: el.value
            });
            continue;
        }
        // TODO: should this part be literal type?
        // Replace `#` in plural rules with the actual numeric value.
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPoundElement"])(el)) {
            if (typeof currentPluralValue === 'number') {
                result.push({
                    type: PART_TYPE.literal,
                    value: formatters.getNumberFormat(locales).format(currentPluralValue)
                });
            }
            continue;
        }
        var varName = el.value;
        // Enforce that all required values are provided by the caller.
        if (!(values && varName in values)) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MissingValueError"](varName, originalMessage);
        }
        var value = values[varName];
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isArgumentElement"])(el)) {
            if (!value || typeof value === 'string' || typeof value === 'number') {
                value = typeof value === 'string' || typeof value === 'number' ? String(value) : '';
            }
            result.push({
                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,
                value: value
            });
            continue;
        }
        // Recursively format plural and select parts' option  which can be a
        // nested pattern structure. The choosing of the option to use is
        // abstracted-by and delegated-to the part helper object.
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDateElement"])(el)) {
            var style = typeof el.style === 'string' ? formats.date[el.style] : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDateTimeSkeleton"])(el.style) ? el.style.parsedOptions : undefined;
            result.push({
                type: PART_TYPE.literal,
                value: formatters.getDateTimeFormat(locales, style).format(value)
            });
            continue;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTimeElement"])(el)) {
            var style = typeof el.style === 'string' ? formats.time[el.style] : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDateTimeSkeleton"])(el.style) ? el.style.parsedOptions : formats.time.medium;
            result.push({
                type: PART_TYPE.literal,
                value: formatters.getDateTimeFormat(locales, style).format(value)
            });
            continue;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isNumberElement"])(el)) {
            var style = typeof el.style === 'string' ? formats.number[el.style] : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isNumberSkeleton"])(el.style) ? el.style.parsedOptions : undefined;
            if (style && style.scale) {
                value = value * (style.scale || 1);
            }
            result.push({
                type: PART_TYPE.literal,
                value: formatters.getNumberFormat(locales, style).format(value)
            });
            continue;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTagElement"])(el)) {
            var children = el.children, value_1 = el.value;
            var formatFn = values[value_1];
            if (!isFormatXMLElementFn(formatFn)) {
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["InvalidValueTypeError"](value_1, 'function', originalMessage);
            }
            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);
            var chunks = formatFn(parts.map(function(p) {
                return p.value;
            }));
            if (!Array.isArray(chunks)) {
                chunks = [
                    chunks
                ];
            }
            result.push.apply(result, chunks.map(function(c) {
                return {
                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,
                    value: c
                };
            }));
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectElement"])(el)) {
            var opt = el.options[value] || el.options.other;
            if (!opt) {
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["InvalidValueError"](el.value, value, Object.keys(el.options), originalMessage);
            }
            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));
            continue;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$types$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPluralElement"])(el)) {
            var opt = el.options["=".concat(value)];
            if (!opt) {
                if (!Intl.PluralRules) {
                    throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FormatError"]("Intl.PluralRules is not available in this environment.\nTry polyfilling it using \"@formatjs/intl-pluralrules\"\n", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ErrorCode"].MISSING_INTL_API, originalMessage);
                }
                var rule = formatters.getPluralRules(locales, {
                    type: el.pluralType
                }).select(value - (el.offset || 0));
                opt = el.options[rule] || el.options.other;
            }
            if (!opt) {
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["InvalidValueError"](el.value, value, Object.keys(el.options), originalMessage);
            }
            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));
            continue;
        }
    }
    return mergeLiteral(result);
}
}),
"[project]/node_modules/intl-messageformat/lib/src/core.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

/*
Copyright (c) 2014, Yahoo! Inc. All rights reserved.
Copyrights licensed under the New BSD License.
See the accompanying LICENSE file for terms.
*/ __turbopack_context__.s({
    "IntlMessageFormat": ()=>IntlMessageFormat
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tslib/tslib.es6.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/fast-memoize/lib/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/icu-messageformat-parser/lib/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$formatters$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/intl-messageformat/lib/src/formatters.js [app-ssr] (ecmascript)");
;
;
;
;
// -- MessageFormat --------------------------------------------------------
function mergeConfig(c1, c2) {
    if (!c2) {
        return c1;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, c1 || {}), c2 || {}), Object.keys(c1).reduce(function(all, k) {
        all[k] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, c1[k]), c2[k] || {});
        return all;
    }, {}));
}
function mergeConfigs(defaultConfig, configs) {
    if (!configs) {
        return defaultConfig;
    }
    return Object.keys(defaultConfig).reduce(function(all, k) {
        all[k] = mergeConfig(defaultConfig[k], configs[k]);
        return all;
    }, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, defaultConfig));
}
function createFastMemoizeCache(store) {
    return {
        create: function() {
            return {
                get: function(key) {
                    return store[key];
                },
                set: function(key, value) {
                    store[key] = value;
                }
            };
        }
    };
}
function createDefaultFormatters(cache) {
    if (cache === void 0) {
        cache = {
            number: {},
            dateTime: {},
            pluralRules: {}
        };
    }
    return {
        getNumberFormat: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memoize"])(function() {
            var _a;
            var args = [];
            for(var _i = 0; _i < arguments.length; _i++){
                args[_i] = arguments[_i];
            }
            return new ((_a = Intl.NumberFormat).bind.apply(_a, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])([
                void 0
            ], args, false)))();
        }, {
            cache: createFastMemoizeCache(cache.number),
            strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["strategies"].variadic
        }),
        getDateTimeFormat: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memoize"])(function() {
            var _a;
            var args = [];
            for(var _i = 0; _i < arguments.length; _i++){
                args[_i] = arguments[_i];
            }
            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])([
                void 0
            ], args, false)))();
        }, {
            cache: createFastMemoizeCache(cache.dateTime),
            strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["strategies"].variadic
        }),
        getPluralRules: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memoize"])(function() {
            var _a;
            var args = [];
            for(var _i = 0; _i < arguments.length; _i++){
                args[_i] = arguments[_i];
            }
            return new ((_a = Intl.PluralRules).bind.apply(_a, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__spreadArray"])([
                void 0
            ], args, false)))();
        }, {
            cache: createFastMemoizeCache(cache.pluralRules),
            strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["strategies"].variadic
        })
    };
}
var IntlMessageFormat = function() {
    function IntlMessageFormat(message, locales, overrideFormats, opts) {
        if (locales === void 0) {
            locales = IntlMessageFormat.defaultLocale;
        }
        var _this = this;
        this.formatterCache = {
            number: {},
            dateTime: {},
            pluralRules: {}
        };
        this.format = function(values) {
            var parts = _this.formatToParts(values);
            // Hot path for straight simple msg translations
            if (parts.length === 1) {
                return parts[0].value;
            }
            var result = parts.reduce(function(all, part) {
                if (!all.length || part.type !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$formatters$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PART_TYPE"].literal || typeof all[all.length - 1] !== 'string') {
                    all.push(part.value);
                } else {
                    all[all.length - 1] += part.value;
                }
                return all;
            }, []);
            if (result.length <= 1) {
                return result[0] || '';
            }
            return result;
        };
        this.formatToParts = function(values) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$formatters$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["formatToParts"])(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);
        };
        this.resolvedOptions = function() {
            var _a;
            return {
                locale: ((_a = _this.resolvedLocale) === null || _a === void 0 ? void 0 : _a.toString()) || Intl.NumberFormat.supportedLocalesOf(_this.locales)[0]
            };
        };
        this.getAst = function() {
            return _this.ast;
        };
        // Defined first because it's used to build the format pattern.
        this.locales = locales;
        this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);
        if (typeof message === 'string') {
            this.message = message;
            if (!IntlMessageFormat.__parse) {
                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');
            }
            var _a = opts || {}, formatters = _a.formatters, parseOpts = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__rest"])(_a, [
                "formatters"
            ]);
            // Parse string messages into an AST.
            this.ast = IntlMessageFormat.__parse(message, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["__assign"])({}, parseOpts), {
                locale: this.resolvedLocale
            }));
        } else {
            this.ast = message;
        }
        if (!Array.isArray(this.ast)) {
            throw new TypeError('A message must be provided as a String or AST.');
        }
        // Creates a new object with the specified `formats` merged with the default
        // formats.
        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);
        this.formatters = opts && opts.formatters || createDefaultFormatters(this.formatterCache);
    }
    Object.defineProperty(IntlMessageFormat, "defaultLocale", {
        get: function() {
            if (!IntlMessageFormat.memoizedDefaultLocale) {
                IntlMessageFormat.memoizedDefaultLocale = new Intl.NumberFormat().resolvedOptions().locale;
            }
            return IntlMessageFormat.memoizedDefaultLocale;
        },
        enumerable: false,
        configurable: true
    });
    IntlMessageFormat.memoizedDefaultLocale = null;
    IntlMessageFormat.resolveLocale = function(locales) {
        if (typeof Intl.Locale === 'undefined') {
            return;
        }
        var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);
        if (supportedLocales.length > 0) {
            return new Intl.Locale(supportedLocales[0]);
        }
        return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);
    };
    IntlMessageFormat.__parse = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$icu$2d$messageformat$2d$parser$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["parse"];
    // Default format options used as the prototype of the `formats` provided to the
    // constructor. These are used when constructing the internal Intl.NumberFormat
    // and Intl.DateTimeFormat instances.
    IntlMessageFormat.formats = {
        number: {
            integer: {
                maximumFractionDigits: 0
            },
            currency: {
                style: 'currency'
            },
            percent: {
                style: 'percent'
            }
        },
        date: {
            short: {
                month: 'numeric',
                day: 'numeric',
                year: '2-digit'
            },
            medium: {
                month: 'short',
                day: 'numeric',
                year: 'numeric'
            },
            long: {
                month: 'long',
                day: 'numeric',
                year: 'numeric'
            },
            full: {
                weekday: 'long',
                month: 'long',
                day: 'numeric',
                year: 'numeric'
            }
        },
        time: {
            short: {
                hour: 'numeric',
                minute: 'numeric'
            },
            medium: {
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric'
            },
            long: {
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric',
                timeZoneName: 'short'
            },
            full: {
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric',
                timeZoneName: 'short'
            }
        }
    };
    return IntlMessageFormat;
}();
;
}),
"[project]/node_modules/use-intl/dist/esm/development/initializeConfig-CRD6euuK.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "I": ()=>IntlError,
    "a": ()=>IntlErrorCode,
    "b": ()=>createIntlFormatters,
    "c": ()=>createFormatter,
    "d": ()=>createCache,
    "e": ()=>createBaseTranslator,
    "f": ()=>defaultGetMessageFallback,
    "g": ()=>defaultOnError,
    "i": ()=>initializeConfig,
    "r": ()=>resolveNamespace
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$core$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/intl-messageformat/lib/src/core.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@formatjs/fast-memoize/lib/index.js [app-ssr] (ecmascript)");
;
;
;
class IntlError extends Error {
    constructor(code, originalMessage){
        let message = code;
        if (originalMessage) {
            message += ': ' + originalMessage;
        }
        super(message);
        this.code = code;
        if (originalMessage) {
            this.originalMessage = originalMessage;
        }
    }
}
var IntlErrorCode = /*#__PURE__*/ function(IntlErrorCode) {
    IntlErrorCode["MISSING_MESSAGE"] = "MISSING_MESSAGE";
    IntlErrorCode["MISSING_FORMAT"] = "MISSING_FORMAT";
    IntlErrorCode["ENVIRONMENT_FALLBACK"] = "ENVIRONMENT_FALLBACK";
    IntlErrorCode["INSUFFICIENT_PATH"] = "INSUFFICIENT_PATH";
    IntlErrorCode["INVALID_MESSAGE"] = "INVALID_MESSAGE";
    IntlErrorCode["INVALID_KEY"] = "INVALID_KEY";
    IntlErrorCode["FORMATTING_ERROR"] = "FORMATTING_ERROR";
    return IntlErrorCode;
}(IntlErrorCode || {});
/**
 * `intl-messageformat` uses separate keys for `date` and `time`, but there's
 * only one native API: `Intl.DateTimeFormat`. Additionally you might want to
 * include both a time and a date in a value, therefore the separation doesn't
 * seem so useful. We offer a single `dateTime` namespace instead, but we have
 * to convert the format before `intl-messageformat` can be used.
 */ function convertFormatsToIntlMessageFormat(globalFormats, inlineFormats, timeZone) {
    const mfDateDefaults = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$core$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["IntlMessageFormat"].formats.date;
    const mfTimeDefaults = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$core$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["IntlMessageFormat"].formats.time;
    const dateTimeFormats = {
        ...globalFormats?.dateTime,
        ...inlineFormats?.dateTime
    };
    const allFormats = {
        date: {
            ...mfDateDefaults,
            ...dateTimeFormats
        },
        time: {
            ...mfTimeDefaults,
            ...dateTimeFormats
        },
        number: {
            ...globalFormats?.number,
            ...inlineFormats?.number
        }
    };
    if (timeZone) {
        // The only way to set a time zone with `intl-messageformat` is to merge it into the formats
        // https://github.com/formatjs/formatjs/blob/8256c5271505cf2606e48e3c97ecdd16ede4f1b5/packages/intl/src/message.ts#L15
        [
            'date',
            'time'
        ].forEach((property)=>{
            const formats = allFormats[property];
            for (const [key, value] of Object.entries(formats)){
                formats[key] = {
                    timeZone,
                    ...value
                };
            }
        });
    }
    return allFormats;
}
function joinPath(...parts) {
    return parts.filter(Boolean).join('.');
}
/**
 * Contains defaults that are used for all entry points into the core.
 * See also `InitializedIntlConfiguration`.
 */ function defaultGetMessageFallback(props) {
    return joinPath(props.namespace, props.key);
}
function defaultOnError(error) {
    console.error(error);
}
function createCache() {
    return {
        dateTime: {},
        number: {},
        message: {},
        relativeTime: {},
        pluralRules: {},
        list: {},
        displayNames: {}
    };
}
function createMemoCache(store) {
    return {
        create () {
            return {
                get (key) {
                    return store[key];
                },
                set (key, value) {
                    store[key] = value;
                }
            };
        }
    };
}
function memoFn(fn, cache) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memoize"])(fn, {
        cache: createMemoCache(cache),
        strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$formatjs$2f$fast$2d$memoize$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["strategies"].variadic
    });
}
function memoConstructor(ConstructorFn, cache) {
    return memoFn((...args)=>new ConstructorFn(...args), cache);
}
function createIntlFormatters(cache) {
    const getDateTimeFormat = memoConstructor(Intl.DateTimeFormat, cache.dateTime);
    const getNumberFormat = memoConstructor(Intl.NumberFormat, cache.number);
    const getPluralRules = memoConstructor(Intl.PluralRules, cache.pluralRules);
    const getRelativeTimeFormat = memoConstructor(Intl.RelativeTimeFormat, cache.relativeTime);
    const getListFormat = memoConstructor(Intl.ListFormat, cache.list);
    const getDisplayNames = memoConstructor(Intl.DisplayNames, cache.displayNames);
    return {
        getDateTimeFormat,
        getNumberFormat,
        getPluralRules,
        getRelativeTimeFormat,
        getListFormat,
        getDisplayNames
    };
}
// Placed here for improved tree shaking. Somehow when this is placed in
// `formatters.tsx`, then it can't be shaken off from `next-intl`.
function createMessageFormatter(cache, intlFormatters) {
    const getMessageFormat = memoFn((...args)=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$intl$2d$messageformat$2f$lib$2f$src$2f$core$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["IntlMessageFormat"](args[0], args[1], args[2], {
            formatters: intlFormatters,
            ...args[3]
        }), cache.message);
    return getMessageFormat;
}
function resolvePath(locale, messages, key, namespace) {
    const fullKey = joinPath(namespace, key);
    if (!messages) {
        throw new Error(`No messages available at \`${namespace}\`.`);
    }
    let message = messages;
    key.split('.').forEach((part)=>{
        const next = message[part];
        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
        if (part == null || next == null) {
            throw new Error(`Could not resolve \`${fullKey}\` in messages for locale \`${locale}\`.`);
        }
        message = next;
    });
    return message;
}
function prepareTranslationValues(values) {
    // Workaround for https://github.com/formatjs/formatjs/issues/1467
    const transformedValues = {};
    Object.keys(values).forEach((key)=>{
        let index = 0;
        const value = values[key];
        let transformed;
        if (typeof value === 'function') {
            transformed = (chunks)=>{
                const result = value(chunks);
                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isValidElement"])(result) ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cloneElement"])(result, {
                    key: key + index++
                }) : result;
            };
        } else {
            transformed = value;
        }
        transformedValues[key] = transformed;
    });
    return transformedValues;
}
function getMessagesOrError(locale, messages, namespace, onError = defaultOnError) {
    try {
        if (!messages) {
            throw new Error(`No messages were configured.`);
        }
        const retrievedMessages = namespace ? resolvePath(locale, messages, namespace) : messages;
        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
        if (!retrievedMessages) {
            throw new Error(`No messages for namespace \`${namespace}\` found.`);
        }
        return retrievedMessages;
    } catch (error) {
        const intlError = new IntlError(IntlErrorCode.MISSING_MESSAGE, error.message);
        onError(intlError);
        return intlError;
    }
}
function getPlainMessage(candidate, values) {
    {
        // Keep fast path in development
        if (values) return undefined;
        // Despite potentially no values being available, there can still be
        // placeholders in the message if the user has forgotten to provide
        // values. In this case we compile the message to receive an error.
        const unescapedMessage = candidate.replace(/'([{}])/gi, '$1');
        const hasPlaceholders = /<|{/.test(unescapedMessage);
        if (!hasPlaceholders) {
            return unescapedMessage;
        }
    }
}
function createBaseTranslator(config) {
    const messagesOrError = getMessagesOrError(config.locale, config.messages, config.namespace, config.onError);
    return createBaseTranslatorImpl({
        ...config,
        messagesOrError
    });
}
function createBaseTranslatorImpl({ cache, formats: globalFormats, formatters, getMessageFallback = defaultGetMessageFallback, locale, messagesOrError, namespace, onError, timeZone }) {
    const hasMessagesError = messagesOrError instanceof IntlError;
    function getFallbackFromErrorAndNotify(key, code, message) {
        const error = new IntlError(code, message);
        onError(error);
        return getMessageFallback({
            error,
            key,
            namespace
        });
    }
    function translateBaseFn(/** Use a dot to indicate a level of nesting (e.g. `namespace.nestedLabel`). */ key, /** Key value pairs for values to interpolate into the message. */ values, /** Provide custom formats for numbers, dates and times. */ formats) {
        if (hasMessagesError) {
            // We have already warned about this during render
            return getMessageFallback({
                error: messagesOrError,
                key,
                namespace
            });
        }
        const messages = messagesOrError;
        let message;
        try {
            message = resolvePath(locale, messages, key, namespace);
        } catch (error) {
            return getFallbackFromErrorAndNotify(key, IntlErrorCode.MISSING_MESSAGE, error.message);
        }
        if (typeof message === 'object') {
            let code, errorMessage;
            if (Array.isArray(message)) {
                code = IntlErrorCode.INVALID_MESSAGE;
                {
                    errorMessage = `Message at \`${joinPath(namespace, key)}\` resolved to an array, but only strings are supported. See https://next-intl.dev/docs/usage/messages#arrays-of-messages`;
                }
            } else {
                code = IntlErrorCode.INSUFFICIENT_PATH;
                {
                    errorMessage = `Message at \`${joinPath(namespace, key)}\` resolved to an object, but only strings are supported. Use a \`.\` to retrieve nested messages. See https://next-intl.dev/docs/usage/messages#structuring-messages`;
                }
            }
            return getFallbackFromErrorAndNotify(key, code, errorMessage);
        }
        let messageFormat;
        // Hot path that avoids creating an `IntlMessageFormat` instance
        const plainMessage = getPlainMessage(message, values);
        if (plainMessage) return plainMessage;
        // Lazy init the message formatter for better tree
        // shaking in case message formatting is not used.
        if (!formatters.getMessageFormat) {
            formatters.getMessageFormat = createMessageFormatter(cache, formatters);
        }
        try {
            messageFormat = formatters.getMessageFormat(message, locale, convertFormatsToIntlMessageFormat(globalFormats, formats, timeZone), {
                formatters: {
                    ...formatters,
                    getDateTimeFormat (locales, options) {
                        // Workaround for https://github.com/formatjs/formatjs/issues/4279
                        return formatters.getDateTimeFormat(locales, {
                            timeZone,
                            ...options
                        });
                    }
                }
            });
        } catch (error) {
            const thrownError = error;
            return getFallbackFromErrorAndNotify(key, IntlErrorCode.INVALID_MESSAGE, thrownError.message + ('originalMessage' in thrownError ? ` (${thrownError.originalMessage})` : ''));
        }
        try {
            const formattedMessage = messageFormat.format(// @ts-expect-error `intl-messageformat` expects a different format
            // for rich text elements since a recent minor update. This
            // needs to be evaluated in detail, possibly also in regards
            // to be able to format to parts.
            values ? prepareTranslationValues(values) : values);
            if (formattedMessage == null) {
                throw new Error(`Unable to format \`${key}\` in ${namespace ? `namespace \`${namespace}\`` : 'messages'}`);
            }
            // Limit the function signature to return strings or React elements
            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isValidElement"])(formattedMessage) || // Arrays of React elements
            Array.isArray(formattedMessage) || typeof formattedMessage === 'string' ? formattedMessage : String(formattedMessage);
        } catch (error) {
            return getFallbackFromErrorAndNotify(key, IntlErrorCode.FORMATTING_ERROR, error.message);
        }
    }
    function translateFn(/** Use a dot to indicate a level of nesting (e.g. `namespace.nestedLabel`). */ key, /** Key value pairs for values to interpolate into the message. */ values, /** Provide custom formats for numbers, dates and times. */ formats) {
        const result = translateBaseFn(key, values, formats);
        if (typeof result !== 'string') {
            return getFallbackFromErrorAndNotify(key, IntlErrorCode.INVALID_MESSAGE, `The message \`${key}\` in ${namespace ? `namespace \`${namespace}\`` : 'messages'} didn't resolve to a string. If you want to format rich text, use \`t.rich\` instead.`);
        }
        return result;
    }
    translateFn.rich = translateBaseFn;
    // Augment `translateBaseFn` to return plain strings
    translateFn.markup = (key, values, formats)=>{
        const result = translateBaseFn(key, // @ts-expect-error -- `MarkupTranslationValues` is practically a sub type
        // of `RichTranslationValues` but TypeScript isn't smart enough here.
        values, formats);
        if (typeof result !== 'string') {
            const error = new IntlError(IntlErrorCode.FORMATTING_ERROR, "`t.markup` only accepts functions for formatting that receive and return strings.\n\nE.g. t.markup('markup', {b: (chunks) => `<b>${chunks}</b>`})");
            onError(error);
            return getMessageFallback({
                error,
                key,
                namespace
            });
        }
        return result;
    };
    translateFn.raw = (key)=>{
        if (hasMessagesError) {
            // We have already warned about this during render
            return getMessageFallback({
                error: messagesOrError,
                key,
                namespace
            });
        }
        const messages = messagesOrError;
        try {
            return resolvePath(locale, messages, key, namespace);
        } catch (error) {
            return getFallbackFromErrorAndNotify(key, IntlErrorCode.MISSING_MESSAGE, error.message);
        }
    };
    translateFn.has = (key)=>{
        if (hasMessagesError) {
            return false;
        }
        try {
            resolvePath(locale, messagesOrError, key, namespace);
            return true;
        } catch  {
            return false;
        }
    };
    return translateFn;
}
/**
 * For the strictly typed messages to work we have to wrap the namespace into
 * a mandatory prefix. See https://stackoverflow.com/a/71529575/343045
 */ function resolveNamespace(namespace, namespacePrefix) {
    return namespace === namespacePrefix ? undefined : namespace.slice((namespacePrefix + '.').length);
}
const SECOND = 1;
const MINUTE = SECOND * 60;
const HOUR = MINUTE * 60;
const DAY = HOUR * 24;
const WEEK = DAY * 7;
const MONTH = DAY * (365 / 12); // Approximation
const QUARTER = MONTH * 3;
const YEAR = DAY * 365;
const UNIT_SECONDS = {
    second: SECOND,
    seconds: SECOND,
    minute: MINUTE,
    minutes: MINUTE,
    hour: HOUR,
    hours: HOUR,
    day: DAY,
    days: DAY,
    week: WEEK,
    weeks: WEEK,
    month: MONTH,
    months: MONTH,
    quarter: QUARTER,
    quarters: QUARTER,
    year: YEAR,
    years: YEAR
};
function resolveRelativeTimeUnit(seconds) {
    const absValue = Math.abs(seconds);
    if (absValue < MINUTE) {
        return 'second';
    } else if (absValue < HOUR) {
        return 'minute';
    } else if (absValue < DAY) {
        return 'hour';
    } else if (absValue < WEEK) {
        return 'day';
    } else if (absValue < MONTH) {
        return 'week';
    } else if (absValue < YEAR) {
        return 'month';
    }
    return 'year';
}
function calculateRelativeTimeValue(seconds, unit) {
    // We have to round the resulting values, as `Intl.RelativeTimeFormat`
    // will include fractions like '2.1 hours ago'.
    return Math.round(seconds / UNIT_SECONDS[unit]);
}
function createFormatter(props) {
    const { _cache: cache = createCache(), _formatters: formatters = createIntlFormatters(cache), formats, locale, onError = defaultOnError, timeZone: globalTimeZone } = props;
    function applyTimeZone(options) {
        if (!options?.timeZone) {
            if (globalTimeZone) {
                options = {
                    ...options,
                    timeZone: globalTimeZone
                };
            } else {
                onError(new IntlError(IntlErrorCode.ENVIRONMENT_FALLBACK, `The \`timeZone\` parameter wasn't provided and there is no global default configured. Consider adding a global default to avoid markup mismatches caused by environment differences. Learn more: https://next-intl.dev/docs/configuration#time-zone`));
            }
        }
        return options;
    }
    function resolveFormatOrOptions(typeFormats, formatOrOptions, overrides) {
        let options;
        if (typeof formatOrOptions === 'string') {
            const formatName = formatOrOptions;
            options = typeFormats?.[formatName];
            if (!options) {
                const error = new IntlError(IntlErrorCode.MISSING_FORMAT, `Format \`${formatName}\` is not available.`);
                onError(error);
                throw error;
            }
        } else {
            options = formatOrOptions;
        }
        if (overrides) {
            options = {
                ...options,
                ...overrides
            };
        }
        return options;
    }
    function getFormattedValue(formatOrOptions, overrides, typeFormats, formatter, getFallback) {
        let options;
        try {
            options = resolveFormatOrOptions(typeFormats, formatOrOptions, overrides);
        } catch  {
            return getFallback();
        }
        try {
            return formatter(options);
        } catch (error) {
            onError(new IntlError(IntlErrorCode.FORMATTING_ERROR, error.message));
            return getFallback();
        }
    }
    function dateTime(value, formatOrOptions, overrides) {
        return getFormattedValue(formatOrOptions, overrides, formats?.dateTime, (options)=>{
            options = applyTimeZone(options);
            return formatters.getDateTimeFormat(locale, options).format(value);
        }, ()=>String(value));
    }
    function dateTimeRange(start, end, formatOrOptions, overrides) {
        return getFormattedValue(formatOrOptions, overrides, formats?.dateTime, (options)=>{
            options = applyTimeZone(options);
            return formatters.getDateTimeFormat(locale, options).formatRange(start, end);
        }, ()=>[
                dateTime(start),
                dateTime(end)
            ].join(''));
    }
    function number(value, formatOrOptions, overrides) {
        return getFormattedValue(formatOrOptions, overrides, formats?.number, (options)=>formatters.getNumberFormat(locale, options).format(value), ()=>String(value));
    }
    function getGlobalNow() {
        // Only read when necessary to avoid triggering a `dynamicIO` error
        // unnecessarily (`now` is only needed for `format.relativeTime`)
        if (props.now) {
            return props.now;
        } else {
            onError(new IntlError(IntlErrorCode.ENVIRONMENT_FALLBACK, `The \`now\` parameter wasn't provided to \`relativeTime\` and there is no global default configured, therefore the current time will be used as a fallback. See https://next-intl.dev/docs/usage/dates-times#relative-times-usenow`));
            return new Date();
        }
    }
    function relativeTime(date, nowOrOptions) {
        try {
            let nowDate, unit;
            const opts = {};
            if (nowOrOptions instanceof Date || typeof nowOrOptions === 'number') {
                nowDate = new Date(nowOrOptions);
            } else if (nowOrOptions) {
                if (nowOrOptions.now != null) {
                    nowDate = new Date(nowOrOptions.now);
                } else {
                    nowDate = getGlobalNow();
                }
                unit = nowOrOptions.unit;
                opts.style = nowOrOptions.style;
                // @ts-expect-error -- Types are slightly outdated
                opts.numberingSystem = nowOrOptions.numberingSystem;
            }
            if (!nowDate) {
                nowDate = getGlobalNow();
            }
            const dateDate = new Date(date);
            const seconds = (dateDate.getTime() - nowDate.getTime()) / 1000;
            if (!unit) {
                unit = resolveRelativeTimeUnit(seconds);
            }
            // `numeric: 'auto'` can theoretically produce output like "yesterday",
            // but it only works with integers. E.g. -1 day will produce "yesterday",
            // but -1.1 days will produce "-1.1 days". Rounding before formatting is
            // not desired, as the given dates might cross a threshold were the
            // output isn't correct anymore. Example: 2024-01-08T23:00:00.000Z and
            // 2024-01-08T01:00:00.000Z would produce "yesterday", which is not the
            // case. By using `always` we can ensure correct output. The only exception
            // is the formatting of times <1 second as "now".
            opts.numeric = unit === 'second' ? 'auto' : 'always';
            const value = calculateRelativeTimeValue(seconds, unit);
            return formatters.getRelativeTimeFormat(locale, opts).format(value, unit);
        } catch (error) {
            onError(new IntlError(IntlErrorCode.FORMATTING_ERROR, error.message));
            return String(date);
        }
    }
    function list(value, formatOrOptions, overrides) {
        const serializedValue = [];
        const richValues = new Map();
        // `formatToParts` only accepts strings, therefore we have to temporarily
        // replace React elements with a placeholder ID that can be used to retrieve
        // the original value afterwards.
        let index = 0;
        for (const item of value){
            let serializedItem;
            if (typeof item === 'object') {
                serializedItem = String(index);
                richValues.set(serializedItem, item);
            } else {
                serializedItem = String(item);
            }
            serializedValue.push(serializedItem);
            index++;
        }
        return getFormattedValue(formatOrOptions, overrides, formats?.list, // @ts-expect-error -- `richValues.size` is used to determine the return type, but TypeScript can't infer the meaning of this correctly
        (options)=>{
            const result = formatters.getListFormat(locale, options).formatToParts(serializedValue).map((part)=>part.type === 'literal' ? part.value : richValues.get(part.value) || part.value);
            if (richValues.size > 0) {
                return result;
            } else {
                return result.join('');
            }
        }, ()=>String(value));
    }
    return {
        dateTime,
        number,
        relativeTime,
        list,
        dateTimeRange
    };
}
function validateMessagesSegment(messages, invalidKeyLabels, parentPath) {
    Object.entries(messages).forEach(([key, messageOrMessages])=>{
        if (key.includes('.')) {
            let keyLabel = key;
            if (parentPath) keyLabel += ` (at ${parentPath})`;
            invalidKeyLabels.push(keyLabel);
        }
        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
        if (messageOrMessages != null && typeof messageOrMessages === 'object') {
            validateMessagesSegment(messageOrMessages, invalidKeyLabels, joinPath(parentPath, key));
        }
    });
}
function validateMessages(messages, onError) {
    const invalidKeyLabels = [];
    validateMessagesSegment(messages, invalidKeyLabels);
    if (invalidKeyLabels.length > 0) {
        onError(new IntlError(IntlErrorCode.INVALID_KEY, `Namespace keys can not contain the character "." as this is used to express nesting. Please remove it or replace it with another character.

Invalid ${invalidKeyLabels.length === 1 ? 'key' : 'keys'}: ${invalidKeyLabels.join(', ')}

If you're migrating from a flat structure, you can convert your messages as follows:

import {set} from "lodash";

const input = {
  "one.one": "1.1",
  "one.two": "1.2",
  "two.one.one": "2.1.1"
};

const output = Object.entries(input).reduce(
  (acc, [key, value]) => set(acc, key, value),
  {}
);

// Output:
//
// {
//   "one": {
//     "one": "1.1",
//     "two": "1.2"
//   },
//   "two": {
//     "one": {
//       "one": "2.1.1"
//     }
//   }
// }
`));
    }
}
/**
 * Enhances the incoming props with defaults.
 */ function initializeConfig({ formats, getMessageFallback, messages, onError, ...rest }) {
    const finalOnError = onError || defaultOnError;
    const finalGetMessageFallback = getMessageFallback || defaultGetMessageFallback;
    {
        if (messages) {
            validateMessages(messages, finalOnError);
        }
    }
    return {
        ...rest,
        formats: formats || undefined,
        messages: messages || undefined,
        onError: finalOnError,
        getMessageFallback: finalGetMessageFallback
    };
}
;
}),
"[project]/node_modules/use-intl/dist/esm/development/react.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "IntlProvider": ()=>IntlProvider,
    "useFormatter": ()=>useFormatter,
    "useLocale": ()=>useLocale,
    "useMessages": ()=>useMessages,
    "useNow": ()=>useNow,
    "useTimeZone": ()=>useTimeZone,
    "useTranslations": ()=>useTranslations
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/use-intl/dist/esm/development/initializeConfig-CRD6euuK.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
;
;
;
const IntlContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(undefined);
function IntlProvider({ children, formats, getMessageFallback, locale, messages, now, onError, timeZone }) {
    const prevContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(IntlContext);
    // The formatter cache is released when the locale changes. For
    // long-running apps with a persistent `IntlProvider` at the root,
    // this can reduce the memory footprint (e.g. in React Native).
    const cache = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        return prevContext?.cache || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"])();
    }, [
        locale,
        prevContext?.cache
    ]);
    const formatters = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>prevContext?.formatters || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"])(cache), [
        cache,
        prevContext?.formatters
    ]);
    // Memoizing this value helps to avoid triggering a re-render of all
    // context consumers in case the configuration didn't change. However,
    // if some of the non-primitive values change, a re-render will still
    // be triggered. Note that there's no need to put `memo` on `IntlProvider`
    // itself, because the `children` typically change on every render.
    // There's some burden on the consumer side if it's important to reduce
    // re-renders, put that's how React works.
    // See: https://blog.isquaredsoftware.com/2020/05/blogged-answers-a-mostly-complete-guide-to-react-rendering-behavior/#context-updates-and-render-optimizations
    const value = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>({
            ...(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])({
                locale,
                // (required by provider)
                formats: formats === undefined ? prevContext?.formats : formats,
                getMessageFallback: getMessageFallback || prevContext?.getMessageFallback,
                messages: messages === undefined ? prevContext?.messages : messages,
                now: now || prevContext?.now,
                onError: onError || prevContext?.onError,
                timeZone: timeZone || prevContext?.timeZone
            }),
            formatters,
            cache
        }), [
        cache,
        formats,
        formatters,
        getMessageFallback,
        locale,
        messages,
        now,
        onError,
        prevContext,
        timeZone
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(IntlContext.Provider, {
        value: value,
        children: children
    });
}
function useIntlContext() {
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(IntlContext);
    if (!context) {
        throw new Error('No intl context found. Have you configured the provider? See https://next-intl.dev/docs/usage/configuration#server-client-components');
    }
    return context;
}
let hasWarnedForMissingTimezone = false;
const isServer = "undefined" === 'undefined';
function useTranslationsImpl(allMessagesPrefixed, namespacePrefixed, namespacePrefix) {
    const { cache, formats: globalFormats, formatters, getMessageFallback, locale, onError, timeZone } = useIntlContext();
    // The `namespacePrefix` is part of the type system.
    // See the comment in the hook invocation.
    const allMessages = allMessagesPrefixed[namespacePrefix];
    const namespace = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["r"])(namespacePrefixed, namespacePrefix);
    if (!timeZone && !hasWarnedForMissingTimezone && isServer) {
        // eslint-disable-next-line react-compiler/react-compiler
        hasWarnedForMissingTimezone = true;
        onError(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"].ENVIRONMENT_FALLBACK, `There is no \`timeZone\` configured, this can lead to markup mismatches caused by environment differences. Consider adding a global default: https://next-intl.dev/docs/configuration#time-zone`));
    }
    const translate = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["e"])({
            cache,
            formatters,
            getMessageFallback,
            messages: allMessages,
            namespace,
            onError,
            formats: globalFormats,
            locale,
            timeZone
        }), [
        cache,
        formatters,
        getMessageFallback,
        allMessages,
        namespace,
        onError,
        globalFormats,
        locale,
        timeZone
    ]);
    return translate;
}
/**
 * Translates messages from the given namespace by using the ICU syntax.
 * See https://formatjs.io/docs/core-concepts/icu-syntax.
 *
 * If no namespace is provided, all available messages are returned.
 * The namespace can also indicate nesting by using a dot
 * (e.g. `namespace.Component`).
 */ function useTranslations(namespace) {
    const context = useIntlContext();
    const messages = context.messages;
    // We have to wrap the actual hook so the type inference for the optional
    // namespace works correctly. See https://stackoverflow.com/a/71529575/343045
    // The prefix ("!") is arbitrary.
    // @ts-expect-error Use the explicit annotation instead
    return useTranslationsImpl({
        '!': messages
    }, // @ts-expect-error
    namespace ? `!.${namespace}` : '!', '!');
}
function useLocale() {
    return useIntlContext().locale;
}
function getNow() {
    return new Date();
}
/**
 * @see https://next-intl.dev/docs/usage/dates-times#relative-times-usenow
 */ function useNow(options) {
    const updateInterval = options?.updateInterval;
    const { now: globalNow } = useIntlContext();
    const [now, setNow] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(globalNow || getNow());
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!updateInterval) return;
        const intervalId = setInterval(()=>{
            setNow(getNow());
        }, updateInterval);
        return ()=>{
            clearInterval(intervalId);
        };
    }, [
        globalNow,
        updateInterval
    ]);
    return updateInterval == null && globalNow ? globalNow : now;
}
function useTimeZone() {
    return useIntlContext().timeZone;
}
function useMessages() {
    const context = useIntlContext();
    if (!context.messages) {
        throw new Error('No messages found. Have you configured them correctly? See https://next-intl.dev/docs/configuration#messages');
    }
    return context.messages;
}
function useFormatter() {
    const { formats, formatters, locale, now: globalNow, onError, timeZone } = useIntlContext();
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$initializeConfig$2d$CRD6euuK$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])({
            formats,
            locale,
            now: globalNow,
            onError,
            timeZone,
            _formatters: formatters
        }), [
        formats,
        formatters,
        globalNow,
        locale,
        onError,
        timeZone
    ]);
}
;
}),
"[project]/node_modules/next-intl/dist/esm/development/shared/NextIntlClientProvider.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>NextIntlClientProvider
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/use-intl/dist/esm/development/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
"use client";
;
;
function NextIntlClientProvider({ locale, ...rest }) {
    if (!locale) {
        throw new Error("Couldn't infer the `locale` prop in `NextIntlClientProvider`, please provide it explicitly.\n\nSee https://next-intl.dev/docs/configuration#locale");
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$intl$2f$dist$2f$esm$2f$development$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["IntlProvider"], {
        locale: locale,
        ...rest
    });
}
;
}),
"[project]/node_modules/next-themes/dist/index.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "ThemeProvider": ()=>J,
    "useTheme": ()=>z
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
"use client";
;
var M = (e, i, s, u, m, a, l, h)=>{
    let d = document.documentElement, w = [
        "light",
        "dark"
    ];
    function p(n) {
        (Array.isArray(e) ? e : [
            e
        ]).forEach((y)=>{
            let k = y === "class", S = k && a ? m.map((f)=>a[f] || f) : m;
            k ? (d.classList.remove(...S), d.classList.add(a && a[n] ? a[n] : n)) : d.setAttribute(y, n);
        }), R(n);
    }
    function R(n) {
        h && w.includes(n) && (d.style.colorScheme = n);
    }
    function c() {
        return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }
    if (u) p(u);
    else try {
        let n = localStorage.getItem(i) || s, y = l && n === "system" ? c() : n;
        p(y);
    } catch (n) {}
};
var b = [
    "light",
    "dark"
], I = "(prefers-color-scheme: dark)", O = "undefined" == "undefined", x = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"](void 0), U = {
    setTheme: (e)=>{},
    themes: []
}, z = ()=>{
    var e;
    return (e = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"](x)) != null ? e : U;
}, J = (e)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"](x) ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], null, e.children) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](V, {
        ...e
    }), N = [
    "light",
    "dark"
], V = ({ forcedTheme: e, disableTransitionOnChange: i = !1, enableSystem: s = !0, enableColorScheme: u = !0, storageKey: m = "theme", themes: a = N, defaultTheme: l = s ? "system" : "light", attribute: h = "data-theme", value: d, children: w, nonce: p, scriptProps: R })=>{
    let [c, n] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"](()=>H(m, l)), [T, y] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"](()=>c === "system" ? E() : c), k = d ? Object.values(d) : a, S = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"]((o)=>{
        let r = o;
        if (!r) return;
        o === "system" && s && (r = E());
        let v = d ? d[r] : r, C = i ? W(p) : null, P = document.documentElement, L = (g)=>{
            g === "class" ? (P.classList.remove(...k), v && P.classList.add(v)) : g.startsWith("data-") && (v ? P.setAttribute(g, v) : P.removeAttribute(g));
        };
        if (Array.isArray(h) ? h.forEach(L) : L(h), u) {
            let g = b.includes(l) ? l : null, D = b.includes(r) ? r : g;
            P.style.colorScheme = D;
        }
        C == null || C();
    }, [
        p
    ]), f = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"]((o)=>{
        let r = typeof o == "function" ? o(c) : o;
        n(r);
        try {
            localStorage.setItem(m, r);
        } catch (v) {}
    }, [
        c
    ]), A = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"]((o)=>{
        let r = E(o);
        y(r), c === "system" && s && !e && S("system");
    }, [
        c,
        e
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"](()=>{
        let o = window.matchMedia(I);
        return o.addListener(A), A(o), ()=>o.removeListener(A);
    }, [
        A
    ]), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"](()=>{
        let o = (r)=>{
            r.key === m && (r.newValue ? n(r.newValue) : f(l));
        };
        return window.addEventListener("storage", o), ()=>window.removeEventListener("storage", o);
    }, [
        f
    ]), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"](()=>{
        S(e != null ? e : c);
    }, [
        e,
        c
    ]);
    let Q = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>({
            theme: c,
            setTheme: f,
            forcedTheme: e,
            resolvedTheme: c === "system" ? T : c,
            themes: s ? [
                ...a,
                "system"
            ] : a,
            systemTheme: s ? T : void 0
        }), [
        c,
        f,
        e,
        T,
        s,
        a
    ]);
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](x.Provider, {
        value: Q
    }, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](_, {
        forcedTheme: e,
        storageKey: m,
        attribute: h,
        enableSystem: s,
        enableColorScheme: u,
        defaultTheme: l,
        value: d,
        themes: a,
        nonce: p,
        scriptProps: R
    }), w);
}, _ = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memo"](({ forcedTheme: e, storageKey: i, attribute: s, enableSystem: u, enableColorScheme: m, defaultTheme: a, value: l, themes: h, nonce: d, scriptProps: w })=>{
    let p = JSON.stringify([
        s,
        i,
        a,
        e,
        h,
        l,
        u,
        m
    ]).slice(1, -1);
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"]("script", {
        ...w,
        suppressHydrationWarning: !0,
        nonce: ("TURBOPACK compile-time truthy", 1) ? d : "TURBOPACK unreachable",
        dangerouslySetInnerHTML: {
            __html: `(${M.toString()})(${p})`
        }
    });
}), H = (e, i)=>{
    if ("TURBOPACK compile-time truthy", 1) return;
    //TURBOPACK unreachable
    ;
    let s;
}, W = (e)=>{
    let i = document.createElement("style");
    return e && i.setAttribute("nonce", e), i.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")), document.head.appendChild(i), ()=>{
        window.getComputedStyle(document.body), setTimeout(()=>{
            document.head.removeChild(i);
        }, 1);
    };
}, E = (e)=>(e || (e = window.matchMedia(I)), e.matches ? "dark" : "light");
;
}),
"[project]/node_modules/sonner/dist/index.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "Toaster": ()=>Toaster,
    "toast": ()=>toast,
    "useSonner": ()=>useSonner
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$dom$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js [app-ssr] (ecmascript)");
'use client';
function __insertCSS(code) {
    if (!code || typeof document == 'undefined') return;
    let head = document.head || document.getElementsByTagName('head')[0];
    let style = document.createElement('style');
    style.type = 'text/css';
    head.appendChild(style);
    style.styleSheet ? style.styleSheet.cssText = code : style.appendChild(document.createTextNode(code));
}
;
;
const getAsset = (type)=>{
    switch(type){
        case 'success':
            return SuccessIcon;
        case 'info':
            return InfoIcon;
        case 'warning':
            return WarningIcon;
        case 'error':
            return ErrorIcon;
        default:
            return null;
    }
};
const bars = Array(12).fill(0);
const Loader = ({ visible, className })=>{
    return /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", {
        className: [
            'sonner-loading-wrapper',
            className
        ].filter(Boolean).join(' '),
        "data-visible": visible
    }, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", {
        className: "sonner-spinner"
    }, bars.map((_, i)=>/*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", {
            className: "sonner-loading-bar",
            key: `spinner-bar-${i}`
        }))));
};
const SuccessIcon = /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 20 20",
    fill: "currentColor",
    height: "20",
    width: "20"
}, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("path", {
    fillRule: "evenodd",
    d: "M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",
    clipRule: "evenodd"
}));
const WarningIcon = /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    fill: "currentColor",
    height: "20",
    width: "20"
}, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("path", {
    fillRule: "evenodd",
    d: "M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",
    clipRule: "evenodd"
}));
const InfoIcon = /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 20 20",
    fill: "currentColor",
    height: "20",
    width: "20"
}, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("path", {
    fillRule: "evenodd",
    d: "M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",
    clipRule: "evenodd"
}));
const ErrorIcon = /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 20 20",
    fill: "currentColor",
    height: "20",
    width: "20"
}, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("path", {
    fillRule: "evenodd",
    d: "M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",
    clipRule: "evenodd"
}));
const CloseIcon = /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "12",
    height: "12",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "1.5",
    strokeLinecap: "round",
    strokeLinejoin: "round"
}, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("line", {
    x1: "18",
    y1: "6",
    x2: "6",
    y2: "18"
}), /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("line", {
    x1: "6",
    y1: "6",
    x2: "18",
    y2: "18"
}));
const useIsDocumentHidden = ()=>{
    const [isDocumentHidden, setIsDocumentHidden] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(document.hidden);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        const callback = ()=>{
            setIsDocumentHidden(document.hidden);
        };
        document.addEventListener('visibilitychange', callback);
        return ()=>window.removeEventListener('visibilitychange', callback);
    }, []);
    return isDocumentHidden;
};
let toastsCounter = 1;
class Observer {
    constructor(){
        // We use arrow functions to maintain the correct `this` reference
        this.subscribe = (subscriber)=>{
            this.subscribers.push(subscriber);
            return ()=>{
                const index = this.subscribers.indexOf(subscriber);
                this.subscribers.splice(index, 1);
            };
        };
        this.publish = (data)=>{
            this.subscribers.forEach((subscriber)=>subscriber(data));
        };
        this.addToast = (data)=>{
            this.publish(data);
            this.toasts = [
                ...this.toasts,
                data
            ];
        };
        this.create = (data)=>{
            var _data_id;
            const { message, ...rest } = data;
            const id = typeof (data == null ? void 0 : data.id) === 'number' || ((_data_id = data.id) == null ? void 0 : _data_id.length) > 0 ? data.id : toastsCounter++;
            const alreadyExists = this.toasts.find((toast)=>{
                return toast.id === id;
            });
            const dismissible = data.dismissible === undefined ? true : data.dismissible;
            if (this.dismissedToasts.has(id)) {
                this.dismissedToasts.delete(id);
            }
            if (alreadyExists) {
                this.toasts = this.toasts.map((toast)=>{
                    if (toast.id === id) {
                        this.publish({
                            ...toast,
                            ...data,
                            id,
                            title: message
                        });
                        return {
                            ...toast,
                            ...data,
                            id,
                            dismissible,
                            title: message
                        };
                    }
                    return toast;
                });
            } else {
                this.addToast({
                    title: message,
                    ...rest,
                    dismissible,
                    id
                });
            }
            return id;
        };
        this.dismiss = (id)=>{
            if (id) {
                this.dismissedToasts.add(id);
                requestAnimationFrame(()=>this.subscribers.forEach((subscriber)=>subscriber({
                            id,
                            dismiss: true
                        })));
            } else {
                this.toasts.forEach((toast)=>{
                    this.subscribers.forEach((subscriber)=>subscriber({
                            id: toast.id,
                            dismiss: true
                        }));
                });
            }
            return id;
        };
        this.message = (message, data)=>{
            return this.create({
                ...data,
                message
            });
        };
        this.error = (message, data)=>{
            return this.create({
                ...data,
                message,
                type: 'error'
            });
        };
        this.success = (message, data)=>{
            return this.create({
                ...data,
                type: 'success',
                message
            });
        };
        this.info = (message, data)=>{
            return this.create({
                ...data,
                type: 'info',
                message
            });
        };
        this.warning = (message, data)=>{
            return this.create({
                ...data,
                type: 'warning',
                message
            });
        };
        this.loading = (message, data)=>{
            return this.create({
                ...data,
                type: 'loading',
                message
            });
        };
        this.promise = (promise, data)=>{
            if (!data) {
                // Nothing to show
                return;
            }
            let id = undefined;
            if (data.loading !== undefined) {
                id = this.create({
                    ...data,
                    promise,
                    type: 'loading',
                    message: data.loading,
                    description: typeof data.description !== 'function' ? data.description : undefined
                });
            }
            const p = Promise.resolve(promise instanceof Function ? promise() : promise);
            let shouldDismiss = id !== undefined;
            let result;
            const originalPromise = p.then(async (response)=>{
                result = [
                    'resolve',
                    response
                ];
                const isReactElementResponse = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].isValidElement(response);
                if (isReactElementResponse) {
                    shouldDismiss = false;
                    this.create({
                        id,
                        type: 'default',
                        message: response
                    });
                } else if (isHttpResponse(response) && !response.ok) {
                    shouldDismiss = false;
                    const promiseData = typeof data.error === 'function' ? await data.error(`HTTP error! status: ${response.status}`) : data.error;
                    const description = typeof data.description === 'function' ? await data.description(`HTTP error! status: ${response.status}`) : data.description;
                    const isExtendedResult = typeof promiseData === 'object' && !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].isValidElement(promiseData);
                    const toastSettings = isExtendedResult ? promiseData : {
                        message: promiseData
                    };
                    this.create({
                        id,
                        type: 'error',
                        description,
                        ...toastSettings
                    });
                } else if (response instanceof Error) {
                    shouldDismiss = false;
                    const promiseData = typeof data.error === 'function' ? await data.error(response) : data.error;
                    const description = typeof data.description === 'function' ? await data.description(response) : data.description;
                    const isExtendedResult = typeof promiseData === 'object' && !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].isValidElement(promiseData);
                    const toastSettings = isExtendedResult ? promiseData : {
                        message: promiseData
                    };
                    this.create({
                        id,
                        type: 'error',
                        description,
                        ...toastSettings
                    });
                } else if (data.success !== undefined) {
                    shouldDismiss = false;
                    const promiseData = typeof data.success === 'function' ? await data.success(response) : data.success;
                    const description = typeof data.description === 'function' ? await data.description(response) : data.description;
                    const isExtendedResult = typeof promiseData === 'object' && !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].isValidElement(promiseData);
                    const toastSettings = isExtendedResult ? promiseData : {
                        message: promiseData
                    };
                    this.create({
                        id,
                        type: 'success',
                        description,
                        ...toastSettings
                    });
                }
            }).catch(async (error)=>{
                result = [
                    'reject',
                    error
                ];
                if (data.error !== undefined) {
                    shouldDismiss = false;
                    const promiseData = typeof data.error === 'function' ? await data.error(error) : data.error;
                    const description = typeof data.description === 'function' ? await data.description(error) : data.description;
                    const isExtendedResult = typeof promiseData === 'object' && !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].isValidElement(promiseData);
                    const toastSettings = isExtendedResult ? promiseData : {
                        message: promiseData
                    };
                    this.create({
                        id,
                        type: 'error',
                        description,
                        ...toastSettings
                    });
                }
            }).finally(()=>{
                if (shouldDismiss) {
                    // Toast is still in load state (and will be indefinitely  dismiss it)
                    this.dismiss(id);
                    id = undefined;
                }
                data.finally == null ? void 0 : data.finally.call(data);
            });
            const unwrap = ()=>new Promise((resolve, reject)=>originalPromise.then(()=>result[0] === 'reject' ? reject(result[1]) : resolve(result[1])).catch(reject));
            if (typeof id !== 'string' && typeof id !== 'number') {
                // cannot Object.assign on undefined
                return {
                    unwrap
                };
            } else {
                return Object.assign(id, {
                    unwrap
                });
            }
        };
        this.custom = (jsx, data)=>{
            const id = (data == null ? void 0 : data.id) || toastsCounter++;
            this.create({
                jsx: jsx(id),
                id,
                ...data
            });
            return id;
        };
        this.getActiveToasts = ()=>{
            return this.toasts.filter((toast)=>!this.dismissedToasts.has(toast.id));
        };
        this.subscribers = [];
        this.toasts = [];
        this.dismissedToasts = new Set();
    }
}
const ToastState = new Observer();
// bind this to the toast function
const toastFunction = (message, data)=>{
    const id = (data == null ? void 0 : data.id) || toastsCounter++;
    ToastState.addToast({
        title: message,
        ...data,
        id
    });
    return id;
};
const isHttpResponse = (data)=>{
    return data && typeof data === 'object' && 'ok' in data && typeof data.ok === 'boolean' && 'status' in data && typeof data.status === 'number';
};
const basicToast = toastFunction;
const getHistory = ()=>ToastState.toasts;
const getToasts = ()=>ToastState.getActiveToasts();
// We use `Object.assign` to maintain the correct types as we would lose them otherwise
const toast = Object.assign(basicToast, {
    success: ToastState.success,
    info: ToastState.info,
    warning: ToastState.warning,
    error: ToastState.error,
    custom: ToastState.custom,
    message: ToastState.message,
    promise: ToastState.promise,
    dismiss: ToastState.dismiss,
    loading: ToastState.loading
}, {
    getHistory,
    getToasts
});
__insertCSS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");
function isAction(action) {
    return action.label !== undefined;
}
// Visible toasts amount
const VISIBLE_TOASTS_AMOUNT = 3;
// Viewport padding
const VIEWPORT_OFFSET = '24px';
// Mobile viewport padding
const MOBILE_VIEWPORT_OFFSET = '16px';
// Default lifetime of a toasts (in ms)
const TOAST_LIFETIME = 4000;
// Default toast width
const TOAST_WIDTH = 356;
// Default gap between toasts
const GAP = 14;
// Threshold to dismiss a toast
const SWIPE_THRESHOLD = 45;
// Equal to exit animation duration
const TIME_BEFORE_UNMOUNT = 200;
function cn(...classes) {
    return classes.filter(Boolean).join(' ');
}
function getDefaultSwipeDirections(position) {
    const [y, x] = position.split('-');
    const directions = [];
    if (y) {
        directions.push(y);
    }
    if (x) {
        directions.push(x);
    }
    return directions;
}
const Toast = (props)=>{
    var _toast_classNames, _toast_classNames1, _toast_classNames2, _toast_classNames3, _toast_classNames4, _toast_classNames5, _toast_classNames6, _toast_classNames7, _toast_classNames8;
    const { invert: ToasterInvert, toast, unstyled, interacting, setHeights, visibleToasts, heights, index, toasts, expanded, removeToast, defaultRichColors, closeButton: closeButtonFromToaster, style, cancelButtonStyle, actionButtonStyle, className = '', descriptionClassName = '', duration: durationFromToaster, position, gap, expandByDefault, classNames, icons, closeButtonAriaLabel = 'Close toast' } = props;
    const [swipeDirection, setSwipeDirection] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(null);
    const [swipeOutDirection, setSwipeOutDirection] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(null);
    const [mounted, setMounted] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(false);
    const [removed, setRemoved] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(false);
    const [swiping, setSwiping] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(false);
    const [swipeOut, setSwipeOut] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(false);
    const [isSwiped, setIsSwiped] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(false);
    const [offsetBeforeRemove, setOffsetBeforeRemove] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(0);
    const [initialHeight, setInitialHeight] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(0);
    const remainingTime = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(toast.duration || durationFromToaster || TOAST_LIFETIME);
    const dragStartTime = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(null);
    const toastRef = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(null);
    const isFront = index === 0;
    const isVisible = index + 1 <= visibleToasts;
    const toastType = toast.type;
    const dismissible = toast.dismissible !== false;
    const toastClassname = toast.className || '';
    const toastDescriptionClassname = toast.descriptionClassName || '';
    // Height index is used to calculate the offset as it gets updated before the toast array, which means we can calculate the new layout faster.
    const heightIndex = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useMemo(()=>heights.findIndex((height)=>height.toastId === toast.id) || 0, [
        heights,
        toast.id
    ]);
    const closeButton = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useMemo(()=>{
        var _toast_closeButton;
        return (_toast_closeButton = toast.closeButton) != null ? _toast_closeButton : closeButtonFromToaster;
    }, [
        toast.closeButton,
        closeButtonFromToaster
    ]);
    const duration = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useMemo(()=>toast.duration || durationFromToaster || TOAST_LIFETIME, [
        toast.duration,
        durationFromToaster
    ]);
    const closeTimerStartTimeRef = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(0);
    const offset = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(0);
    const lastCloseTimerStartTimeRef = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(0);
    const pointerStartRef = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(null);
    const [y, x] = position.split('-');
    const toastsHeightBefore = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useMemo(()=>{
        return heights.reduce((prev, curr, reducerIndex)=>{
            // Calculate offset up until current toast
            if (reducerIndex >= heightIndex) {
                return prev;
            }
            return prev + curr.height;
        }, 0);
    }, [
        heights,
        heightIndex
    ]);
    const isDocumentHidden = useIsDocumentHidden();
    const invert = toast.invert || ToasterInvert;
    const disabled = toastType === 'loading';
    offset.current = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useMemo(()=>heightIndex * gap + toastsHeightBefore, [
        heightIndex,
        toastsHeightBefore
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        remainingTime.current = duration;
    }, [
        duration
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        // Trigger enter animation without using CSS animation
        setMounted(true);
    }, []);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        const toastNode = toastRef.current;
        if (toastNode) {
            const height = toastNode.getBoundingClientRect().height;
            // Add toast height to heights array after the toast is mounted
            setInitialHeight(height);
            setHeights((h)=>[
                    {
                        toastId: toast.id,
                        height,
                        position: toast.position
                    },
                    ...h
                ]);
            return ()=>setHeights((h)=>h.filter((height)=>height.toastId !== toast.id));
        }
    }, [
        setHeights,
        toast.id
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useLayoutEffect(()=>{
        // Keep height up to date with the content in case it updates
        if (!mounted) return;
        const toastNode = toastRef.current;
        const originalHeight = toastNode.style.height;
        toastNode.style.height = 'auto';
        const newHeight = toastNode.getBoundingClientRect().height;
        toastNode.style.height = originalHeight;
        setInitialHeight(newHeight);
        setHeights((heights)=>{
            const alreadyExists = heights.find((height)=>height.toastId === toast.id);
            if (!alreadyExists) {
                return [
                    {
                        toastId: toast.id,
                        height: newHeight,
                        position: toast.position
                    },
                    ...heights
                ];
            } else {
                return heights.map((height)=>height.toastId === toast.id ? {
                        ...height,
                        height: newHeight
                    } : height);
            }
        });
    }, [
        mounted,
        toast.title,
        toast.description,
        setHeights,
        toast.id,
        toast.jsx,
        toast.action,
        toast.cancel
    ]);
    const deleteToast = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useCallback(()=>{
        // Save the offset for the exit swipe animation
        setRemoved(true);
        setOffsetBeforeRemove(offset.current);
        setHeights((h)=>h.filter((height)=>height.toastId !== toast.id));
        setTimeout(()=>{
            removeToast(toast);
        }, TIME_BEFORE_UNMOUNT);
    }, [
        toast,
        removeToast,
        setHeights,
        offset
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        if (toast.promise && toastType === 'loading' || toast.duration === Infinity || toast.type === 'loading') return;
        let timeoutId;
        // Pause the timer on each hover
        const pauseTimer = ()=>{
            if (lastCloseTimerStartTimeRef.current < closeTimerStartTimeRef.current) {
                // Get the elapsed time since the timer started
                const elapsedTime = new Date().getTime() - closeTimerStartTimeRef.current;
                remainingTime.current = remainingTime.current - elapsedTime;
            }
            lastCloseTimerStartTimeRef.current = new Date().getTime();
        };
        const startTimer = ()=>{
            // setTimeout(, Infinity) behaves as if the delay is 0.
            // As a result, the toast would be closed immediately, giving the appearance that it was never rendered.
            // See: https://github.com/denysdovhan/wtfjs?tab=readme-ov-file#an-infinite-timeout
            if (remainingTime.current === Infinity) return;
            closeTimerStartTimeRef.current = new Date().getTime();
            // Let the toast know it has started
            timeoutId = setTimeout(()=>{
                toast.onAutoClose == null ? void 0 : toast.onAutoClose.call(toast, toast);
                deleteToast();
            }, remainingTime.current);
        };
        if (expanded || interacting || isDocumentHidden) {
            pauseTimer();
        } else {
            startTimer();
        }
        return ()=>clearTimeout(timeoutId);
    }, [
        expanded,
        interacting,
        toast,
        toastType,
        isDocumentHidden,
        deleteToast
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        if (toast.delete) {
            deleteToast();
            toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);
        }
    }, [
        deleteToast,
        toast.delete
    ]);
    function getLoadingIcon() {
        var _toast_classNames;
        if (icons == null ? void 0 : icons.loading) {
            var _toast_classNames1;
            return /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", {
                className: cn(classNames == null ? void 0 : classNames.loader, toast == null ? void 0 : (_toast_classNames1 = toast.classNames) == null ? void 0 : _toast_classNames1.loader, 'sonner-loader'),
                "data-visible": toastType === 'loading'
            }, icons.loading);
        }
        return /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement(Loader, {
            className: cn(classNames == null ? void 0 : classNames.loader, toast == null ? void 0 : (_toast_classNames = toast.classNames) == null ? void 0 : _toast_classNames.loader),
            visible: toastType === 'loading'
        });
    }
    const icon = toast.icon || (icons == null ? void 0 : icons[toastType]) || getAsset(toastType);
    var _toast_richColors, _icons_close;
    return /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("li", {
        tabIndex: 0,
        ref: toastRef,
        className: cn(className, toastClassname, classNames == null ? void 0 : classNames.toast, toast == null ? void 0 : (_toast_classNames = toast.classNames) == null ? void 0 : _toast_classNames.toast, classNames == null ? void 0 : classNames.default, classNames == null ? void 0 : classNames[toastType], toast == null ? void 0 : (_toast_classNames1 = toast.classNames) == null ? void 0 : _toast_classNames1[toastType]),
        "data-sonner-toast": "",
        "data-rich-colors": (_toast_richColors = toast.richColors) != null ? _toast_richColors : defaultRichColors,
        "data-styled": !Boolean(toast.jsx || toast.unstyled || unstyled),
        "data-mounted": mounted,
        "data-promise": Boolean(toast.promise),
        "data-swiped": isSwiped,
        "data-removed": removed,
        "data-visible": isVisible,
        "data-y-position": y,
        "data-x-position": x,
        "data-index": index,
        "data-front": isFront,
        "data-swiping": swiping,
        "data-dismissible": dismissible,
        "data-type": toastType,
        "data-invert": invert,
        "data-swipe-out": swipeOut,
        "data-swipe-direction": swipeOutDirection,
        "data-expanded": Boolean(expanded || expandByDefault && mounted),
        style: {
            '--index': index,
            '--toasts-before': index,
            '--z-index': toasts.length - index,
            '--offset': `${removed ? offsetBeforeRemove : offset.current}px`,
            '--initial-height': expandByDefault ? 'auto' : `${initialHeight}px`,
            ...style,
            ...toast.style
        },
        onDragEnd: ()=>{
            setSwiping(false);
            setSwipeDirection(null);
            pointerStartRef.current = null;
        },
        onPointerDown: (event)=>{
            if (event.button === 2) return; // Return early on right click
            if (disabled || !dismissible) return;
            dragStartTime.current = new Date();
            setOffsetBeforeRemove(offset.current);
            // Ensure we maintain correct pointer capture even when going outside of the toast (e.g. when swiping)
            event.target.setPointerCapture(event.pointerId);
            if (event.target.tagName === 'BUTTON') return;
            setSwiping(true);
            pointerStartRef.current = {
                x: event.clientX,
                y: event.clientY
            };
        },
        onPointerUp: ()=>{
            var _toastRef_current, _toastRef_current1, _dragStartTime_current;
            if (swipeOut || !dismissible) return;
            pointerStartRef.current = null;
            const swipeAmountX = Number(((_toastRef_current = toastRef.current) == null ? void 0 : _toastRef_current.style.getPropertyValue('--swipe-amount-x').replace('px', '')) || 0);
            const swipeAmountY = Number(((_toastRef_current1 = toastRef.current) == null ? void 0 : _toastRef_current1.style.getPropertyValue('--swipe-amount-y').replace('px', '')) || 0);
            const timeTaken = new Date().getTime() - ((_dragStartTime_current = dragStartTime.current) == null ? void 0 : _dragStartTime_current.getTime());
            const swipeAmount = swipeDirection === 'x' ? swipeAmountX : swipeAmountY;
            const velocity = Math.abs(swipeAmount) / timeTaken;
            if (Math.abs(swipeAmount) >= SWIPE_THRESHOLD || velocity > 0.11) {
                setOffsetBeforeRemove(offset.current);
                toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);
                if (swipeDirection === 'x') {
                    setSwipeOutDirection(swipeAmountX > 0 ? 'right' : 'left');
                } else {
                    setSwipeOutDirection(swipeAmountY > 0 ? 'down' : 'up');
                }
                deleteToast();
                setSwipeOut(true);
                return;
            } else {
                var _toastRef_current2, _toastRef_current3;
                (_toastRef_current2 = toastRef.current) == null ? void 0 : _toastRef_current2.style.setProperty('--swipe-amount-x', `0px`);
                (_toastRef_current3 = toastRef.current) == null ? void 0 : _toastRef_current3.style.setProperty('--swipe-amount-y', `0px`);
            }
            setIsSwiped(false);
            setSwiping(false);
            setSwipeDirection(null);
        },
        onPointerMove: (event)=>{
            var _window_getSelection, _toastRef_current, _toastRef_current1;
            if (!pointerStartRef.current || !dismissible) return;
            const isHighlighted = ((_window_getSelection = window.getSelection()) == null ? void 0 : _window_getSelection.toString().length) > 0;
            if (isHighlighted) return;
            const yDelta = event.clientY - pointerStartRef.current.y;
            const xDelta = event.clientX - pointerStartRef.current.x;
            var _props_swipeDirections;
            const swipeDirections = (_props_swipeDirections = props.swipeDirections) != null ? _props_swipeDirections : getDefaultSwipeDirections(position);
            // Determine swipe direction if not already locked
            if (!swipeDirection && (Math.abs(xDelta) > 1 || Math.abs(yDelta) > 1)) {
                setSwipeDirection(Math.abs(xDelta) > Math.abs(yDelta) ? 'x' : 'y');
            }
            let swipeAmount = {
                x: 0,
                y: 0
            };
            const getDampening = (delta)=>{
                const factor = Math.abs(delta) / 20;
                return 1 / (1.5 + factor);
            };
            // Only apply swipe in the locked direction
            if (swipeDirection === 'y') {
                // Handle vertical swipes
                if (swipeDirections.includes('top') || swipeDirections.includes('bottom')) {
                    if (swipeDirections.includes('top') && yDelta < 0 || swipeDirections.includes('bottom') && yDelta > 0) {
                        swipeAmount.y = yDelta;
                    } else {
                        // Smoothly transition to dampened movement
                        const dampenedDelta = yDelta * getDampening(yDelta);
                        // Ensure we don't jump when transitioning to dampened movement
                        swipeAmount.y = Math.abs(dampenedDelta) < Math.abs(yDelta) ? dampenedDelta : yDelta;
                    }
                }
            } else if (swipeDirection === 'x') {
                // Handle horizontal swipes
                if (swipeDirections.includes('left') || swipeDirections.includes('right')) {
                    if (swipeDirections.includes('left') && xDelta < 0 || swipeDirections.includes('right') && xDelta > 0) {
                        swipeAmount.x = xDelta;
                    } else {
                        // Smoothly transition to dampened movement
                        const dampenedDelta = xDelta * getDampening(xDelta);
                        // Ensure we don't jump when transitioning to dampened movement
                        swipeAmount.x = Math.abs(dampenedDelta) < Math.abs(xDelta) ? dampenedDelta : xDelta;
                    }
                }
            }
            if (Math.abs(swipeAmount.x) > 0 || Math.abs(swipeAmount.y) > 0) {
                setIsSwiped(true);
            }
            (_toastRef_current = toastRef.current) == null ? void 0 : _toastRef_current.style.setProperty('--swipe-amount-x', `${swipeAmount.x}px`);
            (_toastRef_current1 = toastRef.current) == null ? void 0 : _toastRef_current1.style.setProperty('--swipe-amount-y', `${swipeAmount.y}px`);
        }
    }, closeButton && !toast.jsx && toastType !== 'loading' ? /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("button", {
        "aria-label": closeButtonAriaLabel,
        "data-disabled": disabled,
        "data-close-button": true,
        onClick: disabled || !dismissible ? ()=>{} : ()=>{
            deleteToast();
            toast.onDismiss == null ? void 0 : toast.onDismiss.call(toast, toast);
        },
        className: cn(classNames == null ? void 0 : classNames.closeButton, toast == null ? void 0 : (_toast_classNames2 = toast.classNames) == null ? void 0 : _toast_classNames2.closeButton)
    }, (_icons_close = icons == null ? void 0 : icons.close) != null ? _icons_close : CloseIcon) : null, (toastType || toast.icon || toast.promise) && toast.icon !== null && ((icons == null ? void 0 : icons[toastType]) !== null || toast.icon) ? /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", {
        "data-icon": "",
        className: cn(classNames == null ? void 0 : classNames.icon, toast == null ? void 0 : (_toast_classNames3 = toast.classNames) == null ? void 0 : _toast_classNames3.icon)
    }, toast.promise || toast.type === 'loading' && !toast.icon ? toast.icon || getLoadingIcon() : null, toast.type !== 'loading' ? icon : null) : null, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", {
        "data-content": "",
        className: cn(classNames == null ? void 0 : classNames.content, toast == null ? void 0 : (_toast_classNames4 = toast.classNames) == null ? void 0 : _toast_classNames4.content)
    }, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", {
        "data-title": "",
        className: cn(classNames == null ? void 0 : classNames.title, toast == null ? void 0 : (_toast_classNames5 = toast.classNames) == null ? void 0 : _toast_classNames5.title)
    }, toast.jsx ? toast.jsx : typeof toast.title === 'function' ? toast.title() : toast.title), toast.description ? /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", {
        "data-description": "",
        className: cn(descriptionClassName, toastDescriptionClassname, classNames == null ? void 0 : classNames.description, toast == null ? void 0 : (_toast_classNames6 = toast.classNames) == null ? void 0 : _toast_classNames6.description)
    }, typeof toast.description === 'function' ? toast.description() : toast.description) : null), /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].isValidElement(toast.cancel) ? toast.cancel : toast.cancel && isAction(toast.cancel) ? /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("button", {
        "data-button": true,
        "data-cancel": true,
        style: toast.cancelButtonStyle || cancelButtonStyle,
        onClick: (event)=>{
            // We need to check twice because typescript
            if (!isAction(toast.cancel)) return;
            if (!dismissible) return;
            toast.cancel.onClick == null ? void 0 : toast.cancel.onClick.call(toast.cancel, event);
            deleteToast();
        },
        className: cn(classNames == null ? void 0 : classNames.cancelButton, toast == null ? void 0 : (_toast_classNames7 = toast.classNames) == null ? void 0 : _toast_classNames7.cancelButton)
    }, toast.cancel.label) : null, /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].isValidElement(toast.action) ? toast.action : toast.action && isAction(toast.action) ? /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("button", {
        "data-button": true,
        "data-action": true,
        style: toast.actionButtonStyle || actionButtonStyle,
        onClick: (event)=>{
            // We need to check twice because typescript
            if (!isAction(toast.action)) return;
            toast.action.onClick == null ? void 0 : toast.action.onClick.call(toast.action, event);
            if (event.defaultPrevented) return;
            deleteToast();
        },
        className: cn(classNames == null ? void 0 : classNames.actionButton, toast == null ? void 0 : (_toast_classNames8 = toast.classNames) == null ? void 0 : _toast_classNames8.actionButton)
    }, toast.action.label) : null);
};
function getDocumentDirection() {
    if ("TURBOPACK compile-time truthy", 1) return 'ltr';
    //TURBOPACK unreachable
    ;
    const dirAttribute = undefined;
}
function assignOffset(defaultOffset, mobileOffset) {
    const styles = {};
    [
        defaultOffset,
        mobileOffset
    ].forEach((offset, index)=>{
        const isMobile = index === 1;
        const prefix = isMobile ? '--mobile-offset' : '--offset';
        const defaultValue = isMobile ? MOBILE_VIEWPORT_OFFSET : VIEWPORT_OFFSET;
        function assignAll(offset) {
            [
                'top',
                'right',
                'bottom',
                'left'
            ].forEach((key)=>{
                styles[`${prefix}-${key}`] = typeof offset === 'number' ? `${offset}px` : offset;
            });
        }
        if (typeof offset === 'number' || typeof offset === 'string') {
            assignAll(offset);
        } else if (typeof offset === 'object') {
            [
                'top',
                'right',
                'bottom',
                'left'
            ].forEach((key)=>{
                if (offset[key] === undefined) {
                    styles[`${prefix}-${key}`] = defaultValue;
                } else {
                    styles[`${prefix}-${key}`] = typeof offset[key] === 'number' ? `${offset[key]}px` : offset[key];
                }
            });
        } else {
            assignAll(defaultValue);
        }
    });
    return styles;
}
function useSonner() {
    const [activeToasts, setActiveToasts] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState([]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        return ToastState.subscribe((toast)=>{
            if (toast.dismiss) {
                setTimeout(()=>{
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$dom$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].flushSync(()=>{
                        setActiveToasts((toasts)=>toasts.filter((t)=>t.id !== toast.id));
                    });
                });
                return;
            }
            // Prevent batching, temp solution.
            setTimeout(()=>{
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$dom$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].flushSync(()=>{
                    setActiveToasts((toasts)=>{
                        const indexOfExistingToast = toasts.findIndex((t)=>t.id === toast.id);
                        // Update the toast if it already exists
                        if (indexOfExistingToast !== -1) {
                            return [
                                ...toasts.slice(0, indexOfExistingToast),
                                {
                                    ...toasts[indexOfExistingToast],
                                    ...toast
                                },
                                ...toasts.slice(indexOfExistingToast + 1)
                            ];
                        }
                        return [
                            toast,
                            ...toasts
                        ];
                    });
                });
            });
        });
    }, []);
    return {
        toasts: activeToasts
    };
}
const Toaster = /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].forwardRef(function Toaster(props, ref) {
    const { invert, position = 'bottom-right', hotkey = [
        'altKey',
        'KeyT'
    ], expand, closeButton, className, offset, mobileOffset, theme = 'light', richColors, duration, style, visibleToasts = VISIBLE_TOASTS_AMOUNT, toastOptions, dir = getDocumentDirection(), gap = GAP, icons, containerAriaLabel = 'Notifications' } = props;
    const [toasts, setToasts] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState([]);
    const possiblePositions = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useMemo(()=>{
        return Array.from(new Set([
            position
        ].concat(toasts.filter((toast)=>toast.position).map((toast)=>toast.position))));
    }, [
        toasts,
        position
    ]);
    const [heights, setHeights] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState([]);
    const [expanded, setExpanded] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(false);
    const [interacting, setInteracting] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(false);
    const [actualTheme, setActualTheme] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useState(theme !== 'system' ? theme : ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : 'light');
    const listRef = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(null);
    const hotkeyLabel = hotkey.join('+').replace(/Key/g, '').replace(/Digit/g, '');
    const lastFocusedElementRef = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(null);
    const isFocusWithinRef = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useRef(false);
    const removeToast = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useCallback((toastToRemove)=>{
        setToasts((toasts)=>{
            var _toasts_find;
            if (!((_toasts_find = toasts.find((toast)=>toast.id === toastToRemove.id)) == null ? void 0 : _toasts_find.delete)) {
                ToastState.dismiss(toastToRemove.id);
            }
            return toasts.filter(({ id })=>id !== toastToRemove.id);
        });
    }, []);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        return ToastState.subscribe((toast)=>{
            if (toast.dismiss) {
                // Prevent batching of other state updates
                requestAnimationFrame(()=>{
                    setToasts((toasts)=>toasts.map((t)=>t.id === toast.id ? {
                                ...t,
                                delete: true
                            } : t));
                });
                return;
            }
            // Prevent batching, temp solution.
            setTimeout(()=>{
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$dom$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].flushSync(()=>{
                    setToasts((toasts)=>{
                        const indexOfExistingToast = toasts.findIndex((t)=>t.id === toast.id);
                        // Update the toast if it already exists
                        if (indexOfExistingToast !== -1) {
                            return [
                                ...toasts.slice(0, indexOfExistingToast),
                                {
                                    ...toasts[indexOfExistingToast],
                                    ...toast
                                },
                                ...toasts.slice(indexOfExistingToast + 1)
                            ];
                        }
                        return [
                            toast,
                            ...toasts
                        ];
                    });
                });
            });
        });
    }, [
        toasts
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        if (theme !== 'system') {
            setActualTheme(theme);
            return;
        }
        if (theme === 'system') {
            // check if current preference is dark
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                // it's currently dark
                setActualTheme('dark');
            } else {
                // it's not dark
                setActualTheme('light');
            }
        }
        if ("TURBOPACK compile-time truthy", 1) return;
        //TURBOPACK unreachable
        ;
        const darkMediaQuery = undefined;
    }, [
        theme
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        // Ensure expanded is always false when no toasts are present / only one left
        if (toasts.length <= 1) {
            setExpanded(false);
        }
    }, [
        toasts
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        const handleKeyDown = (event)=>{
            var _listRef_current;
            const isHotkeyPressed = hotkey.every((key)=>event[key] || event.code === key);
            if (isHotkeyPressed) {
                var _listRef_current1;
                setExpanded(true);
                (_listRef_current1 = listRef.current) == null ? void 0 : _listRef_current1.focus();
            }
            if (event.code === 'Escape' && (document.activeElement === listRef.current || ((_listRef_current = listRef.current) == null ? void 0 : _listRef_current.contains(document.activeElement)))) {
                setExpanded(false);
            }
        };
        document.addEventListener('keydown', handleKeyDown);
        return ()=>document.removeEventListener('keydown', handleKeyDown);
    }, [
        hotkey
    ]);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].useEffect(()=>{
        if (listRef.current) {
            return ()=>{
                if (lastFocusedElementRef.current) {
                    lastFocusedElementRef.current.focus({
                        preventScroll: true
                    });
                    lastFocusedElementRef.current = null;
                    isFocusWithinRef.current = false;
                }
            };
        }
    }, [
        listRef.current
    ]);
    return /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("section", {
        ref: ref,
        "aria-label": `${containerAriaLabel} ${hotkeyLabel}`,
        tabIndex: -1,
        "aria-live": "polite",
        "aria-relevant": "additions text",
        "aria-atomic": "false",
        suppressHydrationWarning: true
    }, possiblePositions.map((position, index)=>{
        var _heights_;
        const [y, x] = position.split('-');
        if (!toasts.length) return null;
        return /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("ol", {
            key: position,
            dir: dir === 'auto' ? getDocumentDirection() : dir,
            tabIndex: -1,
            ref: listRef,
            className: className,
            "data-sonner-toaster": true,
            "data-sonner-theme": actualTheme,
            "data-y-position": y,
            "data-x-position": x,
            style: {
                '--front-toast-height': `${((_heights_ = heights[0]) == null ? void 0 : _heights_.height) || 0}px`,
                '--width': `${TOAST_WIDTH}px`,
                '--gap': `${gap}px`,
                ...style,
                ...assignOffset(offset, mobileOffset)
            },
            onBlur: (event)=>{
                if (isFocusWithinRef.current && !event.currentTarget.contains(event.relatedTarget)) {
                    isFocusWithinRef.current = false;
                    if (lastFocusedElementRef.current) {
                        lastFocusedElementRef.current.focus({
                            preventScroll: true
                        });
                        lastFocusedElementRef.current = null;
                    }
                }
            },
            onFocus: (event)=>{
                const isNotDismissible = event.target instanceof HTMLElement && event.target.dataset.dismissible === 'false';
                if (isNotDismissible) return;
                if (!isFocusWithinRef.current) {
                    isFocusWithinRef.current = true;
                    lastFocusedElementRef.current = event.relatedTarget;
                }
            },
            onMouseEnter: ()=>setExpanded(true),
            onMouseMove: ()=>setExpanded(true),
            onMouseLeave: ()=>{
                // Avoid setting expanded to false when interacting with a toast, e.g. swiping
                if (!interacting) {
                    setExpanded(false);
                }
            },
            onDragEnd: ()=>setExpanded(false),
            onPointerDown: (event)=>{
                const isNotDismissible = event.target instanceof HTMLElement && event.target.dataset.dismissible === 'false';
                if (isNotDismissible) return;
                setInteracting(true);
            },
            onPointerUp: ()=>setInteracting(false)
        }, toasts.filter((toast)=>!toast.position && index === 0 || toast.position === position).map((toast, index)=>{
            var _toastOptions_duration, _toastOptions_closeButton;
            return /*#__PURE__*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement(Toast, {
                key: toast.id,
                icons: icons,
                index: index,
                toast: toast,
                defaultRichColors: richColors,
                duration: (_toastOptions_duration = toastOptions == null ? void 0 : toastOptions.duration) != null ? _toastOptions_duration : duration,
                className: toastOptions == null ? void 0 : toastOptions.className,
                descriptionClassName: toastOptions == null ? void 0 : toastOptions.descriptionClassName,
                invert: invert,
                visibleToasts: visibleToasts,
                closeButton: (_toastOptions_closeButton = toastOptions == null ? void 0 : toastOptions.closeButton) != null ? _toastOptions_closeButton : closeButton,
                interacting: interacting,
                position: position,
                style: toastOptions == null ? void 0 : toastOptions.style,
                unstyled: toastOptions == null ? void 0 : toastOptions.unstyled,
                classNames: toastOptions == null ? void 0 : toastOptions.classNames,
                cancelButtonStyle: toastOptions == null ? void 0 : toastOptions.cancelButtonStyle,
                actionButtonStyle: toastOptions == null ? void 0 : toastOptions.actionButtonStyle,
                closeButtonAriaLabel: toastOptions == null ? void 0 : toastOptions.closeButtonAriaLabel,
                removeToast: removeToast,
                toasts: toasts.filter((t)=>t.position == toast.position),
                heights: heights.filter((h)=>h.position == toast.position),
                setHeights: setHeights,
                expandByDefault: expand,
                gap: gap,
                expanded: expanded,
                swipeDirections: props.swipeDirections
            });
        }));
    }));
});
;
}),
"[project]/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { m: module, e: exports } = __turbopack_context__;
{
/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ "production" !== ("TURBOPACK compile-time value", "development") && function() {
    function is(x, y) {
        return x === y && (0 !== x || 1 / x === 1 / y) || x !== x && y !== y;
    }
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var React = __turbopack_context__.r("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)"), objectIs = "function" === typeof Object.is ? Object.is : is, useSyncExternalStore = React.useSyncExternalStore, useRef = React.useRef, useEffect = React.useEffect, useMemo = React.useMemo, useDebugValue = React.useDebugValue;
    exports.useSyncExternalStoreWithSelector = function(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {
        var instRef = useRef(null);
        if (null === instRef.current) {
            var inst = {
                hasValue: !1,
                value: null
            };
            instRef.current = inst;
        } else inst = instRef.current;
        instRef = useMemo(function() {
            function memoizedSelector(nextSnapshot) {
                if (!hasMemo) {
                    hasMemo = !0;
                    memoizedSnapshot = nextSnapshot;
                    nextSnapshot = selector(nextSnapshot);
                    if (void 0 !== isEqual && inst.hasValue) {
                        var currentSelection = inst.value;
                        if (isEqual(currentSelection, nextSnapshot)) return memoizedSelection = currentSelection;
                    }
                    return memoizedSelection = nextSnapshot;
                }
                currentSelection = memoizedSelection;
                if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;
                var nextSelection = selector(nextSnapshot);
                if (void 0 !== isEqual && isEqual(currentSelection, nextSelection)) return memoizedSnapshot = nextSnapshot, currentSelection;
                memoizedSnapshot = nextSnapshot;
                return memoizedSelection = nextSelection;
            }
            var hasMemo = !1, memoizedSnapshot, memoizedSelection, maybeGetServerSnapshot = void 0 === getServerSnapshot ? null : getServerSnapshot;
            return [
                function() {
                    return memoizedSelector(getSnapshot());
                },
                null === maybeGetServerSnapshot ? void 0 : function() {
                    return memoizedSelector(maybeGetServerSnapshot());
                }
            ];
        }, [
            getSnapshot,
            getServerSnapshot,
            selector,
            isEqual
        ]);
        var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);
        useEffect(function() {
            inst.hasValue = !0;
            inst.value = value;
        }, [
            value
        ]);
        useDebugValue(value);
        return value;
    };
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
}();
}}),
"[project]/node_modules/use-sync-external-store/with-selector.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { m: module, e: exports } = __turbopack_context__;
{
if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
;
else {
    module.exports = __turbopack_context__.r("[project]/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js [app-ssr] (ecmascript)");
}
}}),
"[project]/node_modules/react-redux/dist/react-redux.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// src/utils/react.ts
__turbopack_context__.s({
    "Provider": ()=>Provider_default,
    "ReactReduxContext": ()=>ReactReduxContext,
    "batch": ()=>batch,
    "connect": ()=>connect_default,
    "createDispatchHook": ()=>createDispatchHook,
    "createSelectorHook": ()=>createSelectorHook,
    "createStoreHook": ()=>createStoreHook,
    "shallowEqual": ()=>shallowEqual,
    "useDispatch": ()=>useDispatch,
    "useSelector": ()=>useSelector,
    "useStore": ()=>useStore
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
// src/hooks/useSelector.ts
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$sync$2d$external$2d$store$2f$with$2d$selector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/use-sync-external-store/with-selector.js [app-ssr] (ecmascript)");
;
// src/utils/react-is.ts
var IS_REACT_19 = /* @__PURE__ */ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["version"].startsWith("19");
var REACT_ELEMENT_TYPE = /* @__PURE__ */ Symbol.for(IS_REACT_19 ? "react.transitional.element" : "react.element");
var REACT_PORTAL_TYPE = /* @__PURE__ */ Symbol.for("react.portal");
var REACT_FRAGMENT_TYPE = /* @__PURE__ */ Symbol.for("react.fragment");
var REACT_STRICT_MODE_TYPE = /* @__PURE__ */ Symbol.for("react.strict_mode");
var REACT_PROFILER_TYPE = /* @__PURE__ */ Symbol.for("react.profiler");
var REACT_CONSUMER_TYPE = /* @__PURE__ */ Symbol.for("react.consumer");
var REACT_CONTEXT_TYPE = /* @__PURE__ */ Symbol.for("react.context");
var REACT_FORWARD_REF_TYPE = /* @__PURE__ */ Symbol.for("react.forward_ref");
var REACT_SUSPENSE_TYPE = /* @__PURE__ */ Symbol.for("react.suspense");
var REACT_SUSPENSE_LIST_TYPE = /* @__PURE__ */ Symbol.for("react.suspense_list");
var REACT_MEMO_TYPE = /* @__PURE__ */ Symbol.for("react.memo");
var REACT_LAZY_TYPE = /* @__PURE__ */ Symbol.for("react.lazy");
var REACT_OFFSCREEN_TYPE = /* @__PURE__ */ Symbol.for("react.offscreen");
var REACT_CLIENT_REFERENCE = /* @__PURE__ */ Symbol.for("react.client.reference");
var ForwardRef = REACT_FORWARD_REF_TYPE;
var Memo = REACT_MEMO_TYPE;
function isValidElementType(type) {
    return typeof type === "string" || typeof type === "function" || type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_OFFSCREEN_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_CONSUMER_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_CLIENT_REFERENCE || type.getModuleId !== void 0) ? true : false;
}
function typeOf(object) {
    if (typeof object === "object" && object !== null) {
        const { $$typeof } = object;
        switch($$typeof){
            case REACT_ELEMENT_TYPE:
                switch(object = object.type, object){
                    case REACT_FRAGMENT_TYPE:
                    case REACT_PROFILER_TYPE:
                    case REACT_STRICT_MODE_TYPE:
                    case REACT_SUSPENSE_TYPE:
                    case REACT_SUSPENSE_LIST_TYPE:
                        return object;
                    default:
                        switch(object = object && object.$$typeof, object){
                            case REACT_CONTEXT_TYPE:
                            case REACT_FORWARD_REF_TYPE:
                            case REACT_LAZY_TYPE:
                            case REACT_MEMO_TYPE:
                                return object;
                            case REACT_CONSUMER_TYPE:
                                return object;
                            default:
                                return $$typeof;
                        }
                }
            case REACT_PORTAL_TYPE:
                return $$typeof;
        }
    }
}
function isContextConsumer(object) {
    return IS_REACT_19 ? typeOf(object) === REACT_CONSUMER_TYPE : typeOf(object) === REACT_CONTEXT_TYPE;
}
function isMemo(object) {
    return typeOf(object) === REACT_MEMO_TYPE;
}
// src/utils/warning.ts
function warning(message) {
    if (typeof console !== "undefined" && typeof console.error === "function") {
        console.error(message);
    }
    try {
        throw new Error(message);
    } catch (e) {}
}
// src/connect/verifySubselectors.ts
function verify(selector, methodName) {
    if (!selector) {
        throw new Error(`Unexpected value for ${methodName} in connect.`);
    } else if (methodName === "mapStateToProps" || methodName === "mapDispatchToProps") {
        if (!Object.prototype.hasOwnProperty.call(selector, "dependsOnOwnProps")) {
            warning(`The selector for ${methodName} of connect did not specify a value for dependsOnOwnProps.`);
        }
    }
}
function verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps) {
    verify(mapStateToProps, "mapStateToProps");
    verify(mapDispatchToProps, "mapDispatchToProps");
    verify(mergeProps, "mergeProps");
}
// src/connect/selectorFactory.ts
function pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, { areStatesEqual, areOwnPropsEqual, areStatePropsEqual }) {
    let hasRunAtLeastOnce = false;
    let state;
    let ownProps;
    let stateProps;
    let dispatchProps;
    let mergedProps;
    function handleFirstCall(firstState, firstOwnProps) {
        state = firstState;
        ownProps = firstOwnProps;
        stateProps = mapStateToProps(state, ownProps);
        dispatchProps = mapDispatchToProps(dispatch, ownProps);
        mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
        hasRunAtLeastOnce = true;
        return mergedProps;
    }
    function handleNewPropsAndNewState() {
        stateProps = mapStateToProps(state, ownProps);
        if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);
        mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
        return mergedProps;
    }
    function handleNewProps() {
        if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);
        if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);
        mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
        return mergedProps;
    }
    function handleNewState() {
        const nextStateProps = mapStateToProps(state, ownProps);
        const statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);
        stateProps = nextStateProps;
        if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
        return mergedProps;
    }
    function handleSubsequentCalls(nextState, nextOwnProps) {
        const propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);
        const stateChanged = !areStatesEqual(nextState, state, nextOwnProps, ownProps);
        state = nextState;
        ownProps = nextOwnProps;
        if (propsChanged && stateChanged) return handleNewPropsAndNewState();
        if (propsChanged) return handleNewProps();
        if (stateChanged) return handleNewState();
        return mergedProps;
    }
    return function pureFinalPropsSelector(nextState, nextOwnProps) {
        return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);
    };
}
function finalPropsSelectorFactory(dispatch, { initMapStateToProps, initMapDispatchToProps, initMergeProps, ...options }) {
    const mapStateToProps = initMapStateToProps(dispatch, options);
    const mapDispatchToProps = initMapDispatchToProps(dispatch, options);
    const mergeProps = initMergeProps(dispatch, options);
    if ("TURBOPACK compile-time truthy", 1) {
        verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps);
    }
    return pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);
}
// src/utils/bindActionCreators.ts
function bindActionCreators(actionCreators, dispatch) {
    const boundActionCreators = {};
    for(const key in actionCreators){
        const actionCreator = actionCreators[key];
        if (typeof actionCreator === "function") {
            boundActionCreators[key] = (...args)=>dispatch(actionCreator(...args));
        }
    }
    return boundActionCreators;
}
// src/utils/isPlainObject.ts
function isPlainObject(obj) {
    if (typeof obj !== "object" || obj === null) return false;
    const proto = Object.getPrototypeOf(obj);
    if (proto === null) return true;
    let baseProto = proto;
    while(Object.getPrototypeOf(baseProto) !== null){
        baseProto = Object.getPrototypeOf(baseProto);
    }
    return proto === baseProto;
}
// src/utils/verifyPlainObject.ts
function verifyPlainObject(value, displayName, methodName) {
    if (!isPlainObject(value)) {
        warning(`${methodName}() in ${displayName} must return a plain object. Instead received ${value}.`);
    }
}
// src/connect/wrapMapToProps.ts
function wrapMapToPropsConstant(getConstant) {
    return function initConstantSelector(dispatch) {
        const constant = getConstant(dispatch);
        function constantSelector() {
            return constant;
        }
        constantSelector.dependsOnOwnProps = false;
        return constantSelector;
    };
}
function getDependsOnOwnProps(mapToProps) {
    return mapToProps.dependsOnOwnProps ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;
}
function wrapMapToPropsFunc(mapToProps, methodName) {
    return function initProxySelector(dispatch, { displayName }) {
        const proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {
            return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch, void 0);
        };
        proxy.dependsOnOwnProps = true;
        proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {
            proxy.mapToProps = mapToProps;
            proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);
            let props = proxy(stateOrDispatch, ownProps);
            if (typeof props === "function") {
                proxy.mapToProps = props;
                proxy.dependsOnOwnProps = getDependsOnOwnProps(props);
                props = proxy(stateOrDispatch, ownProps);
            }
            if ("TURBOPACK compile-time truthy", 1) verifyPlainObject(props, displayName, methodName);
            return props;
        };
        return proxy;
    };
}
// src/connect/invalidArgFactory.ts
function createInvalidArgFactory(arg, name) {
    return (dispatch, options)=>{
        throw new Error(`Invalid value of type ${typeof arg} for ${name} argument when connecting component ${options.wrappedComponentName}.`);
    };
}
// src/connect/mapDispatchToProps.ts
function mapDispatchToPropsFactory(mapDispatchToProps) {
    return mapDispatchToProps && typeof mapDispatchToProps === "object" ? wrapMapToPropsConstant((dispatch)=>// @ts-ignore
        bindActionCreators(mapDispatchToProps, dispatch)) : !mapDispatchToProps ? wrapMapToPropsConstant((dispatch)=>({
            dispatch
        })) : typeof mapDispatchToProps === "function" ? // @ts-ignore
    wrapMapToPropsFunc(mapDispatchToProps, "mapDispatchToProps") : createInvalidArgFactory(mapDispatchToProps, "mapDispatchToProps");
}
// src/connect/mapStateToProps.ts
function mapStateToPropsFactory(mapStateToProps) {
    return !mapStateToProps ? wrapMapToPropsConstant(()=>({})) : typeof mapStateToProps === "function" ? // @ts-ignore
    wrapMapToPropsFunc(mapStateToProps, "mapStateToProps") : createInvalidArgFactory(mapStateToProps, "mapStateToProps");
}
// src/connect/mergeProps.ts
function defaultMergeProps(stateProps, dispatchProps, ownProps) {
    return {
        ...ownProps,
        ...stateProps,
        ...dispatchProps
    };
}
function wrapMergePropsFunc(mergeProps) {
    return function initMergePropsProxy(dispatch, { displayName, areMergedPropsEqual }) {
        let hasRunOnce = false;
        let mergedProps;
        return function mergePropsProxy(stateProps, dispatchProps, ownProps) {
            const nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);
            if (hasRunOnce) {
                if (!areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;
            } else {
                hasRunOnce = true;
                mergedProps = nextMergedProps;
                if ("TURBOPACK compile-time truthy", 1) verifyPlainObject(mergedProps, displayName, "mergeProps");
            }
            return mergedProps;
        };
    };
}
function mergePropsFactory(mergeProps) {
    return !mergeProps ? ()=>defaultMergeProps : typeof mergeProps === "function" ? wrapMergePropsFunc(mergeProps) : createInvalidArgFactory(mergeProps, "mergeProps");
}
// src/utils/batch.ts
function defaultNoopBatch(callback) {
    callback();
}
// src/utils/Subscription.ts
function createListenerCollection() {
    let first = null;
    let last = null;
    return {
        clear () {
            first = null;
            last = null;
        },
        notify () {
            defaultNoopBatch(()=>{
                let listener = first;
                while(listener){
                    listener.callback();
                    listener = listener.next;
                }
            });
        },
        get () {
            const listeners = [];
            let listener = first;
            while(listener){
                listeners.push(listener);
                listener = listener.next;
            }
            return listeners;
        },
        subscribe (callback) {
            let isSubscribed = true;
            const listener = last = {
                callback,
                next: null,
                prev: last
            };
            if (listener.prev) {
                listener.prev.next = listener;
            } else {
                first = listener;
            }
            return function unsubscribe() {
                if (!isSubscribed || first === null) return;
                isSubscribed = false;
                if (listener.next) {
                    listener.next.prev = listener.prev;
                } else {
                    last = listener.prev;
                }
                if (listener.prev) {
                    listener.prev.next = listener.next;
                } else {
                    first = listener.next;
                }
            };
        }
    };
}
var nullListeners = {
    notify () {},
    get: ()=>[]
};
function createSubscription(store, parentSub) {
    let unsubscribe;
    let listeners = nullListeners;
    let subscriptionsAmount = 0;
    let selfSubscribed = false;
    function addNestedSub(listener) {
        trySubscribe();
        const cleanupListener = listeners.subscribe(listener);
        let removed = false;
        return ()=>{
            if (!removed) {
                removed = true;
                cleanupListener();
                tryUnsubscribe();
            }
        };
    }
    function notifyNestedSubs() {
        listeners.notify();
    }
    function handleChangeWrapper() {
        if (subscription.onStateChange) {
            subscription.onStateChange();
        }
    }
    function isSubscribed() {
        return selfSubscribed;
    }
    function trySubscribe() {
        subscriptionsAmount++;
        if (!unsubscribe) {
            unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);
            listeners = createListenerCollection();
        }
    }
    function tryUnsubscribe() {
        subscriptionsAmount--;
        if (unsubscribe && subscriptionsAmount === 0) {
            unsubscribe();
            unsubscribe = void 0;
            listeners.clear();
            listeners = nullListeners;
        }
    }
    function trySubscribeSelf() {
        if (!selfSubscribed) {
            selfSubscribed = true;
            trySubscribe();
        }
    }
    function tryUnsubscribeSelf() {
        if (selfSubscribed) {
            selfSubscribed = false;
            tryUnsubscribe();
        }
    }
    const subscription = {
        addNestedSub,
        notifyNestedSubs,
        handleChangeWrapper,
        isSubscribed,
        trySubscribe: trySubscribeSelf,
        tryUnsubscribe: tryUnsubscribeSelf,
        getListeners: ()=>listeners
    };
    return subscription;
}
// src/utils/useIsomorphicLayoutEffect.ts
var canUseDOM = ()=>!!("undefined" !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined");
var isDOM = /* @__PURE__ */ canUseDOM();
var isRunningInReactNative = ()=>typeof navigator !== "undefined" && navigator.product === "ReactNative";
var isReactNative = /* @__PURE__ */ isRunningInReactNative();
var getUseIsomorphicLayoutEffect = ()=>isDOM || isReactNative ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useLayoutEffect"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"];
var useIsomorphicLayoutEffect = /* @__PURE__ */ getUseIsomorphicLayoutEffect();
// src/utils/shallowEqual.ts
function is(x, y) {
    if (x === y) {
        return x !== 0 || y !== 0 || 1 / x === 1 / y;
    } else {
        return x !== x && y !== y;
    }
}
function shallowEqual(objA, objB) {
    if (is(objA, objB)) return true;
    if (typeof objA !== "object" || objA === null || typeof objB !== "object" || objB === null) {
        return false;
    }
    const keysA = Object.keys(objA);
    const keysB = Object.keys(objB);
    if (keysA.length !== keysB.length) return false;
    for(let i = 0; i < keysA.length; i++){
        if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
            return false;
        }
    }
    return true;
}
// src/utils/hoistStatics.ts
var REACT_STATICS = {
    childContextTypes: true,
    contextType: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    getDerivedStateFromError: true,
    getDerivedStateFromProps: true,
    mixins: true,
    propTypes: true,
    type: true
};
var KNOWN_STATICS = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    callee: true,
    arguments: true,
    arity: true
};
var FORWARD_REF_STATICS = {
    $$typeof: true,
    render: true,
    defaultProps: true,
    displayName: true,
    propTypes: true
};
var MEMO_STATICS = {
    $$typeof: true,
    compare: true,
    defaultProps: true,
    displayName: true,
    propTypes: true,
    type: true
};
var TYPE_STATICS = {
    [ForwardRef]: FORWARD_REF_STATICS,
    [Memo]: MEMO_STATICS
};
function getStatics(component) {
    if (isMemo(component)) {
        return MEMO_STATICS;
    }
    return TYPE_STATICS[component["$$typeof"]] || REACT_STATICS;
}
var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = Object.prototype;
function hoistNonReactStatics(targetComponent, sourceComponent) {
    if (typeof sourceComponent !== "string") {
        if (objectPrototype) {
            const inheritedComponent = getPrototypeOf(sourceComponent);
            if (inheritedComponent && inheritedComponent !== objectPrototype) {
                hoistNonReactStatics(targetComponent, inheritedComponent);
            }
        }
        let keys = getOwnPropertyNames(sourceComponent);
        if (getOwnPropertySymbols) {
            keys = keys.concat(getOwnPropertySymbols(sourceComponent));
        }
        const targetStatics = getStatics(targetComponent);
        const sourceStatics = getStatics(sourceComponent);
        for(let i = 0; i < keys.length; ++i){
            const key = keys[i];
            if (!KNOWN_STATICS[key] && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
                const descriptor = getOwnPropertyDescriptor(sourceComponent, key);
                try {
                    defineProperty(targetComponent, key, descriptor);
                } catch (e) {}
            }
        }
    }
    return targetComponent;
}
// src/components/Context.ts
var ContextKey = /* @__PURE__ */ Symbol.for(`react-redux-context`);
var gT = typeof globalThis !== "undefined" ? globalThis : /* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */ {};
function getContext() {
    if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"]) return {};
    const contextMap = gT[ContextKey] ??= /* @__PURE__ */ new Map();
    let realContext = contextMap.get(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"]);
    if (!realContext) {
        realContext = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"](null);
        if ("TURBOPACK compile-time truthy", 1) {
            realContext.displayName = "ReactRedux";
        }
        contextMap.set(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"], realContext);
    }
    return realContext;
}
var ReactReduxContext = /* @__PURE__ */ getContext();
// src/components/connect.tsx
var NO_SUBSCRIPTION_ARRAY = [
    null,
    null
];
var stringifyComponent = (Comp)=>{
    try {
        return JSON.stringify(Comp);
    } catch (err) {
        return String(Comp);
    }
};
function useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {
    useIsomorphicLayoutEffect(()=>effectFunc(...effectArgs), dependencies);
}
function captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, childPropsFromStoreUpdate, notifyNestedSubs) {
    lastWrapperProps.current = wrapperProps;
    renderIsScheduled.current = false;
    if (childPropsFromStoreUpdate.current) {
        childPropsFromStoreUpdate.current = null;
        notifyNestedSubs();
    }
}
function subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, additionalSubscribeListener) {
    if (!shouldHandleStateChanges) return ()=>{};
    let didUnsubscribe = false;
    let lastThrownError = null;
    const checkForUpdates = ()=>{
        if (didUnsubscribe || !isMounted.current) {
            return;
        }
        const latestStoreState = store.getState();
        let newChildProps, error;
        try {
            newChildProps = childPropsSelector(latestStoreState, lastWrapperProps.current);
        } catch (e) {
            error = e;
            lastThrownError = e;
        }
        if (!error) {
            lastThrownError = null;
        }
        if (newChildProps === lastChildProps.current) {
            if (!renderIsScheduled.current) {
                notifyNestedSubs();
            }
        } else {
            lastChildProps.current = newChildProps;
            childPropsFromStoreUpdate.current = newChildProps;
            renderIsScheduled.current = true;
            additionalSubscribeListener();
        }
    };
    subscription.onStateChange = checkForUpdates;
    subscription.trySubscribe();
    checkForUpdates();
    const unsubscribeWrapper = ()=>{
        didUnsubscribe = true;
        subscription.tryUnsubscribe();
        subscription.onStateChange = null;
        if (lastThrownError) {
            throw lastThrownError;
        }
    };
    return unsubscribeWrapper;
}
function strictEqual(a, b) {
    return a === b;
}
var hasWarnedAboutDeprecatedPureOption = false;
function connect(mapStateToProps, mapDispatchToProps, mergeProps, { // The `pure` option has been removed, so TS doesn't like us destructuring this to check its existence.
// @ts-ignore
pure, areStatesEqual = strictEqual, areOwnPropsEqual = shallowEqual, areStatePropsEqual = shallowEqual, areMergedPropsEqual = shallowEqual, // use React's forwardRef to expose a ref of the wrapped component
forwardRef = false, // the context consumer to use
context = ReactReduxContext } = {}) {
    if ("TURBOPACK compile-time truthy", 1) {
        if (pure !== void 0 && !hasWarnedAboutDeprecatedPureOption) {
            hasWarnedAboutDeprecatedPureOption = true;
            warning('The `pure` option has been removed. `connect` is now always a "pure/memoized" component');
        }
    }
    const Context = context;
    const initMapStateToProps = mapStateToPropsFactory(mapStateToProps);
    const initMapDispatchToProps = mapDispatchToPropsFactory(mapDispatchToProps);
    const initMergeProps = mergePropsFactory(mergeProps);
    const shouldHandleStateChanges = Boolean(mapStateToProps);
    const wrapWithConnect = (WrappedComponent)=>{
        if ("TURBOPACK compile-time truthy", 1) {
            const isValid = /* @__PURE__ */ isValidElementType(WrappedComponent);
            if (!isValid) throw new Error(`You must pass a component to the function returned by connect. Instead received ${stringifyComponent(WrappedComponent)}`);
        }
        const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || "Component";
        const displayName = `Connect(${wrappedComponentName})`;
        const selectorFactoryOptions = {
            shouldHandleStateChanges,
            displayName,
            wrappedComponentName,
            WrappedComponent,
            // @ts-ignore
            initMapStateToProps,
            initMapDispatchToProps,
            initMergeProps,
            areStatesEqual,
            areStatePropsEqual,
            areOwnPropsEqual,
            areMergedPropsEqual
        };
        function ConnectFunction(props) {
            const [propsContext, reactReduxForwardedRef, wrapperProps] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                const { reactReduxForwardedRef: reactReduxForwardedRef2, ...wrapperProps2 } = props;
                return [
                    props.context,
                    reactReduxForwardedRef2,
                    wrapperProps2
                ];
            }, [
                props
            ]);
            const ContextToUse = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                let ResultContext = Context;
                if (propsContext?.Consumer) {
                    if ("TURBOPACK compile-time truthy", 1) {
                        const isValid = /* @__PURE__ */ isContextConsumer(// @ts-ignore
                        /* @__PURE__ */ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](propsContext.Consumer, null));
                        if (!isValid) {
                            throw new Error("You must pass a valid React context consumer as `props.context`");
                        }
                        ResultContext = propsContext;
                    }
                }
                return ResultContext;
            }, [
                propsContext,
                Context
            ]);
            const contextValue = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"](ContextToUse);
            const didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);
            const didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);
            if (("TURBOPACK compile-time value", "development") !== "production" && !didStoreComeFromProps && !didStoreComeFromContext) {
                throw new Error(`Could not find "store" in the context of "${displayName}". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to ${displayName} in connect options.`);
            }
            const store = didStoreComeFromProps ? props.store : contextValue.store;
            const getServerState = didStoreComeFromContext ? contextValue.getServerState : store.getState;
            const childPropsSelector = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                return finalPropsSelectorFactory(store.dispatch, selectorFactoryOptions);
            }, [
                store
            ]);
            const [subscription, notifyNestedSubs] = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY;
                const subscription2 = createSubscription(store, didStoreComeFromProps ? void 0 : contextValue.subscription);
                const notifyNestedSubs2 = subscription2.notifyNestedSubs.bind(subscription2);
                return [
                    subscription2,
                    notifyNestedSubs2
                ];
            }, [
                store,
                didStoreComeFromProps,
                contextValue
            ]);
            const overriddenContextValue = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                if (didStoreComeFromProps) {
                    return contextValue;
                }
                return {
                    ...contextValue,
                    subscription
                };
            }, [
                didStoreComeFromProps,
                contextValue,
                subscription
            ]);
            const lastChildProps = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"](void 0);
            const lastWrapperProps = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"](wrapperProps);
            const childPropsFromStoreUpdate = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"](void 0);
            const renderIsScheduled = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"](false);
            const isMounted = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"](false);
            const latestSubscriptionCallbackError = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"](void 0);
            useIsomorphicLayoutEffect(()=>{
                isMounted.current = true;
                return ()=>{
                    isMounted.current = false;
                };
            }, []);
            const actualChildPropsSelector = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                const selector = ()=>{
                    if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {
                        return childPropsFromStoreUpdate.current;
                    }
                    return childPropsSelector(store.getState(), wrapperProps);
                };
                return selector;
            }, [
                store,
                wrapperProps
            ]);
            const subscribeForReact = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                const subscribe = (reactListener)=>{
                    if (!subscription) {
                        return ()=>{};
                    }
                    return subscribeUpdates(shouldHandleStateChanges, store, subscription, // @ts-ignore
                    childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, reactListener);
                };
                return subscribe;
            }, [
                subscription
            ]);
            useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [
                lastWrapperProps,
                lastChildProps,
                renderIsScheduled,
                wrapperProps,
                childPropsFromStoreUpdate,
                notifyNestedSubs
            ]);
            let actualChildProps;
            try {
                actualChildProps = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSyncExternalStore"](// TODO We're passing through a big wrapper that does a bunch of extra side effects besides subscribing
                subscribeForReact, // TODO This is incredibly hacky. We've already processed the store update and calculated new child props,
                // TODO and we're just passing that through so it triggers a re-render for us rather than relying on `uSES`.
                actualChildPropsSelector, getServerState ? ()=>childPropsSelector(getServerState(), wrapperProps) : actualChildPropsSelector);
            } catch (err) {
                if (latestSubscriptionCallbackError.current) {
                    ;
                    err.message += `
The error may be correlated with this previous error:
${latestSubscriptionCallbackError.current.stack}

`;
                }
                throw err;
            }
            useIsomorphicLayoutEffect(()=>{
                latestSubscriptionCallbackError.current = void 0;
                childPropsFromStoreUpdate.current = void 0;
                lastChildProps.current = actualChildProps;
            });
            const renderedWrappedComponent = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                return(// @ts-ignore
                /* @__PURE__ */ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](WrappedComponent, {
                    ...actualChildProps,
                    ref: reactReduxForwardedRef
                }));
            }, [
                reactReduxForwardedRef,
                WrappedComponent,
                actualChildProps
            ]);
            const renderedChild = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
                if (shouldHandleStateChanges) {
                    return /* @__PURE__ */ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](ContextToUse.Provider, {
                        value: overriddenContextValue
                    }, renderedWrappedComponent);
                }
                return renderedWrappedComponent;
            }, [
                ContextToUse,
                renderedWrappedComponent,
                overriddenContextValue
            ]);
            return renderedChild;
        }
        const _Connect = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memo"](ConnectFunction);
        const Connect = _Connect;
        Connect.WrappedComponent = WrappedComponent;
        Connect.displayName = ConnectFunction.displayName = displayName;
        if (forwardRef) {
            const _forwarded = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"](function forwardConnectRef(props, ref) {
                return /* @__PURE__ */ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](Connect, {
                    ...props,
                    reactReduxForwardedRef: ref
                });
            });
            const forwarded = _forwarded;
            forwarded.displayName = displayName;
            forwarded.WrappedComponent = WrappedComponent;
            return /* @__PURE__ */ hoistNonReactStatics(forwarded, WrappedComponent);
        }
        return /* @__PURE__ */ hoistNonReactStatics(Connect, WrappedComponent);
    };
    return wrapWithConnect;
}
var connect_default = connect;
// src/components/Provider.tsx
function Provider(providerProps) {
    const { children, context, serverState, store } = providerProps;
    const contextValue = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>{
        const subscription = createSubscription(store);
        const baseContextValue = {
            store,
            subscription,
            getServerState: serverState ? ()=>serverState : void 0
        };
        if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
        ;
        else {
            const { identityFunctionCheck = "once", stabilityCheck = "once" } = providerProps;
            return /* @__PURE__ */ Object.assign(baseContextValue, {
                stabilityCheck,
                identityFunctionCheck
            });
        }
    }, [
        store,
        serverState
    ]);
    const previousState = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"](()=>store.getState(), [
        store
    ]);
    useIsomorphicLayoutEffect(()=>{
        const { subscription } = contextValue;
        subscription.onStateChange = subscription.notifyNestedSubs;
        subscription.trySubscribe();
        if (previousState !== store.getState()) {
            subscription.notifyNestedSubs();
        }
        return ()=>{
            subscription.tryUnsubscribe();
            subscription.onStateChange = void 0;
        };
    }, [
        contextValue,
        previousState
    ]);
    const Context = context || ReactReduxContext;
    return /* @__PURE__ */ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createElement"](Context.Provider, {
        value: contextValue
    }, children);
}
var Provider_default = Provider;
// src/hooks/useReduxContext.ts
function createReduxContextHook(context = ReactReduxContext) {
    return function useReduxContext2() {
        const contextValue = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"](context);
        if (("TURBOPACK compile-time value", "development") !== "production" && !contextValue) {
            throw new Error("could not find react-redux context value; please ensure the component is wrapped in a <Provider>");
        }
        return contextValue;
    };
}
var useReduxContext = /* @__PURE__ */ createReduxContextHook();
// src/hooks/useStore.ts
function createStoreHook(context = ReactReduxContext) {
    const useReduxContext2 = context === ReactReduxContext ? useReduxContext : // @ts-ignore
    createReduxContextHook(context);
    const useStore2 = ()=>{
        const { store } = useReduxContext2();
        return store;
    };
    Object.assign(useStore2, {
        withTypes: ()=>useStore2
    });
    return useStore2;
}
var useStore = /* @__PURE__ */ createStoreHook();
// src/hooks/useDispatch.ts
function createDispatchHook(context = ReactReduxContext) {
    const useStore2 = context === ReactReduxContext ? useStore : createStoreHook(context);
    const useDispatch2 = ()=>{
        const store = useStore2();
        return store.dispatch;
    };
    Object.assign(useDispatch2, {
        withTypes: ()=>useDispatch2
    });
    return useDispatch2;
}
var useDispatch = /* @__PURE__ */ createDispatchHook();
;
var refEquality = (a, b)=>a === b;
function createSelectorHook(context = ReactReduxContext) {
    const useReduxContext2 = context === ReactReduxContext ? useReduxContext : createReduxContextHook(context);
    const useSelector2 = (selector, equalityFnOrOptions = {})=>{
        const { equalityFn = refEquality } = typeof equalityFnOrOptions === "function" ? {
            equalityFn: equalityFnOrOptions
        } : equalityFnOrOptions;
        if ("TURBOPACK compile-time truthy", 1) {
            if (!selector) {
                throw new Error(`You must pass a selector to useSelector`);
            }
            if (typeof selector !== "function") {
                throw new Error(`You must pass a function as a selector to useSelector`);
            }
            if (typeof equalityFn !== "function") {
                throw new Error(`You must pass a function as an equality function to useSelector`);
            }
        }
        const reduxContext = useReduxContext2();
        const { store, subscription, getServerState } = reduxContext;
        const firstRun = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"](true);
        const wrappedSelector = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"]({
            [selector.name] (state) {
                const selected = selector(state);
                if ("TURBOPACK compile-time truthy", 1) {
                    const { devModeChecks = {} } = typeof equalityFnOrOptions === "function" ? {} : equalityFnOrOptions;
                    const { identityFunctionCheck, stabilityCheck } = reduxContext;
                    const { identityFunctionCheck: finalIdentityFunctionCheck, stabilityCheck: finalStabilityCheck } = {
                        stabilityCheck,
                        identityFunctionCheck,
                        ...devModeChecks
                    };
                    if (finalStabilityCheck === "always" || finalStabilityCheck === "once" && firstRun.current) {
                        const toCompare = selector(state);
                        if (!equalityFn(selected, toCompare)) {
                            let stack = void 0;
                            try {
                                throw new Error();
                            } catch (e) {
                                ;
                                ({ stack } = e);
                            }
                            console.warn("Selector " + (selector.name || "unknown") + " returned a different result when called with the same parameters. This can lead to unnecessary rerenders.\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization", {
                                state,
                                selected,
                                selected2: toCompare,
                                stack
                            });
                        }
                    }
                    if (finalIdentityFunctionCheck === "always" || finalIdentityFunctionCheck === "once" && firstRun.current) {
                        if (selected === state) {
                            let stack = void 0;
                            try {
                                throw new Error();
                            } catch (e) {
                                ;
                                ({ stack } = e);
                            }
                            console.warn("Selector " + (selector.name || "unknown") + " returned the root state when called. This can lead to unnecessary rerenders.\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.", {
                                stack
                            });
                        }
                    }
                    if (firstRun.current) firstRun.current = false;
                }
                return selected;
            }
        }[selector.name], [
            selector
        ]);
        const selectedState = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$sync$2d$external$2d$store$2f$with$2d$selector$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSyncExternalStoreWithSelector"])(subscription.addNestedSub, store.getState, getServerState || store.getState, wrappedSelector, equalityFn);
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useDebugValue"](selectedState);
        return selectedState;
    };
    Object.assign(useSelector2, {
        withTypes: ()=>useSelector2
    });
    return useSelector2;
}
var useSelector = /* @__PURE__ */ createSelectorHook();
// src/exports.ts
var batch = defaultNoopBatch;
;
 //# sourceMappingURL=react-redux.mjs.map
}),
"[project]/node_modules/immer/dist/immer.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// src/utils/env.ts
__turbopack_context__.s({
    "Immer": ()=>Immer2,
    "applyPatches": ()=>applyPatches,
    "castDraft": ()=>castDraft,
    "castImmutable": ()=>castImmutable,
    "createDraft": ()=>createDraft,
    "current": ()=>current,
    "enableMapSet": ()=>enableMapSet,
    "enablePatches": ()=>enablePatches,
    "finishDraft": ()=>finishDraft,
    "freeze": ()=>freeze,
    "immerable": ()=>DRAFTABLE,
    "isDraft": ()=>isDraft,
    "isDraftable": ()=>isDraftable,
    "nothing": ()=>NOTHING,
    "original": ()=>original,
    "produce": ()=>produce,
    "produceWithPatches": ()=>produceWithPatches,
    "setAutoFreeze": ()=>setAutoFreeze,
    "setUseStrictShallowCopy": ()=>setUseStrictShallowCopy
});
var NOTHING = Symbol.for("immer-nothing");
var DRAFTABLE = Symbol.for("immer-draftable");
var DRAFT_STATE = Symbol.for("immer-state");
// src/utils/errors.ts
var errors = ("TURBOPACK compile-time truthy", 1) ? [
    // All error codes, starting by 0:
    function(plugin) {
        return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \`enable${plugin}()\` when initializing your application.`;
    },
    function(thing) {
        return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;
    },
    "This object has been frozen and should not be mutated",
    function(data) {
        return "Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? " + data;
    },
    "An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",
    "Immer forbids circular references",
    "The first or second argument to `produce` must be a function",
    "The third argument to `produce` must be a function or undefined",
    "First argument to `createDraft` must be a plain object, an array, or an immerable object",
    "First argument to `finishDraft` must be a draft returned by `createDraft`",
    function(thing) {
        return `'current' expects a draft, got: ${thing}`;
    },
    "Object.defineProperty() cannot be used on an Immer draft",
    "Object.setPrototypeOf() cannot be used on an Immer draft",
    "Immer only supports deleting array indices",
    "Immer only supports setting array indices and the 'length' property",
    function(thing) {
        return `'original' expects a draft, got: ${thing}`;
    }
] : "TURBOPACK unreachable";
function die(error, ...args) {
    if ("TURBOPACK compile-time truthy", 1) {
        const e = errors[error];
        const msg = typeof e === "function" ? e.apply(null, args) : e;
        throw new Error(`[Immer] ${msg}`);
    }
    throw new Error(`[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`);
}
// src/utils/common.ts
var getPrototypeOf = Object.getPrototypeOf;
function isDraft(value) {
    return !!value && !!value[DRAFT_STATE];
}
function isDraftable(value) {
    if (!value) return false;
    return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);
}
var objectCtorString = Object.prototype.constructor.toString();
function isPlainObject(value) {
    if (!value || typeof value !== "object") return false;
    const proto = getPrototypeOf(value);
    if (proto === null) {
        return true;
    }
    const Ctor = Object.hasOwnProperty.call(proto, "constructor") && proto.constructor;
    if (Ctor === Object) return true;
    return typeof Ctor == "function" && Function.toString.call(Ctor) === objectCtorString;
}
function original(value) {
    if (!isDraft(value)) die(15, value);
    return value[DRAFT_STATE].base_;
}
function each(obj, iter) {
    if (getArchtype(obj) === 0 /* Object */ ) {
        Reflect.ownKeys(obj).forEach((key)=>{
            iter(key, obj[key], obj);
        });
    } else {
        obj.forEach((entry, index)=>iter(index, entry, obj));
    }
}
function getArchtype(thing) {
    const state = thing[DRAFT_STATE];
    return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */  : isMap(thing) ? 2 /* Map */  : isSet(thing) ? 3 /* Set */  : 0 /* Object */ ;
}
function has(thing, prop) {
    return getArchtype(thing) === 2 /* Map */  ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);
}
function get(thing, prop) {
    return getArchtype(thing) === 2 /* Map */  ? thing.get(prop) : thing[prop];
}
function set(thing, propOrOldValue, value) {
    const t = getArchtype(thing);
    if (t === 2 /* Map */ ) thing.set(propOrOldValue, value);
    else if (t === 3 /* Set */ ) {
        thing.add(value);
    } else thing[propOrOldValue] = value;
}
function is(x, y) {
    if (x === y) {
        return x !== 0 || 1 / x === 1 / y;
    } else {
        return x !== x && y !== y;
    }
}
function isMap(target) {
    return target instanceof Map;
}
function isSet(target) {
    return target instanceof Set;
}
function latest(state) {
    return state.copy_ || state.base_;
}
function shallowCopy(base, strict) {
    if (isMap(base)) {
        return new Map(base);
    }
    if (isSet(base)) {
        return new Set(base);
    }
    if (Array.isArray(base)) return Array.prototype.slice.call(base);
    const isPlain = isPlainObject(base);
    if (strict === true || strict === "class_only" && !isPlain) {
        const descriptors = Object.getOwnPropertyDescriptors(base);
        delete descriptors[DRAFT_STATE];
        let keys = Reflect.ownKeys(descriptors);
        for(let i = 0; i < keys.length; i++){
            const key = keys[i];
            const desc = descriptors[key];
            if (desc.writable === false) {
                desc.writable = true;
                desc.configurable = true;
            }
            if (desc.get || desc.set) descriptors[key] = {
                configurable: true,
                writable: true,
                // could live with !!desc.set as well here...
                enumerable: desc.enumerable,
                value: base[key]
            };
        }
        return Object.create(getPrototypeOf(base), descriptors);
    } else {
        const proto = getPrototypeOf(base);
        if (proto !== null && isPlain) {
            return {
                ...base
            };
        }
        const obj = Object.create(proto);
        return Object.assign(obj, base);
    }
}
function freeze(obj, deep = false) {
    if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj;
    if (getArchtype(obj) > 1) {
        obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;
    }
    Object.freeze(obj);
    if (deep) Object.entries(obj).forEach(([key, value])=>freeze(value, true));
    return obj;
}
function dontMutateFrozenCollections() {
    die(2);
}
function isFrozen(obj) {
    return Object.isFrozen(obj);
}
// src/utils/plugins.ts
var plugins = {};
function getPlugin(pluginKey) {
    const plugin = plugins[pluginKey];
    if (!plugin) {
        die(0, pluginKey);
    }
    return plugin;
}
function loadPlugin(pluginKey, implementation) {
    if (!plugins[pluginKey]) plugins[pluginKey] = implementation;
}
// src/core/scope.ts
var currentScope;
function getCurrentScope() {
    return currentScope;
}
function createScope(parent_, immer_) {
    return {
        drafts_: [],
        parent_,
        immer_,
        // Whenever the modified draft contains a draft from another scope, we
        // need to prevent auto-freezing so the unowned draft can be finalized.
        canAutoFreeze_: true,
        unfinalizedDrafts_: 0
    };
}
function usePatchesInScope(scope, patchListener) {
    if (patchListener) {
        getPlugin("Patches");
        scope.patches_ = [];
        scope.inversePatches_ = [];
        scope.patchListener_ = patchListener;
    }
}
function revokeScope(scope) {
    leaveScope(scope);
    scope.drafts_.forEach(revokeDraft);
    scope.drafts_ = null;
}
function leaveScope(scope) {
    if (scope === currentScope) {
        currentScope = scope.parent_;
    }
}
function enterScope(immer2) {
    return currentScope = createScope(currentScope, immer2);
}
function revokeDraft(draft) {
    const state = draft[DRAFT_STATE];
    if (state.type_ === 0 /* Object */  || state.type_ === 1 /* Array */ ) state.revoke_();
    else state.revoked_ = true;
}
// src/core/finalize.ts
function processResult(result, scope) {
    scope.unfinalizedDrafts_ = scope.drafts_.length;
    const baseDraft = scope.drafts_[0];
    const isReplaced = result !== void 0 && result !== baseDraft;
    if (isReplaced) {
        if (baseDraft[DRAFT_STATE].modified_) {
            revokeScope(scope);
            die(4);
        }
        if (isDraftable(result)) {
            result = finalize(scope, result);
            if (!scope.parent_) maybeFreeze(scope, result);
        }
        if (scope.patches_) {
            getPlugin("Patches").generateReplacementPatches_(baseDraft[DRAFT_STATE].base_, result, scope.patches_, scope.inversePatches_);
        }
    } else {
        result = finalize(scope, baseDraft, []);
    }
    revokeScope(scope);
    if (scope.patches_) {
        scope.patchListener_(scope.patches_, scope.inversePatches_);
    }
    return result !== NOTHING ? result : void 0;
}
function finalize(rootScope, value, path) {
    if (isFrozen(value)) return value;
    const state = value[DRAFT_STATE];
    if (!state) {
        each(value, (key, childValue)=>finalizeProperty(rootScope, state, value, key, childValue, path));
        return value;
    }
    if (state.scope_ !== rootScope) return value;
    if (!state.modified_) {
        maybeFreeze(rootScope, state.base_, true);
        return state.base_;
    }
    if (!state.finalized_) {
        state.finalized_ = true;
        state.scope_.unfinalizedDrafts_--;
        const result = state.copy_;
        let resultEach = result;
        let isSet2 = false;
        if (state.type_ === 3 /* Set */ ) {
            resultEach = new Set(result);
            result.clear();
            isSet2 = true;
        }
        each(resultEach, (key, childValue)=>finalizeProperty(rootScope, state, result, key, childValue, path, isSet2));
        maybeFreeze(rootScope, result, false);
        if (path && rootScope.patches_) {
            getPlugin("Patches").generatePatches_(state, path, rootScope.patches_, rootScope.inversePatches_);
        }
    }
    return state.copy_;
}
function finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {
    if (("TURBOPACK compile-time value", "development") !== "production" && childValue === targetObject) die(5);
    if (isDraft(childValue)) {
        const path = rootPath && parentState && parentState.type_ !== 3 /* Set */  && // Set objects are atomic since they have no keys.
        !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;
        const res = finalize(rootScope, childValue, path);
        set(targetObject, prop, res);
        if (isDraft(res)) {
            rootScope.canAutoFreeze_ = false;
        } else return;
    } else if (targetIsSet) {
        targetObject.add(childValue);
    }
    if (isDraftable(childValue) && !isFrozen(childValue)) {
        if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {
            return;
        }
        finalize(rootScope, childValue);
        if ((!parentState || !parentState.scope_.parent_) && typeof prop !== "symbol" && Object.prototype.propertyIsEnumerable.call(targetObject, prop)) maybeFreeze(rootScope, childValue);
    }
}
function maybeFreeze(scope, value, deep = false) {
    if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {
        freeze(value, deep);
    }
}
// src/core/proxy.ts
function createProxyProxy(base, parent) {
    const isArray = Array.isArray(base);
    const state = {
        type_: isArray ? 1 /* Array */  : 0 /* Object */ ,
        // Track which produce call this is associated with.
        scope_: parent ? parent.scope_ : getCurrentScope(),
        // True for both shallow and deep changes.
        modified_: false,
        // Used during finalization.
        finalized_: false,
        // Track which properties have been assigned (true) or deleted (false).
        assigned_: {},
        // The parent draft state.
        parent_: parent,
        // The base state.
        base_: base,
        // The base proxy.
        draft_: null,
        // set below
        // The base copy with any updated values.
        copy_: null,
        // Called by the `produce` function.
        revoke_: null,
        isManual_: false
    };
    let target = state;
    let traps = objectTraps;
    if (isArray) {
        target = [
            state
        ];
        traps = arrayTraps;
    }
    const { revoke, proxy } = Proxy.revocable(target, traps);
    state.draft_ = proxy;
    state.revoke_ = revoke;
    return proxy;
}
var objectTraps = {
    get (state, prop) {
        if (prop === DRAFT_STATE) return state;
        const source = latest(state);
        if (!has(source, prop)) {
            return readPropFromProto(state, source, prop);
        }
        const value = source[prop];
        if (state.finalized_ || !isDraftable(value)) {
            return value;
        }
        if (value === peek(state.base_, prop)) {
            prepareCopy(state);
            return state.copy_[prop] = createProxy(value, state);
        }
        return value;
    },
    has (state, prop) {
        return prop in latest(state);
    },
    ownKeys (state) {
        return Reflect.ownKeys(latest(state));
    },
    set (state, prop, value) {
        const desc = getDescriptorFromProto(latest(state), prop);
        if (desc?.set) {
            desc.set.call(state.draft_, value);
            return true;
        }
        if (!state.modified_) {
            const current2 = peek(latest(state), prop);
            const currentState = current2?.[DRAFT_STATE];
            if (currentState && currentState.base_ === value) {
                state.copy_[prop] = value;
                state.assigned_[prop] = false;
                return true;
            }
            if (is(value, current2) && (value !== void 0 || has(state.base_, prop))) return true;
            prepareCopy(state);
            markChanged(state);
        }
        if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'
        (value !== void 0 || prop in state.copy_) || // special case: NaN
        Number.isNaN(value) && Number.isNaN(state.copy_[prop])) return true;
        state.copy_[prop] = value;
        state.assigned_[prop] = true;
        return true;
    },
    deleteProperty (state, prop) {
        if (peek(state.base_, prop) !== void 0 || prop in state.base_) {
            state.assigned_[prop] = false;
            prepareCopy(state);
            markChanged(state);
        } else {
            delete state.assigned_[prop];
        }
        if (state.copy_) {
            delete state.copy_[prop];
        }
        return true;
    },
    // Note: We never coerce `desc.value` into an Immer draft, because we can't make
    // the same guarantee in ES5 mode.
    getOwnPropertyDescriptor (state, prop) {
        const owner = latest(state);
        const desc = Reflect.getOwnPropertyDescriptor(owner, prop);
        if (!desc) return desc;
        return {
            writable: true,
            configurable: state.type_ !== 1 /* Array */  || prop !== "length",
            enumerable: desc.enumerable,
            value: owner[prop]
        };
    },
    defineProperty () {
        die(11);
    },
    getPrototypeOf (state) {
        return getPrototypeOf(state.base_);
    },
    setPrototypeOf () {
        die(12);
    }
};
var arrayTraps = {};
each(objectTraps, (key, fn)=>{
    arrayTraps[key] = function() {
        arguments[0] = arguments[0][0];
        return fn.apply(this, arguments);
    };
});
arrayTraps.deleteProperty = function(state, prop) {
    if (("TURBOPACK compile-time value", "development") !== "production" && isNaN(parseInt(prop))) die(13);
    return arrayTraps.set.call(this, state, prop, void 0);
};
arrayTraps.set = function(state, prop, value) {
    if (("TURBOPACK compile-time value", "development") !== "production" && prop !== "length" && isNaN(parseInt(prop))) die(14);
    return objectTraps.set.call(this, state[0], prop, value, state[0]);
};
function peek(draft, prop) {
    const state = draft[DRAFT_STATE];
    const source = state ? latest(state) : draft;
    return source[prop];
}
function readPropFromProto(state, source, prop) {
    const desc = getDescriptorFromProto(source, prop);
    return desc ? `value` in desc ? desc.value : // This is a very special case, if the prop is a getter defined by the
    // prototype, we should invoke it with the draft as context!
    desc.get?.call(state.draft_) : void 0;
}
function getDescriptorFromProto(source, prop) {
    if (!(prop in source)) return void 0;
    let proto = getPrototypeOf(source);
    while(proto){
        const desc = Object.getOwnPropertyDescriptor(proto, prop);
        if (desc) return desc;
        proto = getPrototypeOf(proto);
    }
    return void 0;
}
function markChanged(state) {
    if (!state.modified_) {
        state.modified_ = true;
        if (state.parent_) {
            markChanged(state.parent_);
        }
    }
}
function prepareCopy(state) {
    if (!state.copy_) {
        state.copy_ = shallowCopy(state.base_, state.scope_.immer_.useStrictShallowCopy_);
    }
}
// src/core/immerClass.ts
var Immer2 = class {
    constructor(config){
        this.autoFreeze_ = true;
        this.useStrictShallowCopy_ = false;
        /**
     * The `produce` function takes a value and a "recipe function" (whose
     * return value often depends on the base state). The recipe function is
     * free to mutate its first argument however it wants. All mutations are
     * only ever applied to a __copy__ of the base state.
     *
     * Pass only a function to create a "curried producer" which relieves you
     * from passing the recipe function every time.
     *
     * Only plain objects and arrays are made mutable. All other objects are
     * considered uncopyable.
     *
     * Note: This function is __bound__ to its `Immer` instance.
     *
     * @param {any} base - the initial state
     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified
     * @param {Function} patchListener - optional function that will be called with all the patches produced here
     * @returns {any} a new state, or the initial state if nothing was modified
     */ this.produce = (base, recipe, patchListener)=>{
            if (typeof base === "function" && typeof recipe !== "function") {
                const defaultBase = recipe;
                recipe = base;
                const self = this;
                return function curriedProduce(base2 = defaultBase, ...args) {
                    return self.produce(base2, (draft)=>recipe.call(this, draft, ...args));
                };
            }
            if (typeof recipe !== "function") die(6);
            if (patchListener !== void 0 && typeof patchListener !== "function") die(7);
            let result;
            if (isDraftable(base)) {
                const scope = enterScope(this);
                const proxy = createProxy(base, void 0);
                let hasError = true;
                try {
                    result = recipe(proxy);
                    hasError = false;
                } finally{
                    if (hasError) revokeScope(scope);
                    else leaveScope(scope);
                }
                usePatchesInScope(scope, patchListener);
                return processResult(result, scope);
            } else if (!base || typeof base !== "object") {
                result = recipe(base);
                if (result === void 0) result = base;
                if (result === NOTHING) result = void 0;
                if (this.autoFreeze_) freeze(result, true);
                if (patchListener) {
                    const p = [];
                    const ip = [];
                    getPlugin("Patches").generateReplacementPatches_(base, result, p, ip);
                    patchListener(p, ip);
                }
                return result;
            } else die(1, base);
        };
        this.produceWithPatches = (base, recipe)=>{
            if (typeof base === "function") {
                return (state, ...args)=>this.produceWithPatches(state, (draft)=>base(draft, ...args));
            }
            let patches, inversePatches;
            const result = this.produce(base, recipe, (p, ip)=>{
                patches = p;
                inversePatches = ip;
            });
            return [
                result,
                patches,
                inversePatches
            ];
        };
        if (typeof config?.autoFreeze === "boolean") this.setAutoFreeze(config.autoFreeze);
        if (typeof config?.useStrictShallowCopy === "boolean") this.setUseStrictShallowCopy(config.useStrictShallowCopy);
    }
    createDraft(base) {
        if (!isDraftable(base)) die(8);
        if (isDraft(base)) base = current(base);
        const scope = enterScope(this);
        const proxy = createProxy(base, void 0);
        proxy[DRAFT_STATE].isManual_ = true;
        leaveScope(scope);
        return proxy;
    }
    finishDraft(draft, patchListener) {
        const state = draft && draft[DRAFT_STATE];
        if (!state || !state.isManual_) die(9);
        const { scope_: scope } = state;
        usePatchesInScope(scope, patchListener);
        return processResult(void 0, scope);
    }
    /**
   * Pass true to automatically freeze all copies created by Immer.
   *
   * By default, auto-freezing is enabled.
   */ setAutoFreeze(value) {
        this.autoFreeze_ = value;
    }
    /**
   * Pass true to enable strict shallow copy.
   *
   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.
   */ setUseStrictShallowCopy(value) {
        this.useStrictShallowCopy_ = value;
    }
    applyPatches(base, patches) {
        let i;
        for(i = patches.length - 1; i >= 0; i--){
            const patch = patches[i];
            if (patch.path.length === 0 && patch.op === "replace") {
                base = patch.value;
                break;
            }
        }
        if (i > -1) {
            patches = patches.slice(i + 1);
        }
        const applyPatchesImpl = getPlugin("Patches").applyPatches_;
        if (isDraft(base)) {
            return applyPatchesImpl(base, patches);
        }
        return this.produce(base, (draft)=>applyPatchesImpl(draft, patches));
    }
};
function createProxy(value, parent) {
    const draft = isMap(value) ? getPlugin("MapSet").proxyMap_(value, parent) : isSet(value) ? getPlugin("MapSet").proxySet_(value, parent) : createProxyProxy(value, parent);
    const scope = parent ? parent.scope_ : getCurrentScope();
    scope.drafts_.push(draft);
    return draft;
}
// src/core/current.ts
function current(value) {
    if (!isDraft(value)) die(10, value);
    return currentImpl(value);
}
function currentImpl(value) {
    if (!isDraftable(value) || isFrozen(value)) return value;
    const state = value[DRAFT_STATE];
    let copy;
    if (state) {
        if (!state.modified_) return state.base_;
        state.finalized_ = true;
        copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);
    } else {
        copy = shallowCopy(value, true);
    }
    each(copy, (key, childValue)=>{
        set(copy, key, currentImpl(childValue));
    });
    if (state) {
        state.finalized_ = false;
    }
    return copy;
}
// src/plugins/patches.ts
function enablePatches() {
    const errorOffset = 16;
    if ("TURBOPACK compile-time truthy", 1) {
        errors.push('Sets cannot have "replace" patches.', function(op) {
            return "Unsupported patch operation: " + op;
        }, function(path) {
            return "Cannot apply patch, path doesn't resolve: " + path;
        }, "Patching reserved attributes like __proto__, prototype and constructor is not allowed");
    }
    const REPLACE = "replace";
    const ADD = "add";
    const REMOVE = "remove";
    function generatePatches_(state, basePath, patches, inversePatches) {
        switch(state.type_){
            case 0 /* Object */ :
            case 2 /* Map */ :
                return generatePatchesFromAssigned(state, basePath, patches, inversePatches);
            case 1 /* Array */ :
                return generateArrayPatches(state, basePath, patches, inversePatches);
            case 3 /* Set */ :
                return generateSetPatches(state, basePath, patches, inversePatches);
        }
    }
    function generateArrayPatches(state, basePath, patches, inversePatches) {
        let { base_, assigned_ } = state;
        let copy_ = state.copy_;
        if (copy_.length < base_.length) {
            ;
            [base_, copy_] = [
                copy_,
                base_
            ];
            [patches, inversePatches] = [
                inversePatches,
                patches
            ];
        }
        for(let i = 0; i < base_.length; i++){
            if (assigned_[i] && copy_[i] !== base_[i]) {
                const path = basePath.concat([
                    i
                ]);
                patches.push({
                    op: REPLACE,
                    path,
                    // Need to maybe clone it, as it can in fact be the original value
                    // due to the base/copy inversion at the start of this function
                    value: clonePatchValueIfNeeded(copy_[i])
                });
                inversePatches.push({
                    op: REPLACE,
                    path,
                    value: clonePatchValueIfNeeded(base_[i])
                });
            }
        }
        for(let i = base_.length; i < copy_.length; i++){
            const path = basePath.concat([
                i
            ]);
            patches.push({
                op: ADD,
                path,
                // Need to maybe clone it, as it can in fact be the original value
                // due to the base/copy inversion at the start of this function
                value: clonePatchValueIfNeeded(copy_[i])
            });
        }
        for(let i = copy_.length - 1; base_.length <= i; --i){
            const path = basePath.concat([
                i
            ]);
            inversePatches.push({
                op: REMOVE,
                path
            });
        }
    }
    function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {
        const { base_, copy_ } = state;
        each(state.assigned_, (key, assignedValue)=>{
            const origValue = get(base_, key);
            const value = get(copy_, key);
            const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;
            if (origValue === value && op === REPLACE) return;
            const path = basePath.concat(key);
            patches.push(op === REMOVE ? {
                op,
                path
            } : {
                op,
                path,
                value
            });
            inversePatches.push(op === ADD ? {
                op: REMOVE,
                path
            } : op === REMOVE ? {
                op: ADD,
                path,
                value: clonePatchValueIfNeeded(origValue)
            } : {
                op: REPLACE,
                path,
                value: clonePatchValueIfNeeded(origValue)
            });
        });
    }
    function generateSetPatches(state, basePath, patches, inversePatches) {
        let { base_, copy_ } = state;
        let i = 0;
        base_.forEach((value)=>{
            if (!copy_.has(value)) {
                const path = basePath.concat([
                    i
                ]);
                patches.push({
                    op: REMOVE,
                    path,
                    value
                });
                inversePatches.unshift({
                    op: ADD,
                    path,
                    value
                });
            }
            i++;
        });
        i = 0;
        copy_.forEach((value)=>{
            if (!base_.has(value)) {
                const path = basePath.concat([
                    i
                ]);
                patches.push({
                    op: ADD,
                    path,
                    value
                });
                inversePatches.unshift({
                    op: REMOVE,
                    path,
                    value
                });
            }
            i++;
        });
    }
    function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {
        patches.push({
            op: REPLACE,
            path: [],
            value: replacement === NOTHING ? void 0 : replacement
        });
        inversePatches.push({
            op: REPLACE,
            path: [],
            value: baseValue
        });
    }
    function applyPatches_(draft, patches) {
        patches.forEach((patch)=>{
            const { path, op } = patch;
            let base = draft;
            for(let i = 0; i < path.length - 1; i++){
                const parentType = getArchtype(base);
                let p = path[i];
                if (typeof p !== "string" && typeof p !== "number") {
                    p = "" + p;
                }
                if ((parentType === 0 /* Object */  || parentType === 1 /* Array */ ) && (p === "__proto__" || p === "constructor")) die(errorOffset + 3);
                if (typeof base === "function" && p === "prototype") die(errorOffset + 3);
                base = get(base, p);
                if (typeof base !== "object") die(errorOffset + 2, path.join("/"));
            }
            const type = getArchtype(base);
            const value = deepClonePatchValue(patch.value);
            const key = path[path.length - 1];
            switch(op){
                case REPLACE:
                    switch(type){
                        case 2 /* Map */ :
                            return base.set(key, value);
                        case 3 /* Set */ :
                            die(errorOffset);
                        default:
                            return base[key] = value;
                    }
                case ADD:
                    switch(type){
                        case 1 /* Array */ :
                            return key === "-" ? base.push(value) : base.splice(key, 0, value);
                        case 2 /* Map */ :
                            return base.set(key, value);
                        case 3 /* Set */ :
                            return base.add(value);
                        default:
                            return base[key] = value;
                    }
                case REMOVE:
                    switch(type){
                        case 1 /* Array */ :
                            return base.splice(key, 1);
                        case 2 /* Map */ :
                            return base.delete(key);
                        case 3 /* Set */ :
                            return base.delete(patch.value);
                        default:
                            return delete base[key];
                    }
                default:
                    die(errorOffset + 1, op);
            }
        });
        return draft;
    }
    function deepClonePatchValue(obj) {
        if (!isDraftable(obj)) return obj;
        if (Array.isArray(obj)) return obj.map(deepClonePatchValue);
        if (isMap(obj)) return new Map(Array.from(obj.entries()).map(([k, v])=>[
                k,
                deepClonePatchValue(v)
            ]));
        if (isSet(obj)) return new Set(Array.from(obj).map(deepClonePatchValue));
        const cloned = Object.create(getPrototypeOf(obj));
        for(const key in obj)cloned[key] = deepClonePatchValue(obj[key]);
        if (has(obj, DRAFTABLE)) cloned[DRAFTABLE] = obj[DRAFTABLE];
        return cloned;
    }
    function clonePatchValueIfNeeded(obj) {
        if (isDraft(obj)) {
            return deepClonePatchValue(obj);
        } else return obj;
    }
    loadPlugin("Patches", {
        applyPatches_,
        generatePatches_,
        generateReplacementPatches_
    });
}
// src/plugins/mapset.ts
function enableMapSet() {
    class DraftMap extends Map {
        constructor(target, parent){
            super();
            this[DRAFT_STATE] = {
                type_: 2 /* Map */ ,
                parent_: parent,
                scope_: parent ? parent.scope_ : getCurrentScope(),
                modified_: false,
                finalized_: false,
                copy_: void 0,
                assigned_: void 0,
                base_: target,
                draft_: this,
                isManual_: false,
                revoked_: false
            };
        }
        get size() {
            return latest(this[DRAFT_STATE]).size;
        }
        has(key) {
            return latest(this[DRAFT_STATE]).has(key);
        }
        set(key, value) {
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            if (!latest(state).has(key) || latest(state).get(key) !== value) {
                prepareMapCopy(state);
                markChanged(state);
                state.assigned_.set(key, true);
                state.copy_.set(key, value);
                state.assigned_.set(key, true);
            }
            return this;
        }
        delete(key) {
            if (!this.has(key)) {
                return false;
            }
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            prepareMapCopy(state);
            markChanged(state);
            if (state.base_.has(key)) {
                state.assigned_.set(key, false);
            } else {
                state.assigned_.delete(key);
            }
            state.copy_.delete(key);
            return true;
        }
        clear() {
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            if (latest(state).size) {
                prepareMapCopy(state);
                markChanged(state);
                state.assigned_ = /* @__PURE__ */ new Map();
                each(state.base_, (key)=>{
                    state.assigned_.set(key, false);
                });
                state.copy_.clear();
            }
        }
        forEach(cb, thisArg) {
            const state = this[DRAFT_STATE];
            latest(state).forEach((_value, key, _map)=>{
                cb.call(thisArg, this.get(key), key, this);
            });
        }
        get(key) {
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            const value = latest(state).get(key);
            if (state.finalized_ || !isDraftable(value)) {
                return value;
            }
            if (value !== state.base_.get(key)) {
                return value;
            }
            const draft = createProxy(value, state);
            prepareMapCopy(state);
            state.copy_.set(key, draft);
            return draft;
        }
        keys() {
            return latest(this[DRAFT_STATE]).keys();
        }
        values() {
            const iterator = this.keys();
            return {
                [Symbol.iterator]: ()=>this.values(),
                next: ()=>{
                    const r = iterator.next();
                    if (r.done) return r;
                    const value = this.get(r.value);
                    return {
                        done: false,
                        value
                    };
                }
            };
        }
        entries() {
            const iterator = this.keys();
            return {
                [Symbol.iterator]: ()=>this.entries(),
                next: ()=>{
                    const r = iterator.next();
                    if (r.done) return r;
                    const value = this.get(r.value);
                    return {
                        done: false,
                        value: [
                            r.value,
                            value
                        ]
                    };
                }
            };
        }
        [(DRAFT_STATE, Symbol.iterator)]() {
            return this.entries();
        }
    }
    function proxyMap_(target, parent) {
        return new DraftMap(target, parent);
    }
    function prepareMapCopy(state) {
        if (!state.copy_) {
            state.assigned_ = /* @__PURE__ */ new Map();
            state.copy_ = new Map(state.base_);
        }
    }
    class DraftSet extends Set {
        constructor(target, parent){
            super();
            this[DRAFT_STATE] = {
                type_: 3 /* Set */ ,
                parent_: parent,
                scope_: parent ? parent.scope_ : getCurrentScope(),
                modified_: false,
                finalized_: false,
                copy_: void 0,
                base_: target,
                draft_: this,
                drafts_: /* @__PURE__ */ new Map(),
                revoked_: false,
                isManual_: false
            };
        }
        get size() {
            return latest(this[DRAFT_STATE]).size;
        }
        has(value) {
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            if (!state.copy_) {
                return state.base_.has(value);
            }
            if (state.copy_.has(value)) return true;
            if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value))) return true;
            return false;
        }
        add(value) {
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            if (!this.has(value)) {
                prepareSetCopy(state);
                markChanged(state);
                state.copy_.add(value);
            }
            return this;
        }
        delete(value) {
            if (!this.has(value)) {
                return false;
            }
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            prepareSetCopy(state);
            markChanged(state);
            return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : /* istanbul ignore next */ false);
        }
        clear() {
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            if (latest(state).size) {
                prepareSetCopy(state);
                markChanged(state);
                state.copy_.clear();
            }
        }
        values() {
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            prepareSetCopy(state);
            return state.copy_.values();
        }
        entries() {
            const state = this[DRAFT_STATE];
            assertUnrevoked(state);
            prepareSetCopy(state);
            return state.copy_.entries();
        }
        keys() {
            return this.values();
        }
        [(DRAFT_STATE, Symbol.iterator)]() {
            return this.values();
        }
        forEach(cb, thisArg) {
            const iterator = this.values();
            let result = iterator.next();
            while(!result.done){
                cb.call(thisArg, result.value, result.value, this);
                result = iterator.next();
            }
        }
    }
    function proxySet_(target, parent) {
        return new DraftSet(target, parent);
    }
    function prepareSetCopy(state) {
        if (!state.copy_) {
            state.copy_ = /* @__PURE__ */ new Set();
            state.base_.forEach((value)=>{
                if (isDraftable(value)) {
                    const draft = createProxy(value, state);
                    state.drafts_.set(value, draft);
                    state.copy_.add(draft);
                } else {
                    state.copy_.add(value);
                }
            });
        }
    }
    function assertUnrevoked(state) {
        if (state.revoked_) die(3, JSON.stringify(latest(state)));
    }
    loadPlugin("MapSet", {
        proxyMap_,
        proxySet_
    });
}
// src/immer.ts
var immer = new Immer2();
var produce = immer.produce;
var produceWithPatches = immer.produceWithPatches.bind(immer);
var setAutoFreeze = immer.setAutoFreeze.bind(immer);
var setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer);
var applyPatches = immer.applyPatches.bind(immer);
var createDraft = immer.createDraft.bind(immer);
var finishDraft = immer.finishDraft.bind(immer);
function castDraft(value) {
    return value;
}
function castImmutable(value) {
    return value;
}
;
 //# sourceMappingURL=immer.mjs.map
}),
"[project]/node_modules/immer/dist/immer.mjs [app-ssr] (ecmascript) <export produce as createNextState>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "createNextState": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$immer$2f$dist$2f$immer$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["produce"]
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$immer$2f$dist$2f$immer$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/immer/dist/immer.mjs [app-ssr] (ecmascript)");
}),
"[project]/node_modules/reselect/dist/reselect.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// src/devModeChecks/identityFunctionCheck.ts
__turbopack_context__.s({
    "createSelector": ()=>createSelector,
    "createSelectorCreator": ()=>createSelectorCreator,
    "createStructuredSelector": ()=>createStructuredSelector,
    "lruMemoize": ()=>lruMemoize,
    "referenceEqualityCheck": ()=>referenceEqualityCheck,
    "setGlobalDevModeChecks": ()=>setGlobalDevModeChecks,
    "unstable_autotrackMemoize": ()=>autotrackMemoize,
    "weakMapMemoize": ()=>weakMapMemoize
});
var runIdentityFunctionCheck = (resultFunc, inputSelectorsResults, outputSelectorResult)=>{
    if (inputSelectorsResults.length === 1 && inputSelectorsResults[0] === outputSelectorResult) {
        let isInputSameAsOutput = false;
        try {
            const emptyObject = {};
            if (resultFunc(emptyObject) === emptyObject) isInputSameAsOutput = true;
        } catch  {}
        if (isInputSameAsOutput) {
            let stack = void 0;
            try {
                throw new Error();
            } catch (e) {
                ;
                ({ stack } = e);
            }
            console.warn("The result function returned its own inputs without modification. e.g\n`createSelector([state => state.todos], todos => todos)`\nThis could lead to inefficient memoization and unnecessary re-renders.\nEnsure transformation logic is in the result function, and extraction logic is in the input selectors.", {
                stack
            });
        }
    }
};
// src/devModeChecks/inputStabilityCheck.ts
var runInputStabilityCheck = (inputSelectorResultsObject, options, inputSelectorArgs)=>{
    const { memoize, memoizeOptions } = options;
    const { inputSelectorResults, inputSelectorResultsCopy } = inputSelectorResultsObject;
    const createAnEmptyObject = memoize(()=>({}), ...memoizeOptions);
    const areInputSelectorResultsEqual = createAnEmptyObject.apply(null, inputSelectorResults) === createAnEmptyObject.apply(null, inputSelectorResultsCopy);
    if (!areInputSelectorResultsEqual) {
        let stack = void 0;
        try {
            throw new Error();
        } catch (e) {
            ;
            ({ stack } = e);
        }
        console.warn("An input selector returned a different result when passed same arguments.\nThis means your output selector will likely run more frequently than intended.\nAvoid returning a new reference inside your input selector, e.g.\n`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)`", {
            arguments: inputSelectorArgs,
            firstInputs: inputSelectorResults,
            secondInputs: inputSelectorResultsCopy,
            stack
        });
    }
};
// src/devModeChecks/setGlobalDevModeChecks.ts
var globalDevModeChecks = {
    inputStabilityCheck: "once",
    identityFunctionCheck: "once"
};
var setGlobalDevModeChecks = (devModeChecks)=>{
    Object.assign(globalDevModeChecks, devModeChecks);
};
// src/utils.ts
var NOT_FOUND = /* @__PURE__ */ Symbol("NOT_FOUND");
function assertIsFunction(func, errorMessage = `expected a function, instead received ${typeof func}`) {
    if (typeof func !== "function") {
        throw new TypeError(errorMessage);
    }
}
function assertIsObject(object, errorMessage = `expected an object, instead received ${typeof object}`) {
    if (typeof object !== "object") {
        throw new TypeError(errorMessage);
    }
}
function assertIsArrayOfFunctions(array, errorMessage = `expected all items to be functions, instead received the following types: `) {
    if (!array.every((item)=>typeof item === "function")) {
        const itemTypes = array.map((item)=>typeof item === "function" ? `function ${item.name || "unnamed"}()` : typeof item).join(", ");
        throw new TypeError(`${errorMessage}[${itemTypes}]`);
    }
}
var ensureIsArray = (item)=>{
    return Array.isArray(item) ? item : [
        item
    ];
};
function getDependencies(createSelectorArgs) {
    const dependencies = Array.isArray(createSelectorArgs[0]) ? createSelectorArgs[0] : createSelectorArgs;
    assertIsArrayOfFunctions(dependencies, `createSelector expects all input-selectors to be functions, but received the following types: `);
    return dependencies;
}
function collectInputSelectorResults(dependencies, inputSelectorArgs) {
    const inputSelectorResults = [];
    const { length } = dependencies;
    for(let i = 0; i < length; i++){
        inputSelectorResults.push(dependencies[i].apply(null, inputSelectorArgs));
    }
    return inputSelectorResults;
}
var getDevModeChecksExecutionInfo = (firstRun, devModeChecks)=>{
    const { identityFunctionCheck, inputStabilityCheck } = {
        ...globalDevModeChecks,
        ...devModeChecks
    };
    return {
        identityFunctionCheck: {
            shouldRun: identityFunctionCheck === "always" || identityFunctionCheck === "once" && firstRun,
            run: runIdentityFunctionCheck
        },
        inputStabilityCheck: {
            shouldRun: inputStabilityCheck === "always" || inputStabilityCheck === "once" && firstRun,
            run: runInputStabilityCheck
        }
    };
};
// src/autotrackMemoize/autotracking.ts
var $REVISION = 0;
var CURRENT_TRACKER = null;
var Cell = class {
    revision = $REVISION;
    _value;
    _lastValue;
    _isEqual = tripleEq;
    constructor(initialValue, isEqual = tripleEq){
        this._value = this._lastValue = initialValue;
        this._isEqual = isEqual;
    }
    // Whenever a storage value is read, it'll add itself to the current tracker if
    // one exists, entangling its state with that cache.
    get value() {
        CURRENT_TRACKER?.add(this);
        return this._value;
    }
    // Whenever a storage value is updated, we bump the global revision clock,
    // assign the revision for this storage to the new value, _and_ we schedule a
    // rerender. This is important, and it's what makes autotracking  _pull_
    // based. We don't actively tell the caches which depend on the storage that
    // anything has happened. Instead, we recompute the caches when needed.
    set value(newValue) {
        if (this.value === newValue) return;
        this._value = newValue;
        this.revision = ++$REVISION;
    }
};
function tripleEq(a, b) {
    return a === b;
}
var TrackingCache = class {
    _cachedValue;
    _cachedRevision = -1;
    _deps = [];
    hits = 0;
    fn;
    constructor(fn){
        this.fn = fn;
    }
    clear() {
        this._cachedValue = void 0;
        this._cachedRevision = -1;
        this._deps = [];
        this.hits = 0;
    }
    get value() {
        if (this.revision > this._cachedRevision) {
            const { fn } = this;
            const currentTracker = /* @__PURE__ */ new Set();
            const prevTracker = CURRENT_TRACKER;
            CURRENT_TRACKER = currentTracker;
            this._cachedValue = fn();
            CURRENT_TRACKER = prevTracker;
            this.hits++;
            this._deps = Array.from(currentTracker);
            this._cachedRevision = this.revision;
        }
        CURRENT_TRACKER?.add(this);
        return this._cachedValue;
    }
    get revision() {
        return Math.max(...this._deps.map((d)=>d.revision), 0);
    }
};
function getValue(cell) {
    if (!(cell instanceof Cell)) {
        console.warn("Not a valid cell! ", cell);
    }
    return cell.value;
}
function setValue(storage, value) {
    if (!(storage instanceof Cell)) {
        throw new TypeError("setValue must be passed a tracked store created with `createStorage`.");
    }
    storage.value = storage._lastValue = value;
}
function createCell(initialValue, isEqual = tripleEq) {
    return new Cell(initialValue, isEqual);
}
function createCache(fn) {
    assertIsFunction(fn, "the first parameter to `createCache` must be a function");
    return new TrackingCache(fn);
}
// src/autotrackMemoize/tracking.ts
var neverEq = (a, b)=>false;
function createTag() {
    return createCell(null, neverEq);
}
function dirtyTag(tag, value) {
    setValue(tag, value);
}
var consumeCollection = (node)=>{
    let tag = node.collectionTag;
    if (tag === null) {
        tag = node.collectionTag = createTag();
    }
    getValue(tag);
};
var dirtyCollection = (node)=>{
    const tag = node.collectionTag;
    if (tag !== null) {
        dirtyTag(tag, null);
    }
};
// src/autotrackMemoize/proxy.ts
var REDUX_PROXY_LABEL = Symbol();
var nextId = 0;
var proto = Object.getPrototypeOf({});
var ObjectTreeNode = class {
    constructor(value){
        this.value = value;
        this.value = value;
        this.tag.value = value;
    }
    proxy = new Proxy(this, objectProxyHandler);
    tag = createTag();
    tags = {};
    children = {};
    collectionTag = null;
    id = nextId++;
};
var objectProxyHandler = {
    get (node, key) {
        function calculateResult() {
            const { value } = node;
            const childValue = Reflect.get(value, key);
            if (typeof key === "symbol") {
                return childValue;
            }
            if (key in proto) {
                return childValue;
            }
            if (typeof childValue === "object" && childValue !== null) {
                let childNode = node.children[key];
                if (childNode === void 0) {
                    childNode = node.children[key] = createNode(childValue);
                }
                if (childNode.tag) {
                    getValue(childNode.tag);
                }
                return childNode.proxy;
            } else {
                let tag = node.tags[key];
                if (tag === void 0) {
                    tag = node.tags[key] = createTag();
                    tag.value = childValue;
                }
                getValue(tag);
                return childValue;
            }
        }
        const res = calculateResult();
        return res;
    },
    ownKeys (node) {
        consumeCollection(node);
        return Reflect.ownKeys(node.value);
    },
    getOwnPropertyDescriptor (node, prop) {
        return Reflect.getOwnPropertyDescriptor(node.value, prop);
    },
    has (node, prop) {
        return Reflect.has(node.value, prop);
    }
};
var ArrayTreeNode = class {
    constructor(value){
        this.value = value;
        this.value = value;
        this.tag.value = value;
    }
    proxy = new Proxy([
        this
    ], arrayProxyHandler);
    tag = createTag();
    tags = {};
    children = {};
    collectionTag = null;
    id = nextId++;
};
var arrayProxyHandler = {
    get ([node], key) {
        if (key === "length") {
            consumeCollection(node);
        }
        return objectProxyHandler.get(node, key);
    },
    ownKeys ([node]) {
        return objectProxyHandler.ownKeys(node);
    },
    getOwnPropertyDescriptor ([node], prop) {
        return objectProxyHandler.getOwnPropertyDescriptor(node, prop);
    },
    has ([node], prop) {
        return objectProxyHandler.has(node, prop);
    }
};
function createNode(value) {
    if (Array.isArray(value)) {
        return new ArrayTreeNode(value);
    }
    return new ObjectTreeNode(value);
}
function updateNode(node, newValue) {
    const { value, tags, children } = node;
    node.value = newValue;
    if (Array.isArray(value) && Array.isArray(newValue) && value.length !== newValue.length) {
        dirtyCollection(node);
    } else {
        if (value !== newValue) {
            let oldKeysSize = 0;
            let newKeysSize = 0;
            let anyKeysAdded = false;
            for(const _key in value){
                oldKeysSize++;
            }
            for(const key in newValue){
                newKeysSize++;
                if (!(key in value)) {
                    anyKeysAdded = true;
                    break;
                }
            }
            const isDifferent = anyKeysAdded || oldKeysSize !== newKeysSize;
            if (isDifferent) {
                dirtyCollection(node);
            }
        }
    }
    for(const key in tags){
        const childValue = value[key];
        const newChildValue = newValue[key];
        if (childValue !== newChildValue) {
            dirtyCollection(node);
            dirtyTag(tags[key], newChildValue);
        }
        if (typeof newChildValue === "object" && newChildValue !== null) {
            delete tags[key];
        }
    }
    for(const key in children){
        const childNode = children[key];
        const newChildValue = newValue[key];
        const childValue = childNode.value;
        if (childValue === newChildValue) {
            continue;
        } else if (typeof newChildValue === "object" && newChildValue !== null) {
            updateNode(childNode, newChildValue);
        } else {
            deleteNode(childNode);
            delete children[key];
        }
    }
}
function deleteNode(node) {
    if (node.tag) {
        dirtyTag(node.tag, null);
    }
    dirtyCollection(node);
    for(const key in node.tags){
        dirtyTag(node.tags[key], null);
    }
    for(const key in node.children){
        deleteNode(node.children[key]);
    }
}
// src/lruMemoize.ts
function createSingletonCache(equals) {
    let entry;
    return {
        get (key) {
            if (entry && equals(entry.key, key)) {
                return entry.value;
            }
            return NOT_FOUND;
        },
        put (key, value) {
            entry = {
                key,
                value
            };
        },
        getEntries () {
            return entry ? [
                entry
            ] : [];
        },
        clear () {
            entry = void 0;
        }
    };
}
function createLruCache(maxSize, equals) {
    let entries = [];
    function get(key) {
        const cacheIndex = entries.findIndex((entry)=>equals(key, entry.key));
        if (cacheIndex > -1) {
            const entry = entries[cacheIndex];
            if (cacheIndex > 0) {
                entries.splice(cacheIndex, 1);
                entries.unshift(entry);
            }
            return entry.value;
        }
        return NOT_FOUND;
    }
    function put(key, value) {
        if (get(key) === NOT_FOUND) {
            entries.unshift({
                key,
                value
            });
            if (entries.length > maxSize) {
                entries.pop();
            }
        }
    }
    function getEntries() {
        return entries;
    }
    function clear() {
        entries = [];
    }
    return {
        get,
        put,
        getEntries,
        clear
    };
}
var referenceEqualityCheck = (a, b)=>a === b;
function createCacheKeyComparator(equalityCheck) {
    return function areArgumentsShallowlyEqual(prev, next) {
        if (prev === null || next === null || prev.length !== next.length) {
            return false;
        }
        const { length } = prev;
        for(let i = 0; i < length; i++){
            if (!equalityCheck(prev[i], next[i])) {
                return false;
            }
        }
        return true;
    };
}
function lruMemoize(func, equalityCheckOrOptions) {
    const providedOptions = typeof equalityCheckOrOptions === "object" ? equalityCheckOrOptions : {
        equalityCheck: equalityCheckOrOptions
    };
    const { equalityCheck = referenceEqualityCheck, maxSize = 1, resultEqualityCheck } = providedOptions;
    const comparator = createCacheKeyComparator(equalityCheck);
    let resultsCount = 0;
    const cache = maxSize <= 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator);
    function memoized() {
        let value = cache.get(arguments);
        if (value === NOT_FOUND) {
            value = func.apply(null, arguments);
            resultsCount++;
            if (resultEqualityCheck) {
                const entries = cache.getEntries();
                const matchingEntry = entries.find((entry)=>resultEqualityCheck(entry.value, value));
                if (matchingEntry) {
                    value = matchingEntry.value;
                    resultsCount !== 0 && resultsCount--;
                }
            }
            cache.put(arguments, value);
        }
        return value;
    }
    memoized.clearCache = ()=>{
        cache.clear();
        memoized.resetResultsCount();
    };
    memoized.resultsCount = ()=>resultsCount;
    memoized.resetResultsCount = ()=>{
        resultsCount = 0;
    };
    return memoized;
}
// src/autotrackMemoize/autotrackMemoize.ts
function autotrackMemoize(func) {
    const node = createNode([]);
    let lastArgs = null;
    const shallowEqual = createCacheKeyComparator(referenceEqualityCheck);
    const cache = createCache(()=>{
        const res = func.apply(null, node.proxy);
        return res;
    });
    function memoized() {
        if (!shallowEqual(lastArgs, arguments)) {
            updateNode(node, arguments);
            lastArgs = arguments;
        }
        return cache.value;
    }
    memoized.clearCache = ()=>{
        return cache.clear();
    };
    return memoized;
}
// src/weakMapMemoize.ts
var StrongRef = class {
    constructor(value){
        this.value = value;
    }
    deref() {
        return this.value;
    }
};
var Ref = typeof WeakRef !== "undefined" ? WeakRef : StrongRef;
var UNTERMINATED = 0;
var TERMINATED = 1;
function createCacheNode() {
    return {
        s: UNTERMINATED,
        v: void 0,
        o: null,
        p: null
    };
}
function weakMapMemoize(func, options = {}) {
    let fnNode = createCacheNode();
    const { resultEqualityCheck } = options;
    let lastResult;
    let resultsCount = 0;
    function memoized() {
        let cacheNode = fnNode;
        const { length } = arguments;
        for(let i = 0, l = length; i < l; i++){
            const arg = arguments[i];
            if (typeof arg === "function" || typeof arg === "object" && arg !== null) {
                let objectCache = cacheNode.o;
                if (objectCache === null) {
                    cacheNode.o = objectCache = /* @__PURE__ */ new WeakMap();
                }
                const objectNode = objectCache.get(arg);
                if (objectNode === void 0) {
                    cacheNode = createCacheNode();
                    objectCache.set(arg, cacheNode);
                } else {
                    cacheNode = objectNode;
                }
            } else {
                let primitiveCache = cacheNode.p;
                if (primitiveCache === null) {
                    cacheNode.p = primitiveCache = /* @__PURE__ */ new Map();
                }
                const primitiveNode = primitiveCache.get(arg);
                if (primitiveNode === void 0) {
                    cacheNode = createCacheNode();
                    primitiveCache.set(arg, cacheNode);
                } else {
                    cacheNode = primitiveNode;
                }
            }
        }
        const terminatedNode = cacheNode;
        let result;
        if (cacheNode.s === TERMINATED) {
            result = cacheNode.v;
        } else {
            result = func.apply(null, arguments);
            resultsCount++;
            if (resultEqualityCheck) {
                const lastResultValue = lastResult?.deref?.() ?? lastResult;
                if (lastResultValue != null && resultEqualityCheck(lastResultValue, result)) {
                    result = lastResultValue;
                    resultsCount !== 0 && resultsCount--;
                }
                const needsWeakRef = typeof result === "object" && result !== null || typeof result === "function";
                lastResult = needsWeakRef ? new Ref(result) : result;
            }
        }
        terminatedNode.s = TERMINATED;
        terminatedNode.v = result;
        return result;
    }
    memoized.clearCache = ()=>{
        fnNode = createCacheNode();
        memoized.resetResultsCount();
    };
    memoized.resultsCount = ()=>resultsCount;
    memoized.resetResultsCount = ()=>{
        resultsCount = 0;
    };
    return memoized;
}
// src/createSelectorCreator.ts
function createSelectorCreator(memoizeOrOptions, ...memoizeOptionsFromArgs) {
    const createSelectorCreatorOptions = typeof memoizeOrOptions === "function" ? {
        memoize: memoizeOrOptions,
        memoizeOptions: memoizeOptionsFromArgs
    } : memoizeOrOptions;
    const createSelector2 = (...createSelectorArgs)=>{
        let recomputations = 0;
        let dependencyRecomputations = 0;
        let lastResult;
        let directlyPassedOptions = {};
        let resultFunc = createSelectorArgs.pop();
        if (typeof resultFunc === "object") {
            directlyPassedOptions = resultFunc;
            resultFunc = createSelectorArgs.pop();
        }
        assertIsFunction(resultFunc, `createSelector expects an output function after the inputs, but received: [${typeof resultFunc}]`);
        const combinedOptions = {
            ...createSelectorCreatorOptions,
            ...directlyPassedOptions
        };
        const { memoize, memoizeOptions = [], argsMemoize = weakMapMemoize, argsMemoizeOptions = [], devModeChecks = {} } = combinedOptions;
        const finalMemoizeOptions = ensureIsArray(memoizeOptions);
        const finalArgsMemoizeOptions = ensureIsArray(argsMemoizeOptions);
        const dependencies = getDependencies(createSelectorArgs);
        const memoizedResultFunc = memoize(function recomputationWrapper() {
            recomputations++;
            return resultFunc.apply(null, arguments);
        }, ...finalMemoizeOptions);
        let firstRun = true;
        const selector = argsMemoize(function dependenciesChecker() {
            dependencyRecomputations++;
            const inputSelectorResults = collectInputSelectorResults(dependencies, arguments);
            lastResult = memoizedResultFunc.apply(null, inputSelectorResults);
            if ("TURBOPACK compile-time truthy", 1) {
                const { identityFunctionCheck, inputStabilityCheck } = getDevModeChecksExecutionInfo(firstRun, devModeChecks);
                if (identityFunctionCheck.shouldRun) {
                    identityFunctionCheck.run(resultFunc, inputSelectorResults, lastResult);
                }
                if (inputStabilityCheck.shouldRun) {
                    const inputSelectorResultsCopy = collectInputSelectorResults(dependencies, arguments);
                    inputStabilityCheck.run({
                        inputSelectorResults,
                        inputSelectorResultsCopy
                    }, {
                        memoize,
                        memoizeOptions: finalMemoizeOptions
                    }, arguments);
                }
                if (firstRun) firstRun = false;
            }
            return lastResult;
        }, ...finalArgsMemoizeOptions);
        return Object.assign(selector, {
            resultFunc,
            memoizedResultFunc,
            dependencies,
            dependencyRecomputations: ()=>dependencyRecomputations,
            resetDependencyRecomputations: ()=>{
                dependencyRecomputations = 0;
            },
            lastResult: ()=>lastResult,
            recomputations: ()=>recomputations,
            resetRecomputations: ()=>{
                recomputations = 0;
            },
            memoize,
            argsMemoize
        });
    };
    Object.assign(createSelector2, {
        withTypes: ()=>createSelector2
    });
    return createSelector2;
}
var createSelector = /* @__PURE__ */ createSelectorCreator(weakMapMemoize);
// src/createStructuredSelector.ts
var createStructuredSelector = Object.assign((inputSelectorsObject, selectorCreator = createSelector)=>{
    assertIsObject(inputSelectorsObject, `createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof inputSelectorsObject}`);
    const inputSelectorKeys = Object.keys(inputSelectorsObject);
    const dependencies = inputSelectorKeys.map((key)=>inputSelectorsObject[key]);
    const structuredSelector = selectorCreator(dependencies, (...inputSelectorResults)=>{
        return inputSelectorResults.reduce((composition, value, index)=>{
            composition[inputSelectorKeys[index]] = value;
            return composition;
        }, {});
    });
    return structuredSelector;
}, {
    withTypes: ()=>createStructuredSelector
});
;
 //# sourceMappingURL=reselect.mjs.map
}),
"[project]/node_modules/redux/dist/redux.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// src/utils/formatProdErrorMessage.ts
__turbopack_context__.s({
    "__DO_NOT_USE__ActionTypes": ()=>actionTypes_default,
    "applyMiddleware": ()=>applyMiddleware,
    "bindActionCreators": ()=>bindActionCreators,
    "combineReducers": ()=>combineReducers,
    "compose": ()=>compose,
    "createStore": ()=>createStore,
    "isAction": ()=>isAction,
    "isPlainObject": ()=>isPlainObject,
    "legacy_createStore": ()=>legacy_createStore
});
function formatProdErrorMessage(code) {
    return `Minified Redux error #${code}; visit https://redux.js.org/Errors?code=${code} for the full message or use the non-minified dev environment for full errors. `;
}
// src/utils/symbol-observable.ts
var $$observable = /* @__PURE__ */ (()=>typeof Symbol === "function" && Symbol.observable || "@@observable")();
var symbol_observable_default = $$observable;
// src/utils/actionTypes.ts
var randomString = ()=>Math.random().toString(36).substring(7).split("").join(".");
var ActionTypes = {
    INIT: `@@redux/INIT${/* @__PURE__ */ randomString()}`,
    REPLACE: `@@redux/REPLACE${/* @__PURE__ */ randomString()}`,
    PROBE_UNKNOWN_ACTION: ()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`
};
var actionTypes_default = ActionTypes;
// src/utils/isPlainObject.ts
function isPlainObject(obj) {
    if (typeof obj !== "object" || obj === null) return false;
    let proto = obj;
    while(Object.getPrototypeOf(proto) !== null){
        proto = Object.getPrototypeOf(proto);
    }
    return Object.getPrototypeOf(obj) === proto || Object.getPrototypeOf(obj) === null;
}
// src/utils/kindOf.ts
function miniKindOf(val) {
    if (val === void 0) return "undefined";
    if (val === null) return "null";
    const type = typeof val;
    switch(type){
        case "boolean":
        case "string":
        case "number":
        case "symbol":
        case "function":
            {
                return type;
            }
    }
    if (Array.isArray(val)) return "array";
    if (isDate(val)) return "date";
    if (isError(val)) return "error";
    const constructorName = ctorName(val);
    switch(constructorName){
        case "Symbol":
        case "Promise":
        case "WeakMap":
        case "WeakSet":
        case "Map":
        case "Set":
            return constructorName;
    }
    return Object.prototype.toString.call(val).slice(8, -1).toLowerCase().replace(/\s/g, "");
}
function ctorName(val) {
    return typeof val.constructor === "function" ? val.constructor.name : null;
}
function isError(val) {
    return val instanceof Error || typeof val.message === "string" && val.constructor && typeof val.constructor.stackTraceLimit === "number";
}
function isDate(val) {
    if (val instanceof Date) return true;
    return typeof val.toDateString === "function" && typeof val.getDate === "function" && typeof val.setDate === "function";
}
function kindOf(val) {
    let typeOfVal = typeof val;
    if ("TURBOPACK compile-time truthy", 1) {
        typeOfVal = miniKindOf(val);
    }
    return typeOfVal;
}
// src/createStore.ts
function createStore(reducer, preloadedState, enhancer) {
    if (typeof reducer !== "function") {
        throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `Expected the root reducer to be a function. Instead, received: '${kindOf(reducer)}'`);
    }
    if (typeof preloadedState === "function" && typeof enhancer === "function" || typeof enhancer === "function" && typeof arguments[3] === "function") {
        throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");
    }
    if (typeof preloadedState === "function" && typeof enhancer === "undefined") {
        enhancer = preloadedState;
        preloadedState = void 0;
    }
    if (typeof enhancer !== "undefined") {
        if (typeof enhancer !== "function") {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `Expected the enhancer to be a function. Instead, received: '${kindOf(enhancer)}'`);
        }
        return enhancer(createStore)(reducer, preloadedState);
    }
    let currentReducer = reducer;
    let currentState = preloadedState;
    let currentListeners = /* @__PURE__ */ new Map();
    let nextListeners = currentListeners;
    let listenerIdCounter = 0;
    let isDispatching = false;
    function ensureCanMutateNextListeners() {
        if (nextListeners === currentListeners) {
            nextListeners = /* @__PURE__ */ new Map();
            currentListeners.forEach((listener, key)=>{
                nextListeners.set(key, listener);
            });
        }
    }
    function getState() {
        if (isDispatching) {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");
        }
        return currentState;
    }
    function subscribe(listener) {
        if (typeof listener !== "function") {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `Expected the listener to be a function. Instead, received: '${kindOf(listener)}'`);
        }
        if (isDispatching) {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");
        }
        let isSubscribed = true;
        ensureCanMutateNextListeners();
        const listenerId = listenerIdCounter++;
        nextListeners.set(listenerId, listener);
        return function unsubscribe() {
            if (!isSubscribed) {
                return;
            }
            if (isDispatching) {
                throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");
            }
            isSubscribed = false;
            ensureCanMutateNextListeners();
            nextListeners.delete(listenerId);
            currentListeners = null;
        };
    }
    function dispatch(action) {
        if (!isPlainObject(action)) {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `Actions must be plain objects. Instead, the actual type was: '${kindOf(action)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);
        }
        if (typeof action.type === "undefined") {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : 'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');
        }
        if (typeof action.type !== "string") {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `Action "type" property must be a string. Instead, the actual type was: '${kindOf(action.type)}'. Value was: '${action.type}' (stringified)`);
        }
        if (isDispatching) {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "Reducers may not dispatch actions.");
        }
        try {
            isDispatching = true;
            currentState = currentReducer(currentState, action);
        } finally{
            isDispatching = false;
        }
        const listeners = currentListeners = nextListeners;
        listeners.forEach((listener)=>{
            listener();
        });
        return action;
    }
    function replaceReducer(nextReducer) {
        if (typeof nextReducer !== "function") {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `Expected the nextReducer to be a function. Instead, received: '${kindOf(nextReducer)}`);
        }
        currentReducer = nextReducer;
        dispatch({
            type: actionTypes_default.REPLACE
        });
    }
    function observable() {
        const outerSubscribe = subscribe;
        return {
            /**
       * The minimal observable subscription method.
       * @param observer Any object that can be used as an observer.
       * The observer object should have a `next` method.
       * @returns An object with an `unsubscribe` method that can
       * be used to unsubscribe the observable from the store, and prevent further
       * emission of values from the observable.
       */ subscribe (observer) {
                if (typeof observer !== "object" || observer === null) {
                    throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `Expected the observer to be an object. Instead, received: '${kindOf(observer)}'`);
                }
                function observeState() {
                    const observerAsObserver = observer;
                    if (observerAsObserver.next) {
                        observerAsObserver.next(getState());
                    }
                }
                observeState();
                const unsubscribe = outerSubscribe(observeState);
                return {
                    unsubscribe
                };
            },
            [symbol_observable_default] () {
                return this;
            }
        };
    }
    dispatch({
        type: actionTypes_default.INIT
    });
    const store = {
        dispatch,
        subscribe,
        getState,
        replaceReducer,
        [symbol_observable_default]: observable
    };
    return store;
}
function legacy_createStore(reducer, preloadedState, enhancer) {
    return createStore(reducer, preloadedState, enhancer);
}
// src/utils/warning.ts
function warning(message) {
    if (typeof console !== "undefined" && typeof console.error === "function") {
        console.error(message);
    }
    try {
        throw new Error(message);
    } catch (e) {}
}
// src/combineReducers.ts
function getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {
    const reducerKeys = Object.keys(reducers);
    const argumentName = action && action.type === actionTypes_default.INIT ? "preloadedState argument passed to createStore" : "previous state received by the reducer";
    if (reducerKeys.length === 0) {
        return "Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";
    }
    if (!isPlainObject(inputState)) {
        return `The ${argumentName} has unexpected type of "${kindOf(inputState)}". Expected argument to be an object with the following keys: "${reducerKeys.join('", "')}"`;
    }
    const unexpectedKeys = Object.keys(inputState).filter((key)=>!reducers.hasOwnProperty(key) && !unexpectedKeyCache[key]);
    unexpectedKeys.forEach((key)=>{
        unexpectedKeyCache[key] = true;
    });
    if (action && action.type === actionTypes_default.REPLACE) return;
    if (unexpectedKeys.length > 0) {
        return `Unexpected ${unexpectedKeys.length > 1 ? "keys" : "key"} "${unexpectedKeys.join('", "')}" found in ${argumentName}. Expected to find one of the known reducer keys instead: "${reducerKeys.join('", "')}". Unexpected keys will be ignored.`;
    }
}
function assertReducerShape(reducers) {
    Object.keys(reducers).forEach((key)=>{
        const reducer = reducers[key];
        const initialState = reducer(void 0, {
            type: actionTypes_default.INIT
        });
        if (typeof initialState === "undefined") {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `The slice reducer for key "${key}" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);
        }
        if (typeof reducer(void 0, {
            type: actionTypes_default.PROBE_UNKNOWN_ACTION()
        }) === "undefined") {
            throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `The slice reducer for key "${key}" returned undefined when probed with a random type. Don't try to handle '${actionTypes_default.INIT}' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`);
        }
    });
}
function combineReducers(reducers) {
    const reducerKeys = Object.keys(reducers);
    const finalReducers = {};
    for(let i = 0; i < reducerKeys.length; i++){
        const key = reducerKeys[i];
        if ("TURBOPACK compile-time truthy", 1) {
            if (typeof reducers[key] === "undefined") {
                warning(`No reducer provided for key "${key}"`);
            }
        }
        if (typeof reducers[key] === "function") {
            finalReducers[key] = reducers[key];
        }
    }
    const finalReducerKeys = Object.keys(finalReducers);
    let unexpectedKeyCache;
    if (("TURBOPACK compile-time value", "development") !== "production") {
        unexpectedKeyCache = {};
    }
    let shapeAssertionError;
    try {
        assertReducerShape(finalReducers);
    } catch (e) {
        shapeAssertionError = e;
    }
    return function combination(state = {}, action) {
        if (shapeAssertionError) {
            throw shapeAssertionError;
        }
        if ("TURBOPACK compile-time truthy", 1) {
            const warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);
            if (warningMessage) {
                warning(warningMessage);
            }
        }
        let hasChanged = false;
        const nextState = {};
        for(let i = 0; i < finalReducerKeys.length; i++){
            const key = finalReducerKeys[i];
            const reducer = finalReducers[key];
            const previousStateForKey = state[key];
            const nextStateForKey = reducer(previousStateForKey, action);
            if (typeof nextStateForKey === "undefined") {
                const actionType = action && action.type;
                throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `When called with an action of type ${actionType ? `"${String(actionType)}"` : "(unknown type)"}, the slice reducer for key "${key}" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`);
            }
            nextState[key] = nextStateForKey;
            hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
        }
        hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;
        return hasChanged ? nextState : state;
    };
}
// src/bindActionCreators.ts
function bindActionCreator(actionCreator, dispatch) {
    return function(...args) {
        return dispatch(actionCreator.apply(this, args));
    };
}
function bindActionCreators(actionCreators, dispatch) {
    if (typeof actionCreators === "function") {
        return bindActionCreator(actionCreators, dispatch);
    }
    if (typeof actionCreators !== "object" || actionCreators === null) {
        throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : `bindActionCreators expected an object or a function, but instead received: '${kindOf(actionCreators)}'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?`);
    }
    const boundActionCreators = {};
    for(const key in actionCreators){
        const actionCreator = actionCreators[key];
        if (typeof actionCreator === "function") {
            boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);
        }
    }
    return boundActionCreators;
}
// src/compose.ts
function compose(...funcs) {
    if (funcs.length === 0) {
        return (arg)=>arg;
    }
    if (funcs.length === 1) {
        return funcs[0];
    }
    return funcs.reduce((a, b)=>(...args)=>a(b(...args)));
}
// src/applyMiddleware.ts
function applyMiddleware(...middlewares) {
    return (createStore2)=>(reducer, preloadedState)=>{
            const store = createStore2(reducer, preloadedState);
            let dispatch = ()=>{
                throw new Error(("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.");
            };
            const middlewareAPI = {
                getState: store.getState,
                dispatch: (action, ...args)=>dispatch(action, ...args)
            };
            const chain = middlewares.map((middleware)=>middleware(middlewareAPI));
            dispatch = compose(...chain)(store.dispatch);
            return {
                ...store,
                dispatch
            };
        };
}
// src/utils/isAction.ts
function isAction(action) {
    return isPlainObject(action) && "type" in action && typeof action.type === "string";
}
;
 //# sourceMappingURL=redux.mjs.map
}),
"[project]/node_modules/redux-thunk/dist/redux-thunk.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// src/index.ts
__turbopack_context__.s({
    "thunk": ()=>thunk,
    "withExtraArgument": ()=>withExtraArgument
});
function createThunkMiddleware(extraArgument) {
    const middleware = ({ dispatch, getState })=>(next)=>(action)=>{
                if (typeof action === "function") {
                    return action(dispatch, getState, extraArgument);
                }
                return next(action);
            };
    return middleware;
}
var thunk = createThunkMiddleware();
var withExtraArgument = createThunkMiddleware;
;
}),
"[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "DEFAULT_VERSION": ()=>DEFAULT_VERSION,
    "FLUSH": ()=>FLUSH,
    "KEY_PREFIX": ()=>KEY_PREFIX,
    "PAUSE": ()=>PAUSE,
    "PERSIST": ()=>PERSIST,
    "PURGE": ()=>PURGE,
    "REGISTER": ()=>REGISTER,
    "REHYDRATE": ()=>REHYDRATE
});
var KEY_PREFIX = 'persist:';
var FLUSH = 'persist/FLUSH';
var REHYDRATE = 'persist/REHYDRATE';
var PAUSE = 'persist/PAUSE';
var PERSIST = 'persist/PERSIST';
var PURGE = 'persist/PURGE';
var REGISTER = 'persist/REGISTER';
var DEFAULT_VERSION = -1;
}),
"[project]/node_modules/redux-persist/es/stateReconciler/autoMergeLevel1.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>autoMergeLevel1
});
function _typeof(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
        };
    }
    return _typeof(obj);
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
        });
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _objectSpread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
            ownKeys(source, true).forEach(function(key) {
                _defineProperty(target, key, source[key]);
            });
        } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
            ownKeys(source).forEach(function(key) {
                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
        }
    }
    return target;
}
function _defineProperty(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function autoMergeLevel1(inboundState, originalState, reducedState, _ref) {
    var debug = _ref.debug;
    var newState = _objectSpread({}, reducedState); // only rehydrate if inboundState exists and is an object
    if (inboundState && _typeof(inboundState) === 'object') {
        Object.keys(inboundState).forEach(function(key) {
            // ignore _persist data
            if (key === '_persist') return; // if reducer modifies substate, skip auto rehydration
            if (originalState[key] !== reducedState[key]) {
                if (("TURBOPACK compile-time value", "development") !== 'production' && debug) console.log('redux-persist/stateReconciler: sub state for key `%s` modified, skipping.', key);
                return;
            } // otherwise hard set the new value
            newState[key] = inboundState[key];
        });
    }
    if (("TURBOPACK compile-time value", "development") !== 'production' && debug && inboundState && _typeof(inboundState) === 'object') console.log("redux-persist/stateReconciler: rehydrated keys '".concat(Object.keys(inboundState).join(', '), "'"));
    return newState;
}
}),
"[project]/node_modules/redux-persist/es/createPersistoid.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>createPersistoid
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)");
;
function createPersistoid(config) {
    // defaults
    var blacklist = config.blacklist || null;
    var whitelist = config.whitelist || null;
    var transforms = config.transforms || [];
    var throttle = config.throttle || 0;
    var storageKey = "".concat(config.keyPrefix !== undefined ? config.keyPrefix : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["KEY_PREFIX"]).concat(config.key);
    var storage = config.storage;
    var serialize;
    if (config.serialize === false) {
        serialize = function serialize(x) {
            return x;
        };
    } else if (typeof config.serialize === 'function') {
        serialize = config.serialize;
    } else {
        serialize = defaultSerialize;
    }
    var writeFailHandler = config.writeFailHandler || null; // initialize stateful values
    var lastState = {};
    var stagedState = {};
    var keysToProcess = [];
    var timeIterator = null;
    var writePromise = null;
    var update = function update(state) {
        // add any changed keys to the queue
        Object.keys(state).forEach(function(key) {
            if (!passWhitelistBlacklist(key)) return; // is keyspace ignored? noop
            if (lastState[key] === state[key]) return; // value unchanged? noop
            if (keysToProcess.indexOf(key) !== -1) return; // is key already queued? noop
            keysToProcess.push(key); // add key to queue
        }); //if any key is missing in the new state which was present in the lastState,
        //add it for processing too
        Object.keys(lastState).forEach(function(key) {
            if (state[key] === undefined && passWhitelistBlacklist(key) && keysToProcess.indexOf(key) === -1 && lastState[key] !== undefined) {
                keysToProcess.push(key);
            }
        }); // start the time iterator if not running (read: throttle)
        if (timeIterator === null) {
            timeIterator = setInterval(processNextKey, throttle);
        }
        lastState = state;
    };
    function processNextKey() {
        if (keysToProcess.length === 0) {
            if (timeIterator) clearInterval(timeIterator);
            timeIterator = null;
            return;
        }
        var key = keysToProcess.shift();
        var endState = transforms.reduce(function(subState, transformer) {
            return transformer.in(subState, key, lastState);
        }, lastState[key]);
        if (endState !== undefined) {
            try {
                stagedState[key] = serialize(endState);
            } catch (err) {
                console.error('redux-persist/createPersistoid: error serializing state', err);
            }
        } else {
            //if the endState is undefined, no need to persist the existing serialized content
            delete stagedState[key];
        }
        if (keysToProcess.length === 0) {
            writeStagedState();
        }
    }
    function writeStagedState() {
        // cleanup any removed keys just before write.
        Object.keys(stagedState).forEach(function(key) {
            if (lastState[key] === undefined) {
                delete stagedState[key];
            }
        });
        writePromise = storage.setItem(storageKey, serialize(stagedState)).catch(onWriteFail);
    }
    function passWhitelistBlacklist(key) {
        if (whitelist && whitelist.indexOf(key) === -1 && key !== '_persist') return false;
        if (blacklist && blacklist.indexOf(key) !== -1) return false;
        return true;
    }
    function onWriteFail(err) {
        // @TODO add fail handlers (typically storage full)
        if (writeFailHandler) writeFailHandler(err);
        if (err && ("TURBOPACK compile-time value", "development") !== 'production') {
            console.error('Error storing data', err);
        }
    }
    var flush = function flush() {
        while(keysToProcess.length !== 0){
            processNextKey();
        }
        return writePromise || Promise.resolve();
    }; // return `persistoid`
    return {
        update: update,
        flush: flush
    };
} // @NOTE in the future this may be exposed via config
function defaultSerialize(data) {
    return JSON.stringify(data);
}
}),
"[project]/node_modules/redux-persist/es/getStoredState.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>getStoredState
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)");
;
function getStoredState(config) {
    var transforms = config.transforms || [];
    var storageKey = "".concat(config.keyPrefix !== undefined ? config.keyPrefix : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["KEY_PREFIX"]).concat(config.key);
    var storage = config.storage;
    var debug = config.debug;
    var deserialize;
    if (config.deserialize === false) {
        deserialize = function deserialize(x) {
            return x;
        };
    } else if (typeof config.deserialize === 'function') {
        deserialize = config.deserialize;
    } else {
        deserialize = defaultDeserialize;
    }
    return storage.getItem(storageKey).then(function(serialized) {
        if (!serialized) return undefined;
        else {
            try {
                var state = {};
                var rawState = deserialize(serialized);
                Object.keys(rawState).forEach(function(key) {
                    state[key] = transforms.reduceRight(function(subState, transformer) {
                        return transformer.out(subState, key, rawState);
                    }, deserialize(rawState[key]));
                });
                return state;
            } catch (err) {
                if (("TURBOPACK compile-time value", "development") !== 'production' && debug) console.log("redux-persist/getStoredState: Error restoring data ".concat(serialized), err);
                throw err;
            }
        }
    });
}
function defaultDeserialize(serial) {
    return JSON.parse(serial);
}
}),
"[project]/node_modules/redux-persist/es/purgeStoredState.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>purgeStoredState
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)");
;
function purgeStoredState(config) {
    var storage = config.storage;
    var storageKey = "".concat(config.keyPrefix !== undefined ? config.keyPrefix : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["KEY_PREFIX"]).concat(config.key);
    return storage.removeItem(storageKey, warnIfRemoveError);
}
function warnIfRemoveError(err) {
    if (err && ("TURBOPACK compile-time value", "development") !== 'production') {
        console.error('redux-persist/purgeStoredState: Error purging data stored state', err);
    }
}
}),
"[project]/node_modules/redux-persist/es/persistReducer.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>persistReducer
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$stateReconciler$2f$autoMergeLevel1$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/stateReconciler/autoMergeLevel1.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$createPersistoid$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/createPersistoid.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$getStoredState$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/getStoredState.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$purgeStoredState$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/purgeStoredState.js [app-ssr] (ecmascript)");
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
        });
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _objectSpread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
            ownKeys(source, true).forEach(function(key) {
                _defineProperty(target, key, source[key]);
            });
        } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
            ownKeys(source).forEach(function(key) {
                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
        }
    }
    return target;
}
function _defineProperty(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _objectWithoutProperties(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for(i = 0; i < sourceSymbolKeys.length; i++){
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}
function _objectWithoutPropertiesLoose(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for(i = 0; i < sourceKeys.length; i++){
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}
;
;
;
;
;
var DEFAULT_TIMEOUT = 5000;
function persistReducer(config, baseReducer) {
    if ("TURBOPACK compile-time truthy", 1) {
        if (!config) throw new Error('config is required for persistReducer');
        if (!config.key) throw new Error('key is required in persistor config');
        if (!config.storage) throw new Error("redux-persist: config.storage is required. Try using one of the provided storage engines `import storage from 'redux-persist/lib/storage'`");
    }
    var version = config.version !== undefined ? config.version : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_VERSION"];
    var debug = config.debug || false;
    var stateReconciler = config.stateReconciler === undefined ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$stateReconciler$2f$autoMergeLevel1$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"] : config.stateReconciler;
    var getStoredState = config.getStoredState || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$getStoredState$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"];
    var timeout = config.timeout !== undefined ? config.timeout : DEFAULT_TIMEOUT;
    var _persistoid = null;
    var _purge = false;
    var _paused = true;
    var conditionalUpdate = function conditionalUpdate(state) {
        // update the persistoid only if we are rehydrated and not paused
        state._persist.rehydrated && _persistoid && !_paused && _persistoid.update(state);
        return state;
    };
    return function(state, action) {
        var _ref = state || {}, _persist = _ref._persist, rest = _objectWithoutProperties(_ref, [
            "_persist"
        ]); // $FlowIgnore need to update State type
        var restState = rest;
        if (action.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PERSIST"]) {
            var _sealed = false;
            var _rehydrate = function _rehydrate(payload, err) {
                // dev warning if we are already sealed
                if (("TURBOPACK compile-time value", "development") !== 'production' && _sealed) console.error("redux-persist: rehydrate for \"".concat(config.key, "\" called after timeout."), payload, err); // only rehydrate if we are not already sealed
                if (!_sealed) {
                    action.rehydrate(config.key, payload, err);
                    _sealed = true;
                }
            };
            timeout && setTimeout(function() {
                !_sealed && _rehydrate(undefined, new Error("redux-persist: persist timed out for persist key \"".concat(config.key, "\"")));
            }, timeout); // @NOTE PERSIST resumes if paused.
            _paused = false; // @NOTE only ever create persistoid once, ensure we call it at least once, even if _persist has already been set
            if (!_persistoid) _persistoid = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$createPersistoid$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(config); // @NOTE PERSIST can be called multiple times, noop after the first
            if (_persist) {
                // We still need to call the base reducer because there might be nested
                // uses of persistReducer which need to be aware of the PERSIST action
                return _objectSpread({}, baseReducer(restState, action), {
                    _persist: _persist
                });
            }
            if (typeof action.rehydrate !== 'function' || typeof action.register !== 'function') throw new Error('redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.');
            action.register(config.key);
            getStoredState(config).then(function(restoredState) {
                var migrate = config.migrate || function(s, v) {
                    return Promise.resolve(s);
                };
                migrate(restoredState, version).then(function(migratedState) {
                    _rehydrate(migratedState);
                }, function(migrateErr) {
                    if (("TURBOPACK compile-time value", "development") !== 'production' && migrateErr) console.error('redux-persist: migration error', migrateErr);
                    _rehydrate(undefined, migrateErr);
                });
            }, function(err) {
                _rehydrate(undefined, err);
            });
            return _objectSpread({}, baseReducer(restState, action), {
                _persist: {
                    version: version,
                    rehydrated: false
                }
            });
        } else if (action.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PURGE"]) {
            _purge = true;
            action.result((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$purgeStoredState$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(config));
            return _objectSpread({}, baseReducer(restState, action), {
                _persist: _persist
            });
        } else if (action.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FLUSH"]) {
            action.result(_persistoid && _persistoid.flush());
            return _objectSpread({}, baseReducer(restState, action), {
                _persist: _persist
            });
        } else if (action.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PAUSE"]) {
            _paused = true;
        } else if (action.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["REHYDRATE"]) {
            // noop on restState if purging
            if (_purge) return _objectSpread({}, restState, {
                _persist: _objectSpread({}, _persist, {
                    rehydrated: true
                }) // @NOTE if key does not match, will continue to default else below
            });
            if (action.key === config.key) {
                var reducedState = baseReducer(restState, action);
                var inboundState = action.payload; // only reconcile state if stateReconciler and inboundState are both defined
                var reconciledRest = stateReconciler !== false && inboundState !== undefined ? stateReconciler(inboundState, state, reducedState, config) : reducedState;
                var _newState = _objectSpread({}, reconciledRest, {
                    _persist: _objectSpread({}, _persist, {
                        rehydrated: true
                    })
                });
                return conditionalUpdate(_newState);
            }
        } // if we have not already handled PERSIST, straight passthrough
        if (!_persist) return baseReducer(state, action); // run base reducer:
        // is state modified ? return original : return updated
        var newState = baseReducer(restState, action);
        if (newState === restState) return state;
        return conditionalUpdate(_objectSpread({}, newState, {
            _persist: _persist
        }));
    };
}
}),
"[project]/node_modules/redux-persist/es/stateReconciler/autoMergeLevel2.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>autoMergeLevel2
});
function _typeof(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
        };
    }
    return _typeof(obj);
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
        });
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _objectSpread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
            ownKeys(source, true).forEach(function(key) {
                _defineProperty(target, key, source[key]);
            });
        } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
            ownKeys(source).forEach(function(key) {
                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
        }
    }
    return target;
}
function _defineProperty(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function autoMergeLevel2(inboundState, originalState, reducedState, _ref) {
    var debug = _ref.debug;
    var newState = _objectSpread({}, reducedState); // only rehydrate if inboundState exists and is an object
    if (inboundState && _typeof(inboundState) === 'object') {
        Object.keys(inboundState).forEach(function(key) {
            // ignore _persist data
            if (key === '_persist') return; // if reducer modifies substate, skip auto rehydration
            if (originalState[key] !== reducedState[key]) {
                if (("TURBOPACK compile-time value", "development") !== 'production' && debug) console.log('redux-persist/stateReconciler: sub state for key `%s` modified, skipping.', key);
                return;
            }
            if (isPlainEnoughObject(reducedState[key])) {
                // if object is plain enough shallow merge the new values (hence "Level2")
                newState[key] = _objectSpread({}, newState[key], {}, inboundState[key]);
                return;
            } // otherwise hard set
            newState[key] = inboundState[key];
        });
    }
    if (("TURBOPACK compile-time value", "development") !== 'production' && debug && inboundState && _typeof(inboundState) === 'object') console.log("redux-persist/stateReconciler: rehydrated keys '".concat(Object.keys(inboundState).join(', '), "'"));
    return newState;
}
function isPlainEnoughObject(o) {
    return o !== null && !Array.isArray(o) && _typeof(o) === 'object';
}
}),
"[project]/node_modules/redux-persist/es/persistCombineReducers.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>persistCombineReducers
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2f$dist$2f$redux$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux/dist/redux.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistReducer$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistReducer.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$stateReconciler$2f$autoMergeLevel2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/stateReconciler/autoMergeLevel2.js [app-ssr] (ecmascript)");
;
;
;
function persistCombineReducers(config, reducers) {
    config.stateReconciler = config.stateReconciler === undefined ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$stateReconciler$2f$autoMergeLevel2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"] : config.stateReconciler;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistReducer$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(config, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2f$dist$2f$redux$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["combineReducers"])(reducers));
}
}),
"[project]/node_modules/redux-persist/es/persistStore.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>persistStore
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2f$dist$2f$redux$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux/dist/redux.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)");
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance");
}
function _iterableToArray(iter) {
    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) {
        for(var i = 0, arr2 = new Array(arr.length); i < arr.length; i++){
            arr2[i] = arr[i];
        }
        return arr2;
    }
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
        });
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _objectSpread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
            ownKeys(source, true).forEach(function(key) {
                _defineProperty(target, key, source[key]);
            });
        } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
            ownKeys(source).forEach(function(key) {
                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
        }
    }
    return target;
}
function _defineProperty(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
;
;
var initialState = {
    registry: [],
    bootstrapped: false
};
var persistorReducer = function persistorReducer() {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
    var action = arguments.length > 1 ? arguments[1] : undefined;
    switch(action.type){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["REGISTER"]:
            return _objectSpread({}, state, {
                registry: [].concat(_toConsumableArray(state.registry), [
                    action.key
                ])
            });
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["REHYDRATE"]:
            var firstIndex = state.registry.indexOf(action.key);
            var registry = _toConsumableArray(state.registry);
            registry.splice(firstIndex, 1);
            return _objectSpread({}, state, {
                registry: registry,
                bootstrapped: registry.length === 0
            });
        default:
            return state;
    }
};
function persistStore(store, options, cb) {
    // help catch incorrect usage of passing PersistConfig in as PersistorOptions
    if ("TURBOPACK compile-time truthy", 1) {
        var optionsToTest = options || {};
        var bannedKeys = [
            'blacklist',
            'whitelist',
            'transforms',
            'storage',
            'keyPrefix',
            'migrate'
        ];
        bannedKeys.forEach(function(k) {
            if (!!optionsToTest[k]) console.error("redux-persist: invalid option passed to persistStore: \"".concat(k, "\". You may be incorrectly passing persistConfig into persistStore, whereas it should be passed into persistReducer."));
        });
    }
    var boostrappedCb = cb || false;
    var _pStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2f$dist$2f$redux$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createStore"])(persistorReducer, initialState, options && options.enhancer ? options.enhancer : undefined);
    var register = function register(key) {
        _pStore.dispatch({
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["REGISTER"],
            key: key
        });
    };
    var rehydrate = function rehydrate(key, payload, err) {
        var rehydrateAction = {
            type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["REHYDRATE"],
            payload: payload,
            err: err,
            key: key // dispatch to `store` to rehydrate and `persistor` to track result
        };
        store.dispatch(rehydrateAction);
        _pStore.dispatch(rehydrateAction);
        if (boostrappedCb && persistor.getState().bootstrapped) {
            boostrappedCb();
            boostrappedCb = false;
        }
    };
    var persistor = _objectSpread({}, _pStore, {
        purge: function purge() {
            var results = [];
            store.dispatch({
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PURGE"],
                result: function result(purgeResult) {
                    results.push(purgeResult);
                }
            });
            return Promise.all(results);
        },
        flush: function flush() {
            var results = [];
            store.dispatch({
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FLUSH"],
                result: function result(flushResult) {
                    results.push(flushResult);
                }
            });
            return Promise.all(results);
        },
        pause: function pause() {
            store.dispatch({
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PAUSE"]
            });
        },
        persist: function persist() {
            store.dispatch({
                type: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PERSIST"],
                register: register,
                rehydrate: rehydrate
            });
        }
    });
    if (!(options && options.manualPersist)) {
        persistor.persist();
    }
    return persistor;
}
}),
"[project]/node_modules/redux-persist/es/createMigrate.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>createMigrate
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)");
;
function createMigrate(migrations, config) {
    var _ref = config || {}, debug = _ref.debug;
    return function(state, currentVersion) {
        if (!state) {
            if (("TURBOPACK compile-time value", "development") !== 'production' && debug) console.log('redux-persist: no inbound state, skipping migration');
            return Promise.resolve(undefined);
        }
        var inboundVersion = state._persist && state._persist.version !== undefined ? state._persist.version : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_VERSION"];
        if (inboundVersion === currentVersion) {
            if (("TURBOPACK compile-time value", "development") !== 'production' && debug) console.log('redux-persist: versions match, noop migration');
            return Promise.resolve(state);
        }
        if (inboundVersion > currentVersion) {
            if ("TURBOPACK compile-time truthy", 1) console.error('redux-persist: downgrading version is not supported');
            return Promise.resolve(state);
        }
        var migrationKeys = Object.keys(migrations).map(function(ver) {
            return parseInt(ver);
        }).filter(function(key) {
            return currentVersion >= key && key > inboundVersion;
        }).sort(function(a, b) {
            return a - b;
        });
        if (("TURBOPACK compile-time value", "development") !== 'production' && debug) console.log('redux-persist: migrationKeys', migrationKeys);
        try {
            var migratedState = migrationKeys.reduce(function(state, versionKey) {
                if (("TURBOPACK compile-time value", "development") !== 'production' && debug) console.log('redux-persist: running migration for versionKey', versionKey);
                return migrations[versionKey](state);
            }, state);
            return Promise.resolve(migratedState);
        } catch (err) {
            return Promise.reject(err);
        }
    };
}
}),
"[project]/node_modules/redux-persist/es/createTransform.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>createTransform
});
function createTransform(inbound, outbound) {
    var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    var whitelist = config.whitelist || null;
    var blacklist = config.blacklist || null;
    function whitelistBlacklistCheck(key) {
        if (whitelist && whitelist.indexOf(key) === -1) return true;
        if (blacklist && blacklist.indexOf(key) !== -1) return true;
        return false;
    }
    return {
        in: function _in(state, key, fullState) {
            return !whitelistBlacklistCheck(key) && inbound ? inbound(state, key, fullState) : state;
        },
        out: function out(state, key, fullState) {
            return !whitelistBlacklistCheck(key) && outbound ? outbound(state, key, fullState) : state;
        }
    };
}
}),
"[project]/node_modules/redux-persist/es/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistReducer$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistReducer.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistCombineReducers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistCombineReducers.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistStore$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistStore.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$createMigrate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/createMigrate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$createTransform$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/createTransform.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$getStoredState$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/getStoredState.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$createPersistoid$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/createPersistoid.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$purgeStoredState$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/purgeStoredState.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
}),
"[project]/node_modules/redux-persist/es/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistReducer$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistReducer.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistCombineReducers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistCombineReducers.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistStore$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistStore.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$createMigrate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/createMigrate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$createTransform$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/createTransform.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$getStoredState$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/getStoredState.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$createPersistoid$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/createPersistoid.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$purgeStoredState$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/purgeStoredState.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$constants$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/constants.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/index.js [app-ssr] (ecmascript) <locals>");
}),
"[project]/node_modules/redux-persist/es/persistStore.js [app-ssr] (ecmascript) <export default as persistStore>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "persistStore": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistStore$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistStore$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistStore.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/redux-persist/es/persistReducer.js [app-ssr] (ecmascript) <export default as persistReducer>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "persistReducer": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistReducer$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$redux$2d$persist$2f$es$2f$persistReducer$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/redux-persist/es/persistReducer.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/redux-persist/lib/storage/getStorage.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { m: module, e: exports } = __turbopack_context__;
{
exports.__esModule = true;
exports.default = getStorage;
function _typeof(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
        };
    }
    return _typeof(obj);
}
function noop() {}
var noopStorage = {
    getItem: noop,
    setItem: noop,
    removeItem: noop
};
function hasStorage(storageType) {
    if ((typeof self === "undefined" ? "undefined" : _typeof(self)) !== 'object' || !(storageType in self)) {
        return false;
    }
    try {
        var storage = self[storageType];
        var testKey = "redux-persist ".concat(storageType, " test");
        storage.setItem(testKey, 'test');
        storage.getItem(testKey);
        storage.removeItem(testKey);
    } catch (e) {
        if ("TURBOPACK compile-time truthy", 1) console.warn("redux-persist ".concat(storageType, " test failed, persistence will be disabled."));
        return false;
    }
    return true;
}
function getStorage(type) {
    var storageType = "".concat(type, "Storage");
    if (hasStorage(storageType)) return self[storageType];
    else {
        if ("TURBOPACK compile-time truthy", 1) {
            console.error("redux-persist failed to create sync storage. falling back to noop storage.");
        }
        return noopStorage;
    }
}
}}),
"[project]/node_modules/redux-persist/lib/storage/createWebStorage.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { m: module, e: exports } = __turbopack_context__;
{
exports.__esModule = true;
exports.default = createWebStorage;
var _getStorage = _interopRequireDefault(__turbopack_context__.r("[project]/node_modules/redux-persist/lib/storage/getStorage.js [app-ssr] (ecmascript)"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function createWebStorage(type) {
    var storage = (0, _getStorage.default)(type);
    return {
        getItem: function getItem(key) {
            return new Promise(function(resolve, reject) {
                resolve(storage.getItem(key));
            });
        },
        setItem: function setItem(key, item) {
            return new Promise(function(resolve, reject) {
                resolve(storage.setItem(key, item));
            });
        },
        removeItem: function removeItem(key) {
            return new Promise(function(resolve, reject) {
                resolve(storage.removeItem(key));
            });
        }
    };
}
}}),
"[project]/node_modules/redux-persist/lib/storage/index.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { m: module, e: exports } = __turbopack_context__;
{
exports.__esModule = true;
exports.default = void 0;
var _createWebStorage = _interopRequireDefault(__turbopack_context__.r("[project]/node_modules/redux-persist/lib/storage/createWebStorage.js [app-ssr] (ecmascript)"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
var _default = (0, _createWebStorage.default)('local');
exports.default = _default;
}}),
"[project]/node_modules/redux-persist/es/integration/react.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "PersistGate": ()=>PersistGate
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)"); // eslint-disable-line import/no-unresolved
function _typeof(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
        };
    }
    return _typeof(obj);
}
function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}
function _defineProperties(target, props) {
    for(var i = 0; i < props.length; i++){
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}
function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
}
function _possibleConstructorReturn(self, call) {
    if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
    }
    return _assertThisInitialized(self);
}
function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
        return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
}
function _assertThisInitialized(self) {
    if (self === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }
    return self;
}
function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
    }
    subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
            value: subClass,
            writable: true,
            configurable: true
        }
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
}
function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
        o.__proto__ = p;
        return o;
    };
    return _setPrototypeOf(o, p);
}
function _defineProperty(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
;
var PersistGate = /*#__PURE__*/ function(_PureComponent) {
    _inherits(PersistGate, _PureComponent);
    function PersistGate() {
        var _getPrototypeOf2;
        var _this;
        _classCallCheck(this, PersistGate);
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PersistGate)).call.apply(_getPrototypeOf2, [
            this
        ].concat(args)));
        _defineProperty(_assertThisInitialized(_this), "state", {
            bootstrapped: false
        });
        _defineProperty(_assertThisInitialized(_this), "_unsubscribe", void 0);
        _defineProperty(_assertThisInitialized(_this), "handlePersistorState", function() {
            var persistor = _this.props.persistor;
            var _persistor$getState = persistor.getState(), bootstrapped = _persistor$getState.bootstrapped;
            if (bootstrapped) {
                if (_this.props.onBeforeLift) {
                    Promise.resolve(_this.props.onBeforeLift()).finally(function() {
                        return _this.setState({
                            bootstrapped: true
                        });
                    });
                } else {
                    _this.setState({
                        bootstrapped: true
                    });
                }
                _this._unsubscribe && _this._unsubscribe();
            }
        });
        return _this;
    }
    _createClass(PersistGate, [
        {
            key: "componentDidMount",
            value: function componentDidMount() {
                this._unsubscribe = this.props.persistor.subscribe(this.handlePersistorState);
                this.handlePersistorState();
            }
        },
        {
            key: "componentWillUnmount",
            value: function componentWillUnmount() {
                this._unsubscribe && this._unsubscribe();
            }
        },
        {
            key: "render",
            value: function render() {
                if ("TURBOPACK compile-time truthy", 1) {
                    if (typeof this.props.children === 'function' && this.props.loading) console.error('redux-persist: PersistGate expects either a function child or loading prop, but not both. The loading prop will be ignored.');
                }
                if (typeof this.props.children === 'function') {
                    return this.props.children(this.state.bootstrapped);
                }
                return this.state.bootstrapped ? this.props.children : this.props.loading;
            }
        }
    ]);
    return PersistGate;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PureComponent"]);
_defineProperty(PersistGate, "defaultProps", {
    children: null,
    loading: null
});
}),
"[project]/node_modules/@standard-schema/utils/dist/index.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// src/getDotPath/getDotPath.ts
__turbopack_context__.s({
    "SchemaError": ()=>SchemaError,
    "getDotPath": ()=>getDotPath
});
function getDotPath(issue) {
    if (issue.path?.length) {
        let dotPath = "";
        for (const item of issue.path){
            const key = typeof item === "object" ? item.key : item;
            if (typeof key === "string" || typeof key === "number") {
                if (dotPath) {
                    dotPath += `.${key}`;
                } else {
                    dotPath += key;
                }
            } else {
                return null;
            }
        }
        return dotPath;
    }
    return null;
}
// src/SchemaError/SchemaError.ts
var SchemaError = class extends Error {
    /**
   * The schema issues.
   */ issues;
    /**
   * Creates a schema error with useful information.
   *
   * @param issues The schema issues.
   */ constructor(issues){
        super(issues[0].message);
        this.name = "SchemaError";
        this.issues = issues;
    }
};
;
}),

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFtdLAogICJzZWN0aW9ucyI6IFsKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogNSwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gQXN5bmNJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG52YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcbiAgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIGFyID0gW107XG4gICAgZm9yICh2YXIgayBpbiBvKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIGspKSBhclthci5sZW5ndGhdID0gaztcbiAgICByZXR1cm4gYXI7XG4gIH07XG4gIHJldHVybiBvd25LZXlzKG8pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICB2YXIgZGlzcG9zZSwgaW5uZXI7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICB2YXIgciwgcyA9IDA7XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKHIgPSBlbnYuc3RhY2sucG9wKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghci5hc3luYyAmJiBzID09PSAxKSByZXR1cm4gcyA9IDAsIGVudi5zdGFjay5wdXNoKHIpLCBQcm9taXNlLnJlc29sdmUoKS50aGVuKG5leHQpO1xuICAgICAgICBpZiAoci5kaXNwb3NlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHIuZGlzcG9zZS5jYWxsKHIudmFsdWUpO1xuICAgICAgICAgIGlmIChyLmFzeW5jKSByZXR1cm4gcyB8PSAyLCBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBzIHw9IDE7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocyA9PT0gMSkgcmV0dXJuIGVudi5oYXNFcnJvciA/IFByb21pc2UucmVqZWN0KGVudi5lcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uKHBhdGgsIHByZXNlcnZlSnN4KSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcLlxcLj9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLih0c3gpJHwoKD86XFwuZCk/KSgoPzpcXC5bXi4vXSs/KT8pXFwuKFtjbV0/KXRzJC9pLCBmdW5jdGlvbiAobSwgdHN4LCBkLCBleHQsIGNtKSB7XG4gICAgICAgICAgcmV0dXJuIHRzeCA/IHByZXNlcnZlSnN4ID8gXCIuanN4XCIgOiBcIi5qc1wiIDogZCAmJiAoIWV4dCB8fCAhY20pID8gbSA6IChkICsgZXh0ICsgXCIuXCIgKyBjbS50b0xvd2VyQ2FzZSgpICsgXCJqc1wiKTtcbiAgICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19lc0RlY29yYXRlLFxuICBfX3J1bkluaXRpYWxpemVycyxcbiAgX19wcm9wS2V5LFxuICBfX3NldEZ1bmN0aW9uTmFtZSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG4gIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uLFxufTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs4RUFhOEUsR0FDOUUsOERBQThEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU5RCxJQUFJLGdCQUFnQixTQUFTLENBQUMsRUFBRSxDQUFDO0lBQy9CLGdCQUFnQixPQUFPLGNBQWMsSUFDaEMsQ0FBQTtRQUFFLFdBQVcsRUFBRTtJQUFDLENBQUEsYUFBYSxTQUFTLFNBQVUsQ0FBQyxFQUFFLENBQUM7UUFBSSxFQUFFLFNBQVMsR0FBRztJQUFHLEtBQzFFLFNBQVUsQ0FBQyxFQUFFLENBQUM7UUFBSSxJQUFLLElBQUksS0FBSyxFQUFHLElBQUksT0FBTyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRTtJQUFFO0lBQ3BHLE9BQU8sY0FBYyxHQUFHO0FBQzFCO0FBRU8sU0FBUyxVQUFVLENBQUMsRUFBRSxDQUFDO0lBQzVCLElBQUksT0FBTyxNQUFNLGNBQWMsTUFBTSxNQUNqQyxNQUFNLElBQUksVUFBVSx5QkFBeUIsT0FBTyxLQUFLO0lBQzdELGNBQWMsR0FBRztJQUNqQixTQUFTO1FBQU8sSUFBSSxDQUFDLFdBQVcsR0FBRztJQUFHO0lBQ3RDLEVBQUUsU0FBUyxHQUFHLE1BQU0sT0FBTyxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxTQUFTLEdBQUcsRUFBRSxTQUFTLEVBQUUsSUFBSSxJQUFJO0FBQ3JGO0FBRU8sSUFBSSxXQUFXO0lBQ3BCLFdBQVcsT0FBTyxNQUFNLElBQUksU0FBUyxTQUFTLENBQUM7UUFDM0MsSUFBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksVUFBVSxNQUFNLEVBQUUsSUFBSSxHQUFHLElBQUs7WUFDakQsSUFBSSxTQUFTLENBQUMsRUFBRTtZQUNoQixJQUFLLElBQUksS0FBSyxFQUFHLElBQUksT0FBTyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRTtRQUNoRjtRQUNBLE9BQU87SUFDWDtJQUNBLE9BQU8sU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQzlCO0FBRU8sU0FBUyxPQUFPLENBQUMsRUFBRSxDQUFDO0lBQ3pCLElBQUksSUFBSSxDQUFDO0lBQ1QsSUFBSyxJQUFJLEtBQUssRUFBRyxJQUFJLE9BQU8sU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLEVBQUUsT0FBTyxDQUFDLEtBQUssR0FDOUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRTtJQUNmLElBQUksS0FBSyxRQUFRLE9BQU8sT0FBTyxxQkFBcUIsS0FBSyxZQUNyRCxJQUFLLElBQUksSUFBSSxHQUFHLElBQUksT0FBTyxxQkFBcUIsQ0FBQyxJQUFJLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSztRQUNwRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksS0FBSyxPQUFPLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUN6RSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ3pCO0lBQ0osT0FBTztBQUNUO0FBRU8sU0FBUyxXQUFXLFVBQVUsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUk7SUFDdEQsSUFBSSxJQUFJLFVBQVUsTUFBTSxFQUFFLElBQUksSUFBSSxJQUFJLFNBQVMsU0FBUyxPQUFPLE9BQU8sT0FBTyx3QkFBd0IsQ0FBQyxRQUFRLE9BQU8sTUFBTTtJQUMzSCxJQUFJLE9BQU8sWUFBWSxZQUFZLE9BQU8sUUFBUSxRQUFRLEtBQUssWUFBWSxJQUFJLFFBQVEsUUFBUSxDQUFDLFlBQVksUUFBUSxLQUFLO1NBQ3BILElBQUssSUFBSSxJQUFJLFdBQVcsTUFBTSxHQUFHLEdBQUcsS0FBSyxHQUFHLElBQUssSUFBSSxJQUFJLFVBQVUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLEtBQUssSUFBSSxJQUFJLEVBQUUsUUFBUSxLQUFLLEtBQUssRUFBRSxRQUFRLElBQUksS0FBSztJQUNoSixPQUFPLElBQUksS0FBSyxLQUFLLE9BQU8sY0FBYyxDQUFDLFFBQVEsS0FBSyxJQUFJO0FBQzlEO0FBRU8sU0FBUyxRQUFRLFVBQVUsRUFBRSxTQUFTO0lBQzNDLE9BQU8sU0FBVSxNQUFNLEVBQUUsR0FBRztRQUFJLFVBQVUsUUFBUSxLQUFLO0lBQWE7QUFDdEU7QUFFTyxTQUFTLGFBQWEsSUFBSSxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxpQkFBaUI7SUFDckcsU0FBUyxPQUFPLENBQUM7UUFBSSxJQUFJLE1BQU0sS0FBSyxLQUFLLE9BQU8sTUFBTSxZQUFZLE1BQU0sSUFBSSxVQUFVO1FBQXNCLE9BQU87SUFBRztJQUN0SCxJQUFJLE9BQU8sVUFBVSxJQUFJLEVBQUUsTUFBTSxTQUFTLFdBQVcsUUFBUSxTQUFTLFdBQVcsUUFBUTtJQUN6RixJQUFJLFNBQVMsQ0FBQyxnQkFBZ0IsT0FBTyxTQUFTLENBQUMsU0FBUyxHQUFHLE9BQU8sS0FBSyxTQUFTLEdBQUc7SUFDbkYsSUFBSSxhQUFhLGdCQUFnQixDQUFDLFNBQVMsT0FBTyx3QkFBd0IsQ0FBQyxRQUFRLFVBQVUsSUFBSSxJQUFJLENBQUMsQ0FBQztJQUN2RyxJQUFJLEdBQUcsT0FBTztJQUNkLElBQUssSUFBSSxJQUFJLFdBQVcsTUFBTSxHQUFHLEdBQUcsS0FBSyxHQUFHLElBQUs7UUFDN0MsSUFBSSxVQUFVLENBQUM7UUFDZixJQUFLLElBQUksS0FBSyxVQUFXLE9BQU8sQ0FBQyxFQUFFLEdBQUcsTUFBTSxXQUFXLENBQUMsSUFBSSxTQUFTLENBQUMsRUFBRTtRQUN4RSxJQUFLLElBQUksS0FBSyxVQUFVLE1BQU0sQ0FBRSxRQUFRLE1BQU0sQ0FBQyxFQUFFLEdBQUcsVUFBVSxNQUFNLENBQUMsRUFBRTtRQUN2RSxRQUFRLGNBQWMsR0FBRyxTQUFVLENBQUM7WUFBSSxJQUFJLE1BQU0sTUFBTSxJQUFJLFVBQVU7WUFBMkQsa0JBQWtCLElBQUksQ0FBQyxPQUFPLEtBQUs7UUFBUTtRQUM1SyxJQUFJLFNBQVMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxhQUFhO1lBQUUsS0FBSyxXQUFXLEdBQUc7WUFBRSxLQUFLLFdBQVcsR0FBRztRQUFDLElBQUksVUFBVSxDQUFDLElBQUksRUFBRTtRQUN0SCxJQUFJLFNBQVMsWUFBWTtZQUNyQixJQUFJLFdBQVcsS0FBSyxHQUFHO1lBQ3ZCLElBQUksV0FBVyxRQUFRLE9BQU8sV0FBVyxVQUFVLE1BQU0sSUFBSSxVQUFVO1lBQ3ZFLElBQUksSUFBSSxPQUFPLE9BQU8sR0FBRyxHQUFHLFdBQVcsR0FBRyxHQUFHO1lBQzdDLElBQUksSUFBSSxPQUFPLE9BQU8sR0FBRyxHQUFHLFdBQVcsR0FBRyxHQUFHO1lBQzdDLElBQUksSUFBSSxPQUFPLE9BQU8sSUFBSSxHQUFHLGFBQWEsT0FBTyxDQUFDO1FBQ3RELE9BQ0ssSUFBSSxJQUFJLE9BQU8sU0FBUztZQUN6QixJQUFJLFNBQVMsU0FBUyxhQUFhLE9BQU8sQ0FBQztpQkFDdEMsVUFBVSxDQUFDLElBQUksR0FBRztRQUMzQjtJQUNKO0lBQ0EsSUFBSSxRQUFRLE9BQU8sY0FBYyxDQUFDLFFBQVEsVUFBVSxJQUFJLEVBQUU7SUFDMUQsT0FBTztBQUNUOztBQUVPLFNBQVMsa0JBQWtCLE9BQU8sRUFBRSxZQUFZLEVBQUUsS0FBSztJQUM1RCxJQUFJLFdBQVcsVUFBVSxNQUFNLEdBQUc7SUFDbEMsSUFBSyxJQUFJLElBQUksR0FBRyxJQUFJLGFBQWEsTUFBTSxFQUFFLElBQUs7UUFDMUMsUUFBUSxXQUFXLFlBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsU0FBUyxZQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztJQUNuRjtJQUNBLE9BQU8sV0FBVyxRQUFRLEtBQUs7QUFDakM7O0FBRU8sU0FBUyxVQUFVLENBQUM7SUFDekIsT0FBTyxPQUFPLE1BQU0sV0FBVyxJQUFJLEdBQUcsTUFBTSxDQUFDO0FBQy9DOztBQUVPLFNBQVMsa0JBQWtCLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTTtJQUMvQyxJQUFJLE9BQU8sU0FBUyxVQUFVLE9BQU8sS0FBSyxXQUFXLEdBQUcsSUFBSSxNQUFNLENBQUMsS0FBSyxXQUFXLEVBQUUsT0FBTztJQUM1RixPQUFPLE9BQU8sY0FBYyxDQUFDLEdBQUcsUUFBUTtRQUFFLGNBQWM7UUFBTSxPQUFPLFNBQVMsR0FBRyxNQUFNLENBQUMsUUFBUSxLQUFLLFFBQVE7SUFBSztBQUNwSDs7QUFFTyxTQUFTLFdBQVcsV0FBVyxFQUFFLGFBQWE7SUFDbkQsSUFBSSxPQUFPLFlBQVksWUFBWSxPQUFPLFFBQVEsUUFBUSxLQUFLLFlBQVksT0FBTyxRQUFRLFFBQVEsQ0FBQyxhQUFhO0FBQ2xIO0FBRU8sU0FBUyxVQUFVLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVM7SUFDekQsU0FBUyxNQUFNLEtBQUs7UUFBSSxPQUFPLGlCQUFpQixJQUFJLFFBQVEsSUFBSSxFQUFFLFNBQVUsT0FBTztZQUFJLFFBQVE7UUFBUTtJQUFJO0lBQzNHLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLE9BQU8sQ0FBQyxFQUFFLFNBQVUsT0FBTyxFQUFFLE1BQU07UUFDckQsU0FBUyxVQUFVLEtBQUs7WUFBSSxJQUFJO2dCQUFFLEtBQUssVUFBVSxJQUFJLENBQUM7WUFBUyxFQUFFLE9BQU8sR0FBRztnQkFBRSxPQUFPO1lBQUk7UUFBRTtRQUMxRixTQUFTLFNBQVMsS0FBSztZQUFJLElBQUk7Z0JBQUUsS0FBSyxTQUFTLENBQUMsUUFBUSxDQUFDO1lBQVMsRUFBRSxPQUFPLEdBQUc7Z0JBQUUsT0FBTztZQUFJO1FBQUU7UUFDN0YsU0FBUyxLQUFLLE1BQU07WUFBSSxPQUFPLElBQUksR0FBRyxRQUFRLE9BQU8sS0FBSyxJQUFJLE1BQU0sT0FBTyxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVc7UUFBVztRQUM3RyxLQUFLLENBQUMsWUFBWSxVQUFVLEtBQUssQ0FBQyxTQUFTLGNBQWMsRUFBRSxDQUFDLEVBQUUsSUFBSTtJQUN0RTtBQUNGO0FBRU8sU0FBUyxZQUFZLE9BQU8sRUFBRSxJQUFJO0lBQ3ZDLElBQUksSUFBSTtRQUFFLE9BQU87UUFBRyxNQUFNO1lBQWEsSUFBSSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRTtZQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUU7UUFBRTtRQUFHLE1BQU0sRUFBRTtRQUFFLEtBQUssRUFBRTtJQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxPQUFPLE1BQU0sQ0FBQyxDQUFDLE9BQU8sYUFBYSxhQUFhLFdBQVcsTUFBTSxFQUFFLFNBQVM7SUFDL0wsT0FBTyxFQUFFLElBQUksR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDLFFBQVEsR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDLFNBQVMsR0FBRyxLQUFLLElBQUksT0FBTyxXQUFXLGNBQWMsQ0FBQyxDQUFDLENBQUMsT0FBTyxRQUFRLENBQUMsR0FBRztRQUFhLE9BQU8sSUFBSTtJQUFFLENBQUMsR0FBRzs7O0lBQzFKLFNBQVMsS0FBSyxDQUFDO1FBQUksT0FBTyxTQUFVLENBQUM7WUFBSSxPQUFPLEtBQUs7Z0JBQUM7Z0JBQUc7YUFBRTtRQUFHO0lBQUc7SUFDakUsU0FBUyxLQUFLLEVBQUU7UUFDWixJQUFJLEdBQUcsTUFBTSxJQUFJLFVBQVU7UUFDM0IsTUFBTyxLQUFLLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUcsSUFBSTtZQUMxQyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksS0FBSyxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTztZQUMzSixJQUFJLElBQUksR0FBRyxHQUFHLEtBQUs7Z0JBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRztnQkFBRyxFQUFFLEtBQUs7YUFBQztZQUN2QyxPQUFRLEVBQUUsQ0FBQyxFQUFFO2dCQUNULEtBQUs7Z0JBQUcsS0FBSztvQkFBRyxJQUFJO29CQUFJO2dCQUN4QixLQUFLO29CQUFHLEVBQUUsS0FBSztvQkFBSSxPQUFPO3dCQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7d0JBQUUsTUFBTTtvQkFBTTtnQkFDdEQsS0FBSztvQkFBRyxFQUFFLEtBQUs7b0JBQUksSUFBSSxFQUFFLENBQUMsRUFBRTtvQkFBRSxLQUFLO3dCQUFDO3FCQUFFO29CQUFFO2dCQUN4QyxLQUFLO29CQUFHLEtBQUssRUFBRSxHQUFHLENBQUMsR0FBRztvQkFBSSxFQUFFLElBQUksQ0FBQyxHQUFHO29CQUFJO2dCQUN4QztvQkFDSSxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxNQUFNLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHO3dCQUFFLElBQUk7d0JBQUc7b0JBQVU7b0JBQzNHLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxLQUFLLENBQUMsQ0FBQyxLQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEFBQUMsR0FBRzt3QkFBRSxFQUFFLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRTt3QkFBRTtvQkFBTztvQkFDckYsSUFBSSxFQUFFLENBQUMsRUFBRSxLQUFLLEtBQUssRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRTt3QkFBRSxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRTt3QkFBRSxJQUFJO3dCQUFJO29CQUFPO29CQUNwRSxJQUFJLEtBQUssRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRTt3QkFBRSxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRTt3QkFBRSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUM7d0JBQUs7b0JBQU87b0JBQ2xFLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxHQUFHO29CQUNuQixFQUFFLElBQUksQ0FBQyxHQUFHO29CQUFJO1lBQ3RCO1lBQ0EsS0FBSyxLQUFLLElBQUksQ0FBQyxTQUFTO1FBQzVCLEVBQUUsT0FBTyxHQUFHO1lBQUUsS0FBSztnQkFBQztnQkFBRzthQUFFO1lBQUUsSUFBSTtRQUFHLFNBQVU7WUFBRSxJQUFJLElBQUk7UUFBRztRQUN6RCxJQUFJLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFO1FBQUUsT0FBTztZQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEtBQUs7WUFBRyxNQUFNO1FBQUs7SUFDbkY7QUFDRjtBQUVPLElBQUksa0JBQWtCLE9BQU8sTUFBTSxHQUFJLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNoRSxJQUFJLE9BQU8sV0FBVyxLQUFLO0lBQzNCLElBQUksT0FBTyxPQUFPLHdCQUF3QixDQUFDLEdBQUc7SUFDOUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLE9BQU8sQ0FBQyxFQUFFLFVBQVUsR0FBRyxLQUFLLFFBQVEsSUFBSSxLQUFLLFlBQVksR0FBRztRQUMvRSxPQUFPO1lBQUUsWUFBWTtZQUFNLEtBQUs7Z0JBQWEsT0FBTyxDQUFDLENBQUMsRUFBRTtZQUFFO1FBQUU7SUFDaEU7SUFDQSxPQUFPLGNBQWMsQ0FBQyxHQUFHLElBQUk7QUFDL0IsSUFBTSxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDeEIsSUFBSSxPQUFPLFdBQVcsS0FBSztJQUMzQixDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQ2Q7QUFFTyxTQUFTLGFBQWEsQ0FBQyxFQUFFLENBQUM7SUFDL0IsSUFBSyxJQUFJLEtBQUssRUFBRyxJQUFJLE1BQU0sYUFBYSxDQUFDLE9BQU8sU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLGdCQUFnQixHQUFHLEdBQUc7QUFDN0c7QUFFTyxTQUFTLFNBQVMsQ0FBQztJQUN4QixJQUFJLElBQUksT0FBTyxXQUFXLGNBQWMsT0FBTyxRQUFRLEVBQUUsSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSTtJQUM1RSxJQUFJLEdBQUcsT0FBTyxFQUFFLElBQUksQ0FBQztJQUNyQixJQUFJLEtBQUssT0FBTyxFQUFFLE1BQU0sS0FBSyxVQUFVLE9BQU87UUFDMUMsTUFBTTtZQUNGLElBQUksS0FBSyxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksS0FBSztZQUNqQyxPQUFPO2dCQUFFLE9BQU8sS0FBSyxDQUFDLENBQUMsSUFBSTtnQkFBRSxNQUFNLENBQUM7WUFBRTtRQUMxQztJQUNKO0lBQ0EsTUFBTSxJQUFJLFVBQVUsSUFBSSw0QkFBNEI7QUFDdEQ7QUFFTyxTQUFTLE9BQU8sQ0FBQyxFQUFFLENBQUM7SUFDekIsSUFBSSxJQUFJLE9BQU8sV0FBVyxjQUFjLENBQUMsQ0FBQyxPQUFPLFFBQVEsQ0FBQztJQUMxRCxJQUFJLENBQUMsR0FBRyxPQUFPO0lBQ2YsSUFBSSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtJQUMvQixJQUFJO1FBQ0EsTUFBTyxDQUFDLE1BQU0sS0FBSyxLQUFLLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxDQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsS0FBSztJQUM3RSxFQUNBLE9BQU8sT0FBTztRQUFFLElBQUk7WUFBRSxPQUFPO1FBQU07SUFBRyxTQUM5QjtRQUNKLElBQUk7WUFDQSxJQUFJLEtBQUssQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsR0FBRyxFQUFFLElBQUksQ0FBQztRQUNsRCxTQUNRO1lBQUUsSUFBSSxHQUFHLE1BQU0sRUFBRSxLQUFLO1FBQUU7SUFDcEM7SUFDQSxPQUFPO0FBQ1Q7QUFHTyxTQUFTO0lBQ2QsSUFBSyxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksR0FBRyxJQUFJLFVBQVUsTUFBTSxFQUFFLElBQzNDLEtBQUssR0FBRyxNQUFNLENBQUMsT0FBTyxTQUFTLENBQUMsRUFBRTtJQUN0QyxPQUFPO0FBQ1Q7QUFHTyxTQUFTO0lBQ2QsSUFBSyxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSyxVQUFVLE1BQU0sRUFBRSxJQUFJLElBQUksSUFBSyxLQUFLLFNBQVMsQ0FBQyxFQUFFLENBQUMsTUFBTTtJQUNuRixJQUFLLElBQUksSUFBSSxNQUFNLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLElBQUksSUFDekMsSUFBSyxJQUFJLElBQUksU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLEdBQUcsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLElBQUksS0FBSyxJQUMxRCxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQ25CLE9BQU87QUFDVDtBQUVPLFNBQVMsY0FBYyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUk7SUFDMUMsSUFBSSxRQUFRLFVBQVUsTUFBTSxLQUFLLEdBQUcsSUFBSyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssTUFBTSxFQUFFLElBQUksSUFBSSxHQUFHLElBQUs7UUFDakYsSUFBSSxNQUFNLENBQUMsQ0FBQyxLQUFLLElBQUksR0FBRztZQUNwQixJQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHO1lBQ2xELEVBQUUsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUU7UUFDbkI7SUFDSjtJQUNBLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxNQUFNLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQ3BEO0FBRU8sU0FBUyxRQUFRLENBQUM7SUFDdkIsT0FBTyxJQUFJLFlBQVksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxRQUFRO0FBQ3BFO0FBRU8sU0FBUyxpQkFBaUIsT0FBTyxFQUFFLFVBQVUsRUFBRSxTQUFTO0lBQzdELElBQUksQ0FBQyxPQUFPLGFBQWEsRUFBRSxNQUFNLElBQUksVUFBVTtJQUMvQyxJQUFJLElBQUksVUFBVSxLQUFLLENBQUMsU0FBUyxjQUFjLEVBQUUsR0FBRyxHQUFHLElBQUksRUFBRTtJQUM3RCxPQUFPLElBQUksT0FBTyxNQUFNLENBQUMsQ0FBQyxPQUFPLGtCQUFrQixhQUFhLGdCQUFnQixNQUFNLEVBQUUsU0FBUyxHQUFHLEtBQUssU0FBUyxLQUFLLFVBQVUsS0FBSyxVQUFVLGNBQWMsQ0FBQyxDQUFDLE9BQU8sYUFBYSxDQUFDLEdBQUc7UUFBYyxPQUFPLElBQUk7SUFBRSxHQUFHOzs7SUFDdE4sU0FBUyxZQUFZLENBQUM7UUFBSSxPQUFPLFNBQVUsQ0FBQztZQUFJLE9BQU8sUUFBUSxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRztRQUFTO0lBQUc7SUFDOUYsU0FBUyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFO1lBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxTQUFVLENBQUM7Z0JBQUksT0FBTyxJQUFJLFFBQVEsU0FBVSxDQUFDLEVBQUUsQ0FBQztvQkFBSSxFQUFFLElBQUksQ0FBQzt3QkFBQzt3QkFBRzt3QkFBRzt3QkFBRztxQkFBRSxJQUFJLEtBQUssT0FBTyxHQUFHO2dCQUFJO1lBQUk7WUFBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFO1FBQUc7SUFBRTtJQUN2SyxTQUFTLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFBSSxJQUFJO1lBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQUssRUFBRSxPQUFPLEdBQUc7WUFBRSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQUk7SUFBRTtJQUNqRixTQUFTLEtBQUssQ0FBQztRQUFJLEVBQUUsS0FBSyxZQUFZLFVBQVUsUUFBUSxPQUFPLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLFVBQVUsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUFJO0lBQ3ZILFNBQVMsUUFBUSxLQUFLO1FBQUksT0FBTyxRQUFRO0lBQVE7SUFDakQsU0FBUyxPQUFPLEtBQUs7UUFBSSxPQUFPLFNBQVM7SUFBUTtJQUNqRCxTQUFTLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFBSSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUFHO0FBQ25GO0FBRU8sU0FBUyxpQkFBaUIsQ0FBQztJQUNoQyxJQUFJLEdBQUc7SUFDUCxPQUFPLElBQUksQ0FBQyxHQUFHLEtBQUssU0FBUyxLQUFLLFNBQVMsU0FBVSxDQUFDO1FBQUksTUFBTTtJQUFHLElBQUksS0FBSyxXQUFXLENBQUMsQ0FBQyxPQUFPLFFBQVEsQ0FBQyxHQUFHO1FBQWMsT0FBTyxJQUFJO0lBQUUsR0FBRzs7O0lBQzFJLFNBQVMsS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUFJLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxTQUFVLENBQUM7WUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSTtnQkFBRSxPQUFPLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFBSyxNQUFNO1lBQU0sSUFBSSxJQUFJLEVBQUUsS0FBSztRQUFHLElBQUk7SUFBRztBQUN2STtBQUVPLFNBQVMsY0FBYyxDQUFDO0lBQzdCLElBQUksQ0FBQyxPQUFPLGFBQWEsRUFBRSxNQUFNLElBQUksVUFBVTtJQUMvQyxJQUFJLElBQUksQ0FBQyxDQUFDLE9BQU8sYUFBYSxDQUFDLEVBQUU7SUFDakMsT0FBTyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLE9BQU8sYUFBYSxhQUFhLFNBQVMsS0FBSyxDQUFDLENBQUMsT0FBTyxRQUFRLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxLQUFLLFNBQVMsS0FBSyxVQUFVLEtBQUssV0FBVyxDQUFDLENBQUMsT0FBTyxhQUFhLENBQUMsR0FBRztRQUFjLE9BQU8sSUFBSTtJQUFFLEdBQUcsQ0FBQzs7O0lBQy9NLFNBQVMsS0FBSyxDQUFDO1FBQUksQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLFNBQVUsQ0FBQztZQUFJLE9BQU8sSUFBSSxRQUFRLFNBQVUsT0FBTyxFQUFFLE1BQU07Z0JBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksT0FBTyxTQUFTLFFBQVEsRUFBRSxJQUFJLEVBQUUsRUFBRSxLQUFLO1lBQUc7UUFBSTtJQUFHO0lBQy9KLFNBQVMsT0FBTyxPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQUksUUFBUSxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQUksUUFBUTtnQkFBRSxPQUFPO2dCQUFHLE1BQU07WUFBRTtRQUFJLEdBQUc7SUFBUztBQUM3SDtBQUVPLFNBQVMscUJBQXFCLE1BQU0sRUFBRSxHQUFHO0lBQzlDLElBQUksT0FBTyxjQUFjLEVBQUU7UUFBRSxPQUFPLGNBQWMsQ0FBQyxRQUFRLE9BQU87WUFBRSxPQUFPO1FBQUk7SUFBSSxPQUFPO1FBQUUsT0FBTyxHQUFHLEdBQUc7SUFBSztJQUM5RyxPQUFPO0FBQ1Q7O0FBRUEsSUFBSSxxQkFBcUIsT0FBTyxNQUFNLEdBQUksU0FBUyxDQUFDLEVBQUUsQ0FBQztJQUNyRCxPQUFPLGNBQWMsQ0FBQyxHQUFHLFdBQVc7UUFBRSxZQUFZO1FBQU0sT0FBTztJQUFFO0FBQ25FLElBQUssU0FBUyxDQUFDLEVBQUUsQ0FBQztJQUNoQixDQUFDLENBQUMsVUFBVSxHQUFHO0FBQ2pCO0FBRUEsSUFBSSxVQUFVLFNBQVMsQ0FBQztJQUN0QixVQUFVLE9BQU8sbUJBQW1CLElBQUksU0FBVSxDQUFDO1FBQ2pELElBQUksS0FBSyxFQUFFO1FBQ1gsSUFBSyxJQUFJLEtBQUssRUFBRyxJQUFJLE9BQU8sU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHO1FBQ2pGLE9BQU87SUFDVDtJQUNBLE9BQU8sUUFBUTtBQUNqQjtBQUVPLFNBQVMsYUFBYSxHQUFHO0lBQzlCLElBQUksT0FBTyxJQUFJLFVBQVUsRUFBRSxPQUFPO0lBQ2xDLElBQUksU0FBUyxDQUFDO0lBQ2QsSUFBSSxPQUFPLE1BQU07UUFBQSxJQUFLLElBQUksSUFBSSxRQUFRLE1BQU0sSUFBSSxHQUFHLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssV0FBVyxnQkFBZ0IsUUFBUSxLQUFLLENBQUMsQ0FBQyxFQUFFO0lBQUM7SUFDaEksbUJBQW1CLFFBQVE7SUFDM0IsT0FBTztBQUNUO0FBRU8sU0FBUyxnQkFBZ0IsR0FBRztJQUNqQyxPQUFPLEFBQUMsT0FBTyxJQUFJLFVBQVUsR0FBSSxNQUFNO1FBQUUsU0FBUztJQUFJO0FBQ3hEO0FBRU8sU0FBUyx1QkFBdUIsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUM3RCxJQUFJLFNBQVMsT0FBTyxDQUFDLEdBQUcsTUFBTSxJQUFJLFVBQVU7SUFDNUMsSUFBSSxPQUFPLFVBQVUsYUFBYSxhQUFhLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsV0FBVyxNQUFNLElBQUksVUFBVTtJQUN2RyxPQUFPLFNBQVMsTUFBTSxJQUFJLFNBQVMsTUFBTSxFQUFFLElBQUksQ0FBQyxZQUFZLElBQUksRUFBRSxLQUFLLEdBQUcsTUFBTSxHQUFHLENBQUM7QUFDdEY7QUFFTyxTQUFTLHVCQUF1QixRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUNwRSxJQUFJLFNBQVMsS0FBSyxNQUFNLElBQUksVUFBVTtJQUN0QyxJQUFJLFNBQVMsT0FBTyxDQUFDLEdBQUcsTUFBTSxJQUFJLFVBQVU7SUFDNUMsSUFBSSxPQUFPLFVBQVUsYUFBYSxhQUFhLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsV0FBVyxNQUFNLElBQUksVUFBVTtJQUN2RyxPQUFPLEFBQUMsU0FBUyxNQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVUsU0FBUyxJQUFJLEVBQUUsS0FBSyxHQUFHLFFBQVEsTUFBTSxHQUFHLENBQUMsVUFBVSxRQUFTO0FBQ3RHO0FBRU8sU0FBUyxzQkFBc0IsS0FBSyxFQUFFLFFBQVE7SUFDbkQsSUFBSSxhQUFhLFFBQVMsT0FBTyxhQUFhLFlBQVksT0FBTyxhQUFhLFlBQWEsTUFBTSxJQUFJLFVBQVU7SUFDL0csT0FBTyxPQUFPLFVBQVUsYUFBYSxhQUFhLFFBQVEsTUFBTSxHQUFHLENBQUM7QUFDdEU7QUFFTyxTQUFTLHdCQUF3QixHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUs7SUFDdkQsSUFBSSxVQUFVLFFBQVEsVUFBVSxLQUFLLEdBQUc7UUFDdEMsSUFBSSxPQUFPLFVBQVUsWUFBWSxPQUFPLFVBQVUsWUFBWSxNQUFNLElBQUksVUFBVTtRQUNsRixJQUFJLFNBQVM7UUFDYixJQUFJLE9BQU87WUFDVCxJQUFJLENBQUMsT0FBTyxZQUFZLEVBQUUsTUFBTSxJQUFJLFVBQVU7WUFDOUMsVUFBVSxLQUFLLENBQUMsT0FBTyxZQUFZLENBQUM7UUFDdEM7UUFDQSxJQUFJLFlBQVksS0FBSyxHQUFHO1lBQ3RCLElBQUksQ0FBQyxPQUFPLE9BQU8sRUFBRSxNQUFNLElBQUksVUFBVTtZQUN6QyxVQUFVLEtBQUssQ0FBQyxPQUFPLE9BQU8sQ0FBQztZQUMvQixJQUFJLE9BQU8sUUFBUTtRQUNyQjtRQUNBLElBQUksT0FBTyxZQUFZLFlBQVksTUFBTSxJQUFJLFVBQVU7UUFDdkQsSUFBSSxPQUFPLFVBQVU7WUFBYSxJQUFJO2dCQUFFLE1BQU0sSUFBSSxDQUFDLElBQUk7WUFBRyxFQUFFLE9BQU8sR0FBRztnQkFBRSxPQUFPLFFBQVEsTUFBTSxDQUFDO1lBQUk7UUFBRTtRQUNwRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFBRSxPQUFPO1lBQU8sU0FBUztZQUFTLE9BQU87UUFBTTtJQUNoRSxPQUNLLElBQUksT0FBTztRQUNkLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQztZQUFFLE9BQU87UUFBSztJQUMvQjtJQUNBLE9BQU87QUFDVDtBQUVBLElBQUksbUJBQW1CLE9BQU8sb0JBQW9CLGFBQWEsa0JBQWtCLFNBQVUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPO0lBQ25ILElBQUksSUFBSSxJQUFJLE1BQU07SUFDbEIsT0FBTyxFQUFFLElBQUksR0FBRyxtQkFBbUIsRUFBRSxLQUFLLEdBQUcsT0FBTyxFQUFFLFVBQVUsR0FBRyxZQUFZO0FBQ2pGO0FBRU8sU0FBUyxtQkFBbUIsR0FBRztJQUNwQyxTQUFTLEtBQUssQ0FBQztRQUNiLElBQUksS0FBSyxHQUFHLElBQUksUUFBUSxHQUFHLElBQUksaUJBQWlCLEdBQUcsSUFBSSxLQUFLLEVBQUUsOENBQThDO1FBQzVHLElBQUksUUFBUSxHQUFHO0lBQ2pCO0lBQ0EsSUFBSSxHQUFHLElBQUk7SUFDWCxTQUFTO1FBQ1AsTUFBTyxJQUFJLElBQUksS0FBSyxDQUFDLEdBQUcsR0FBSTtZQUMxQixJQUFJO2dCQUNGLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxNQUFNLEdBQUcsT0FBTyxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksUUFBUSxPQUFPLEdBQUcsSUFBSSxDQUFDO2dCQUNqRixJQUFJLEVBQUUsT0FBTyxFQUFFO29CQUNiLElBQUksU0FBUyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLO29CQUNuQyxJQUFJLEVBQUUsS0FBSyxFQUFFLE9BQU8sS0FBSyxHQUFHLFFBQVEsT0FBTyxDQUFDLFFBQVEsSUFBSSxDQUFDLE1BQU0sU0FBUyxDQUFDO3dCQUFJLEtBQUs7d0JBQUksT0FBTztvQkFBUTtnQkFDdkcsT0FDSyxLQUFLO1lBQ1osRUFDQSxPQUFPLEdBQUc7Z0JBQ1IsS0FBSztZQUNQO1FBQ0Y7UUFDQSxJQUFJLE1BQU0sR0FBRyxPQUFPLElBQUksUUFBUSxHQUFHLFFBQVEsTUFBTSxDQUFDLElBQUksS0FBSyxJQUFJLFFBQVEsT0FBTztRQUM5RSxJQUFJLElBQUksUUFBUSxFQUFFLE1BQU0sSUFBSSxLQUFLO0lBQ25DO0lBQ0EsT0FBTztBQUNUO0FBRU8sU0FBUyxpQ0FBaUMsSUFBSSxFQUFFLFdBQVc7SUFDaEUsSUFBSSxPQUFPLFNBQVMsWUFBWSxXQUFXLElBQUksQ0FBQyxPQUFPO1FBQ25ELE9BQU8sS0FBSyxPQUFPLENBQUMsb0RBQW9ELFNBQVUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUU7WUFDaEcsT0FBTyxNQUFNLGNBQWMsU0FBUyxRQUFRLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksSUFBSyxJQUFJLE1BQU0sTUFBTSxHQUFHLFdBQVcsS0FBSztRQUM3RztJQUNKO0lBQ0EsT0FBTztBQUNUO3VDQUVlO0lBQ2I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNGIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDYwNywgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy8lNDBmb3JtYXRqcy9mYXN0LW1lbW9pemUvbGliL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vXG4vLyBNYWluXG4vL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemUoZm4sIG9wdGlvbnMpIHtcbiAgICB2YXIgY2FjaGUgPSBvcHRpb25zICYmIG9wdGlvbnMuY2FjaGUgPyBvcHRpb25zLmNhY2hlIDogY2FjaGVEZWZhdWx0O1xuICAgIHZhciBzZXJpYWxpemVyID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZXIgPyBvcHRpb25zLnNlcmlhbGl6ZXIgOiBzZXJpYWxpemVyRGVmYXVsdDtcbiAgICB2YXIgc3RyYXRlZ3kgPSBvcHRpb25zICYmIG9wdGlvbnMuc3RyYXRlZ3kgPyBvcHRpb25zLnN0cmF0ZWd5IDogc3RyYXRlZ3lEZWZhdWx0O1xuICAgIHJldHVybiBzdHJhdGVneShmbiwge1xuICAgICAgICBjYWNoZTogY2FjaGUsXG4gICAgICAgIHNlcmlhbGl6ZXI6IHNlcmlhbGl6ZXIsXG4gICAgfSk7XG59XG4vL1xuLy8gU3RyYXRlZ3lcbi8vXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKTsgLy8gfHwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICd1bnNhZmUnIHByaW1pdGl2ZSBmb3Igb3VyIG5lZWRzXG59XG5mdW5jdGlvbiBtb25hZGljKGZuLCBjYWNoZSwgc2VyaWFsaXplciwgYXJnKSB7XG4gICAgdmFyIGNhY2hlS2V5ID0gaXNQcmltaXRpdmUoYXJnKSA/IGFyZyA6IHNlcmlhbGl6ZXIoYXJnKTtcbiAgICB2YXIgY29tcHV0ZWRWYWx1ZSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgaWYgKHR5cGVvZiBjb21wdXRlZFZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb21wdXRlZFZhbHVlID0gZm4uY2FsbCh0aGlzLCBhcmcpO1xuICAgICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIGNvbXB1dGVkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZWRWYWx1ZTtcbn1cbmZ1bmN0aW9uIHZhcmlhZGljKGZuLCBjYWNoZSwgc2VyaWFsaXplcikge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcbiAgICB2YXIgY2FjaGVLZXkgPSBzZXJpYWxpemVyKGFyZ3MpO1xuICAgIHZhciBjb21wdXRlZFZhbHVlID0gY2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICBpZiAodHlwZW9mIGNvbXB1dGVkVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbXB1dGVkVmFsdWUgPSBmbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgY2FjaGUuc2V0KGNhY2hlS2V5LCBjb21wdXRlZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXB1dGVkVmFsdWU7XG59XG5mdW5jdGlvbiBhc3NlbWJsZShmbiwgY29udGV4dCwgc3RyYXRlZ3ksIGNhY2hlLCBzZXJpYWxpemUpIHtcbiAgICByZXR1cm4gc3RyYXRlZ3kuYmluZChjb250ZXh0LCBmbiwgY2FjaGUsIHNlcmlhbGl6ZSk7XG59XG5mdW5jdGlvbiBzdHJhdGVneURlZmF1bHQoZm4sIG9wdGlvbnMpIHtcbiAgICB2YXIgc3RyYXRlZ3kgPSBmbi5sZW5ndGggPT09IDEgPyBtb25hZGljIDogdmFyaWFkaWM7XG4gICAgcmV0dXJuIGFzc2VtYmxlKGZuLCB0aGlzLCBzdHJhdGVneSwgb3B0aW9ucy5jYWNoZS5jcmVhdGUoKSwgb3B0aW9ucy5zZXJpYWxpemVyKTtcbn1cbmZ1bmN0aW9uIHN0cmF0ZWd5VmFyaWFkaWMoZm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXNzZW1ibGUoZm4sIHRoaXMsIHZhcmlhZGljLCBvcHRpb25zLmNhY2hlLmNyZWF0ZSgpLCBvcHRpb25zLnNlcmlhbGl6ZXIpO1xufVxuZnVuY3Rpb24gc3RyYXRlZ3lNb25hZGljKGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFzc2VtYmxlKGZuLCB0aGlzLCBtb25hZGljLCBvcHRpb25zLmNhY2hlLmNyZWF0ZSgpLCBvcHRpb25zLnNlcmlhbGl6ZXIpO1xufVxuLy9cbi8vIFNlcmlhbGl6ZXJcbi8vXG52YXIgc2VyaWFsaXplckRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3VtZW50cyk7XG59O1xuLy9cbi8vIENhY2hlXG4vL1xudmFyIE9iamVjdFdpdGhvdXRQcm90b3R5cGVDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYmplY3RXaXRob3V0UHJvdG90eXBlQ2FjaGUoKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgICBPYmplY3RXaXRob3V0UHJvdG90eXBlQ2FjaGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVba2V5XTtcbiAgICB9O1xuICAgIE9iamVjdFdpdGhvdXRQcm90b3R5cGVDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5jYWNoZVtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0V2l0aG91dFByb3RvdHlwZUNhY2hlO1xufSgpKTtcbnZhciBjYWNoZURlZmF1bHQgPSB7XG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0V2l0aG91dFByb3RvdHlwZUNhY2hlKCk7XG4gICAgfSxcbn07XG5leHBvcnQgdmFyIHN0cmF0ZWdpZXMgPSB7XG4gICAgdmFyaWFkaWM6IHN0cmF0ZWd5VmFyaWFkaWMsXG4gICAgbW9uYWRpYzogc3RyYXRlZ3lNb25hZGljLFxufTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxFQUFFO0FBQ0YsT0FBTztBQUNQLEVBQUU7Ozs7O0FBQ0ssU0FBUyxRQUFRLEVBQUUsRUFBRSxPQUFPO0lBQy9CLElBQUksUUFBUSxXQUFXLFFBQVEsS0FBSyxHQUFHLFFBQVEsS0FBSyxHQUFHO0lBQ3ZELElBQUksYUFBYSxXQUFXLFFBQVEsVUFBVSxHQUFHLFFBQVEsVUFBVSxHQUFHO0lBQ3RFLElBQUksV0FBVyxXQUFXLFFBQVEsUUFBUSxHQUFHLFFBQVEsUUFBUSxHQUFHO0lBQ2hFLE9BQU8sU0FBUyxJQUFJO1FBQ2hCLE9BQU87UUFDUCxZQUFZO0lBQ2hCO0FBQ0o7QUFDQSxFQUFFO0FBQ0YsV0FBVztBQUNYLEVBQUU7QUFDRixTQUFTLFlBQVksS0FBSztJQUN0QixPQUFRLFNBQVMsUUFBUSxPQUFPLFVBQVUsWUFBWSxPQUFPLFVBQVUsV0FBWSxnRUFBZ0U7QUFDdko7QUFDQSxTQUFTLFFBQVEsRUFBRSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsR0FBRztJQUN2QyxJQUFJLFdBQVcsWUFBWSxPQUFPLE1BQU0sV0FBVztJQUNuRCxJQUFJLGdCQUFnQixNQUFNLEdBQUcsQ0FBQztJQUM5QixJQUFJLE9BQU8sa0JBQWtCLGFBQWE7UUFDdEMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRTtRQUM5QixNQUFNLEdBQUcsQ0FBQyxVQUFVO0lBQ3hCO0lBQ0EsT0FBTztBQUNYO0FBQ0EsU0FBUyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsVUFBVTtJQUNuQyxJQUFJLE9BQU8sTUFBTSxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXO0lBQ2pELElBQUksV0FBVyxXQUFXO0lBQzFCLElBQUksZ0JBQWdCLE1BQU0sR0FBRyxDQUFDO0lBQzlCLElBQUksT0FBTyxrQkFBa0IsYUFBYTtRQUN0QyxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFO1FBQy9CLE1BQU0sR0FBRyxDQUFDLFVBQVU7SUFDeEI7SUFDQSxPQUFPO0FBQ1g7QUFDQSxTQUFTLFNBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVM7SUFDckQsT0FBTyxTQUFTLElBQUksQ0FBQyxTQUFTLElBQUksT0FBTztBQUM3QztBQUNBLFNBQVMsZ0JBQWdCLEVBQUUsRUFBRSxPQUFPO0lBQ2hDLElBQUksV0FBVyxHQUFHLE1BQU0sS0FBSyxJQUFJLFVBQVU7SUFDM0MsT0FBTyxTQUFTLElBQUksSUFBSSxFQUFFLFVBQVUsUUFBUSxLQUFLLENBQUMsTUFBTSxJQUFJLFFBQVEsVUFBVTtBQUNsRjtBQUNBLFNBQVMsaUJBQWlCLEVBQUUsRUFBRSxPQUFPO0lBQ2pDLE9BQU8sU0FBUyxJQUFJLElBQUksRUFBRSxVQUFVLFFBQVEsS0FBSyxDQUFDLE1BQU0sSUFBSSxRQUFRLFVBQVU7QUFDbEY7QUFDQSxTQUFTLGdCQUFnQixFQUFFLEVBQUUsT0FBTztJQUNoQyxPQUFPLFNBQVMsSUFBSSxJQUFJLEVBQUUsU0FBUyxRQUFRLEtBQUssQ0FBQyxNQUFNLElBQUksUUFBUSxVQUFVO0FBQ2pGO0FBQ0EsRUFBRTtBQUNGLGFBQWE7QUFDYixFQUFFO0FBQ0YsSUFBSSxvQkFBb0I7SUFDcEIsT0FBTyxLQUFLLFNBQVMsQ0FBQztBQUMxQjtBQUNBLEVBQUU7QUFDRixRQUFRO0FBQ1IsRUFBRTtBQUNGLElBQUksOEJBQTZDO0lBQzdDLFNBQVM7UUFDTCxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sTUFBTSxDQUFDO0lBQy9CO0lBQ0EsNEJBQTRCLFNBQVMsQ0FBQyxHQUFHLEdBQUcsU0FBVSxHQUFHO1FBQ3JELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO0lBQzFCO0lBQ0EsNEJBQTRCLFNBQVMsQ0FBQyxHQUFHLEdBQUcsU0FBVSxHQUFHLEVBQUUsS0FBSztRQUM1RCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRztJQUN0QjtJQUNBLE9BQU87QUFDWDtBQUNBLElBQUksZUFBZTtJQUNmLFFBQVEsU0FBUztRQUNiLE9BQU8sSUFBSTtJQUNmO0FBQ0o7QUFDTyxJQUFJLGFBQWE7SUFDcEIsVUFBVTtJQUNWLFNBQVM7QUFDYiIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiA2OTUsICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvJTQwZm9ybWF0anMvaWN1LW1lc3NhZ2Vmb3JtYXQtcGFyc2VyL2xpYi9lcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIEVycm9yS2luZDtcbihmdW5jdGlvbiAoRXJyb3JLaW5kKSB7XG4gICAgLyoqIEFyZ3VtZW50IGlzIHVuY2xvc2VkIChlLmcuIGB7MGApICovXG4gICAgRXJyb3JLaW5kW0Vycm9yS2luZFtcIkVYUEVDVF9BUkdVTUVOVF9DTE9TSU5HX0JSQUNFXCJdID0gMV0gPSBcIkVYUEVDVF9BUkdVTUVOVF9DTE9TSU5HX0JSQUNFXCI7XG4gICAgLyoqIEFyZ3VtZW50IGlzIGVtcHR5IChlLmcuIGB7fWApLiAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJFTVBUWV9BUkdVTUVOVFwiXSA9IDJdID0gXCJFTVBUWV9BUkdVTUVOVFwiO1xuICAgIC8qKiBBcmd1bWVudCBpcyBtYWxmb3JtZWQgKGUuZy4gYHtmb28hfWBgKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJNQUxGT1JNRURfQVJHVU1FTlRcIl0gPSAzXSA9IFwiTUFMRk9STUVEX0FSR1VNRU5UXCI7XG4gICAgLyoqIEV4cGVjdCBhbiBhcmd1bWVudCB0eXBlIChlLmcuIGB7Zm9vLH1gKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJFWFBFQ1RfQVJHVU1FTlRfVFlQRVwiXSA9IDRdID0gXCJFWFBFQ1RfQVJHVU1FTlRfVFlQRVwiO1xuICAgIC8qKiBVbnN1cHBvcnRlZCBhcmd1bWVudCB0eXBlIChlLmcuIGB7Zm9vLGZvb31gKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJJTlZBTElEX0FSR1VNRU5UX1RZUEVcIl0gPSA1XSA9IFwiSU5WQUxJRF9BUkdVTUVOVF9UWVBFXCI7XG4gICAgLyoqIEV4cGVjdCBhbiBhcmd1bWVudCBzdHlsZSAoZS5nLiBge2ZvbywgbnVtYmVyLCB9YCkgKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiRVhQRUNUX0FSR1VNRU5UX1NUWUxFXCJdID0gNl0gPSBcIkVYUEVDVF9BUkdVTUVOVF9TVFlMRVwiO1xuICAgIC8qKiBUaGUgbnVtYmVyIHNrZWxldG9uIGlzIGludmFsaWQuICovXG4gICAgRXJyb3JLaW5kW0Vycm9yS2luZFtcIklOVkFMSURfTlVNQkVSX1NLRUxFVE9OXCJdID0gN10gPSBcIklOVkFMSURfTlVNQkVSX1NLRUxFVE9OXCI7XG4gICAgLyoqIFRoZSBkYXRlIHRpbWUgc2tlbGV0b24gaXMgaW52YWxpZC4gKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiSU5WQUxJRF9EQVRFX1RJTUVfU0tFTEVUT05cIl0gPSA4XSA9IFwiSU5WQUxJRF9EQVRFX1RJTUVfU0tFTEVUT05cIjtcbiAgICAvKiogRXhlcGN0IGEgbnVtYmVyIHNrZWxldG9uIGZvbGxvd2luZyB0aGUgYDo6YCAoZS5nLiBge2ZvbywgbnVtYmVyLCA6On1gKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJFWFBFQ1RfTlVNQkVSX1NLRUxFVE9OXCJdID0gOV0gPSBcIkVYUEVDVF9OVU1CRVJfU0tFTEVUT05cIjtcbiAgICAvKiogRXhlcGN0IGEgZGF0ZSB0aW1lIHNrZWxldG9uIGZvbGxvd2luZyB0aGUgYDo6YCAoZS5nLiBge2ZvbywgZGF0ZSwgOjp9YCkgKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiRVhQRUNUX0RBVEVfVElNRV9TS0VMRVRPTlwiXSA9IDEwXSA9IFwiRVhQRUNUX0RBVEVfVElNRV9TS0VMRVRPTlwiO1xuICAgIC8qKiBVbm1hdGNoZWQgYXBvc3Ryb3BoZXMgaW4gdGhlIGFyZ3VtZW50IHN0eWxlIChlLmcuIGB7Zm9vLCBudW1iZXIsICd0ZXN0YCkgKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiVU5DTE9TRURfUVVPVEVfSU5fQVJHVU1FTlRfU1RZTEVcIl0gPSAxMV0gPSBcIlVOQ0xPU0VEX1FVT1RFX0lOX0FSR1VNRU5UX1NUWUxFXCI7XG4gICAgLyoqIE1pc3Npbmcgc2VsZWN0IGFyZ3VtZW50IG9wdGlvbnMgKGUuZy4gYHtmb28sIHNlbGVjdH1gKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJFWFBFQ1RfU0VMRUNUX0FSR1VNRU5UX09QVElPTlNcIl0gPSAxMl0gPSBcIkVYUEVDVF9TRUxFQ1RfQVJHVU1FTlRfT1BUSU9OU1wiO1xuICAgIC8qKiBFeHBlY3RpbmcgYW4gb2Zmc2V0IHZhbHVlIGluIGBwbHVyYWxgIG9yIGBzZWxlY3RvcmRpbmFsYCBhcmd1bWVudCAoZS5nIGB7Zm9vLCBwbHVyYWwsIG9mZnNldH1gKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJFWFBFQ1RfUExVUkFMX0FSR1VNRU5UX09GRlNFVF9WQUxVRVwiXSA9IDEzXSA9IFwiRVhQRUNUX1BMVVJBTF9BUkdVTUVOVF9PRkZTRVRfVkFMVUVcIjtcbiAgICAvKiogT2Zmc2V0IHZhbHVlIGluIGBwbHVyYWxgIG9yIGBzZWxlY3RvcmRpbmFsYCBpcyBpbnZhbGlkIChlLmcuIGB7Zm9vLCBwbHVyYWwsIG9mZnNldDogeH1gKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJJTlZBTElEX1BMVVJBTF9BUkdVTUVOVF9PRkZTRVRfVkFMVUVcIl0gPSAxNF0gPSBcIklOVkFMSURfUExVUkFMX0FSR1VNRU5UX09GRlNFVF9WQUxVRVwiO1xuICAgIC8qKiBFeHBlY3RpbmcgYSBzZWxlY3RvciBpbiBgc2VsZWN0YCBhcmd1bWVudCAoZS5nIGB7Zm9vLCBzZWxlY3R9YCkgKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiRVhQRUNUX1NFTEVDVF9BUkdVTUVOVF9TRUxFQ1RPUlwiXSA9IDE1XSA9IFwiRVhQRUNUX1NFTEVDVF9BUkdVTUVOVF9TRUxFQ1RPUlwiO1xuICAgIC8qKiBFeHBlY3RpbmcgYSBzZWxlY3RvciBpbiBgcGx1cmFsYCBvciBgc2VsZWN0b3JkaW5hbGAgYXJndW1lbnQgKGUuZyBge2ZvbywgcGx1cmFsfWApICovXG4gICAgRXJyb3JLaW5kW0Vycm9yS2luZFtcIkVYUEVDVF9QTFVSQUxfQVJHVU1FTlRfU0VMRUNUT1JcIl0gPSAxNl0gPSBcIkVYUEVDVF9QTFVSQUxfQVJHVU1FTlRfU0VMRUNUT1JcIjtcbiAgICAvKiogRXhwZWN0aW5nIGEgbWVzc2FnZSBmcmFnbWVudCBhZnRlciB0aGUgYHNlbGVjdGAgc2VsZWN0b3IgKGUuZy4gYHtmb28sIHNlbGVjdCwgYXBwbGV9YCkgKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiRVhQRUNUX1NFTEVDVF9BUkdVTUVOVF9TRUxFQ1RPUl9GUkFHTUVOVFwiXSA9IDE3XSA9IFwiRVhQRUNUX1NFTEVDVF9BUkdVTUVOVF9TRUxFQ1RPUl9GUkFHTUVOVFwiO1xuICAgIC8qKlxuICAgICAqIEV4cGVjdGluZyBhIG1lc3NhZ2UgZnJhZ21lbnQgYWZ0ZXIgdGhlIGBwbHVyYWxgIG9yIGBzZWxlY3RvcmRpbmFsYCBzZWxlY3RvclxuICAgICAqIChlLmcuIGB7Zm9vLCBwbHVyYWwsIG9uZX1gKVxuICAgICAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJFWFBFQ1RfUExVUkFMX0FSR1VNRU5UX1NFTEVDVE9SX0ZSQUdNRU5UXCJdID0gMThdID0gXCJFWFBFQ1RfUExVUkFMX0FSR1VNRU5UX1NFTEVDVE9SX0ZSQUdNRU5UXCI7XG4gICAgLyoqIFNlbGVjdG9yIGluIGBwbHVyYWxgIG9yIGBzZWxlY3RvcmRpbmFsYCBpcyBtYWxmb3JtZWQgKGUuZy4gYHtmb28sIHBsdXJhbCwgPXggeyN9fWApICovXG4gICAgRXJyb3JLaW5kW0Vycm9yS2luZFtcIklOVkFMSURfUExVUkFMX0FSR1VNRU5UX1NFTEVDVE9SXCJdID0gMTldID0gXCJJTlZBTElEX1BMVVJBTF9BUkdVTUVOVF9TRUxFQ1RPUlwiO1xuICAgIC8qKlxuICAgICAqIER1cGxpY2F0ZSBzZWxlY3RvcnMgaW4gYHBsdXJhbGAgb3IgYHNlbGVjdG9yZGluYWxgIGFyZ3VtZW50LlxuICAgICAqIChlLmcuIHtmb28sIHBsdXJhbCwgb25lIHsjfSBvbmUgeyN9fSlcbiAgICAgKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiRFVQTElDQVRFX1BMVVJBTF9BUkdVTUVOVF9TRUxFQ1RPUlwiXSA9IDIwXSA9IFwiRFVQTElDQVRFX1BMVVJBTF9BUkdVTUVOVF9TRUxFQ1RPUlwiO1xuICAgIC8qKiBEdXBsaWNhdGUgc2VsZWN0b3JzIGluIGBzZWxlY3RgIGFyZ3VtZW50LlxuICAgICAqIChlLmcuIHtmb28sIHNlbGVjdCwgYXBwbGUge2FwcGxlfSBhcHBsZSB7YXBwbGV9fSlcbiAgICAgKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiRFVQTElDQVRFX1NFTEVDVF9BUkdVTUVOVF9TRUxFQ1RPUlwiXSA9IDIxXSA9IFwiRFVQTElDQVRFX1NFTEVDVF9BUkdVTUVOVF9TRUxFQ1RPUlwiO1xuICAgIC8qKiBQbHVyYWwgb3Igc2VsZWN0IGFyZ3VtZW50IG9wdGlvbiBtdXN0IGhhdmUgYG90aGVyYCBjbGF1c2UuICovXG4gICAgRXJyb3JLaW5kW0Vycm9yS2luZFtcIk1JU1NJTkdfT1RIRVJfQ0xBVVNFXCJdID0gMjJdID0gXCJNSVNTSU5HX09USEVSX0NMQVVTRVwiO1xuICAgIC8qKiBUaGUgdGFnIGlzIG1hbGZvcm1lZC4gKGUuZy4gYDxib2xkIT5mb288L2JvbGQhPikgKi9cbiAgICBFcnJvcktpbmRbRXJyb3JLaW5kW1wiSU5WQUxJRF9UQUdcIl0gPSAyM10gPSBcIklOVkFMSURfVEFHXCI7XG4gICAgLyoqIFRoZSB0YWcgbmFtZSBpcyBpbnZhbGlkLiAoZS5nLiBgPDEyMz5mb288LzEyMz5gKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJJTlZBTElEX1RBR19OQU1FXCJdID0gMjVdID0gXCJJTlZBTElEX1RBR19OQU1FXCI7XG4gICAgLyoqIFRoZSBjbG9zaW5nIHRhZyBkb2VzIG5vdCBtYXRjaCB0aGUgb3BlbmluZyB0YWcuIChlLmcuIGA8Ym9sZD5mb288L2l0YWxpYz5gKSAqL1xuICAgIEVycm9yS2luZFtFcnJvcktpbmRbXCJVTk1BVENIRURfQ0xPU0lOR19UQUdcIl0gPSAyNl0gPSBcIlVOTUFUQ0hFRF9DTE9TSU5HX1RBR1wiO1xuICAgIC8qKiBUaGUgb3BlbmluZyB0YWcgaGFzIHVubWF0Y2hlZCBjbG9zaW5nIHRhZy4gKGUuZy4gYDxib2xkPmZvb2ApICovXG4gICAgRXJyb3JLaW5kW0Vycm9yS2luZFtcIlVOQ0xPU0VEX1RBR1wiXSA9IDI3XSA9IFwiVU5DTE9TRURfVEFHXCI7XG59KShFcnJvcktpbmQgfHwgKEVycm9yS2luZCA9IHt9KSk7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQU8sSUFBSTtBQUNYLENBQUMsU0FBVSxTQUFTO0lBQ2hCLHFDQUFxQyxHQUNyQyxTQUFTLENBQUMsU0FBUyxDQUFDLGdDQUFnQyxHQUFHLEVBQUUsR0FBRztJQUM1RCxtQ0FBbUMsR0FDbkMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLEdBQUc7SUFDN0MsMkNBQTJDLEdBQzNDLFNBQVMsQ0FBQyxTQUFTLENBQUMscUJBQXFCLEdBQUcsRUFBRSxHQUFHO0lBQ2pELDRDQUE0QyxHQUM1QyxTQUFTLENBQUMsU0FBUyxDQUFDLHVCQUF1QixHQUFHLEVBQUUsR0FBRztJQUNuRCxpREFBaUQsR0FDakQsU0FBUyxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsR0FBRyxFQUFFLEdBQUc7SUFDcEQsc0RBQXNELEdBQ3RELFNBQVMsQ0FBQyxTQUFTLENBQUMsd0JBQXdCLEdBQUcsRUFBRSxHQUFHO0lBQ3BELG9DQUFvQyxHQUNwQyxTQUFTLENBQUMsU0FBUyxDQUFDLDBCQUEwQixHQUFHLEVBQUUsR0FBRztJQUN0RCx1Q0FBdUMsR0FDdkMsU0FBUyxDQUFDLFNBQVMsQ0FBQyw2QkFBNkIsR0FBRyxFQUFFLEdBQUc7SUFDekQsMkVBQTJFLEdBQzNFLFNBQVMsQ0FBQyxTQUFTLENBQUMseUJBQXlCLEdBQUcsRUFBRSxHQUFHO0lBQ3JELDRFQUE0RSxHQUM1RSxTQUFTLENBQUMsU0FBUyxDQUFDLDRCQUE0QixHQUFHLEdBQUcsR0FBRztJQUN6RCw2RUFBNkUsR0FDN0UsU0FBUyxDQUFDLFNBQVMsQ0FBQyxtQ0FBbUMsR0FBRyxHQUFHLEdBQUc7SUFDaEUsMkRBQTJELEdBQzNELFNBQVMsQ0FBQyxTQUFTLENBQUMsaUNBQWlDLEdBQUcsR0FBRyxHQUFHO0lBQzlELG9HQUFvRyxHQUNwRyxTQUFTLENBQUMsU0FBUyxDQUFDLHNDQUFzQyxHQUFHLEdBQUcsR0FBRztJQUNuRSw2RkFBNkYsR0FDN0YsU0FBUyxDQUFDLFNBQVMsQ0FBQyx1Q0FBdUMsR0FBRyxHQUFHLEdBQUc7SUFDcEUsb0VBQW9FLEdBQ3BFLFNBQVMsQ0FBQyxTQUFTLENBQUMsa0NBQWtDLEdBQUcsR0FBRyxHQUFHO0lBQy9ELHVGQUF1RixHQUN2RixTQUFTLENBQUMsU0FBUyxDQUFDLGtDQUFrQyxHQUFHLEdBQUcsR0FBRztJQUMvRCwyRkFBMkYsR0FDM0YsU0FBUyxDQUFDLFNBQVMsQ0FBQywyQ0FBMkMsR0FBRyxHQUFHLEdBQUc7SUFDeEU7OztLQUdDLEdBQ0QsU0FBUyxDQUFDLFNBQVMsQ0FBQywyQ0FBMkMsR0FBRyxHQUFHLEdBQUc7SUFDeEUsd0ZBQXdGLEdBQ3hGLFNBQVMsQ0FBQyxTQUFTLENBQUMsbUNBQW1DLEdBQUcsR0FBRyxHQUFHO0lBQ2hFOzs7S0FHQyxHQUNELFNBQVMsQ0FBQyxTQUFTLENBQUMscUNBQXFDLEdBQUcsR0FBRyxHQUFHO0lBQ2xFOztLQUVDLEdBQ0QsU0FBUyxDQUFDLFNBQVMsQ0FBQyxxQ0FBcUMsR0FBRyxHQUFHLEdBQUc7SUFDbEUsK0RBQStELEdBQy9ELFNBQVMsQ0FBQyxTQUFTLENBQUMsdUJBQXVCLEdBQUcsR0FBRyxHQUFHO0lBQ3BELHFEQUFxRCxHQUNyRCxTQUFTLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxHQUFHLEdBQUc7SUFDM0MscURBQXFELEdBQ3JELFNBQVMsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEdBQUcsR0FBRyxHQUFHO0lBQ2hELGdGQUFnRixHQUNoRixTQUFTLENBQUMsU0FBUyxDQUFDLHdCQUF3QixHQUFHLEdBQUcsR0FBRztJQUNyRCxrRUFBa0UsR0FDbEUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxlQUFlLEdBQUcsR0FBRyxHQUFHO0FBQ2hELENBQUMsRUFBRSxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogNzM5LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzLyU0MGZvcm1hdGpzL2ljdS1tZXNzYWdlZm9ybWF0LXBhcnNlci9saWIvdHlwZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBUWVBFO1xuKGZ1bmN0aW9uIChUWVBFKSB7XG4gICAgLyoqXG4gICAgICogUmF3IHRleHRcbiAgICAgKi9cbiAgICBUWVBFW1RZUEVbXCJsaXRlcmFsXCJdID0gMF0gPSBcImxpdGVyYWxcIjtcbiAgICAvKipcbiAgICAgKiBWYXJpYWJsZSB3L28gYW55IGZvcm1hdCwgZS5nIGB2YXJgIGluIGB0aGlzIGlzIGEge3Zhcn1gXG4gICAgICovXG4gICAgVFlQRVtUWVBFW1wiYXJndW1lbnRcIl0gPSAxXSA9IFwiYXJndW1lbnRcIjtcbiAgICAvKipcbiAgICAgKiBWYXJpYWJsZSB3LyBudW1iZXIgZm9ybWF0XG4gICAgICovXG4gICAgVFlQRVtUWVBFW1wibnVtYmVyXCJdID0gMl0gPSBcIm51bWJlclwiO1xuICAgIC8qKlxuICAgICAqIFZhcmlhYmxlIHcvIGRhdGUgZm9ybWF0XG4gICAgICovXG4gICAgVFlQRVtUWVBFW1wiZGF0ZVwiXSA9IDNdID0gXCJkYXRlXCI7XG4gICAgLyoqXG4gICAgICogVmFyaWFibGUgdy8gdGltZSBmb3JtYXRcbiAgICAgKi9cbiAgICBUWVBFW1RZUEVbXCJ0aW1lXCJdID0gNF0gPSBcInRpbWVcIjtcbiAgICAvKipcbiAgICAgKiBWYXJpYWJsZSB3LyBzZWxlY3QgZm9ybWF0XG4gICAgICovXG4gICAgVFlQRVtUWVBFW1wic2VsZWN0XCJdID0gNV0gPSBcInNlbGVjdFwiO1xuICAgIC8qKlxuICAgICAqIFZhcmlhYmxlIHcvIHBsdXJhbCBmb3JtYXRcbiAgICAgKi9cbiAgICBUWVBFW1RZUEVbXCJwbHVyYWxcIl0gPSA2XSA9IFwicGx1cmFsXCI7XG4gICAgLyoqXG4gICAgICogT25seSBwb3NzaWJsZSB3aXRoaW4gcGx1cmFsIGFyZ3VtZW50LlxuICAgICAqIFRoaXMgaXMgdGhlIGAjYCBzeW1ib2wgdGhhdCB3aWxsIGJlIHN1YnN0aXR1dGVkIHdpdGggdGhlIGNvdW50LlxuICAgICAqL1xuICAgIFRZUEVbVFlQRVtcInBvdW5kXCJdID0gN10gPSBcInBvdW5kXCI7XG4gICAgLyoqXG4gICAgICogWE1MLWxpa2UgdGFnXG4gICAgICovXG4gICAgVFlQRVtUWVBFW1widGFnXCJdID0gOF0gPSBcInRhZ1wiO1xufSkoVFlQRSB8fCAoVFlQRSA9IHt9KSk7XG5leHBvcnQgdmFyIFNLRUxFVE9OX1RZUEU7XG4oZnVuY3Rpb24gKFNLRUxFVE9OX1RZUEUpIHtcbiAgICBTS0VMRVRPTl9UWVBFW1NLRUxFVE9OX1RZUEVbXCJudW1iZXJcIl0gPSAwXSA9IFwibnVtYmVyXCI7XG4gICAgU0tFTEVUT05fVFlQRVtTS0VMRVRPTl9UWVBFW1wiZGF0ZVRpbWVcIl0gPSAxXSA9IFwiZGF0ZVRpbWVcIjtcbn0pKFNLRUxFVE9OX1RZUEUgfHwgKFNLRUxFVE9OX1RZUEUgPSB7fSkpO1xuLyoqXG4gKiBUeXBlIEd1YXJkc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaXRlcmFsRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbC50eXBlID09PSBUWVBFLmxpdGVyYWw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcmd1bWVudEVsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gZWwudHlwZSA9PT0gVFlQRS5hcmd1bWVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlckVsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gZWwudHlwZSA9PT0gVFlQRS5udW1iZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbC50eXBlID09PSBUWVBFLmRhdGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUaW1lRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbC50eXBlID09PSBUWVBFLnRpbWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTZWxlY3RFbGVtZW50KGVsKSB7XG4gICAgcmV0dXJuIGVsLnR5cGUgPT09IFRZUEUuc2VsZWN0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUGx1cmFsRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbC50eXBlID09PSBUWVBFLnBsdXJhbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1BvdW5kRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbC50eXBlID09PSBUWVBFLnBvdW5kO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVGFnRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbC50eXBlID09PSBUWVBFLnRhZztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlclNrZWxldG9uKGVsKSB7XG4gICAgcmV0dXJuICEhKGVsICYmIHR5cGVvZiBlbCA9PT0gJ29iamVjdCcgJiYgZWwudHlwZSA9PT0gU0tFTEVUT05fVFlQRS5udW1iZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZVRpbWVTa2VsZXRvbihlbCkge1xuICAgIHJldHVybiAhIShlbCAmJiB0eXBlb2YgZWwgPT09ICdvYmplY3QnICYmIGVsLnR5cGUgPT09IFNLRUxFVE9OX1RZUEUuZGF0ZVRpbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxpdGVyYWxFbGVtZW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogVFlQRS5saXRlcmFsLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOdW1iZXJFbGVtZW50KHZhbHVlLCBzdHlsZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRZUEUubnVtYmVyLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sSUFBSTtBQUNYLENBQUMsU0FBVSxJQUFJO0lBQ1g7O0tBRUMsR0FDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLEdBQUc7SUFDNUI7O0tBRUMsR0FDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLEdBQUc7SUFDN0I7O0tBRUMsR0FDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLEdBQUc7SUFDM0I7O0tBRUMsR0FDRCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLEdBQUc7SUFDekI7O0tBRUMsR0FDRCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLEdBQUc7SUFDekI7O0tBRUMsR0FDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLEdBQUc7SUFDM0I7O0tBRUMsR0FDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLEdBQUc7SUFDM0I7OztLQUdDLEdBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxHQUFHO0lBQzFCOztLQUVDLEdBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHO0FBQzVCLENBQUMsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDZCxJQUFJO0FBQ1gsQ0FBQyxTQUFVLGFBQWE7SUFDcEIsYUFBYSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEdBQUcsRUFBRSxHQUFHO0lBQzdDLGFBQWEsQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLEVBQUUsR0FBRztBQUNuRCxDQUFDLEVBQUUsaUJBQWlCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUloQyxTQUFTLGlCQUFpQixFQUFFO0lBQy9CLE9BQU8sR0FBRyxJQUFJLEtBQUssS0FBSyxPQUFPO0FBQ25DO0FBQ08sU0FBUyxrQkFBa0IsRUFBRTtJQUNoQyxPQUFPLEdBQUcsSUFBSSxLQUFLLEtBQUssUUFBUTtBQUNwQztBQUNPLFNBQVMsZ0JBQWdCLEVBQUU7SUFDOUIsT0FBTyxHQUFHLElBQUksS0FBSyxLQUFLLE1BQU07QUFDbEM7QUFDTyxTQUFTLGNBQWMsRUFBRTtJQUM1QixPQUFPLEdBQUcsSUFBSSxLQUFLLEtBQUssSUFBSTtBQUNoQztBQUNPLFNBQVMsY0FBYyxFQUFFO0lBQzVCLE9BQU8sR0FBRyxJQUFJLEtBQUssS0FBSyxJQUFJO0FBQ2hDO0FBQ08sU0FBUyxnQkFBZ0IsRUFBRTtJQUM5QixPQUFPLEdBQUcsSUFBSSxLQUFLLEtBQUssTUFBTTtBQUNsQztBQUNPLFNBQVMsZ0JBQWdCLEVBQUU7SUFDOUIsT0FBTyxHQUFHLElBQUksS0FBSyxLQUFLLE1BQU07QUFDbEM7QUFDTyxTQUFTLGVBQWUsRUFBRTtJQUM3QixPQUFPLEdBQUcsSUFBSSxLQUFLLEtBQUssS0FBSztBQUNqQztBQUNPLFNBQVMsYUFBYSxFQUFFO0lBQzNCLE9BQU8sR0FBRyxJQUFJLEtBQUssS0FBSyxHQUFHO0FBQy9CO0FBQ08sU0FBUyxpQkFBaUIsRUFBRTtJQUMvQixPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sT0FBTyxPQUFPLFlBQVksR0FBRyxJQUFJLEtBQUssY0FBYyxNQUFNO0FBQzlFO0FBQ08sU0FBUyxtQkFBbUIsRUFBRTtJQUNqQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sT0FBTyxPQUFPLFlBQVksR0FBRyxJQUFJLEtBQUssY0FBYyxRQUFRO0FBQ2hGO0FBQ08sU0FBUyxxQkFBcUIsS0FBSztJQUN0QyxPQUFPO1FBQ0gsTUFBTSxLQUFLLE9BQU87UUFDbEIsT0FBTztJQUNYO0FBQ0o7QUFDTyxTQUFTLG9CQUFvQixLQUFLLEVBQUUsS0FBSztJQUM1QyxPQUFPO1FBQ0gsTUFBTSxLQUFLLE1BQU07UUFDakIsT0FBTztRQUNQLE9BQU87SUFDWDtBQUNKIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDg0MiwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy8lNDBmb3JtYXRqcy9pY3UtbWVzc2FnZWZvcm1hdC1wYXJzZXIvbGliL3JlZ2V4LmdlbmVyYXRlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZ2VuZXJhdGVkIGZyb20gcmVnZXgtZ2VuLnRzXG5leHBvcnQgdmFyIFNQQUNFX1NFUEFSQVRPUl9SRUdFWCA9IC9bIFxceEEwXFx1MTY4MFxcdTIwMDAtXFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMF0vO1xuZXhwb3J0IHZhciBXSElURV9TUEFDRV9SRUdFWCA9IC9bXFx0LVxcciBcXHg4NVxcdTIwMEVcXHUyMDBGXFx1MjAyOFxcdTIwMjldLztcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQkFBK0I7Ozs7O0FBQ3hCLElBQUksd0JBQXdCO0FBQzVCLElBQUksb0JBQW9CIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDg1MywgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy8lNDBmb3JtYXRqcy9pY3UtbWVzc2FnZWZvcm1hdC1wYXJzZXIvbGliL3RpbWUtZGF0YS5nZW5lcmF0ZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGdlbmVyYXRlZCBmcm9tIHRpbWUtZGF0YS1nZW4udHNcbi8vIHByZXR0aWVyLWlnbm9yZSAgXG5leHBvcnQgdmFyIHRpbWVEYXRhID0ge1xuICAgIFwiMDAxXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIjQxOVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiQUNcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkFEXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJBRVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiQUZcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIkFHXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJBSVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQUxcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJBTVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQU9cIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkFSXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJBU1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJBVFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQVVcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkFXXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJBWFwiOiBbXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIkFaXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiQkFcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJCQlwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQkRcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJCRVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQkZcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkJHXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiQkhcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIkJJXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIkJKXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJCTFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQk1cIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkJOXCI6IFtcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJCT1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiQlFcIjogW1xuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJCUlwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQlNcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkJUXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIkJXXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJCWVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJCWlwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQ0FcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkNDXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJDRFwiOiBbXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiQ0ZcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJDR1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQ0hcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJDSVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQ0tcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkNMXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJDTVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkNOXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJDT1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiQ1BcIjogW1xuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJDUlwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiQ1VcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiXG4gICAgXSxcbiAgICBcIkNWXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJDV1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiQ1hcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkNZXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJDWlwiOiBbXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIkRFXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJER1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiREpcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiREtcIjogW1xuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJETVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiRE9cIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiXG4gICAgXSxcbiAgICBcIkRaXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJFQVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiRUNcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiXG4gICAgXSxcbiAgICBcIkVFXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJFR1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiRUhcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIkVSXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIkVTXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJFVFwiOiBbXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiRklcIjogW1xuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJGSlwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiRktcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkZNXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJGT1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJGUlwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiR0FcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkdCXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJHRFwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiR0VcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJHRlwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiR0dcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkdIXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIkdJXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJHTFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJHTVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiR05cIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkdQXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJHUVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiR1JcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkdUXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJHVVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiR1dcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkdZXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJIS1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiSE5cIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiXG4gICAgXSxcbiAgICBcIkhSXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJIVVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJJQ1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiSURcIjogW1xuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJJRVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiSUxcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIklNXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJJTlwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJJT1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiSVFcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIklSXCI6IFtcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJJU1wiOiBbXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIklUXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJKRVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiSk1cIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkpPXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJKUFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcIktcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiS0VcIjogW1xuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIktHXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJLSFwiOiBbXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiS0lcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIktNXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJLTlwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiS1BcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiXG4gICAgXSxcbiAgICBcIktSXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJLV1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiS1lcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIktaXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJMQVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiTEJcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIkxDXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJMSVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIkxLXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJMUlwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiTFNcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiTFRcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIkxVXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiTFZcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIkxZXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJNQVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiTUNcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIk1EXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJNRVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIk1GXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJNR1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJNSFwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiTUtcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIk1MXCI6IFtcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiTU1cIjogW1xuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIk1OXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJNT1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiTVBcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIk1RXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJNUlwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiTVNcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIk1UXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIk1VXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIk1WXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIk1XXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJNWFwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiTVlcIjogW1xuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIk1aXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJOQVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiTkNcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIk5FXCI6IFtcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiTkZcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIk5HXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJOSVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiTkxcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIk5PXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIk5QXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiTlJcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIk5VXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJOWlwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiT01cIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIlBBXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJQRVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiUEZcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJQR1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJQSFwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiUEtcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJQTFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJQTVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiUE5cIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlBSXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJQU1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiUFRcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlBXXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIlBZXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJRQVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiUkVcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlJPXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJSU1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIlJVXCI6IFtcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiUldcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiU0FcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIlNCXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJTQ1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlNEXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJTRVwiOiBbXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIlNHXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJTSFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiU0lcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlNKXCI6IFtcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiU0tcIjogW1xuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJTTFwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiU01cIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJTTlwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlNPXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIlNSXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJTU1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiU1RcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlNWXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJTWFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiU1lcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIlNaXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJUQVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiVENcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlREXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiVEZcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJUR1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiVEhcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiVEpcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiVExcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIlRNXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXSxcbiAgICBcIlROXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJUT1wiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJUUlwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiVFRcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlRXXCI6IFtcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJUWlwiOiBbXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiVUFcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJVR1wiOiBbXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiVU1cIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlVTXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJVWVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiVVpcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJWQVwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlZDXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJWRVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiVkdcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlZJXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJWTlwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJWVVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJXRlwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiV1NcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiWEtcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhcIlxuICAgIF0sXG4gICAgXCJZRVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiWVRcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIlpBXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJaTVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiWldcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCJcbiAgICBdLFxuICAgIFwiYWYtWkFcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiXG4gICAgXSxcbiAgICBcImFyLTAwMVwiOiBbXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiY2EtRVNcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJlbi0wMDFcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcImVuLUhLXCI6IFtcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaGJcIixcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJlbi1JTFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiZW4tTVlcIjogW1xuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcImVzLUJSXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaGJcIlxuICAgIF0sXG4gICAgXCJlcy1FU1wiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCJcbiAgICBdLFxuICAgIFwiZXMtR1FcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiXG4gICAgXSxcbiAgICBcImZyLUNBXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwiZ2wtRVNcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiaEJcIlxuICAgIF0sXG4gICAgXCJndS1JTlwiOiBbXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwiaGktSU5cIjogW1xuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJpdC1DSFwiOiBbXG4gICAgICAgIFwiSFwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJoQlwiXG4gICAgXSxcbiAgICBcIml0LUlUXCI6IFtcbiAgICAgICAgXCJIXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhCXCJcbiAgICBdLFxuICAgIFwia24tSU5cIjogW1xuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJtbC1JTlwiOiBbXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcIm1yLUlOXCI6IFtcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcIkhcIlxuICAgIF0sXG4gICAgXCJwYS1JTlwiOiBbXG4gICAgICAgIFwiaEJcIixcbiAgICAgICAgXCJoYlwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwidGEtSU5cIjogW1xuICAgICAgICBcImhCXCIsXG4gICAgICAgIFwiaFwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiSFwiXG4gICAgXSxcbiAgICBcInRlLUlOXCI6IFtcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhcIixcbiAgICAgICAgXCJIXCJcbiAgICBdLFxuICAgIFwienUtWkFcIjogW1xuICAgICAgICBcIkhcIixcbiAgICAgICAgXCJoQlwiLFxuICAgICAgICBcImhiXCIsXG4gICAgICAgIFwiaFwiXG4gICAgXVxufTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtQ0FBbUM7QUFDbkMsb0JBQW9COzs7O0FBQ2IsSUFBSSxXQUFXO0lBQ2xCLE9BQU87UUFDSDtRQUNBO0tBQ0g7SUFDRCxPQUFPO1FBQ0g7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtLQUNIO0lBQ0QsTUFBTTtRQUNGO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtLQUNIO0lBQ0QsTUFBTTtRQUNGO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxNQUFNO1FBQ0Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELE1BQU07UUFDRjtRQUNBO0tBQ0g7SUFDRCxTQUFTO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELFVBQVU7UUFDTjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsU0FBUztRQUNMO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsVUFBVTtRQUNOO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxTQUFTO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsU0FBUztRQUNMO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxTQUFTO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsU0FBUztRQUNMO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxTQUFTO1FBQ0w7UUFDQTtRQUNBO0tBQ0g7SUFDRCxTQUFTO1FBQ0w7UUFDQTtRQUNBO0tBQ0g7SUFDRCxTQUFTO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsU0FBUztRQUNMO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxTQUFTO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7S0FDSDtJQUNELFNBQVM7UUFDTDtRQUNBO1FBQ0E7UUFDQTtLQUNIO0FBQ0wiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMjI3NywgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy8lNDBmb3JtYXRqcy9pY3UtbWVzc2FnZWZvcm1hdC1wYXJzZXIvbGliL2RhdGUtdGltZS1wYXR0ZXJuLWdlbmVyYXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aW1lRGF0YSB9IGZyb20gJy4vdGltZS1kYXRhLmdlbmVyYXRlZCc7XG4vKipcbiAqIFJldHVybnMgdGhlIGJlc3QgbWF0Y2hpbmcgZGF0ZSB0aW1lIHBhdHRlcm4gaWYgYSBkYXRlIHRpbWUgc2tlbGV0b25cbiAqIHBhdHRlcm4gaXMgcHJvdmlkZWQgd2l0aCBhIGxvY2FsZS4gRm9sbG93cyB0aGUgVW5pY29kZSBzcGVjaWZpY2F0aW9uOlxuICogaHR0cHM6Ly93d3cudW5pY29kZS5vcmcvcmVwb3J0cy90cjM1L3RyMzUtZGF0ZXMuaHRtbCN0YWJsZS1tYXBwaW5nLXJlcXVlc3RlZC10aW1lLXNrZWxldG9ucy10by1wYXR0ZXJuc1xuICogQHBhcmFtIHNrZWxldG9uIGRhdGUgdGltZSBza2VsZXRvbiBwYXR0ZXJuIHRoYXQgcG9zc2libHkgaW5jbHVkZXMgaiwgSiBvciBDXG4gKiBAcGFyYW0gbG9jYWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCZXN0UGF0dGVybihza2VsZXRvbiwgbG9jYWxlKSB7XG4gICAgdmFyIHNrZWxldG9uQ29weSA9ICcnO1xuICAgIGZvciAodmFyIHBhdHRlcm5Qb3MgPSAwOyBwYXR0ZXJuUG9zIDwgc2tlbGV0b24ubGVuZ3RoOyBwYXR0ZXJuUG9zKyspIHtcbiAgICAgICAgdmFyIHBhdHRlcm5DaGFyID0gc2tlbGV0b24uY2hhckF0KHBhdHRlcm5Qb3MpO1xuICAgICAgICBpZiAocGF0dGVybkNoYXIgPT09ICdqJykge1xuICAgICAgICAgICAgdmFyIGV4dHJhTGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChwYXR0ZXJuUG9zICsgMSA8IHNrZWxldG9uLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHNrZWxldG9uLmNoYXJBdChwYXR0ZXJuUG9zICsgMSkgPT09IHBhdHRlcm5DaGFyKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFMZW5ndGgrKztcbiAgICAgICAgICAgICAgICBwYXR0ZXJuUG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaG91ckxlbiA9IDEgKyAoZXh0cmFMZW5ndGggJiAxKTtcbiAgICAgICAgICAgIHZhciBkYXlQZXJpb2RMZW4gPSBleHRyYUxlbmd0aCA8IDIgPyAxIDogMyArIChleHRyYUxlbmd0aCA+PiAxKTtcbiAgICAgICAgICAgIHZhciBkYXlQZXJpb2RDaGFyID0gJ2EnO1xuICAgICAgICAgICAgdmFyIGhvdXJDaGFyID0gZ2V0RGVmYXVsdEhvdXJTeW1ib2xGcm9tTG9jYWxlKGxvY2FsZSk7XG4gICAgICAgICAgICBpZiAoaG91ckNoYXIgPT0gJ0gnIHx8IGhvdXJDaGFyID09ICdrJykge1xuICAgICAgICAgICAgICAgIGRheVBlcmlvZExlbiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoZGF5UGVyaW9kTGVuLS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgc2tlbGV0b25Db3B5ICs9IGRheVBlcmlvZENoYXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoaG91ckxlbi0tID4gMCkge1xuICAgICAgICAgICAgICAgIHNrZWxldG9uQ29weSA9IGhvdXJDaGFyICsgc2tlbGV0b25Db3B5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhdHRlcm5DaGFyID09PSAnSicpIHtcbiAgICAgICAgICAgIHNrZWxldG9uQ29weSArPSAnSCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBza2VsZXRvbkNvcHkgKz0gcGF0dGVybkNoYXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNrZWxldG9uQ29weTtcbn1cbi8qKlxuICogTWFwcyB0aGUgW2hvdXIgY3ljbGUgdHlwZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvSW50bC9Mb2NhbGUvaG91ckN5Y2xlKVxuICogb2YgdGhlIGdpdmVuIGBsb2NhbGVgIHRvIHRoZSBjb3JyZXNwb25kaW5nIHRpbWUgcGF0dGVybi5cbiAqIEBwYXJhbSBsb2NhbGVcbiAqL1xuZnVuY3Rpb24gZ2V0RGVmYXVsdEhvdXJTeW1ib2xGcm9tTG9jYWxlKGxvY2FsZSkge1xuICAgIHZhciBob3VyQ3ljbGUgPSBsb2NhbGUuaG91ckN5Y2xlO1xuICAgIGlmIChob3VyQ3ljbGUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAvLyBAdHMtaWdub3JlIGhvdXJDeWNsZShzKSBpcyBub3QgaWRlbnRpZmllZCB5ZXRcbiAgICAgICAgbG9jYWxlLmhvdXJDeWNsZXMgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBsb2NhbGUuaG91ckN5Y2xlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBob3VyQ3ljbGUgPSBsb2NhbGUuaG91ckN5Y2xlc1swXTtcbiAgICB9XG4gICAgaWYgKGhvdXJDeWNsZSkge1xuICAgICAgICBzd2l0Y2ggKGhvdXJDeWNsZSkge1xuICAgICAgICAgICAgY2FzZSAnaDI0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2snO1xuICAgICAgICAgICAgY2FzZSAnaDIzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0gnO1xuICAgICAgICAgICAgY2FzZSAnaDEyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2gnO1xuICAgICAgICAgICAgY2FzZSAnaDExJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0snO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaG91ckN5Y2xlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETzogT25jZSBob3VyQ3ljbGUgaXMgZnVsbHkgc3VwcG9ydGVkIHJlbW92ZSB0aGUgZm9sbG93aW5nIHdpdGggZGF0YSBnZW5lcmF0aW9uXG4gICAgdmFyIGxhbmd1YWdlVGFnID0gbG9jYWxlLmxhbmd1YWdlO1xuICAgIHZhciByZWdpb25UYWc7XG4gICAgaWYgKGxhbmd1YWdlVGFnICE9PSAncm9vdCcpIHtcbiAgICAgICAgcmVnaW9uVGFnID0gbG9jYWxlLm1heGltaXplKCkucmVnaW9uO1xuICAgIH1cbiAgICB2YXIgaG91ckN5Y2xlcyA9IHRpbWVEYXRhW3JlZ2lvblRhZyB8fCAnJ10gfHxcbiAgICAgICAgdGltZURhdGFbbGFuZ3VhZ2VUYWcgfHwgJyddIHx8XG4gICAgICAgIHRpbWVEYXRhW1wiXCIuY29uY2F0KGxhbmd1YWdlVGFnLCBcIi0wMDFcIildIHx8XG4gICAgICAgIHRpbWVEYXRhWycwMDEnXTtcbiAgICByZXR1cm4gaG91ckN5Y2xlc1swXTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTs7QUFRTyxTQUFTLGVBQWUsUUFBUSxFQUFFLE1BQU07SUFDM0MsSUFBSSxlQUFlO0lBQ25CLElBQUssSUFBSSxhQUFhLEdBQUcsYUFBYSxTQUFTLE1BQU0sRUFBRSxhQUFjO1FBQ2pFLElBQUksY0FBYyxTQUFTLE1BQU0sQ0FBQztRQUNsQyxJQUFJLGdCQUFnQixLQUFLO1lBQ3JCLElBQUksY0FBYztZQUNsQixNQUFPLGFBQWEsSUFBSSxTQUFTLE1BQU0sSUFDbkMsU0FBUyxNQUFNLENBQUMsYUFBYSxPQUFPLFlBQWE7Z0JBQ2pEO2dCQUNBO1lBQ0o7WUFDQSxJQUFJLFVBQVUsSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUNsQyxJQUFJLGVBQWUsY0FBYyxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUM5RCxJQUFJLGdCQUFnQjtZQUNwQixJQUFJLFdBQVcsK0JBQStCO1lBQzlDLElBQUksWUFBWSxPQUFPLFlBQVksS0FBSztnQkFDcEMsZUFBZTtZQUNuQjtZQUNBLE1BQU8saUJBQWlCLEVBQUc7Z0JBQ3ZCLGdCQUFnQjtZQUNwQjtZQUNBLE1BQU8sWUFBWSxFQUFHO2dCQUNsQixlQUFlLFdBQVc7WUFDOUI7UUFDSixPQUNLLElBQUksZ0JBQWdCLEtBQUs7WUFDMUIsZ0JBQWdCO1FBQ3BCLE9BQ0s7WUFDRCxnQkFBZ0I7UUFDcEI7SUFDSjtJQUNBLE9BQU87QUFDWDtBQUNBOzs7O0NBSUMsR0FDRCxTQUFTLCtCQUErQixNQUFNO0lBQzFDLElBQUksWUFBWSxPQUFPLFNBQVM7SUFDaEMsSUFBSSxjQUFjLGFBQ2QsZ0RBQWdEO0lBQ2hELE9BQU8sVUFBVSxJQUNqQixhQUFhO0lBQ2IsT0FBTyxVQUFVLENBQUMsTUFBTSxFQUFFO1FBQzFCLGFBQWE7UUFDYixZQUFZLE9BQU8sVUFBVSxDQUFDLEVBQUU7SUFDcEM7SUFDQSxJQUFJLFdBQVc7UUFDWCxPQUFRO1lBQ0osS0FBSztnQkFDRCxPQUFPO1lBQ1gsS0FBSztnQkFDRCxPQUFPO1lBQ1gsS0FBSztnQkFDRCxPQUFPO1lBQ1gsS0FBSztnQkFDRCxPQUFPO1lBQ1g7Z0JBQ0ksTUFBTSxJQUFJLE1BQU07UUFDeEI7SUFDSjtJQUNBLG9GQUFvRjtJQUNwRixJQUFJLGNBQWMsT0FBTyxRQUFRO0lBQ2pDLElBQUk7SUFDSixJQUFJLGdCQUFnQixRQUFRO1FBQ3hCLFlBQVksT0FBTyxRQUFRLEdBQUcsTUFBTTtJQUN4QztJQUNBLElBQUksYUFBYSxnTUFBQSxDQUFBLFdBQVEsQ0FBQyxhQUFhLEdBQUcsSUFDdEMsZ01BQUEsQ0FBQSxXQUFRLENBQUMsZUFBZSxHQUFHLElBQzNCLGdNQUFBLENBQUEsV0FBUSxDQUFDLEdBQUcsTUFBTSxDQUFDLGFBQWEsUUFBUSxJQUN4QyxnTUFBQSxDQUFBLFdBQVEsQ0FBQyxNQUFNO0lBQ25CLE9BQU8sVUFBVSxDQUFDLEVBQUU7QUFDeEIiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMjM1MiwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy8lNDBmb3JtYXRqcy9pY3UtbWVzc2FnZWZvcm1hdC1wYXJzZXIvbGliL3BhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2E7XG5pbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgRXJyb3JLaW5kIH0gZnJvbSAnLi9lcnJvcic7XG5pbXBvcnQgeyBTS0VMRVRPTl9UWVBFLCBUWVBFLCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgU1BBQ0VfU0VQQVJBVE9SX1JFR0VYIH0gZnJvbSAnLi9yZWdleC5nZW5lcmF0ZWQnO1xuaW1wb3J0IHsgcGFyc2VOdW1iZXJTa2VsZXRvbiwgcGFyc2VOdW1iZXJTa2VsZXRvbkZyb21TdHJpbmcsIHBhcnNlRGF0ZVRpbWVTa2VsZXRvbiwgfSBmcm9tICdAZm9ybWF0anMvaWN1LXNrZWxldG9uLXBhcnNlcic7XG5pbXBvcnQgeyBnZXRCZXN0UGF0dGVybiB9IGZyb20gJy4vZGF0ZS10aW1lLXBhdHRlcm4tZ2VuZXJhdG9yJztcbnZhciBTUEFDRV9TRVBBUkFUT1JfU1RBUlRfUkVHRVggPSBuZXcgUmVnRXhwKFwiXlwiLmNvbmNhdChTUEFDRV9TRVBBUkFUT1JfUkVHRVguc291cmNlLCBcIipcIikpO1xudmFyIFNQQUNFX1NFUEFSQVRPUl9FTkRfUkVHRVggPSBuZXcgUmVnRXhwKFwiXCIuY29uY2F0KFNQQUNFX1NFUEFSQVRPUl9SRUdFWC5zb3VyY2UsIFwiKiRcIikpO1xuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiB7IHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfTtcbn1cbi8vICNyZWdpb24gUG9ueWZpbGxzXG4vLyBDb25zb2xpZGF0ZSB0aGVzZSB2YXJpYWJsZXMgdXAgdG9wIGZvciBlYXNpZXIgdG9nZ2xpbmcgZHVyaW5nIGRlYnVnZ2luZ1xudmFyIGhhc05hdGl2ZVN0YXJ0c1dpdGggPSAhIVN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCAmJiAnX2EnLnN0YXJ0c1dpdGgoJ2EnLCAxKTtcbnZhciBoYXNOYXRpdmVGcm9tQ29kZVBvaW50ID0gISFTdHJpbmcuZnJvbUNvZGVQb2ludDtcbnZhciBoYXNOYXRpdmVGcm9tRW50cmllcyA9ICEhT2JqZWN0LmZyb21FbnRyaWVzO1xudmFyIGhhc05hdGl2ZUNvZGVQb2ludEF0ID0gISFTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0O1xudmFyIGhhc1RyaW1TdGFydCA9ICEhU3RyaW5nLnByb3RvdHlwZS50cmltU3RhcnQ7XG52YXIgaGFzVHJpbUVuZCA9ICEhU3RyaW5nLnByb3RvdHlwZS50cmltRW5kO1xudmFyIGhhc05hdGl2ZUlzU2FmZUludGVnZXIgPSAhIU51bWJlci5pc1NhZmVJbnRlZ2VyO1xudmFyIGlzU2FmZUludGVnZXIgPSBoYXNOYXRpdmVJc1NhZmVJbnRlZ2VyXG4gICAgPyBOdW1iZXIuaXNTYWZlSW50ZWdlclxuICAgIDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgbiA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIGlzRmluaXRlKG4pICYmXG4gICAgICAgICAgICBNYXRoLmZsb29yKG4pID09PSBuICYmXG4gICAgICAgICAgICBNYXRoLmFicyhuKSA8PSAweDFmZmZmZmZmZmZmZmZmKTtcbiAgICB9O1xuLy8gSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHkgYW5kIHUuXG52YXIgUkVHRVhfU1VQUE9SVFNfVV9BTkRfWSA9IHRydWU7XG50cnkge1xuICAgIHZhciByZSA9IFJFKCcoW15cXFxccHtXaGl0ZV9TcGFjZX1cXFxccHtQYXR0ZXJuX1N5bnRheH1dKiknLCAneXUnKTtcbiAgICAvKipcbiAgICAgKiBsZWdhY3kgRWRnZSBvciBYYm94IE9uZSBicm93c2VyXG4gICAgICogVW5pY29kZSBmbGFnIHN1cHBvcnQ6IHN1cHBvcnRlZFxuICAgICAqIFBhdHRlcm5fU3ludGF4IHN1cHBvcnQ6IG5vdCBzdXBwb3J0ZWRcbiAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Zvcm1hdGpzL2Zvcm1hdGpzL2lzc3Vlcy8yODIyXG4gICAgICovXG4gICAgUkVHRVhfU1VQUE9SVFNfVV9BTkRfWSA9ICgoX2EgPSByZS5leGVjKCdhJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVswXSkgPT09ICdhJztcbn1cbmNhdGNoIChfKSB7XG4gICAgUkVHRVhfU1VQUE9SVFNfVV9BTkRfWSA9IGZhbHNlO1xufVxudmFyIHN0YXJ0c1dpdGggPSBoYXNOYXRpdmVTdGFydHNXaXRoXG4gICAgPyAvLyBOYXRpdmVcbiAgICAgICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzLCBzZWFyY2gsIHBvc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcy5zdGFydHNXaXRoKHNlYXJjaCwgcG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgOiAvLyBGb3IgSUUxMVxuICAgICAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHMsIHNlYXJjaCwgcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBzLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG4gICAgICAgIH07XG52YXIgZnJvbUNvZGVQb2ludCA9IGhhc05hdGl2ZUZyb21Db2RlUG9pbnRcbiAgICA/IFN0cmluZy5mcm9tQ29kZVBvaW50XG4gICAgOiAvLyBJRTExXG4gICAgICAgIGZ1bmN0aW9uIGZyb21Db2RlUG9pbnQoKSB7XG4gICAgICAgICAgICB2YXIgY29kZVBvaW50cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnRzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSAnJztcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHZhciBjb2RlO1xuICAgICAgICAgICAgd2hpbGUgKGxlbmd0aCA+IGkpIHtcbiAgICAgICAgICAgICAgICBjb2RlID0gY29kZVBvaW50c1tpKytdO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID4gMHgxMGZmZmYpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IFJhbmdlRXJyb3IoY29kZSArICcgaXMgbm90IGEgdmFsaWQgY29kZSBwb2ludCcpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzICs9XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgPCAweDEwMDAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nLmZyb21DaGFyQ29kZSgoKGNvZGUgLT0gMHgxMDAwMCkgPj4gMTApICsgMHhkODAwLCAoY29kZSAlIDB4NDAwKSArIDB4ZGMwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgIH07XG52YXIgZnJvbUVudHJpZXMgPSBcbi8vIG5hdGl2ZVxuaGFzTmF0aXZlRnJvbUVudHJpZXNcbiAgICA/IE9iamVjdC5mcm9tRW50cmllc1xuICAgIDogLy8gUG9ueWZpbGxcbiAgICAgICAgZnVuY3Rpb24gZnJvbUVudHJpZXMoZW50cmllcykge1xuICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfaSA8IGVudHJpZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBlbnRyaWVzXzFbX2ldLCBrID0gX2FbMF0sIHYgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICBvYmpba10gPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfTtcbnZhciBjb2RlUG9pbnRBdCA9IGhhc05hdGl2ZUNvZGVQb2ludEF0XG4gICAgPyAvLyBOYXRpdmVcbiAgICAgICAgZnVuY3Rpb24gY29kZVBvaW50QXQocywgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBzLmNvZGVQb2ludEF0KGluZGV4KTtcbiAgICAgICAgfVxuICAgIDogLy8gSUUgMTFcbiAgICAgICAgZnVuY3Rpb24gY29kZVBvaW50QXQocywgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZpcnN0ID0gcy5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgIHZhciBzZWNvbmQ7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3QgPCAweGQ4MDAgfHxcbiAgICAgICAgICAgICAgICBmaXJzdCA+IDB4ZGJmZiB8fFxuICAgICAgICAgICAgICAgIGluZGV4ICsgMSA9PT0gc2l6ZSB8fFxuICAgICAgICAgICAgICAgIChzZWNvbmQgPSBzLmNoYXJDb2RlQXQoaW5kZXggKyAxKSkgPCAweGRjMDAgfHxcbiAgICAgICAgICAgICAgICBzZWNvbmQgPiAweGRmZmZcbiAgICAgICAgICAgICAgICA/IGZpcnN0XG4gICAgICAgICAgICAgICAgOiAoKGZpcnN0IC0gMHhkODAwKSA8PCAxMCkgKyAoc2Vjb25kIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gICAgICAgIH07XG52YXIgdHJpbVN0YXJ0ID0gaGFzVHJpbVN0YXJ0XG4gICAgPyAvLyBOYXRpdmVcbiAgICAgICAgZnVuY3Rpb24gdHJpbVN0YXJ0KHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzLnRyaW1TdGFydCgpO1xuICAgICAgICB9XG4gICAgOiAvLyBQb255ZmlsbFxuICAgICAgICBmdW5jdGlvbiB0cmltU3RhcnQocykge1xuICAgICAgICAgICAgcmV0dXJuIHMucmVwbGFjZShTUEFDRV9TRVBBUkFUT1JfU1RBUlRfUkVHRVgsICcnKTtcbiAgICAgICAgfTtcbnZhciB0cmltRW5kID0gaGFzVHJpbUVuZFxuICAgID8gLy8gTmF0aXZlXG4gICAgICAgIGZ1bmN0aW9uIHRyaW1FbmQocykge1xuICAgICAgICAgICAgcmV0dXJuIHMudHJpbUVuZCgpO1xuICAgICAgICB9XG4gICAgOiAvLyBQb255ZmlsbFxuICAgICAgICBmdW5jdGlvbiB0cmltRW5kKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzLnJlcGxhY2UoU1BBQ0VfU0VQQVJBVE9SX0VORF9SRUdFWCwgJycpO1xuICAgICAgICB9O1xuLy8gUHJldmVudCBtaW5pZmllciB0byB0cmFuc2xhdGUgbmV3IFJlZ0V4cCB0byBsaXRlcmFsIGZvcm0gdGhhdCBtaWdodCBjYXVzZSBzeW50YXggZXJyb3Igb24gSUUxMS5cbmZ1bmN0aW9uIFJFKHMsIGZsYWcpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzLCBmbGFnKTtcbn1cbi8vICNlbmRyZWdpb25cbnZhciBtYXRjaElkZW50aWZpZXJBdEluZGV4O1xuaWYgKFJFR0VYX1NVUFBPUlRTX1VfQU5EX1kpIHtcbiAgICAvLyBOYXRpdmVcbiAgICB2YXIgSURFTlRJRklFUl9QUkVGSVhfUkVfMSA9IFJFKCcoW15cXFxccHtXaGl0ZV9TcGFjZX1cXFxccHtQYXR0ZXJuX1N5bnRheH1dKiknLCAneXUnKTtcbiAgICBtYXRjaElkZW50aWZpZXJBdEluZGV4ID0gZnVuY3Rpb24gbWF0Y2hJZGVudGlmaWVyQXRJbmRleChzLCBpbmRleCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIElERU5USUZJRVJfUFJFRklYX1JFXzEubGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHZhciBtYXRjaCA9IElERU5USUZJRVJfUFJFRklYX1JFXzEuZXhlYyhzKTtcbiAgICAgICAgcmV0dXJuIChfYSA9IG1hdGNoWzFdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJztcbiAgICB9O1xufVxuZWxzZSB7XG4gICAgLy8gSUUxMVxuICAgIG1hdGNoSWRlbnRpZmllckF0SW5kZXggPSBmdW5jdGlvbiBtYXRjaElkZW50aWZpZXJBdEluZGV4KHMsIGluZGV4KSB7XG4gICAgICAgIHZhciBtYXRjaCA9IFtdO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIGMgPSBjb2RlUG9pbnRBdChzLCBpbmRleCk7XG4gICAgICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkIHx8IF9pc1doaXRlU3BhY2UoYykgfHwgX2lzUGF0dGVyblN5bnRheChjKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0Y2gucHVzaChjKTtcbiAgICAgICAgICAgIGluZGV4ICs9IGMgPj0gMHgxMDAwMCA/IDIgOiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgbWF0Y2gpO1xuICAgIH07XG59XG52YXIgUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcnNlcihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB7IG9mZnNldDogMCwgbGluZTogMSwgY29sdW1uOiAxIH07XG4gICAgICAgIHRoaXMuaWdub3JlVGFnID0gISFvcHRpb25zLmlnbm9yZVRhZztcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBvcHRpb25zLmxvY2FsZTtcbiAgICAgICAgdGhpcy5yZXF1aXJlc090aGVyQ2xhdXNlID0gISFvcHRpb25zLnJlcXVpcmVzT3RoZXJDbGF1c2U7XG4gICAgICAgIHRoaXMuc2hvdWxkUGFyc2VTa2VsZXRvbnMgPSAhIW9wdGlvbnMuc2hvdWxkUGFyc2VTa2VsZXRvbnM7XG4gICAgfVxuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9mZnNldCgpICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcigncGFyc2VyIGNhbiBvbmx5IGJlIHVzZWQgb25jZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlTWVzc2FnZSgwLCAnJywgZmFsc2UpO1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZU1lc3NhZ2UgPSBmdW5jdGlvbiAobmVzdGluZ0xldmVsLCBwYXJlbnRBcmdUeXBlLCBleHBlY3RpbmdDbG9zZVRhZykge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLmlzRU9GKCkpIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGhpcy5jaGFyKCk7XG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gMTIzIC8qIGB7YCAqLykge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnBhcnNlQXJndW1lbnQobmVzdGluZ0xldmVsLCBleHBlY3RpbmdDbG9zZVRhZyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChyZXN1bHQudmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09IDEyNSAvKiBgfWAgKi8gJiYgbmVzdGluZ0xldmVsID4gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gMzUgLyogYCNgICovICYmXG4gICAgICAgICAgICAgICAgKHBhcmVudEFyZ1R5cGUgPT09ICdwbHVyYWwnIHx8IHBhcmVudEFyZ1R5cGUgPT09ICdzZWxlY3RvcmRpbmFsJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmNsb25lUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bXAoKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogVFlQRS5wb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uKHBvc2l0aW9uLCB0aGlzLmNsb25lUG9zaXRpb24oKSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGFyID09PSA2MCAvKiBgPGAgKi8gJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pZ25vcmVUYWcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnBlZWsoKSA9PT0gNDcgLy8gY2hhciBjb2RlIGZvciAnLydcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmIChleHBlY3RpbmdDbG9zZVRhZykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yKEVycm9yS2luZC5VTk1BVENIRURfQ0xPU0lOR19UQUcsIGNyZWF0ZUxvY2F0aW9uKHRoaXMuY2xvbmVQb3NpdGlvbigpLCB0aGlzLmNsb25lUG9zaXRpb24oKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09IDYwIC8qIGA8YCAqLyAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmlnbm9yZVRhZyAmJlxuICAgICAgICAgICAgICAgIF9pc0FscGhhKHRoaXMucGVlaygpIHx8IDApKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucGFyc2VUYWcobmVzdGluZ0xldmVsLCBwYXJlbnRBcmdUeXBlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKHJlc3VsdC52YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucGFyc2VMaXRlcmFsKG5lc3RpbmdMZXZlbCwgcGFyZW50QXJnVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChyZXN1bHQudmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWw6IGVsZW1lbnRzLCBlcnI6IG51bGwgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgdGFnIG5hbWUgbXVzdCBzdGFydCB3aXRoIGFuIEFTQ0lJIGxvd2VyL3VwcGVyIGNhc2UgbGV0dGVyLiBUaGUgZ3JhbW1hciBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbY3VzdG9tIGVsZW1lbnQgbmFtZV1bXSBleGNlcHQgdGhhdCBhIGRhc2ggaXMgTk9UIGFsd2F5cyBtYW5kYXRvcnkgYW5kIHVwcGVyY2FzZSBsZXR0ZXJzXG4gICAgICogYXJlIGFjY2VwdGVkOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogdGFnIDo6PSBcIjxcIiB0YWdOYW1lICh3aGl0ZXNwYWNlKSogXCIvPlwiIHwgXCI8XCIgdGFnTmFtZSAod2hpdGVzcGFjZSkqIFwiPlwiIG1lc3NhZ2UgXCI8L1wiIHRhZ05hbWUgKHdoaXRlc3BhY2UpKiBcIj5cIlxuICAgICAqIHRhZ05hbWUgOjo9IFthLXpdIChQRU5DaGFyKSpcbiAgICAgKiBQRU5DaGFyIDo6PVxuICAgICAqICAgICBcIi1cIiB8IFwiLlwiIHwgWzAtOV0gfCBcIl9cIiB8IFthLXpdIHwgW0EtWl0gfCAjeEI3IHwgWyN4QzAtI3hENl0gfCBbI3hEOC0jeEY2XSB8IFsjeEY4LSN4MzdEXSB8XG4gICAgICogICAgIFsjeDM3Ri0jeDFGRkZdIHwgWyN4MjAwQy0jeDIwMERdIHwgWyN4MjAzRi0jeDIwNDBdIHwgWyN4MjA3MC0jeDIxOEZdIHwgWyN4MkMwMC0jeDJGRUZdIHxcbiAgICAgKiAgICAgWyN4MzAwMS0jeEQ3RkZdIHwgWyN4RjkwMC0jeEZEQ0ZdIHwgWyN4RkRGMC0jeEZGRkRdIHwgWyN4MTAwMDAtI3hFRkZGRl1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFtjdXN0b20gZWxlbWVudCBuYW1lXTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvY3VzdG9tLWVsZW1lbnRzLmh0bWwjdmFsaWQtY3VzdG9tLWVsZW1lbnQtbmFtZVxuICAgICAqIE5PVEU6IFdlJ3JlIGEgYml0IG1vcmUgbGF4IGhlcmUgc2luY2UgSFRNTCB0ZWNobmljYWxseSBkb2VzIG5vdCBhbGxvdyB1cHBlcmNhc2UgSFRNTCBlbGVtZW50IGJ1dCB3ZSBkb1xuICAgICAqIHNpbmNlIG90aGVyIHRhZy1iYXNlZCBlbmdpbmVzIGxpa2UgUmVhY3QgYWxsb3cgaXRcbiAgICAgKi9cbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlVGFnID0gZnVuY3Rpb24gKG5lc3RpbmdMZXZlbCwgcGFyZW50QXJnVHlwZSkge1xuICAgICAgICB2YXIgc3RhcnRQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLmJ1bXAoKTsgLy8gYDxgXG4gICAgICAgIHZhciB0YWdOYW1lID0gdGhpcy5wYXJzZVRhZ05hbWUoKTtcbiAgICAgICAgdGhpcy5idW1wU3BhY2UoKTtcbiAgICAgICAgaWYgKHRoaXMuYnVtcElmKCcvPicpKSB7XG4gICAgICAgICAgICAvLyBTZWxmIGNsb3NpbmcgdGFnXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBUWVBFLmxpdGVyYWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIjxcIi5jb25jYXQodGFnTmFtZSwgXCIvPlwiKSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uKHN0YXJ0UG9zaXRpb24sIHRoaXMuY2xvbmVQb3NpdGlvbigpKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycjogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5idW1wSWYoJz4nKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuUmVzdWx0ID0gdGhpcy5wYXJzZU1lc3NhZ2UobmVzdGluZ0xldmVsICsgMSwgcGFyZW50QXJnVHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5SZXN1bHQuZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gY2hpbGRyZW5SZXN1bHQudmFsO1xuICAgICAgICAgICAgLy8gRXhwZWN0aW5nIGEgY2xvc2UgdGFnXG4gICAgICAgICAgICB2YXIgZW5kVGFnU3RhcnRQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVtcElmKCc8LycpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFT0YoKSB8fCAhX2lzQWxwaGEodGhpcy5jaGFyKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yKEVycm9yS2luZC5JTlZBTElEX1RBRywgY3JlYXRlTG9jYXRpb24oZW5kVGFnU3RhcnRQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNsb3NpbmdUYWdOYW1lU3RhcnRQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIHZhciBjbG9zaW5nVGFnTmFtZSA9IHRoaXMucGFyc2VUYWdOYW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhZ05hbWUgIT09IGNsb3NpbmdUYWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yKEVycm9yS2luZC5VTk1BVENIRURfQ0xPU0lOR19UQUcsIGNyZWF0ZUxvY2F0aW9uKGNsb3NpbmdUYWdOYW1lU3RhcnRQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5idW1wU3BhY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYnVtcElmKCc+JykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLklOVkFMSURfVEFHLCBjcmVhdGVMb2NhdGlvbihlbmRUYWdTdGFydFBvc2l0aW9uLCB0aGlzLmNsb25lUG9zaXRpb24oKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFRZUEUudGFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRhZ05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogY3JlYXRlTG9jYXRpb24oc3RhcnRQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnI6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yKEVycm9yS2luZC5VTkNMT1NFRF9UQUcsIGNyZWF0ZUxvY2F0aW9uKHN0YXJ0UG9zaXRpb24sIHRoaXMuY2xvbmVQb3NpdGlvbigpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihFcnJvcktpbmQuSU5WQUxJRF9UQUcsIGNyZWF0ZUxvY2F0aW9uKHN0YXJ0UG9zaXRpb24sIHRoaXMuY2xvbmVQb3NpdGlvbigpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFzc3VtZXMgdGhhdCB0aGUgY2FsbGVyIGhhcyBwZWVrZWQgYWhlYWQgZm9yIHRoZSBmaXJzdCB0YWcgY2hhcmFjdGVyLlxuICAgICAqL1xuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VUYWdOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuICAgICAgICB0aGlzLmJ1bXAoKTsgLy8gdGhlIGZpcnN0IHRhZyBuYW1lIGNoYXJhY3RlclxuICAgICAgICB3aGlsZSAoIXRoaXMuaXNFT0YoKSAmJiBfaXNQb3RlbnRpYWxFbGVtZW50TmFtZUNoYXIodGhpcy5jaGFyKCkpKSB7XG4gICAgICAgICAgICB0aGlzLmJ1bXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlLnNsaWNlKHN0YXJ0T2Zmc2V0LCB0aGlzLm9mZnNldCgpKTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VMaXRlcmFsID0gZnVuY3Rpb24gKG5lc3RpbmdMZXZlbCwgcGFyZW50QXJnVHlwZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsb25lUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHZhbHVlID0gJyc7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VRdW90ZVJlc3VsdCA9IHRoaXMudHJ5UGFyc2VRdW90ZShwYXJlbnRBcmdUeXBlKTtcbiAgICAgICAgICAgIGlmIChwYXJzZVF1b3RlUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gcGFyc2VRdW90ZVJlc3VsdDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJzZVVucXVvdGVkUmVzdWx0ID0gdGhpcy50cnlQYXJzZVVucXVvdGVkKG5lc3RpbmdMZXZlbCwgcGFyZW50QXJnVHlwZSk7XG4gICAgICAgICAgICBpZiAocGFyc2VVbnF1b3RlZFJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IHBhcnNlVW5xdW90ZWRSZXN1bHQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGFyc2VMZWZ0QW5nbGVSZXN1bHQgPSB0aGlzLnRyeVBhcnNlTGVmdEFuZ2xlQnJhY2tldCgpO1xuICAgICAgICAgICAgaWYgKHBhcnNlTGVmdEFuZ2xlUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gcGFyc2VMZWZ0QW5nbGVSZXN1bHQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGFydCwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsOiB7IHR5cGU6IFRZUEUubGl0ZXJhbCwgdmFsdWU6IHZhbHVlLCBsb2NhdGlvbjogbG9jYXRpb24gfSxcbiAgICAgICAgICAgIGVycjogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUudHJ5UGFyc2VMZWZ0QW5nbGVCcmFja2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFT0YoKSAmJlxuICAgICAgICAgICAgdGhpcy5jaGFyKCkgPT09IDYwIC8qIGA8YCAqLyAmJlxuICAgICAgICAgICAgKHRoaXMuaWdub3JlVGFnIHx8XG4gICAgICAgICAgICAgICAgLy8gSWYgYXQgdGhlIG9wZW5pbmcgdGFnIG9yIGNsb3NpbmcgdGFnIHBvc2l0aW9uLCBiYWlsLlxuICAgICAgICAgICAgICAgICFfaXNBbHBoYU9yU2xhc2godGhpcy5wZWVrKCkgfHwgMCkpKSB7XG4gICAgICAgICAgICB0aGlzLmJ1bXAoKTsgLy8gYDxgXG4gICAgICAgICAgICByZXR1cm4gJzwnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnRpbmcgd2l0aCBJQ1UgNC44LCBhbiBBU0NJSSBhcG9zdHJvcGhlIG9ubHkgc3RhcnRzIHF1b3RlZCB0ZXh0IGlmIGl0IGltbWVkaWF0ZWx5IHByZWNlZGVzXG4gICAgICogYSBjaGFyYWN0ZXIgdGhhdCByZXF1aXJlcyBxdW90aW5nICh0aGF0IGlzLCBcIm9ubHkgd2hlcmUgbmVlZGVkXCIpLCBhbmQgd29ya3MgdGhlIHNhbWUgaW5cbiAgICAgKiBuZXN0ZWQgbWVzc2FnZXMgYXMgb24gdGhlIHRvcCBsZXZlbCBvZiB0aGUgcGF0dGVybi4gVGhlIG5ldyBiZWhhdmlvciBpcyBvdGhlcndpc2UgY29tcGF0aWJsZS5cbiAgICAgKi9cbiAgICBQYXJzZXIucHJvdG90eXBlLnRyeVBhcnNlUXVvdGUgPSBmdW5jdGlvbiAocGFyZW50QXJnVHlwZSkge1xuICAgICAgICBpZiAodGhpcy5pc0VPRigpIHx8IHRoaXMuY2hhcigpICE9PSAzOSAvKiBgJ2AgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBhcnNlIGVzY2FwZWQgY2hhciBmb2xsb3dpbmcgdGhlIGFwb3N0cm9waGUsIG9yIGVhcmx5IHJldHVybiBpZiB0aGVyZSBpcyBubyBlc2NhcGVkIGNoYXIuXG4gICAgICAgIC8vIENoZWNrIGlmIGlzIHZhbGlkIGVzY2FwZWQgY2hhcmFjdGVyXG4gICAgICAgIHN3aXRjaCAodGhpcy5wZWVrKCkpIHtcbiAgICAgICAgICAgIGNhc2UgMzkgLyogYCdgICovOlxuICAgICAgICAgICAgICAgIC8vIGRvdWJsZSBxdW90ZSwgc2hvdWxkIHJldHVybiBhcyBhIHNpbmdsZSBxdW90ZS5cbiAgICAgICAgICAgICAgICB0aGlzLmJ1bXAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bXAoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCInXCI7XG4gICAgICAgICAgICAvLyAneycsICc8JywgJz4nLCAnfSdcbiAgICAgICAgICAgIGNhc2UgMTIzOlxuICAgICAgICAgICAgY2FzZSA2MDpcbiAgICAgICAgICAgIGNhc2UgNjI6XG4gICAgICAgICAgICBjYXNlIDEyNTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzU6IC8vICcjJ1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRBcmdUeXBlID09PSAncGx1cmFsJyB8fCBwYXJlbnRBcmdUeXBlID09PSAnc2VsZWN0b3JkaW5hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1bXAoKTsgLy8gYXBvc3Ryb3BoZVxuICAgICAgICB2YXIgY29kZVBvaW50cyA9IFt0aGlzLmNoYXIoKV07IC8vIGVzY2FwZWQgY2hhclxuICAgICAgICB0aGlzLmJ1bXAoKTtcbiAgICAgICAgLy8gcmVhZCBjaGFycyB1bnRpbCB0aGUgb3B0aW9uYWwgY2xvc2luZyBhcG9zdHJvcGhlIGlzIGZvdW5kXG4gICAgICAgIHdoaWxlICghdGhpcy5pc0VPRigpKSB7XG4gICAgICAgICAgICB2YXIgY2ggPSB0aGlzLmNoYXIoKTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gMzkgLyogYCdgICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVlaygpID09PSAzOSAvKiBgJ2AgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50cy5wdXNoKDM5KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVtcCBvbmUgbW9yZSB0aW1lIGJlY2F1c2Ugd2UgbmVlZCB0byBza2lwIDIgY2hhcmFjdGVycy5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idW1wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBPcHRpb25hbCBjbG9zaW5nIGFwb3N0cm9waGUuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVtcCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnRzLnB1c2goY2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5idW1wKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBjb2RlUG9pbnRzKTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUudHJ5UGFyc2VVbnF1b3RlZCA9IGZ1bmN0aW9uIChuZXN0aW5nTGV2ZWwsIHBhcmVudEFyZ1R5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFT0YoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoID0gdGhpcy5jaGFyKCk7XG4gICAgICAgIGlmIChjaCA9PT0gNjAgLyogYDxgICovIHx8XG4gICAgICAgICAgICBjaCA9PT0gMTIzIC8qIGB7YCAqLyB8fFxuICAgICAgICAgICAgKGNoID09PSAzNSAvKiBgI2AgKi8gJiZcbiAgICAgICAgICAgICAgICAocGFyZW50QXJnVHlwZSA9PT0gJ3BsdXJhbCcgfHwgcGFyZW50QXJnVHlwZSA9PT0gJ3NlbGVjdG9yZGluYWwnKSkgfHxcbiAgICAgICAgICAgIChjaCA9PT0gMTI1IC8qIGB9YCAqLyAmJiBuZXN0aW5nTGV2ZWwgPiAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1bXAoKTtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQ29kZVBvaW50KGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUFyZ3VtZW50ID0gZnVuY3Rpb24gKG5lc3RpbmdMZXZlbCwgZXhwZWN0aW5nQ2xvc2VUYWcpIHtcbiAgICAgICAgdmFyIG9wZW5pbmdCcmFjZVBvc2l0aW9uID0gdGhpcy5jbG9uZVBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuYnVtcCgpOyAvLyBge2BcbiAgICAgICAgdGhpcy5idW1wU3BhY2UoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNFT0YoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLkVYUEVDVF9BUkdVTUVOVF9DTE9TSU5HX0JSQUNFLCBjcmVhdGVMb2NhdGlvbihvcGVuaW5nQnJhY2VQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGFyKCkgPT09IDEyNSAvKiBgfWAgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuYnVtcCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLkVNUFRZX0FSR1VNRU5ULCBjcmVhdGVMb2NhdGlvbihvcGVuaW5nQnJhY2VQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcmd1bWVudCBuYW1lXG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucGFyc2VJZGVudGlmaWVySWZQb3NzaWJsZSgpLnZhbHVlO1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihFcnJvcktpbmQuTUFMRk9STUVEX0FSR1VNRU5ULCBjcmVhdGVMb2NhdGlvbihvcGVuaW5nQnJhY2VQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1bXBTcGFjZSgpO1xuICAgICAgICBpZiAodGhpcy5pc0VPRigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihFcnJvcktpbmQuRVhQRUNUX0FSR1VNRU5UX0NMT1NJTkdfQlJBQ0UsIGNyZWF0ZUxvY2F0aW9uKG9wZW5pbmdCcmFjZVBvc2l0aW9uLCB0aGlzLmNsb25lUG9zaXRpb24oKSkpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5jaGFyKCkpIHtcbiAgICAgICAgICAgIC8vIFNpbXBsZSBhcmd1bWVudDogYHtuYW1lfWBcbiAgICAgICAgICAgIGNhc2UgMTI1IC8qIGB9YCAqLzoge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVtcCgpOyAvLyBgfWBcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFRZUEUuYXJndW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2YWx1ZSBkb2VzIG5vdCBpbmNsdWRlIHRoZSBvcGVuaW5nIGFuZCBjbG9zaW5nIGJyYWNlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBjcmVhdGVMb2NhdGlvbihvcGVuaW5nQnJhY2VQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnI6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFyZ3VtZW50IHdpdGggb3B0aW9uczogYHtuYW1lLCBmb3JtYXQsIC4uLn1gXG4gICAgICAgICAgICBjYXNlIDQ0IC8qIGAsYCAqLzoge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVtcCgpOyAvLyBgLGBcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bXBTcGFjZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRU9GKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLkVYUEVDVF9BUkdVTUVOVF9DTE9TSU5HX0JSQUNFLCBjcmVhdGVMb2NhdGlvbihvcGVuaW5nQnJhY2VQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VBcmd1bWVudE9wdGlvbnMobmVzdGluZ0xldmVsLCBleHBlY3RpbmdDbG9zZVRhZywgdmFsdWUsIG9wZW5pbmdCcmFjZVBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLk1BTEZPUk1FRF9BUkdVTUVOVCwgY3JlYXRlTG9jYXRpb24ob3BlbmluZ0JyYWNlUG9zaXRpb24sIHRoaXMuY2xvbmVQb3NpdGlvbigpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkdmFuY2UgdGhlIHBhcnNlciB1bnRpbCB0aGUgZW5kIG9mIHRoZSBpZGVudGlmaWVyLCBpZiBpdCBpcyBjdXJyZW50bHkgb25cbiAgICAgKiBhbiBpZGVudGlmaWVyIGNoYXJhY3Rlci4gUmV0dXJuIGFuIGVtcHR5IHN0cmluZyBvdGhlcndpc2UuXG4gICAgICovXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUlkZW50aWZpZXJJZlBvc3NpYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhcnRpbmdQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICB2YXIgc3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuICAgICAgICB2YXIgdmFsdWUgPSBtYXRjaElkZW50aWZpZXJBdEluZGV4KHRoaXMubWVzc2FnZSwgc3RhcnRPZmZzZXQpO1xuICAgICAgICB2YXIgZW5kT2Zmc2V0ID0gc3RhcnRPZmZzZXQgKyB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMuYnVtcFRvKGVuZE9mZnNldCk7XG4gICAgICAgIHZhciBlbmRQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGFydGluZ1Bvc2l0aW9uLCBlbmRQb3NpdGlvbik7XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgbG9jYXRpb246IGxvY2F0aW9uIH07XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlQXJndW1lbnRPcHRpb25zID0gZnVuY3Rpb24gKG5lc3RpbmdMZXZlbCwgZXhwZWN0aW5nQ2xvc2VUYWcsIHZhbHVlLCBvcGVuaW5nQnJhY2VQb3NpdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFBhcnNlIHRoaXMgcmFuZ2U6XG4gICAgICAgIC8vIHtuYW1lLCB0eXBlLCBzdHlsZX1cbiAgICAgICAgLy8gICAgICAgIF4tLS1eXG4gICAgICAgIHZhciB0eXBlU3RhcnRQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICB2YXIgYXJnVHlwZSA9IHRoaXMucGFyc2VJZGVudGlmaWVySWZQb3NzaWJsZSgpLnZhbHVlO1xuICAgICAgICB2YXIgdHlwZUVuZFBvc2l0aW9uID0gdGhpcy5jbG9uZVBvc2l0aW9uKCk7XG4gICAgICAgIHN3aXRjaCAoYXJnVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnJzpcbiAgICAgICAgICAgICAgICAvLyBFeHBlY3RpbmcgYSBzdHlsZSBzdHJpbmcgbnVtYmVyLCBkYXRlLCB0aW1lLCBwbHVyYWwsIHNlbGVjdG9yZGluYWwsIG9yIHNlbGVjdC5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihFcnJvcktpbmQuRVhQRUNUX0FSR1VNRU5UX1RZUEUsIGNyZWF0ZUxvY2F0aW9uKHR5cGVTdGFydFBvc2l0aW9uLCB0eXBlRW5kUG9zaXRpb24pKTtcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgIGNhc2UgJ3RpbWUnOiB7XG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhpcyByYW5nZTpcbiAgICAgICAgICAgICAgICAvLyB7bmFtZSwgbnVtYmVyLCBzdHlsZX1cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgXi0tLS0tLS1eXG4gICAgICAgICAgICAgICAgdGhpcy5idW1wU3BhY2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVBbmRMb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVtcElmKCcsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idW1wU3BhY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlU3RhcnRQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5wYXJzZVNpbXBsZUFyZ1N0eWxlSWZQb3NzaWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0cmltRW5kKHJlc3VsdC52YWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihFcnJvcktpbmQuRVhQRUNUX0FSR1VNRU5UX1NUWUxFLCBjcmVhdGVMb2NhdGlvbih0aGlzLmNsb25lUG9zaXRpb24oKSwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGVMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHN0eWxlU3RhcnRQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZUFuZExvY2F0aW9uID0geyBzdHlsZTogc3R5bGUsIHN0eWxlTG9jYXRpb246IHN0eWxlTG9jYXRpb24gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGFyZ0Nsb3NlUmVzdWx0ID0gdGhpcy50cnlQYXJzZUFyZ3VtZW50Q2xvc2Uob3BlbmluZ0JyYWNlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChhcmdDbG9zZVJlc3VsdC5lcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ0Nsb3NlUmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25fMSA9IGNyZWF0ZUxvY2F0aW9uKG9wZW5pbmdCcmFjZVBvc2l0aW9uLCB0aGlzLmNsb25lUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBzdHlsZSBvciBza2VsZXRvblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZUFuZExvY2F0aW9uICYmIHN0YXJ0c1dpdGgoc3R5bGVBbmRMb2NhdGlvbiA9PT0gbnVsbCB8fCBzdHlsZUFuZExvY2F0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHlsZUFuZExvY2F0aW9uLnN0eWxlLCAnOjonLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTa2VsZXRvbiBzdGFydHMgd2l0aCBgOjpgLlxuICAgICAgICAgICAgICAgICAgICB2YXIgc2tlbGV0b24gPSB0cmltU3RhcnQoc3R5bGVBbmRMb2NhdGlvbi5zdHlsZS5zbGljZSgyKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdUeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucGFyc2VOdW1iZXJTa2VsZXRvbkZyb21TdHJpbmcoc2tlbGV0b24sIHN0eWxlQW5kTG9jYXRpb24uc3R5bGVMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogeyB0eXBlOiBUWVBFLm51bWJlciwgdmFsdWU6IHZhbHVlLCBsb2NhdGlvbjogbG9jYXRpb25fMSwgc3R5bGU6IHJlc3VsdC52YWwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNrZWxldG9uLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yKEVycm9yS2luZC5FWFBFQ1RfREFURV9USU1FX1NLRUxFVE9OLCBsb2NhdGlvbl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRlVGltZVBhdHRlcm4gPSBza2VsZXRvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBcImJlc3QgbWF0Y2hcIiBwYXR0ZXJuIG9ubHkgaWYgbG9jYWxlIGlzIHBhc3NlZCwgaWYgbm90LCBsZXQgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgYXMtaXMgd2hlcmUgYHBhcnNlRGF0ZVRpbWVTa2VsZXRvbigpYCB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgdW5zdXBwb3J0ZWQgcGF0dGVybnMuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVGltZVBhdHRlcm4gPSBnZXRCZXN0UGF0dGVybihza2VsZXRvbiwgdGhpcy5sb2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNLRUxFVE9OX1RZUEUuZGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogZGF0ZVRpbWVQYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBzdHlsZUFuZExvY2F0aW9uLnN0eWxlTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkT3B0aW9uczogdGhpcy5zaG91bGRQYXJzZVNrZWxldG9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlRGF0ZVRpbWVTa2VsZXRvbihkYXRlVGltZVBhdHRlcm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBhcmdUeXBlID09PSAnZGF0ZScgPyBUWVBFLmRhdGUgOiBUWVBFLnRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogeyB0eXBlOiB0eXBlLCB2YWx1ZTogdmFsdWUsIGxvY2F0aW9uOiBsb2NhdGlvbl8xLCBzdHlsZTogc3R5bGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlZ3VsYXIgc3R5bGUgb3Igbm8gc3R5bGUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBhcmdUeXBlID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gVFlQRS5udW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGFyZ1R5cGUgPT09ICdkYXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFRZUEUuZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFRZUEUudGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IChfYSA9IHN0eWxlQW5kTG9jYXRpb24gPT09IG51bGwgfHwgc3R5bGVBbmRMb2NhdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGVBbmRMb2NhdGlvbi5zdHlsZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdwbHVyYWwnOlxuICAgICAgICAgICAgY2FzZSAnc2VsZWN0b3JkaW5hbCc6XG4gICAgICAgICAgICBjYXNlICdzZWxlY3QnOiB7XG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhpcyByYW5nZTpcbiAgICAgICAgICAgICAgICAvLyB7bmFtZSwgcGx1cmFsLCBvcHRpb25zfVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICBeLS0tLS0tLS0tXlxuICAgICAgICAgICAgICAgIHZhciB0eXBlRW5kUG9zaXRpb25fMSA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVtcFNwYWNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJ1bXBJZignLCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yKEVycm9yS2luZC5FWFBFQ1RfU0VMRUNUX0FSR1VNRU5UX09QVElPTlMsIGNyZWF0ZUxvY2F0aW9uKHR5cGVFbmRQb3NpdGlvbl8xLCBfX2Fzc2lnbih7fSwgdHlwZUVuZFBvc2l0aW9uXzEpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYnVtcFNwYWNlKCk7XG4gICAgICAgICAgICAgICAgLy8gUGFyc2Ugb2Zmc2V0OlxuICAgICAgICAgICAgICAgIC8vIHtuYW1lLCBwbHVyYWwsIG9mZnNldDoxLCBvcHRpb25zfVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIF4tLS0tLV5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIG9yIHRoZSBmaXJzdCBvcHRpb246XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyB7bmFtZSwgcGx1cmFsLCBvbmUgey4uLn0gb3RoZXIgey4uLn19XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgXi0tXlxuICAgICAgICAgICAgICAgIHZhciBpZGVudGlmaWVyQW5kTG9jYXRpb24gPSB0aGlzLnBhcnNlSWRlbnRpZmllcklmUG9zc2libGUoKTtcbiAgICAgICAgICAgICAgICB2YXIgcGx1cmFsT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoYXJnVHlwZSAhPT0gJ3NlbGVjdCcgJiYgaWRlbnRpZmllckFuZExvY2F0aW9uLnZhbHVlID09PSAnb2Zmc2V0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYnVtcElmKCc6JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yKEVycm9yS2luZC5FWFBFQ1RfUExVUkFMX0FSR1VNRU5UX09GRlNFVF9WQUxVRSwgY3JlYXRlTG9jYXRpb24odGhpcy5jbG9uZVBvc2l0aW9uKCksIHRoaXMuY2xvbmVQb3NpdGlvbigpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idW1wU3BhY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMudHJ5UGFyc2VEZWNpbWFsSW50ZWdlcihFcnJvcktpbmQuRVhQRUNUX1BMVVJBTF9BUkdVTUVOVF9PRkZTRVRfVkFMVUUsIEVycm9yS2luZC5JTlZBTElEX1BMVVJBTF9BUkdVTUVOVF9PRkZTRVRfVkFMVUUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSBhbm90aGVyIGlkZW50aWZpZXIgZm9yIG9wdGlvbiBwYXJzaW5nXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVtcFNwYWNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXJBbmRMb2NhdGlvbiA9IHRoaXMucGFyc2VJZGVudGlmaWVySWZQb3NzaWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbHVyYWxPZmZzZXQgPSByZXN1bHQudmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uc1Jlc3VsdCA9IHRoaXMudHJ5UGFyc2VQbHVyYWxPclNlbGVjdE9wdGlvbnMobmVzdGluZ0xldmVsLCBhcmdUeXBlLCBleHBlY3RpbmdDbG9zZVRhZywgaWRlbnRpZmllckFuZExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1Jlc3VsdC5lcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnNSZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhcmdDbG9zZVJlc3VsdCA9IHRoaXMudHJ5UGFyc2VBcmd1bWVudENsb3NlKG9wZW5pbmdCcmFjZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnQ2xvc2VSZXN1bHQuZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmdDbG9zZVJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uXzIgPSBjcmVhdGVMb2NhdGlvbihvcGVuaW5nQnJhY2VQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgICAgIGlmIChhcmdUeXBlID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVFlQRS5zZWxlY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGZyb21FbnRyaWVzKG9wdGlvbnNSZXN1bHQudmFsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVFlQRS5wbHVyYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGZyb21FbnRyaWVzKG9wdGlvbnNSZXN1bHQudmFsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHBsdXJhbE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVyYWxUeXBlOiBhcmdUeXBlID09PSAncGx1cmFsJyA/ICdjYXJkaW5hbCcgOiAnb3JkaW5hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLklOVkFMSURfQVJHVU1FTlRfVFlQRSwgY3JlYXRlTG9jYXRpb24odHlwZVN0YXJ0UG9zaXRpb24sIHR5cGVFbmRQb3NpdGlvbikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLnRyeVBhcnNlQXJndW1lbnRDbG9zZSA9IGZ1bmN0aW9uIChvcGVuaW5nQnJhY2VQb3NpdGlvbikge1xuICAgICAgICAvLyBQYXJzZToge3ZhbHVlLCBudW1iZXIsIDo6Y3VycmVuY3kvR0JQIH1cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKHRoaXMuaXNFT0YoKSB8fCB0aGlzLmNoYXIoKSAhPT0gMTI1IC8qIGB9YCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLkVYUEVDVF9BUkdVTUVOVF9DTE9TSU5HX0JSQUNFLCBjcmVhdGVMb2NhdGlvbihvcGVuaW5nQnJhY2VQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1bXAoKTsgLy8gYH1gXG4gICAgICAgIHJldHVybiB7IHZhbDogdHJ1ZSwgZXJyOiBudWxsIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS91bmljb2RlLW9yZy9pY3UvYmxvYi9hZjdlZDFmNmQyMjk4MDEzZGMzMDM2Mjg0MzhlYzRhYmUxZjE2NDc5L2ljdTRjL3NvdXJjZS9jb21tb24vbWVzc2FnZXBhdHRlcm4uY3BwI0w2NTlcbiAgICAgKi9cbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlU2ltcGxlQXJnU3R5bGVJZlBvc3NpYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmVzdGVkQnJhY2VzID0gMDtcbiAgICAgICAgdmFyIHN0YXJ0UG9zaXRpb24gPSB0aGlzLmNsb25lUG9zaXRpb24oKTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLmlzRU9GKCkpIHtcbiAgICAgICAgICAgIHZhciBjaCA9IHRoaXMuY2hhcigpO1xuICAgICAgICAgICAgc3dpdGNoIChjaCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMzkgLyogYCdgICovOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyZWF0IGFwb3N0cm9waGUgYXMgcXVvdGluZyBidXQgaW5jbHVkZSBpdCBpbiB0aGUgc3R5bGUgcGFydC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgZW5kIG9mIHRoZSBxdW90ZWQgbGl0ZXJhbCB0ZXh0LlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1bXAoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwb3N0cm9waGVQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYnVtcFVudGlsKFwiJ1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLlVOQ0xPU0VEX1FVT1RFX0lOX0FSR1VNRU5UX1NUWUxFLCBjcmVhdGVMb2NhdGlvbihhcG9zdHJvcGhlUG9zaXRpb24sIHRoaXMuY2xvbmVQb3NpdGlvbigpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idW1wKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDEyMyAvKiBge2AgKi86IHtcbiAgICAgICAgICAgICAgICAgICAgbmVzdGVkQnJhY2VzICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVtcCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAxMjUgLyogYH1gICovOiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXN0ZWRCcmFjZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXN0ZWRCcmFjZXMgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB0aGlzLm1lc3NhZ2Uuc2xpY2Uoc3RhcnRQb3NpdGlvbi5vZmZzZXQsIHRoaXMub2Zmc2V0KCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVtcCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsOiB0aGlzLm1lc3NhZ2Uuc2xpY2Uoc3RhcnRQb3NpdGlvbi5vZmZzZXQsIHRoaXMub2Zmc2V0KCkpLFxuICAgICAgICAgICAgZXJyOiBudWxsLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZU51bWJlclNrZWxldG9uRnJvbVN0cmluZyA9IGZ1bmN0aW9uIChza2VsZXRvbiwgbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdG9rZW5zID0gcGFyc2VOdW1iZXJTa2VsZXRvbkZyb21TdHJpbmcoc2tlbGV0b24pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihFcnJvcktpbmQuSU5WQUxJRF9OVU1CRVJfU0tFTEVUT04sIGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU0tFTEVUT05fVFlQRS5udW1iZXIsXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0b2tlbnMsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHBhcnNlZE9wdGlvbnM6IHRoaXMuc2hvdWxkUGFyc2VTa2VsZXRvbnNcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJzZU51bWJlclNrZWxldG9uKHRva2VucylcbiAgICAgICAgICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnI6IG51bGwsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmVzdGluZ19sZXZlbCBUaGUgY3VycmVudCBuZXN0aW5nIGxldmVsIG9mIG1lc3NhZ2VzLlxuICAgICAqICAgICBUaGlzIGNhbiBiZSBwb3NpdGl2ZSB3aGVuIHBhcnNpbmcgbWVzc2FnZSBmcmFnbWVudCBpbiBzZWxlY3Qgb3IgcGx1cmFsIGFyZ3VtZW50IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHBhcmVudF9hcmdfdHlwZSBUaGUgcGFyZW50IGFyZ3VtZW50J3MgdHlwZS5cbiAgICAgKiBAcGFyYW0gcGFyc2VkX2ZpcnN0X2lkZW50aWZpZXIgSWYgcHJvdmlkZWQsIHRoaXMgaXMgdGhlIGZpcnN0IGlkZW50aWZpZXItbGlrZSBzZWxlY3RvciBvZlxuICAgICAqICAgICB0aGUgYXJndW1lbnQuIEl0IGlzIGEgYnktcHJvZHVjdCBvZiBhIHByZXZpb3VzIHBhcnNpbmcgYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gZXhwZWN0aW5nX2Nsb3NlX3RhZyBJZiB0cnVlLCB0aGlzIG1lc3NhZ2UgaXMgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBuZXN0ZWQgaW5zaWRlXG4gICAgICogICAgIGJldHdlZW4gYSBwYWlyIG9mIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFncy4gVGhlIG5lc3RlZCBtZXNzYWdlIHdpbGwgbm90IHBhcnNlIGJleW9uZFxuICAgICAqICAgICB0aGUgY2xvc2luZyB0YWcgYm91bmRhcnkuXG4gICAgICovXG4gICAgUGFyc2VyLnByb3RvdHlwZS50cnlQYXJzZVBsdXJhbE9yU2VsZWN0T3B0aW9ucyA9IGZ1bmN0aW9uIChuZXN0aW5nTGV2ZWwsIHBhcmVudEFyZ1R5cGUsIGV4cGVjdENsb3NlVGFnLCBwYXJzZWRGaXJzdElkZW50aWZpZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgaGFzT3RoZXJDbGF1c2UgPSBmYWxzZTtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBbXTtcbiAgICAgICAgdmFyIHBhcnNlZFNlbGVjdG9ycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gcGFyc2VkRmlyc3RJZGVudGlmaWVyLnZhbHVlLCBzZWxlY3RvckxvY2F0aW9uID0gcGFyc2VkRmlyc3RJZGVudGlmaWVyLmxvY2F0aW9uO1xuICAgICAgICAvLyBQYXJzZTpcbiAgICAgICAgLy8gb25lIHtvbmUgYXBwbGV9XG4gICAgICAgIC8vIF4tLV5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRBcmdUeXBlICE9PSAnc2VsZWN0JyAmJiB0aGlzLmJ1bXBJZignPScpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSBwYXJzZSBgPXtudW1iZXJ9YCBzZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy50cnlQYXJzZURlY2ltYWxJbnRlZ2VyKEVycm9yS2luZC5FWFBFQ1RfUExVUkFMX0FSR1VNRU5UX1NFTEVDVE9SLCBFcnJvcktpbmQuSU5WQUxJRF9QTFVSQUxfQVJHVU1FTlRfU0VMRUNUT1IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvckxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oc3RhcnRQb3NpdGlvbiwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHRoaXMubWVzc2FnZS5zbGljZShzdGFydFBvc2l0aW9uLm9mZnNldCwgdGhpcy5vZmZzZXQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEdXBsaWNhdGUgc2VsZWN0b3IgY2xhdXNlc1xuICAgICAgICAgICAgaWYgKHBhcnNlZFNlbGVjdG9ycy5oYXMoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IocGFyZW50QXJnVHlwZSA9PT0gJ3NlbGVjdCdcbiAgICAgICAgICAgICAgICAgICAgPyBFcnJvcktpbmQuRFVQTElDQVRFX1NFTEVDVF9BUkdVTUVOVF9TRUxFQ1RPUlxuICAgICAgICAgICAgICAgICAgICA6IEVycm9yS2luZC5EVVBMSUNBVEVfUExVUkFMX0FSR1VNRU5UX1NFTEVDVE9SLCBzZWxlY3RvckxvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gJ290aGVyJykge1xuICAgICAgICAgICAgICAgIGhhc090aGVyQ2xhdXNlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBhcnNlOlxuICAgICAgICAgICAgLy8gb25lIHtvbmUgYXBwbGV9XG4gICAgICAgICAgICAvLyAgICAgXi0tLS0tLS0tLS1eXG4gICAgICAgICAgICB0aGlzLmJ1bXBTcGFjZSgpO1xuICAgICAgICAgICAgdmFyIG9wZW5pbmdCcmFjZVBvc2l0aW9uID0gdGhpcy5jbG9uZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYnVtcElmKCd7JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihwYXJlbnRBcmdUeXBlID09PSAnc2VsZWN0J1xuICAgICAgICAgICAgICAgICAgICA/IEVycm9yS2luZC5FWFBFQ1RfU0VMRUNUX0FSR1VNRU5UX1NFTEVDVE9SX0ZSQUdNRU5UXG4gICAgICAgICAgICAgICAgICAgIDogRXJyb3JLaW5kLkVYUEVDVF9QTFVSQUxfQVJHVU1FTlRfU0VMRUNUT1JfRlJBR01FTlQsIGNyZWF0ZUxvY2F0aW9uKHRoaXMuY2xvbmVQb3NpdGlvbigpLCB0aGlzLmNsb25lUG9zaXRpb24oKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZyYWdtZW50UmVzdWx0ID0gdGhpcy5wYXJzZU1lc3NhZ2UobmVzdGluZ0xldmVsICsgMSwgcGFyZW50QXJnVHlwZSwgZXhwZWN0Q2xvc2VUYWcpO1xuICAgICAgICAgICAgaWYgKGZyYWdtZW50UmVzdWx0LmVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmcmFnbWVudFJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhcmdDbG9zZVJlc3VsdCA9IHRoaXMudHJ5UGFyc2VBcmd1bWVudENsb3NlKG9wZW5pbmdCcmFjZVBvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmIChhcmdDbG9zZVJlc3VsdC5lcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnQ2xvc2VSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZyYWdtZW50UmVzdWx0LnZhbCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uKG9wZW5pbmdCcmFjZVBvc2l0aW9uLCB0aGlzLmNsb25lUG9zaXRpb24oKSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgZXhpc3Rpbmcgc2VsZWN0b3JzXG4gICAgICAgICAgICBwYXJzZWRTZWxlY3RvcnMuYWRkKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIC8vIFByZXAgbmV4dCBzZWxlY3RvciBjbGF1c2UuXG4gICAgICAgICAgICB0aGlzLmJ1bXBTcGFjZSgpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5wYXJzZUlkZW50aWZpZXJJZlBvc3NpYmxlKCksIHNlbGVjdG9yID0gX2EudmFsdWUsIHNlbGVjdG9yTG9jYXRpb24gPSBfYS5sb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihwYXJlbnRBcmdUeXBlID09PSAnc2VsZWN0J1xuICAgICAgICAgICAgICAgID8gRXJyb3JLaW5kLkVYUEVDVF9TRUxFQ1RfQVJHVU1FTlRfU0VMRUNUT1JcbiAgICAgICAgICAgICAgICA6IEVycm9yS2luZC5FWFBFQ1RfUExVUkFMX0FSR1VNRU5UX1NFTEVDVE9SLCBjcmVhdGVMb2NhdGlvbih0aGlzLmNsb25lUG9zaXRpb24oKSwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlc090aGVyQ2xhdXNlICYmICFoYXNPdGhlckNsYXVzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoRXJyb3JLaW5kLk1JU1NJTkdfT1RIRVJfQ0xBVVNFLCBjcmVhdGVMb2NhdGlvbih0aGlzLmNsb25lUG9zaXRpb24oKSwgdGhpcy5jbG9uZVBvc2l0aW9uKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWw6IG9wdGlvbnMsIGVycjogbnVsbCB9O1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS50cnlQYXJzZURlY2ltYWxJbnRlZ2VyID0gZnVuY3Rpb24gKGV4cGVjdE51bWJlckVycm9yLCBpbnZhbGlkTnVtYmVyRXJyb3IpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAxO1xuICAgICAgICB2YXIgc3RhcnRpbmdQb3NpdGlvbiA9IHRoaXMuY2xvbmVQb3NpdGlvbigpO1xuICAgICAgICBpZiAodGhpcy5idW1wSWYoJysnKSkge1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYnVtcElmKCctJykpIHtcbiAgICAgICAgICAgIHNpZ24gPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzRGlnaXRzID0gZmFsc2U7XG4gICAgICAgIHZhciBkZWNpbWFsID0gMDtcbiAgICAgICAgd2hpbGUgKCF0aGlzLmlzRU9GKCkpIHtcbiAgICAgICAgICAgIHZhciBjaCA9IHRoaXMuY2hhcigpO1xuICAgICAgICAgICAgaWYgKGNoID49IDQ4IC8qIGAwYCAqLyAmJiBjaCA8PSA1NyAvKiBgOWAgKi8pIHtcbiAgICAgICAgICAgICAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRlY2ltYWwgPSBkZWNpbWFsICogMTAgKyAoY2ggLSA0OCk7XG4gICAgICAgICAgICAgICAgdGhpcy5idW1wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGFydGluZ1Bvc2l0aW9uLCB0aGlzLmNsb25lUG9zaXRpb24oKSk7XG4gICAgICAgIGlmICghaGFzRGlnaXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihleHBlY3ROdW1iZXJFcnJvciwgbG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGRlY2ltYWwgKj0gc2lnbjtcbiAgICAgICAgaWYgKCFpc1NhZmVJbnRlZ2VyKGRlY2ltYWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihpbnZhbGlkTnVtYmVyRXJyb3IsIGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWw6IGRlY2ltYWwsIGVycjogbnVsbCB9O1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLm9mZnNldDtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUuaXNFT0YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldCgpID09PSB0aGlzLm1lc3NhZ2UubGVuZ3RoO1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5jbG9uZVBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUaGlzIGlzIG11Y2ggZmFzdGVyIHRoYW4gYE9iamVjdC5hc3NpZ25gIG9yIHNwcmVhZC5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9mZnNldDogdGhpcy5wb3NpdGlvbi5vZmZzZXQsXG4gICAgICAgICAgICBsaW5lOiB0aGlzLnBvc2l0aW9uLmxpbmUsXG4gICAgICAgICAgICBjb2x1bW46IHRoaXMucG9zaXRpb24uY29sdW1uLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb2RlIHBvaW50IGF0IHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBwYXJzZXIuXG4gICAgICogVGhyb3dzIGlmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmQuXG4gICAgICovXG4gICAgUGFyc2VyLnByb3RvdHlwZS5jaGFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5wb3NpdGlvbi5vZmZzZXQ7XG4gICAgICAgIGlmIChvZmZzZXQgPj0gdGhpcy5tZXNzYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ291dCBvZiBib3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2RlID0gY29kZVBvaW50QXQodGhpcy5tZXNzYWdlLCBvZmZzZXQpO1xuICAgICAgICBpZiAoY29kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIk9mZnNldCBcIi5jb25jYXQob2Zmc2V0LCBcIiBpcyBhdCBpbnZhbGlkIFVURi0xNiBjb2RlIHVuaXQgYm91bmRhcnlcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChraW5kLCBsb2NhdGlvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsOiBudWxsLFxuICAgICAgICAgICAgZXJyOiB7XG4gICAgICAgICAgICAgICAga2luZDoga2luZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKiBCdW1wIHRoZSBwYXJzZXIgdG8gdGhlIG5leHQgVVRGLTE2IGNvZGUgdW5pdC4gKi9cbiAgICBQYXJzZXIucHJvdG90eXBlLmJ1bXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRU9GKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29kZSA9IHRoaXMuY2hhcigpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMTAgLyogJ1xcbicgKi8pIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ubGluZSArPSAxO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5jb2x1bW4gPSAxO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5vZmZzZXQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24uY29sdW1uICs9IDE7XG4gICAgICAgICAgICAvLyAwIH4gMHgxMDAwMCAtPiB1bmljb2RlIEJNUCwgb3RoZXJ3aXNlIHNraXAgdGhlIHN1cnJvZ2F0ZSBwYWlyLlxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5vZmZzZXQgKz0gY29kZSA8IDB4MTAwMDAgPyAxIDogMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHN1YnN0cmluZyBzdGFydGluZyBhdCB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgcGFyc2VyIGhhc1xuICAgICAqIHRoZSBnaXZlbiBwcmVmaXgsIHRoZW4gYnVtcCB0aGUgcGFyc2VyIHRvIHRoZSBjaGFyYWN0ZXIgaW1tZWRpYXRlbHlcbiAgICAgKiBmb2xsb3dpbmcgdGhlIHByZWZpeCBhbmQgcmV0dXJuIHRydWUuIE90aGVyd2lzZSwgZG9uJ3QgYnVtcCB0aGUgcGFyc2VyXG4gICAgICogYW5kIHJldHVybiBmYWxzZS5cbiAgICAgKi9cbiAgICBQYXJzZXIucHJvdG90eXBlLmJ1bXBJZiA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAgICAgaWYgKHN0YXJ0c1dpdGgodGhpcy5tZXNzYWdlLCBwcmVmaXgsIHRoaXMub2Zmc2V0KCkpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVtcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVtcCB0aGUgcGFyc2VyIHVudGlsIHRoZSBwYXR0ZXJuIGNoYXJhY3RlciBpcyBmb3VuZCBhbmQgcmV0dXJuIGB0cnVlYC5cbiAgICAgKiBPdGhlcndpc2UgYnVtcCB0byB0aGUgZW5kIG9mIHRoZSBmaWxlIGFuZCByZXR1cm4gYGZhbHNlYC5cbiAgICAgKi9cbiAgICBQYXJzZXIucHJvdG90eXBlLmJ1bXBVbnRpbCA9IGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgIHZhciBjdXJyZW50T2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5tZXNzYWdlLmluZGV4T2YocGF0dGVybiwgY3VycmVudE9mZnNldCk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmJ1bXBUbyhpbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVtcFRvKHRoaXMubWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCdW1wIHRoZSBwYXJzZXIgdG8gdGhlIHRhcmdldCBvZmZzZXQuXG4gICAgICogSWYgdGFyZ2V0IG9mZnNldCBpcyBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgaW5wdXQsIGJ1bXAgdGhlIHBhcnNlciB0byB0aGUgZW5kIG9mIHRoZSBpbnB1dC5cbiAgICAgKi9cbiAgICBQYXJzZXIucHJvdG90eXBlLmJ1bXBUbyA9IGZ1bmN0aW9uICh0YXJnZXRPZmZzZXQpIHtcbiAgICAgICAgaWYgKHRoaXMub2Zmc2V0KCkgPiB0YXJnZXRPZmZzZXQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwidGFyZ2V0T2Zmc2V0IFwiLmNvbmNhdCh0YXJnZXRPZmZzZXQsIFwiIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBjdXJyZW50IG9mZnNldCBcIikuY29uY2F0KHRoaXMub2Zmc2V0KCkpKTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRPZmZzZXQgPSBNYXRoLm1pbih0YXJnZXRPZmZzZXQsIHRoaXMubWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID09PSB0YXJnZXRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvZmZzZXQgPiB0YXJnZXRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcInRhcmdldE9mZnNldCBcIi5jb25jYXQodGFyZ2V0T2Zmc2V0LCBcIiBpcyBhdCBpbnZhbGlkIFVURi0xNiBjb2RlIHVuaXQgYm91bmRhcnlcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5idW1wKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0VPRigpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBhZHZhbmNlIHRoZSBwYXJzZXIgdGhyb3VnaCBhbGwgd2hpdGVzcGFjZSB0byB0aGUgbmV4dCBub24td2hpdGVzcGFjZSBjb2RlIHVuaXQuICovXG4gICAgUGFyc2VyLnByb3RvdHlwZS5idW1wU3BhY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdoaWxlICghdGhpcy5pc0VPRigpICYmIF9pc1doaXRlU3BhY2UodGhpcy5jaGFyKCkpKSB7XG4gICAgICAgICAgICB0aGlzLmJ1bXAoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVlayBhdCB0aGUgKm5leHQqIFVuaWNvZGUgY29kZXBvaW50IGluIHRoZSBpbnB1dCB3aXRob3V0IGFkdmFuY2luZyB0aGUgcGFyc2VyLlxuICAgICAqIElmIHRoZSBpbnB1dCBoYXMgYmVlbiBleGhhdXN0ZWQsIHRoZW4gdGhpcyByZXR1cm5zIG51bGwuXG4gICAgICovXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VPRigpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29kZSA9IHRoaXMuY2hhcigpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcbiAgICAgICAgdmFyIG5leHRDb2RlID0gdGhpcy5tZXNzYWdlLmNoYXJDb2RlQXQob2Zmc2V0ICsgKGNvZGUgPj0gMHgxMDAwMCA/IDIgOiAxKSk7XG4gICAgICAgIHJldHVybiBuZXh0Q29kZSAhPT0gbnVsbCAmJiBuZXh0Q29kZSAhPT0gdm9pZCAwID8gbmV4dENvZGUgOiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcnNlcjtcbn0oKSk7XG5leHBvcnQgeyBQYXJzZXIgfTtcbi8qKlxuICogVGhpcyBjaGVjayBpZiBjb2RlcG9pbnQgaXMgYWxwaGFiZXQgKGxvd2VyICYgdXBwZXJjYXNlKVxuICogQHBhcmFtIGNvZGVwb2ludFxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gX2lzQWxwaGEoY29kZXBvaW50KSB7XG4gICAgcmV0dXJuICgoY29kZXBvaW50ID49IDk3ICYmIGNvZGVwb2ludCA8PSAxMjIpIHx8XG4gICAgICAgIChjb2RlcG9pbnQgPj0gNjUgJiYgY29kZXBvaW50IDw9IDkwKSk7XG59XG5mdW5jdGlvbiBfaXNBbHBoYU9yU2xhc2goY29kZXBvaW50KSB7XG4gICAgcmV0dXJuIF9pc0FscGhhKGNvZGVwb2ludCkgfHwgY29kZXBvaW50ID09PSA0NzsgLyogJy8nICovXG59XG4vKiogU2VlIGBwYXJzZVRhZ2AgZnVuY3Rpb24gZG9jcy4gKi9cbmZ1bmN0aW9uIF9pc1BvdGVudGlhbEVsZW1lbnROYW1lQ2hhcihjKSB7XG4gICAgcmV0dXJuIChjID09PSA0NSAvKiAnLScgKi8gfHxcbiAgICAgICAgYyA9PT0gNDYgLyogJy4nICovIHx8XG4gICAgICAgIChjID49IDQ4ICYmIGMgPD0gNTcpIC8qIDAuLjkgKi8gfHxcbiAgICAgICAgYyA9PT0gOTUgLyogJ18nICovIHx8XG4gICAgICAgIChjID49IDk3ICYmIGMgPD0gMTIyKSAvKiogYS4ueiAqLyB8fFxuICAgICAgICAoYyA+PSA2NSAmJiBjIDw9IDkwKSAvKiBBLi5aICovIHx8XG4gICAgICAgIGMgPT0gMHhiNyB8fFxuICAgICAgICAoYyA+PSAweGMwICYmIGMgPD0gMHhkNikgfHxcbiAgICAgICAgKGMgPj0gMHhkOCAmJiBjIDw9IDB4ZjYpIHx8XG4gICAgICAgIChjID49IDB4ZjggJiYgYyA8PSAweDM3ZCkgfHxcbiAgICAgICAgKGMgPj0gMHgzN2YgJiYgYyA8PSAweDFmZmYpIHx8XG4gICAgICAgIChjID49IDB4MjAwYyAmJiBjIDw9IDB4MjAwZCkgfHxcbiAgICAgICAgKGMgPj0gMHgyMDNmICYmIGMgPD0gMHgyMDQwKSB8fFxuICAgICAgICAoYyA+PSAweDIwNzAgJiYgYyA8PSAweDIxOGYpIHx8XG4gICAgICAgIChjID49IDB4MmMwMCAmJiBjIDw9IDB4MmZlZikgfHxcbiAgICAgICAgKGMgPj0gMHgzMDAxICYmIGMgPD0gMHhkN2ZmKSB8fFxuICAgICAgICAoYyA+PSAweGY5MDAgJiYgYyA8PSAweGZkY2YpIHx8XG4gICAgICAgIChjID49IDB4ZmRmMCAmJiBjIDw9IDB4ZmZmZCkgfHxcbiAgICAgICAgKGMgPj0gMHgxMDAwMCAmJiBjIDw9IDB4ZWZmZmYpKTtcbn1cbi8qKlxuICogQ29kZSBwb2ludCBlcXVpdmFsZW50IG9mIHJlZ2V4IGBcXHB7V2hpdGVfU3BhY2V9YC5cbiAqIEZyb206IGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9Qcm9wTGlzdC50eHRcbiAqL1xuZnVuY3Rpb24gX2lzV2hpdGVTcGFjZShjKSB7XG4gICAgcmV0dXJuICgoYyA+PSAweDAwMDkgJiYgYyA8PSAweDAwMGQpIHx8XG4gICAgICAgIGMgPT09IDB4MDAyMCB8fFxuICAgICAgICBjID09PSAweDAwODUgfHxcbiAgICAgICAgKGMgPj0gMHgyMDBlICYmIGMgPD0gMHgyMDBmKSB8fFxuICAgICAgICBjID09PSAweDIwMjggfHxcbiAgICAgICAgYyA9PT0gMHgyMDI5KTtcbn1cbi8qKlxuICogQ29kZSBwb2ludCBlcXVpdmFsZW50IG9mIHJlZ2V4IGBcXHB7UGF0dGVybl9TeW50YXh9YC5cbiAqIFNlZSBodHRwczovL3d3dy51bmljb2RlLm9yZy9QdWJsaWMvVUNEL2xhdGVzdC91Y2QvUHJvcExpc3QudHh0XG4gKi9cbmZ1bmN0aW9uIF9pc1BhdHRlcm5TeW50YXgoYykge1xuICAgIHJldHVybiAoKGMgPj0gMHgwMDIxICYmIGMgPD0gMHgwMDIzKSB8fFxuICAgICAgICBjID09PSAweDAwMjQgfHxcbiAgICAgICAgKGMgPj0gMHgwMDI1ICYmIGMgPD0gMHgwMDI3KSB8fFxuICAgICAgICBjID09PSAweDAwMjggfHxcbiAgICAgICAgYyA9PT0gMHgwMDI5IHx8XG4gICAgICAgIGMgPT09IDB4MDAyYSB8fFxuICAgICAgICBjID09PSAweDAwMmIgfHxcbiAgICAgICAgYyA9PT0gMHgwMDJjIHx8XG4gICAgICAgIGMgPT09IDB4MDAyZCB8fFxuICAgICAgICAoYyA+PSAweDAwMmUgJiYgYyA8PSAweDAwMmYpIHx8XG4gICAgICAgIChjID49IDB4MDAzYSAmJiBjIDw9IDB4MDAzYikgfHxcbiAgICAgICAgKGMgPj0gMHgwMDNjICYmIGMgPD0gMHgwMDNlKSB8fFxuICAgICAgICAoYyA+PSAweDAwM2YgJiYgYyA8PSAweDAwNDApIHx8XG4gICAgICAgIGMgPT09IDB4MDA1YiB8fFxuICAgICAgICBjID09PSAweDAwNWMgfHxcbiAgICAgICAgYyA9PT0gMHgwMDVkIHx8XG4gICAgICAgIGMgPT09IDB4MDA1ZSB8fFxuICAgICAgICBjID09PSAweDAwNjAgfHxcbiAgICAgICAgYyA9PT0gMHgwMDdiIHx8XG4gICAgICAgIGMgPT09IDB4MDA3YyB8fFxuICAgICAgICBjID09PSAweDAwN2QgfHxcbiAgICAgICAgYyA9PT0gMHgwMDdlIHx8XG4gICAgICAgIGMgPT09IDB4MDBhMSB8fFxuICAgICAgICAoYyA+PSAweDAwYTIgJiYgYyA8PSAweDAwYTUpIHx8XG4gICAgICAgIGMgPT09IDB4MDBhNiB8fFxuICAgICAgICBjID09PSAweDAwYTcgfHxcbiAgICAgICAgYyA9PT0gMHgwMGE5IHx8XG4gICAgICAgIGMgPT09IDB4MDBhYiB8fFxuICAgICAgICBjID09PSAweDAwYWMgfHxcbiAgICAgICAgYyA9PT0gMHgwMGFlIHx8XG4gICAgICAgIGMgPT09IDB4MDBiMCB8fFxuICAgICAgICBjID09PSAweDAwYjEgfHxcbiAgICAgICAgYyA9PT0gMHgwMGI2IHx8XG4gICAgICAgIGMgPT09IDB4MDBiYiB8fFxuICAgICAgICBjID09PSAweDAwYmYgfHxcbiAgICAgICAgYyA9PT0gMHgwMGQ3IHx8XG4gICAgICAgIGMgPT09IDB4MDBmNyB8fFxuICAgICAgICAoYyA+PSAweDIwMTAgJiYgYyA8PSAweDIwMTUpIHx8XG4gICAgICAgIChjID49IDB4MjAxNiAmJiBjIDw9IDB4MjAxNykgfHxcbiAgICAgICAgYyA9PT0gMHgyMDE4IHx8XG4gICAgICAgIGMgPT09IDB4MjAxOSB8fFxuICAgICAgICBjID09PSAweDIwMWEgfHxcbiAgICAgICAgKGMgPj0gMHgyMDFiICYmIGMgPD0gMHgyMDFjKSB8fFxuICAgICAgICBjID09PSAweDIwMWQgfHxcbiAgICAgICAgYyA9PT0gMHgyMDFlIHx8XG4gICAgICAgIGMgPT09IDB4MjAxZiB8fFxuICAgICAgICAoYyA+PSAweDIwMjAgJiYgYyA8PSAweDIwMjcpIHx8XG4gICAgICAgIChjID49IDB4MjAzMCAmJiBjIDw9IDB4MjAzOCkgfHxcbiAgICAgICAgYyA9PT0gMHgyMDM5IHx8XG4gICAgICAgIGMgPT09IDB4MjAzYSB8fFxuICAgICAgICAoYyA+PSAweDIwM2IgJiYgYyA8PSAweDIwM2UpIHx8XG4gICAgICAgIChjID49IDB4MjA0MSAmJiBjIDw9IDB4MjA0MykgfHxcbiAgICAgICAgYyA9PT0gMHgyMDQ0IHx8XG4gICAgICAgIGMgPT09IDB4MjA0NSB8fFxuICAgICAgICBjID09PSAweDIwNDYgfHxcbiAgICAgICAgKGMgPj0gMHgyMDQ3ICYmIGMgPD0gMHgyMDUxKSB8fFxuICAgICAgICBjID09PSAweDIwNTIgfHxcbiAgICAgICAgYyA9PT0gMHgyMDUzIHx8XG4gICAgICAgIChjID49IDB4MjA1NSAmJiBjIDw9IDB4MjA1ZSkgfHxcbiAgICAgICAgKGMgPj0gMHgyMTkwICYmIGMgPD0gMHgyMTk0KSB8fFxuICAgICAgICAoYyA+PSAweDIxOTUgJiYgYyA8PSAweDIxOTkpIHx8XG4gICAgICAgIChjID49IDB4MjE5YSAmJiBjIDw9IDB4MjE5YikgfHxcbiAgICAgICAgKGMgPj0gMHgyMTljICYmIGMgPD0gMHgyMTlmKSB8fFxuICAgICAgICBjID09PSAweDIxYTAgfHxcbiAgICAgICAgKGMgPj0gMHgyMWExICYmIGMgPD0gMHgyMWEyKSB8fFxuICAgICAgICBjID09PSAweDIxYTMgfHxcbiAgICAgICAgKGMgPj0gMHgyMWE0ICYmIGMgPD0gMHgyMWE1KSB8fFxuICAgICAgICBjID09PSAweDIxYTYgfHxcbiAgICAgICAgKGMgPj0gMHgyMWE3ICYmIGMgPD0gMHgyMWFkKSB8fFxuICAgICAgICBjID09PSAweDIxYWUgfHxcbiAgICAgICAgKGMgPj0gMHgyMWFmICYmIGMgPD0gMHgyMWNkKSB8fFxuICAgICAgICAoYyA+PSAweDIxY2UgJiYgYyA8PSAweDIxY2YpIHx8XG4gICAgICAgIChjID49IDB4MjFkMCAmJiBjIDw9IDB4MjFkMSkgfHxcbiAgICAgICAgYyA9PT0gMHgyMWQyIHx8XG4gICAgICAgIGMgPT09IDB4MjFkMyB8fFxuICAgICAgICBjID09PSAweDIxZDQgfHxcbiAgICAgICAgKGMgPj0gMHgyMWQ1ICYmIGMgPD0gMHgyMWYzKSB8fFxuICAgICAgICAoYyA+PSAweDIxZjQgJiYgYyA8PSAweDIyZmYpIHx8XG4gICAgICAgIChjID49IDB4MjMwMCAmJiBjIDw9IDB4MjMwNykgfHxcbiAgICAgICAgYyA9PT0gMHgyMzA4IHx8XG4gICAgICAgIGMgPT09IDB4MjMwOSB8fFxuICAgICAgICBjID09PSAweDIzMGEgfHxcbiAgICAgICAgYyA9PT0gMHgyMzBiIHx8XG4gICAgICAgIChjID49IDB4MjMwYyAmJiBjIDw9IDB4MjMxZikgfHxcbiAgICAgICAgKGMgPj0gMHgyMzIwICYmIGMgPD0gMHgyMzIxKSB8fFxuICAgICAgICAoYyA+PSAweDIzMjIgJiYgYyA8PSAweDIzMjgpIHx8XG4gICAgICAgIGMgPT09IDB4MjMyOSB8fFxuICAgICAgICBjID09PSAweDIzMmEgfHxcbiAgICAgICAgKGMgPj0gMHgyMzJiICYmIGMgPD0gMHgyMzdiKSB8fFxuICAgICAgICBjID09PSAweDIzN2MgfHxcbiAgICAgICAgKGMgPj0gMHgyMzdkICYmIGMgPD0gMHgyMzlhKSB8fFxuICAgICAgICAoYyA+PSAweDIzOWIgJiYgYyA8PSAweDIzYjMpIHx8XG4gICAgICAgIChjID49IDB4MjNiNCAmJiBjIDw9IDB4MjNkYikgfHxcbiAgICAgICAgKGMgPj0gMHgyM2RjICYmIGMgPD0gMHgyM2UxKSB8fFxuICAgICAgICAoYyA+PSAweDIzZTIgJiYgYyA8PSAweDI0MjYpIHx8XG4gICAgICAgIChjID49IDB4MjQyNyAmJiBjIDw9IDB4MjQzZikgfHxcbiAgICAgICAgKGMgPj0gMHgyNDQwICYmIGMgPD0gMHgyNDRhKSB8fFxuICAgICAgICAoYyA+PSAweDI0NGIgJiYgYyA8PSAweDI0NWYpIHx8XG4gICAgICAgIChjID49IDB4MjUwMCAmJiBjIDw9IDB4MjViNikgfHxcbiAgICAgICAgYyA9PT0gMHgyNWI3IHx8XG4gICAgICAgIChjID49IDB4MjViOCAmJiBjIDw9IDB4MjVjMCkgfHxcbiAgICAgICAgYyA9PT0gMHgyNWMxIHx8XG4gICAgICAgIChjID49IDB4MjVjMiAmJiBjIDw9IDB4MjVmNykgfHxcbiAgICAgICAgKGMgPj0gMHgyNWY4ICYmIGMgPD0gMHgyNWZmKSB8fFxuICAgICAgICAoYyA+PSAweDI2MDAgJiYgYyA8PSAweDI2NmUpIHx8XG4gICAgICAgIGMgPT09IDB4MjY2ZiB8fFxuICAgICAgICAoYyA+PSAweDI2NzAgJiYgYyA8PSAweDI3NjcpIHx8XG4gICAgICAgIGMgPT09IDB4Mjc2OCB8fFxuICAgICAgICBjID09PSAweDI3NjkgfHxcbiAgICAgICAgYyA9PT0gMHgyNzZhIHx8XG4gICAgICAgIGMgPT09IDB4Mjc2YiB8fFxuICAgICAgICBjID09PSAweDI3NmMgfHxcbiAgICAgICAgYyA9PT0gMHgyNzZkIHx8XG4gICAgICAgIGMgPT09IDB4Mjc2ZSB8fFxuICAgICAgICBjID09PSAweDI3NmYgfHxcbiAgICAgICAgYyA9PT0gMHgyNzcwIHx8XG4gICAgICAgIGMgPT09IDB4Mjc3MSB8fFxuICAgICAgICBjID09PSAweDI3NzIgfHxcbiAgICAgICAgYyA9PT0gMHgyNzczIHx8XG4gICAgICAgIGMgPT09IDB4Mjc3NCB8fFxuICAgICAgICBjID09PSAweDI3NzUgfHxcbiAgICAgICAgKGMgPj0gMHgyNzk0ICYmIGMgPD0gMHgyN2JmKSB8fFxuICAgICAgICAoYyA+PSAweDI3YzAgJiYgYyA8PSAweDI3YzQpIHx8XG4gICAgICAgIGMgPT09IDB4MjdjNSB8fFxuICAgICAgICBjID09PSAweDI3YzYgfHxcbiAgICAgICAgKGMgPj0gMHgyN2M3ICYmIGMgPD0gMHgyN2U1KSB8fFxuICAgICAgICBjID09PSAweDI3ZTYgfHxcbiAgICAgICAgYyA9PT0gMHgyN2U3IHx8XG4gICAgICAgIGMgPT09IDB4MjdlOCB8fFxuICAgICAgICBjID09PSAweDI3ZTkgfHxcbiAgICAgICAgYyA9PT0gMHgyN2VhIHx8XG4gICAgICAgIGMgPT09IDB4MjdlYiB8fFxuICAgICAgICBjID09PSAweDI3ZWMgfHxcbiAgICAgICAgYyA9PT0gMHgyN2VkIHx8XG4gICAgICAgIGMgPT09IDB4MjdlZSB8fFxuICAgICAgICBjID09PSAweDI3ZWYgfHxcbiAgICAgICAgKGMgPj0gMHgyN2YwICYmIGMgPD0gMHgyN2ZmKSB8fFxuICAgICAgICAoYyA+PSAweDI4MDAgJiYgYyA8PSAweDI4ZmYpIHx8XG4gICAgICAgIChjID49IDB4MjkwMCAmJiBjIDw9IDB4Mjk4MikgfHxcbiAgICAgICAgYyA9PT0gMHgyOTgzIHx8XG4gICAgICAgIGMgPT09IDB4Mjk4NCB8fFxuICAgICAgICBjID09PSAweDI5ODUgfHxcbiAgICAgICAgYyA9PT0gMHgyOTg2IHx8XG4gICAgICAgIGMgPT09IDB4Mjk4NyB8fFxuICAgICAgICBjID09PSAweDI5ODggfHxcbiAgICAgICAgYyA9PT0gMHgyOTg5IHx8XG4gICAgICAgIGMgPT09IDB4Mjk4YSB8fFxuICAgICAgICBjID09PSAweDI5OGIgfHxcbiAgICAgICAgYyA9PT0gMHgyOThjIHx8XG4gICAgICAgIGMgPT09IDB4Mjk4ZCB8fFxuICAgICAgICBjID09PSAweDI5OGUgfHxcbiAgICAgICAgYyA9PT0gMHgyOThmIHx8XG4gICAgICAgIGMgPT09IDB4Mjk5MCB8fFxuICAgICAgICBjID09PSAweDI5OTEgfHxcbiAgICAgICAgYyA9PT0gMHgyOTkyIHx8XG4gICAgICAgIGMgPT09IDB4Mjk5MyB8fFxuICAgICAgICBjID09PSAweDI5OTQgfHxcbiAgICAgICAgYyA9PT0gMHgyOTk1IHx8XG4gICAgICAgIGMgPT09IDB4Mjk5NiB8fFxuICAgICAgICBjID09PSAweDI5OTcgfHxcbiAgICAgICAgYyA9PT0gMHgyOTk4IHx8XG4gICAgICAgIChjID49IDB4Mjk5OSAmJiBjIDw9IDB4MjlkNykgfHxcbiAgICAgICAgYyA9PT0gMHgyOWQ4IHx8XG4gICAgICAgIGMgPT09IDB4MjlkOSB8fFxuICAgICAgICBjID09PSAweDI5ZGEgfHxcbiAgICAgICAgYyA9PT0gMHgyOWRiIHx8XG4gICAgICAgIChjID49IDB4MjlkYyAmJiBjIDw9IDB4MjlmYikgfHxcbiAgICAgICAgYyA9PT0gMHgyOWZjIHx8XG4gICAgICAgIGMgPT09IDB4MjlmZCB8fFxuICAgICAgICAoYyA+PSAweDI5ZmUgJiYgYyA8PSAweDJhZmYpIHx8XG4gICAgICAgIChjID49IDB4MmIwMCAmJiBjIDw9IDB4MmIyZikgfHxcbiAgICAgICAgKGMgPj0gMHgyYjMwICYmIGMgPD0gMHgyYjQ0KSB8fFxuICAgICAgICAoYyA+PSAweDJiNDUgJiYgYyA8PSAweDJiNDYpIHx8XG4gICAgICAgIChjID49IDB4MmI0NyAmJiBjIDw9IDB4MmI0YykgfHxcbiAgICAgICAgKGMgPj0gMHgyYjRkICYmIGMgPD0gMHgyYjczKSB8fFxuICAgICAgICAoYyA+PSAweDJiNzQgJiYgYyA8PSAweDJiNzUpIHx8XG4gICAgICAgIChjID49IDB4MmI3NiAmJiBjIDw9IDB4MmI5NSkgfHxcbiAgICAgICAgYyA9PT0gMHgyYjk2IHx8XG4gICAgICAgIChjID49IDB4MmI5NyAmJiBjIDw9IDB4MmJmZikgfHxcbiAgICAgICAgKGMgPj0gMHgyZTAwICYmIGMgPD0gMHgyZTAxKSB8fFxuICAgICAgICBjID09PSAweDJlMDIgfHxcbiAgICAgICAgYyA9PT0gMHgyZTAzIHx8XG4gICAgICAgIGMgPT09IDB4MmUwNCB8fFxuICAgICAgICBjID09PSAweDJlMDUgfHxcbiAgICAgICAgKGMgPj0gMHgyZTA2ICYmIGMgPD0gMHgyZTA4KSB8fFxuICAgICAgICBjID09PSAweDJlMDkgfHxcbiAgICAgICAgYyA9PT0gMHgyZTBhIHx8XG4gICAgICAgIGMgPT09IDB4MmUwYiB8fFxuICAgICAgICBjID09PSAweDJlMGMgfHxcbiAgICAgICAgYyA9PT0gMHgyZTBkIHx8XG4gICAgICAgIChjID49IDB4MmUwZSAmJiBjIDw9IDB4MmUxNikgfHxcbiAgICAgICAgYyA9PT0gMHgyZTE3IHx8XG4gICAgICAgIChjID49IDB4MmUxOCAmJiBjIDw9IDB4MmUxOSkgfHxcbiAgICAgICAgYyA9PT0gMHgyZTFhIHx8XG4gICAgICAgIGMgPT09IDB4MmUxYiB8fFxuICAgICAgICBjID09PSAweDJlMWMgfHxcbiAgICAgICAgYyA9PT0gMHgyZTFkIHx8XG4gICAgICAgIChjID49IDB4MmUxZSAmJiBjIDw9IDB4MmUxZikgfHxcbiAgICAgICAgYyA9PT0gMHgyZTIwIHx8XG4gICAgICAgIGMgPT09IDB4MmUyMSB8fFxuICAgICAgICBjID09PSAweDJlMjIgfHxcbiAgICAgICAgYyA9PT0gMHgyZTIzIHx8XG4gICAgICAgIGMgPT09IDB4MmUyNCB8fFxuICAgICAgICBjID09PSAweDJlMjUgfHxcbiAgICAgICAgYyA9PT0gMHgyZTI2IHx8XG4gICAgICAgIGMgPT09IDB4MmUyNyB8fFxuICAgICAgICBjID09PSAweDJlMjggfHxcbiAgICAgICAgYyA9PT0gMHgyZTI5IHx8XG4gICAgICAgIChjID49IDB4MmUyYSAmJiBjIDw9IDB4MmUyZSkgfHxcbiAgICAgICAgYyA9PT0gMHgyZTJmIHx8XG4gICAgICAgIChjID49IDB4MmUzMCAmJiBjIDw9IDB4MmUzOSkgfHxcbiAgICAgICAgKGMgPj0gMHgyZTNhICYmIGMgPD0gMHgyZTNiKSB8fFxuICAgICAgICAoYyA+PSAweDJlM2MgJiYgYyA8PSAweDJlM2YpIHx8XG4gICAgICAgIGMgPT09IDB4MmU0MCB8fFxuICAgICAgICBjID09PSAweDJlNDEgfHxcbiAgICAgICAgYyA9PT0gMHgyZTQyIHx8XG4gICAgICAgIChjID49IDB4MmU0MyAmJiBjIDw9IDB4MmU0ZikgfHxcbiAgICAgICAgKGMgPj0gMHgyZTUwICYmIGMgPD0gMHgyZTUxKSB8fFxuICAgICAgICBjID09PSAweDJlNTIgfHxcbiAgICAgICAgKGMgPj0gMHgyZTUzICYmIGMgPD0gMHgyZTdmKSB8fFxuICAgICAgICAoYyA+PSAweDMwMDEgJiYgYyA8PSAweDMwMDMpIHx8XG4gICAgICAgIGMgPT09IDB4MzAwOCB8fFxuICAgICAgICBjID09PSAweDMwMDkgfHxcbiAgICAgICAgYyA9PT0gMHgzMDBhIHx8XG4gICAgICAgIGMgPT09IDB4MzAwYiB8fFxuICAgICAgICBjID09PSAweDMwMGMgfHxcbiAgICAgICAgYyA9PT0gMHgzMDBkIHx8XG4gICAgICAgIGMgPT09IDB4MzAwZSB8fFxuICAgICAgICBjID09PSAweDMwMGYgfHxcbiAgICAgICAgYyA9PT0gMHgzMDEwIHx8XG4gICAgICAgIGMgPT09IDB4MzAxMSB8fFxuICAgICAgICAoYyA+PSAweDMwMTIgJiYgYyA8PSAweDMwMTMpIHx8XG4gICAgICAgIGMgPT09IDB4MzAxNCB8fFxuICAgICAgICBjID09PSAweDMwMTUgfHxcbiAgICAgICAgYyA9PT0gMHgzMDE2IHx8XG4gICAgICAgIGMgPT09IDB4MzAxNyB8fFxuICAgICAgICBjID09PSAweDMwMTggfHxcbiAgICAgICAgYyA9PT0gMHgzMDE5IHx8XG4gICAgICAgIGMgPT09IDB4MzAxYSB8fFxuICAgICAgICBjID09PSAweDMwMWIgfHxcbiAgICAgICAgYyA9PT0gMHgzMDFjIHx8XG4gICAgICAgIGMgPT09IDB4MzAxZCB8fFxuICAgICAgICAoYyA+PSAweDMwMWUgJiYgYyA8PSAweDMwMWYpIHx8XG4gICAgICAgIGMgPT09IDB4MzAyMCB8fFxuICAgICAgICBjID09PSAweDMwMzAgfHxcbiAgICAgICAgYyA9PT0gMHhmZDNlIHx8XG4gICAgICAgIGMgPT09IDB4ZmQzZiB8fFxuICAgICAgICAoYyA+PSAweGZlNDUgJiYgYyA8PSAweGZlNDYpKTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBTkEsSUFBSTs7Ozs7OztBQU9KLElBQUksOEJBQThCLElBQUksT0FBTyxJQUFJLE1BQU0sQ0FBQyx5TEFBQSxDQUFBLHdCQUFxQixDQUFDLE1BQU0sRUFBRTtBQUN0RixJQUFJLDRCQUE0QixJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMseUxBQUEsQ0FBQSx3QkFBcUIsQ0FBQyxNQUFNLEVBQUU7QUFDbkYsU0FBUyxlQUFlLEtBQUssRUFBRSxHQUFHO0lBQzlCLE9BQU87UUFBRSxPQUFPO1FBQU8sS0FBSztJQUFJO0FBQ3BDO0FBQ0Esb0JBQW9CO0FBQ3BCLDBFQUEwRTtBQUMxRSxJQUFJLHNCQUFzQixDQUFDLENBQUMsT0FBTyxTQUFTLENBQUMsVUFBVSxJQUFJLEtBQUssVUFBVSxDQUFDLEtBQUs7QUFDaEYsSUFBSSx5QkFBeUIsQ0FBQyxDQUFDLE9BQU8sYUFBYTtBQUNuRCxJQUFJLHVCQUF1QixDQUFDLENBQUMsT0FBTyxXQUFXO0FBQy9DLElBQUksdUJBQXVCLENBQUMsQ0FBQyxPQUFPLFNBQVMsQ0FBQyxXQUFXO0FBQ3pELElBQUksZUFBZSxDQUFDLENBQUMsT0FBTyxTQUFTLENBQUMsU0FBUztBQUMvQyxJQUFJLGFBQWEsQ0FBQyxDQUFDLE9BQU8sU0FBUyxDQUFDLE9BQU87QUFDM0MsSUFBSSx5QkFBeUIsQ0FBQyxDQUFDLE9BQU8sYUFBYTtBQUNuRCxJQUFJLGdCQUFnQix5QkFDZCxPQUFPLGFBQWEsR0FDcEIsU0FBVSxDQUFDO0lBQ1QsT0FBUSxPQUFPLE1BQU0sWUFDakIsU0FBUyxNQUNULEtBQUssS0FBSyxDQUFDLE9BQU8sS0FDbEIs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TUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3BCLEtBQUssVUFBVSxLQUFLLFVBQ3BCLEtBQUssVUFBVSxLQUFLLFVBQ3BCLEtBQUssVUFBVSxLQUFLLFVBQ3BCLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUssVUFDckIsTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDckIsTUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDckIsTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUssVUFDckIsTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUssVUFDckIsTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDckIsTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3BCLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUssVUFDckIsTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNwQixLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUssVUFDcEIsS0FBSyxVQUFVLEtBQUssVUFDckIsTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNMLEtBQUssVUFBVSxLQUFLLFVBQ3JCLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTCxLQUFLLFVBQVUsS0FBSyxVQUNyQixNQUFNLFVBQ04sTUFBTSxVQUNOLE1BQU0sVUFDTixNQUFNLFVBQ0wsS0FBSyxVQUFVLEtBQUs7QUFDN0IiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMzMxNiwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy8lNDBmb3JtYXRqcy9pY3UtbWVzc2FnZWZvcm1hdC1wYXJzZXIvbGliL21hbmlwdWxhdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzQXJndW1lbnRFbGVtZW50LCBpc0RhdGVFbGVtZW50LCBpc051bWJlckVsZW1lbnQsIGlzUGx1cmFsRWxlbWVudCwgaXNTZWxlY3RFbGVtZW50LCBpc1RhZ0VsZW1lbnQsIGlzVGltZUVsZW1lbnQsIFRZUEUsIH0gZnJvbSAnLi90eXBlcyc7XG5mdW5jdGlvbiBjbG9uZURlZXAob2JqKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG1laFxuICAgICAgICByZXR1cm4gX19zcHJlYWRBcnJheShbXSwgb2JqLm1hcChjbG9uZURlZXApLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG1laFxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKGNsb25lZCwgaykge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBtZWhcbiAgICAgICAgICAgIGNsb25lZFtrXSA9IGNsb25lRGVlcChvYmpba10pO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gaG9pc3RQbHVyYWxPclNlbGVjdEVsZW1lbnQoYXN0LCBlbCwgcG9zaXRpb25Ub0luamVjdCkge1xuICAgIC8vIHB1bGwgdGhpcyBvdXQgb2YgdGhlIGFzdCBhbmQgbW92ZSBpdCB0byB0aGUgdG9wXG4gICAgdmFyIGNsb25lZCA9IGNsb25lRGVlcChlbCk7XG4gICAgdmFyIG9wdGlvbnMgPSBjbG9uZWQub3B0aW9ucztcbiAgICBjbG9uZWQub3B0aW9ucyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpLnJlZHVjZShmdW5jdGlvbiAoYWxsLCBrKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGhvaXN0U2VsZWN0b3JzKF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBhc3Quc2xpY2UoMCwgcG9zaXRpb25Ub0luamVjdCksIHRydWUpLCBvcHRpb25zW2tdLnZhbHVlLCB0cnVlKSwgYXN0LnNsaWNlKHBvc2l0aW9uVG9JbmplY3QgKyAxKSwgdHJ1ZSkpO1xuICAgICAgICBhbGxba10gPSB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3VmFsdWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhbGw7XG4gICAgfSwge30pO1xuICAgIHJldHVybiBjbG9uZWQ7XG59XG5mdW5jdGlvbiBpc1BsdXJhbE9yU2VsZWN0RWxlbWVudChlbCkge1xuICAgIHJldHVybiBpc1BsdXJhbEVsZW1lbnQoZWwpIHx8IGlzU2VsZWN0RWxlbWVudChlbCk7XG59XG5mdW5jdGlvbiBmaW5kUGx1cmFsT3JTZWxlY3RFbGVtZW50KGFzdCkge1xuICAgIHJldHVybiAhIWFzdC5maW5kKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBpZiAoaXNQbHVyYWxPclNlbGVjdEVsZW1lbnQoZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNUYWdFbGVtZW50KGVsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmRQbHVyYWxPclNlbGVjdEVsZW1lbnQoZWwuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbn1cbi8qKlxuICogSG9pc3QgYWxsIHNlbGVjdG9ycyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBBU1QgJiBmbGF0dGVuIHRoZVxuICogcmVzdWx0aW5nIG9wdGlvbnMuIEUuZzpcbiAqIFwiSSBoYXZlIHtjb3VudCwgcGx1cmFsLCBvbmV7YSBkb2d9IG90aGVye21hbnkgZG9nc319XCJcbiAqIGJlY29tZXMgXCJ7Y291bnQsIHBsdXJhbCwgb25le0kgaGF2ZSBhIGRvZ30gb3RoZXJ7SSBoYXZlIG1hbnkgZG9nc319XCIuXG4gKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgc2VsZWN0b3JzLCB0aGUgb3JkZXIgb2Ygd2hpY2ggb25lIGlzIGhvaXN0ZWQgMXN0XG4gKiBpcyBub24tZGV0ZXJtaW5pc3RpYy5cbiAqIFRoZSBnb2FsIGlzIHRvIHByb3ZpZGUgYXMgbWFueSBmdWxsIHNlbnRlbmNlcyBhcyBwb3NzaWJsZSBzaW5jZSBmcmFnbWVudGVkXG4gKiBzZW50ZW5jZXMgYXJlIG5vdCB0cmFuc2xhdG9yLWZyaWVuZGx5XG4gKiBAcGFyYW0gYXN0IEFTVFxuICovXG5leHBvcnQgZnVuY3Rpb24gaG9pc3RTZWxlY3RvcnMoYXN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVsID0gYXN0W2ldO1xuICAgICAgICBpZiAoaXNQbHVyYWxPclNlbGVjdEVsZW1lbnQoZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gW2hvaXN0UGx1cmFsT3JTZWxlY3RFbGVtZW50KGFzdCwgZWwsIGkpXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNUYWdFbGVtZW50KGVsKSAmJiBmaW5kUGx1cmFsT3JTZWxlY3RFbGVtZW50KFtlbF0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBob2lzdCBwbHVyYWwvc2VsZWN0IHdpdGhpbiBhIHRhZyBlbGVtZW50LiBQbGVhc2UgcHV0IHRoZSB0YWcgZWxlbWVudCBpbnNpZGUgZWFjaCBwbHVyYWwvc2VsZWN0IG9wdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhc3Q7XG59XG4vKipcbiAqIENvbGxlY3QgYWxsIHZhcmlhYmxlcyBpbiBhbiBBU1QgdG8gUmVjb3JkPHN0cmluZywgVFlQRT5cbiAqIEBwYXJhbSBhc3QgQVNUIHRvIGNvbGxlY3QgdmFyaWFibGVzIGZyb21cbiAqIEBwYXJhbSB2YXJzIFJlY29yZCBvZiB2YXJpYWJsZSBuYW1lIHRvIHZhcmlhYmxlIHR5cGVcbiAqL1xuZnVuY3Rpb24gY29sbGVjdFZhcmlhYmxlcyhhc3QsIHZhcnMpIHtcbiAgICBpZiAodmFycyA9PT0gdm9pZCAwKSB7IHZhcnMgPSBuZXcgTWFwKCk7IH1cbiAgICBhc3QuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgaWYgKGlzQXJndW1lbnRFbGVtZW50KGVsKSB8fFxuICAgICAgICAgICAgaXNEYXRlRWxlbWVudChlbCkgfHxcbiAgICAgICAgICAgIGlzVGltZUVsZW1lbnQoZWwpIHx8XG4gICAgICAgICAgICBpc051bWJlckVsZW1lbnQoZWwpKSB7XG4gICAgICAgICAgICBpZiAoZWwudmFsdWUgaW4gdmFycyAmJiB2YXJzLmdldChlbC52YWx1ZSkgIT09IGVsLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYXJpYWJsZSBcIi5jb25jYXQoZWwudmFsdWUsIFwiIGhhcyBjb25mbGljdGluZyB0eXBlc1wiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXJzLnNldChlbC52YWx1ZSwgZWwudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUGx1cmFsRWxlbWVudChlbCkgfHwgaXNTZWxlY3RFbGVtZW50KGVsKSkge1xuICAgICAgICAgICAgdmFycy5zZXQoZWwudmFsdWUsIGVsLnR5cGUpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZWwub3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgICAgIGNvbGxlY3RWYXJpYWJsZXMoZWwub3B0aW9uc1trXS52YWx1ZSwgdmFycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNUYWdFbGVtZW50KGVsKSkge1xuICAgICAgICAgICAgdmFycy5zZXQoZWwudmFsdWUsIGVsLnR5cGUpO1xuICAgICAgICAgICAgY29sbGVjdFZhcmlhYmxlcyhlbC5jaGlsZHJlbiwgdmFycyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgMiBBU1RzIGFyZSBzdHJ1Y3R1cmFsbHkgdGhlIHNhbWUuIFRoaXMgcHJpbWFyaWx5IG1lYW5zIHRoYXRcbiAqIHRoZXkgaGF2ZSB0aGUgc2FtZSB2YXJpYWJsZXMgd2l0aCB0aGUgc2FtZSB0eXBlXG4gKiBAcGFyYW0gYVxuICogQHBhcmFtIGJcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cnVjdHVyYWxseVNhbWUoYSwgYikge1xuICAgIHZhciBhVmFycyA9IG5ldyBNYXAoKTtcbiAgICB2YXIgYlZhcnMgPSBuZXcgTWFwKCk7XG4gICAgY29sbGVjdFZhcmlhYmxlcyhhLCBhVmFycyk7XG4gICAgY29sbGVjdFZhcmlhYmxlcyhiLCBiVmFycyk7XG4gICAgaWYgKGFWYXJzLnNpemUgIT09IGJWYXJzLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihcIkRpZmZlcmVudCBudW1iZXIgb2YgdmFyaWFibGVzOiBbXCIuY29uY2F0KEFycmF5LmZyb20oYVZhcnMua2V5cygpKS5qb2luKCcsICcpLCBcIl0gdnMgW1wiKS5jb25jYXQoQXJyYXkuZnJvbShiVmFycy5rZXlzKCkpLmpvaW4oJywgJyksIFwiXVwiKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKGFWYXJzLmVudHJpZXMoKSkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIF9hKSB7XG4gICAgICAgIHZhciBrZXkgPSBfYVswXSwgdHlwZSA9IF9hWzFdO1xuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBiVHlwZSA9IGJWYXJzLmdldChrZXkpO1xuICAgICAgICBpZiAoYlR5cGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKFwiTWlzc2luZyB2YXJpYWJsZSBcIi5jb25jYXQoa2V5LCBcIiBpbiBtZXNzYWdlXCIpKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJUeXBlICE9PSB0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoXCJWYXJpYWJsZSBcIi5jb25jYXQoa2V5LCBcIiBoYXMgY29uZmxpY3RpbmcgdHlwZXM6IFwiKS5jb25jYXQoVFlQRVt0eXBlXSwgXCIgdnMgXCIpLmNvbmNhdChUWVBFW2JUeXBlXSkpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHsgc3VjY2VzczogdHJ1ZSB9KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7O0FBQ0EsU0FBUyxVQUFVLEdBQUc7SUFDbEIsSUFBSSxNQUFNLE9BQU8sQ0FBQyxNQUFNO1FBQ3BCLHVCQUF1QjtRQUN2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LEVBQUUsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtRQUM3QixJQUFJLENBQUMsT0FBTyxPQUFPLEVBQUU7WUFDakIsT0FBTztRQUNYO1FBQ0EsSUFBSSxRQUFRLE1BQU0sR0FBRyxDQUFDO1FBQ3RCLElBQUksU0FBUyxNQUFNO1lBQ2YsT0FBTztnQkFDSCxTQUFTO2dCQUNULE9BQU8sSUFBSSxNQUFNLG9CQUFvQixNQUFNLENBQUMsS0FBSztZQUNyRDtRQUNKO1FBQ0EsSUFBSSxVQUFVLE1BQU07WUFDaEIsT0FBTztnQkFDSCxTQUFTO2dCQUNULE9BQU8sSUFBSSxNQUFNLFlBQVksTUFBTSxDQUFDLEtBQUssNEJBQTRCLE1BQU0sQ0FBQyw0S0FBQSxDQUFBLE9BQUksQ0FBQyxLQUFLLEVBQUUsUUFBUSxNQUFNLENBQUMsNEtBQUEsQ0FBQSxPQUFJLENBQUMsTUFBTTtZQUN0SDtRQUNKO1FBQ0EsT0FBTztJQUNYLEdBQUc7UUFBRSxTQUFTO0lBQUs7QUFDdkIiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMzQ0NywgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy8lNDBmb3JtYXRqcy9pY3UtbWVzc2FnZWZvcm1hdC1wYXJzZXIvbGliL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBFcnJvcktpbmQgfSBmcm9tICcuL2Vycm9yJztcbmltcG9ydCB7IFBhcnNlciB9IGZyb20gJy4vcGFyc2VyJztcbmltcG9ydCB7IGlzRGF0ZUVsZW1lbnQsIGlzRGF0ZVRpbWVTa2VsZXRvbiwgaXNOdW1iZXJFbGVtZW50LCBpc051bWJlclNrZWxldG9uLCBpc1BsdXJhbEVsZW1lbnQsIGlzU2VsZWN0RWxlbWVudCwgaXNUYWdFbGVtZW50LCBpc1RpbWVFbGVtZW50LCB9IGZyb20gJy4vdHlwZXMnO1xuZnVuY3Rpb24gcHJ1bmVMb2NhdGlvbihlbHMpIHtcbiAgICBlbHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgZGVsZXRlIGVsLmxvY2F0aW9uO1xuICAgICAgICBpZiAoaXNTZWxlY3RFbGVtZW50KGVsKSB8fCBpc1BsdXJhbEVsZW1lbnQoZWwpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrIGluIGVsLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZWwub3B0aW9uc1trXS5sb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBwcnVuZUxvY2F0aW9uKGVsLm9wdGlvbnNba10udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTnVtYmVyRWxlbWVudChlbCkgJiYgaXNOdW1iZXJTa2VsZXRvbihlbC5zdHlsZSkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBlbC5zdHlsZS5sb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoaXNEYXRlRWxlbWVudChlbCkgfHwgaXNUaW1lRWxlbWVudChlbCkpICYmXG4gICAgICAgICAgICBpc0RhdGVUaW1lU2tlbGV0b24oZWwuc3R5bGUpKSB7XG4gICAgICAgICAgICBkZWxldGUgZWwuc3R5bGUubG9jYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNUYWdFbGVtZW50KGVsKSkge1xuICAgICAgICAgICAgcHJ1bmVMb2NhdGlvbihlbC5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShtZXNzYWdlLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICBvcHRzID0gX19hc3NpZ24oeyBzaG91bGRQYXJzZVNrZWxldG9uczogdHJ1ZSwgcmVxdWlyZXNPdGhlckNsYXVzZTogdHJ1ZSB9LCBvcHRzKTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFBhcnNlcihtZXNzYWdlLCBvcHRzKS5wYXJzZSgpO1xuICAgIGlmIChyZXN1bHQuZXJyKSB7XG4gICAgICAgIHZhciBlcnJvciA9IFN5bnRheEVycm9yKEVycm9yS2luZFtyZXN1bHQuZXJyLmtpbmRdKTtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBc3NpZ24gdG8gZXJyb3Igb2JqZWN0XG4gICAgICAgIGVycm9yLmxvY2F0aW9uID0gcmVzdWx0LmVyci5sb2NhdGlvbjtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBc3NpZ24gdG8gZXJyb3Igb2JqZWN0XG4gICAgICAgIGVycm9yLm9yaWdpbmFsTWVzc2FnZSA9IHJlc3VsdC5lcnIubWVzc2FnZTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGlmICghKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5jYXB0dXJlTG9jYXRpb24pKSB7XG4gICAgICAgIHBydW5lTG9jYXRpb24ocmVzdWx0LnZhbCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQudmFsO1xufVxuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG4vLyBvbmx5IGZvciB0ZXN0aW5nXG5leHBvcnQgdmFyIF9QYXJzZXIgPSBQYXJzZXI7XG5leHBvcnQgeyBpc1N0cnVjdHVyYWxseVNhbWUgfSBmcm9tICcuL21hbmlwdWxhdG9yJztcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUEwQ0E7Ozs7O0FBekNBLFNBQVMsY0FBYyxHQUFHO0lBQ3RCLElBQUksT0FBTyxDQUFDLFNBQVUsRUFBRTtRQUNwQixPQUFPLEdBQUcsUUFBUTtRQUNsQixJQUFJLENBQUEsR0FBQSw0S0FBQSxDQUFBLGtCQUFlLEFBQUQsRUFBRSxPQUFPLENBQUEsR0FBQSw0S0FBQSxDQUFBLGtCQUFlLEFBQUQsRUFBRSxLQUFLO1lBQzVDLElBQUssSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFFO2dCQUN0QixPQUFPLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxRQUFRO2dCQUM3QixjQUFjLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxLQUFLO1lBQ3JDO1FBQ0osT0FDSyxJQUFJLENBQUEsR0FBQSw0S0FBQSxDQUFBLGtCQUFlLEFBQUQsRUFBRSxPQUFPLENBQUEsR0FBQSw0S0FBQSxDQUFBLG1CQUFnQixBQUFELEVBQUUsR0FBRyxLQUFLLEdBQUc7WUFDeEQsT0FBTyxHQUFHLEtBQUssQ0FBQyxRQUFRO1FBQzVCLE9BQ0ssSUFBSSxDQUFDLENBQUEsR0FBQSw0S0FBQSxDQUFBLGdCQUFhLEFBQUQsRUFBRSxPQUFPLENBQUEsR0FBQSw0S0FBQSxDQUFBLGdCQUFhLEFBQUQsRUFBRSxHQUFHLEtBQzVDLENBQUEsR0FBQSw0S0FBQSxDQUFBLHFCQUFrQixBQUFELEVBQUUsR0FBRyxLQUFLLEdBQUc7WUFDOUIsT0FBTyxHQUFHLEtBQUssQ0FBQyxRQUFRO1FBQzVCLE9BQ0ssSUFBSSxDQUFBLEdBQUEsNEtBQUEsQ0FBQSxlQUFZLEFBQUQsRUFBRSxLQUFLO1lBQ3ZCLGNBQWMsR0FBRyxRQUFRO1FBQzdCO0lBQ0o7QUFDSjtBQUNPLFNBQVMsTUFBTSxPQUFPLEVBQUUsSUFBSTtJQUMvQixJQUFJLFNBQVMsS0FBSyxHQUFHO1FBQUUsT0FBTyxDQUFDO0lBQUc7SUFDbEMsT0FBTyxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRTtRQUFFLHNCQUFzQjtRQUFNLHFCQUFxQjtJQUFLLEdBQUc7SUFDM0UsSUFBSSxTQUFTLElBQUksNktBQUEsQ0FBQSxTQUFNLENBQUMsU0FBUyxNQUFNLEtBQUs7SUFDNUMsSUFBSSxPQUFPLEdBQUcsRUFBRTtRQUNaLElBQUksUUFBUSxZQUFZLDRLQUFBLENBQUEsWUFBUyxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQztRQUNsRCwwQ0FBMEM7UUFDMUMsTUFBTSxRQUFRLEdBQUcsT0FBTyxHQUFHLENBQUMsUUFBUTtRQUNwQywwQ0FBMEM7UUFDMUMsTUFBTSxlQUFlLEdBQUcsT0FBTyxHQUFHLENBQUMsT0FBTztRQUMxQyxNQUFNO0lBQ1Y7SUFDQSxJQUFJLENBQUMsQ0FBQyxTQUFTLFFBQVEsU0FBUyxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssZUFBZSxHQUFHO1FBQ3JFLGNBQWMsT0FBTyxHQUFHO0lBQzVCO0lBQ0EsT0FBTyxPQUFPLEdBQUc7QUFDckI7O0FBR08sSUFBSSxVQUFVLDZLQUFBLENBQUEsU0FBTSIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAzNTE2LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzLyU0MGZvcm1hdGpzL2ljdS1za2VsZXRvbi1wYXJzZXIvbGliL2RhdGUtdGltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGh0dHBzOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjM1L3RyMzUtZGF0ZXMuaHRtbCNEYXRlX0ZpZWxkX1N5bWJvbF9UYWJsZVxuICogQ3JlZGl0OiBodHRwczovL2dpdGh1Yi5jb20vY2FyaWR5L2ludGwtZGF0ZXRpbWVmb3JtYXQtcGF0dGVybi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICogd2l0aCBzb21lIHR3ZWFrc1xuICovXG52YXIgREFURV9USU1FX1JFR0VYID0gLyg/OltFZWNdezEsNn18R3sxLDV9fFtRcV17MSw1fXwoPzpbeVl1cl0rfFV7MSw1fSl8W01MXXsxLDV9fGR7MSwyfXxEezEsM318RnsxfXxbYWJCXXsxLDV9fFtoa0hLXXsxLDJ9fHd7MSwyfXxXezF9fG17MSwyfXxzezEsMn18W3paT3ZWeFhdezEsNH0pKD89KFteJ10qJ1teJ10qJykqW14nXSokKS9nO1xuLyoqXG4gKiBQYXJzZSBEYXRlIHRpbWUgc2tlbGV0b24gaW50byBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9uc1xuICogUmVmOiBodHRwczovL3VuaWNvZGUub3JnL3JlcG9ydHMvdHIzNS90cjM1LWRhdGVzLmh0bWwjRGF0ZV9GaWVsZF9TeW1ib2xfVGFibGVcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSBza2VsZXRvbiBza2VsZXRvbiBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGF0ZVRpbWVTa2VsZXRvbihza2VsZXRvbikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBza2VsZXRvbi5yZXBsYWNlKERBVEVfVElNRV9SRUdFWCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgIHZhciBsZW4gPSBtYXRjaC5sZW5ndGg7XG4gICAgICAgIHN3aXRjaCAobWF0Y2hbMF0pIHtcbiAgICAgICAgICAgIC8vIEVyYVxuICAgICAgICAgICAgY2FzZSAnRyc6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmVyYSA9IGxlbiA9PT0gNCA/ICdsb25nJyA6IGxlbiA9PT0gNSA/ICduYXJyb3cnIDogJ3Nob3J0JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIFllYXJcbiAgICAgICAgICAgIGNhc2UgJ3knOlxuICAgICAgICAgICAgICAgIHJlc3VsdC55ZWFyID0gbGVuID09PSAyID8gJzItZGlnaXQnIDogJ251bWVyaWMnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnWSc6XG4gICAgICAgICAgICBjYXNlICd1JzpcbiAgICAgICAgICAgIGNhc2UgJ1UnOlxuICAgICAgICAgICAgY2FzZSAncic6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2BZL3UvVS9yYCAoeWVhcikgcGF0dGVybnMgYXJlIG5vdCBzdXBwb3J0ZWQsIHVzZSBgeWAgaW5zdGVhZCcpO1xuICAgICAgICAgICAgLy8gUXVhcnRlclxuICAgICAgICAgICAgY2FzZSAncSc6XG4gICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYHEvUWAgKHF1YXJ0ZXIpIHBhdHRlcm5zIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICAvLyBNb250aFxuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICByZXN1bHQubW9udGggPSBbJ251bWVyaWMnLCAnMi1kaWdpdCcsICdzaG9ydCcsICdsb25nJywgJ25hcnJvdyddW2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gV2Vla1xuICAgICAgICAgICAgY2FzZSAndyc6XG4gICAgICAgICAgICBjYXNlICdXJzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYHcvV2AgKHdlZWspIHBhdHRlcm5zIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICByZXN1bHQuZGF5ID0gWydudW1lcmljJywgJzItZGlnaXQnXVtsZW4gLSAxXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgY2FzZSAnRic6XG4gICAgICAgICAgICBjYXNlICdnJzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYEQvRi9nYCAoZGF5KSBwYXR0ZXJucyBhcmUgbm90IHN1cHBvcnRlZCwgdXNlIGBkYCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICAvLyBXZWVrZGF5XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXN1bHQud2Vla2RheSA9IGxlbiA9PT0gNCA/ICdsb25nJyA6IGxlbiA9PT0gNSA/ICduYXJyb3cnIDogJ3Nob3J0JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2UnOlxuICAgICAgICAgICAgICAgIGlmIChsZW4gPCA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdgZS4uZWVlYCAod2Vla2RheSkgcGF0dGVybnMgYXJlIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LndlZWtkYXkgPSBbJ3Nob3J0JywgJ2xvbmcnLCAnbmFycm93JywgJ3Nob3J0J11bbGVuIC0gNF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICBpZiAobGVuIDwgNCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYGMuLmNjY2AgKHdlZWtkYXkpIHBhdHRlcm5zIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdC53ZWVrZGF5ID0gWydzaG9ydCcsICdsb25nJywgJ25hcnJvdycsICdzaG9ydCddW2xlbiAtIDRdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gUGVyaW9kXG4gICAgICAgICAgICBjYXNlICdhJzogLy8gQU0sIFBNXG4gICAgICAgICAgICAgICAgcmVzdWx0LmhvdXIxMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdiJzogLy8gYW0sIHBtLCBub29uLCBtaWRuaWdodFxuICAgICAgICAgICAgY2FzZSAnQic6IC8vIGZsZXhpYmxlIGRheSBwZXJpb2RzXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2BiL0JgIChwZXJpb2QpIHBhdHRlcm5zIGFyZSBub3Qgc3VwcG9ydGVkLCB1c2UgYGFgIGluc3RlYWQnKTtcbiAgICAgICAgICAgIC8vIEhvdXJcbiAgICAgICAgICAgIGNhc2UgJ2gnOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5ob3VyQ3ljbGUgPSAnaDEyJztcbiAgICAgICAgICAgICAgICByZXN1bHQuaG91ciA9IFsnbnVtZXJpYycsICcyLWRpZ2l0J11bbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICByZXN1bHQuaG91ckN5Y2xlID0gJ2gyMyc7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmhvdXIgPSBbJ251bWVyaWMnLCAnMi1kaWdpdCddW2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSyc6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmhvdXJDeWNsZSA9ICdoMTEnO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5ob3VyID0gWydudW1lcmljJywgJzItZGlnaXQnXVtsZW4gLSAxXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2snOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5ob3VyQ3ljbGUgPSAnaDI0JztcbiAgICAgICAgICAgICAgICByZXN1bHQuaG91ciA9IFsnbnVtZXJpYycsICcyLWRpZ2l0J11bbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdqJzpcbiAgICAgICAgICAgIGNhc2UgJ0onOlxuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2BqL0ovQ2AgKGhvdXIpIHBhdHRlcm5zIGFyZSBub3Qgc3VwcG9ydGVkLCB1c2UgYGgvSC9LL2tgIGluc3RlYWQnKTtcbiAgICAgICAgICAgIC8vIE1pbnV0ZVxuICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgcmVzdWx0Lm1pbnV0ZSA9IFsnbnVtZXJpYycsICcyLWRpZ2l0J11bbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBTZWNvbmRcbiAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5zZWNvbmQgPSBbJ251bWVyaWMnLCAnMi1kaWdpdCddW2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYFMvQWAgKHNlY29uZCkgcGF0dGVybnMgYXJlIG5vdCBzdXBwb3J0ZWQsIHVzZSBgc2AgaW5zdGVhZCcpO1xuICAgICAgICAgICAgLy8gWm9uZVxuICAgICAgICAgICAgY2FzZSAneic6IC8vIDEuLjMsIDQ6IHNwZWNpZmljIG5vbi1sb2NhdGlvbiBmb3JtYXRcbiAgICAgICAgICAgICAgICByZXN1bHQudGltZVpvbmVOYW1lID0gbGVuIDwgNCA/ICdzaG9ydCcgOiAnbG9uZyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdaJzogLy8gMS4uMywgNCwgNTogVGhlIElTTzg2MDEgdmFyaW9zIGZvcm1hdHNcbiAgICAgICAgICAgIGNhc2UgJ08nOiAvLyAxLCA0OiBtaWxsaXNlY29uZHMgaW4gZGF5IHNob3J0LCBsb25nXG4gICAgICAgICAgICBjYXNlICd2JzogLy8gMSwgNDogZ2VuZXJpYyBub24tbG9jYXRpb24gZm9ybWF0XG4gICAgICAgICAgICBjYXNlICdWJzogLy8gMSwgMiwgMywgNDogdGltZSB6b25lIElEIG9yIGNpdHlcbiAgICAgICAgICAgIGNhc2UgJ1gnOiAvLyAxLCAyLCAzLCA0OiBUaGUgSVNPODYwMSB2YXJpb3MgZm9ybWF0c1xuICAgICAgICAgICAgY2FzZSAneCc6IC8vIDEsIDIsIDMsIDQ6IFRoZSBJU084NjAxIHZhcmlvcyBmb3JtYXRzXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2BaL08vdi9WL1gveGAgKHRpbWVab25lKSBwYXR0ZXJucyBhcmUgbm90IHN1cHBvcnRlZCwgdXNlIGB6YCBpbnN0ZWFkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Q0FJQzs7O0FBQ0QsSUFBSSxrQkFBa0I7QUFPZixTQUFTLHNCQUFzQixRQUFRO0lBQzFDLElBQUksU0FBUyxDQUFDO0lBQ2QsU0FBUyxPQUFPLENBQUMsaUJBQWlCLFNBQVUsS0FBSztRQUM3QyxJQUFJLE1BQU0sTUFBTSxNQUFNO1FBQ3RCLE9BQVEsS0FBSyxDQUFDLEVBQUU7WUFDWixNQUFNO1lBQ04sS0FBSztnQkFDRCxPQUFPLEdBQUcsR0FBRyxRQUFRLElBQUksU0FBUyxRQUFRLElBQUksV0FBVztnQkFDekQ7WUFDSixPQUFPO1lBQ1AsS0FBSztnQkFDRCxPQUFPLElBQUksR0FBRyxRQUFRLElBQUksWUFBWTtnQkFDdEM7WUFDSixLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO2dCQUNELE1BQU0sSUFBSSxXQUFXO1lBQ3pCLFVBQVU7WUFDVixLQUFLO1lBQ0wsS0FBSztnQkFDRCxNQUFNLElBQUksV0FBVztZQUN6QixRQUFRO1lBQ1IsS0FBSztZQUNMLEtBQUs7Z0JBQ0QsT0FBTyxLQUFLLEdBQUc7b0JBQUM7b0JBQVc7b0JBQVc7b0JBQVM7b0JBQVE7aUJBQVMsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3pFO1lBQ0osT0FBTztZQUNQLEtBQUs7WUFDTCxLQUFLO2dCQUNELE1BQU0sSUFBSSxXQUFXO1lBQ3pCLEtBQUs7Z0JBQ0QsT0FBTyxHQUFHLEdBQUc7b0JBQUM7b0JBQVc7aUJBQVUsQ0FBQyxNQUFNLEVBQUU7Z0JBQzVDO1lBQ0osS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO2dCQUNELE1BQU0sSUFBSSxXQUFXO1lBQ3pCLFVBQVU7WUFDVixLQUFLO2dCQUNELE9BQU8sT0FBTyxHQUFHLFFBQVEsSUFBSSxTQUFTLFFBQVEsSUFBSSxXQUFXO2dCQUM3RDtZQUNKLEtBQUs7Z0JBQ0QsSUFBSSxNQUFNLEdBQUc7b0JBQ1QsTUFBTSxJQUFJLFdBQVc7Z0JBQ3pCO2dCQUNBLE9BQU8sT0FBTyxHQUFHO29CQUFDO29CQUFTO29CQUFRO29CQUFVO2lCQUFRLENBQUMsTUFBTSxFQUFFO2dCQUM5RDtZQUNKLEtBQUs7Z0JBQ0QsSUFBSSxNQUFNLEdBQUc7b0JBQ1QsTUFBTSxJQUFJLFdBQVc7Z0JBQ3pCO2dCQUNBLE9BQU8sT0FBTyxHQUFHO29CQUFDO29CQUFTO29CQUFRO29CQUFVO2lCQUFRLENBQUMsTUFBTSxFQUFFO2dCQUM5RDtZQUNKLFNBQVM7WUFDVCxLQUFLO2dCQUNELE9BQU8sTUFBTSxHQUFHO2dCQUNoQjtZQUNKLEtBQUs7WUFDTCxLQUFLO2dCQUNELE1BQU0sSUFBSSxXQUFXO1lBQ3pCLE9BQU87WUFDUCxLQUFLO2dCQUNELE9BQU8sU0FBUyxHQUFHO2dCQUNuQixPQUFPLElBQUksR0FBRztvQkFBQztvQkFBVztpQkFBVSxDQUFDLE1BQU0sRUFBRTtnQkFDN0M7WUFDSixLQUFLO2dCQUNELE9BQU8sU0FBUyxHQUFHO2dCQUNuQixPQUFPLElBQUksR0FBRztvQkFBQztvQkFBVztpQkFBVSxDQUFDLE1BQU0sRUFBRTtnQkFDN0M7WUFDSixLQUFLO2dCQUNELE9BQU8sU0FBUyxHQUFHO2dCQUNuQixPQUFPLElBQUksR0FBRztvQkFBQztvQkFBVztpQkFBVSxDQUFDLE1BQU0sRUFBRTtnQkFDN0M7WUFDSixLQUFLO2dCQUNELE9BQU8sU0FBUyxHQUFHO2dCQUNuQixPQUFPLElBQUksR0FBRztvQkFBQztvQkFBVztpQkFBVSxDQUFDLE1BQU0sRUFBRTtnQkFDN0M7WUFDSixLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7Z0JBQ0QsTUFBTSxJQUFJLFdBQVc7WUFDekIsU0FBUztZQUNULEtBQUs7Z0JBQ0QsT0FBTyxNQUFNLEdBQUc7b0JBQUM7b0JBQVc7aUJBQVUsQ0FBQyxNQUFNLEVBQUU7Z0JBQy9DO1lBQ0osU0FBUztZQUNULEtBQUs7Z0JBQ0QsT0FBTyxNQUFNLEdBQUc7b0JBQUM7b0JBQVc7aUJBQVUsQ0FBQyxNQUFNLEVBQUU7Z0JBQy9DO1lBQ0osS0FBSztZQUNMLEtBQUs7Z0JBQ0QsTUFBTSxJQUFJLFdBQVc7WUFDekIsT0FBTztZQUNQLEtBQUs7Z0JBQ0QsT0FBTyxZQUFZLEdBQUcsTUFBTSxJQUFJLFVBQVU7Z0JBQzFDO1lBQ0osS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO2dCQUNELE1BQU0sSUFBSSxXQUFXO1FBQzdCO1FBQ0EsT0FBTztJQUNYO0lBQ0EsT0FBTztBQUNYIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDM2NzQsICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvJTQwZm9ybWF0anMvaWN1LXNrZWxldG9uLXBhcnNlci9saWIvcmVnZXguZ2VuZXJhdGVkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBnZW5lcmF0ZWQgZnJvbSByZWdleC1nZW4udHNcbmV4cG9ydCB2YXIgV0hJVEVfU1BBQ0VfUkVHRVggPSAvW1xcdC1cXHIgXFx4ODVcXHUyMDBFXFx1MjAwRlxcdTIwMjhcXHUyMDI5XS9pO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtCQUErQjs7OztBQUN4QixJQUFJLG9CQUFvQiIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAzNjgzLCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzLyU0MGZvcm1hdGpzL2ljdS1za2VsZXRvbi1wYXJzZXIvbGliL251bWJlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgV0hJVEVfU1BBQ0VfUkVHRVggfSBmcm9tICcuL3JlZ2V4LmdlbmVyYXRlZCc7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdW1iZXJTa2VsZXRvbkZyb21TdHJpbmcoc2tlbGV0b24pIHtcbiAgICBpZiAoc2tlbGV0b24ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTnVtYmVyIHNrZWxldG9uIGNhbm5vdCBiZSBlbXB0eScpO1xuICAgIH1cbiAgICAvLyBQYXJzZSB0aGUgc2tlbGV0b25cbiAgICB2YXIgc3RyaW5nVG9rZW5zID0gc2tlbGV0b25cbiAgICAgICAgLnNwbGl0KFdISVRFX1NQQUNFX1JFR0VYKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4Lmxlbmd0aCA+IDA7IH0pO1xuICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIHN0cmluZ1Rva2Vuc18xID0gc3RyaW5nVG9rZW5zOyBfaSA8IHN0cmluZ1Rva2Vuc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgc3RyaW5nVG9rZW4gPSBzdHJpbmdUb2tlbnNfMVtfaV07XG4gICAgICAgIHZhciBzdGVtQW5kT3B0aW9ucyA9IHN0cmluZ1Rva2VuLnNwbGl0KCcvJyk7XG4gICAgICAgIGlmIChzdGVtQW5kT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBudW1iZXIgc2tlbGV0b24nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RlbSA9IHN0ZW1BbmRPcHRpb25zWzBdLCBvcHRpb25zID0gc3RlbUFuZE9wdGlvbnMuc2xpY2UoMSk7XG4gICAgICAgIGZvciAodmFyIF9hID0gMCwgb3B0aW9uc18xID0gb3B0aW9uczsgX2EgPCBvcHRpb25zXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc18xW19hXTtcbiAgICAgICAgICAgIGlmIChvcHRpb24ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG51bWJlciBza2VsZXRvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRva2Vucy5wdXNoKHsgc3RlbTogc3RlbSwgb3B0aW9uczogb3B0aW9ucyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2Vucztcbn1cbmZ1bmN0aW9uIGljdVVuaXRUb0VjbWEodW5pdCkge1xuICAgIHJldHVybiB1bml0LnJlcGxhY2UoL14oLio/KS0vLCAnJyk7XG59XG52YXIgRlJBQ1RJT05fUFJFQ0lTSU9OX1JFR0VYID0gL15cXC4oPzooMCspKFxcKik/fCgjKyl8KDArKSgjKykpJC9nO1xudmFyIFNJR05JRklDQU5UX1BSRUNJU0lPTl9SRUdFWCA9IC9eKEArKT8oXFwrfCMrKT9bcnNdPyQvZztcbnZhciBJTlRFR0VSX1dJRFRIX1JFR0VYID0gLyhcXCopKDArKXwoIyspKDArKXwoMCspL2c7XG52YXIgQ09OQ0lTRV9JTlRFR0VSX1dJRFRIX1JFR0VYID0gL14oMCspJC87XG5mdW5jdGlvbiBwYXJzZVNpZ25pZmljYW50UHJlY2lzaW9uKHN0cikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAoc3RyW3N0ci5sZW5ndGggLSAxXSA9PT0gJ3InKSB7XG4gICAgICAgIHJlc3VsdC5yb3VuZGluZ1ByaW9yaXR5ID0gJ21vcmVQcmVjaXNpb24nO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdHJbc3RyLmxlbmd0aCAtIDFdID09PSAncycpIHtcbiAgICAgICAgcmVzdWx0LnJvdW5kaW5nUHJpb3JpdHkgPSAnbGVzc1ByZWNpc2lvbic7XG4gICAgfVxuICAgIHN0ci5yZXBsYWNlKFNJR05JRklDQU5UX1BSRUNJU0lPTl9SRUdFWCwgZnVuY3Rpb24gKF8sIGcxLCBnMikge1xuICAgICAgICAvLyBAQEAgY2FzZVxuICAgICAgICBpZiAodHlwZW9mIGcyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVzdWx0Lm1pbmltdW1TaWduaWZpY2FudERpZ2l0cyA9IGcxLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMgPSBnMS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQEBAKyBjYXNlXG4gICAgICAgIGVsc2UgaWYgKGcyID09PSAnKycpIHtcbiAgICAgICAgICAgIHJlc3VsdC5taW5pbXVtU2lnbmlmaWNhbnREaWdpdHMgPSBnMS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gLiMjIyBjYXNlXG4gICAgICAgIGVsc2UgaWYgKGcxWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMgPSBnMS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gLkBAIyMgb3IgLkBAQCBjYXNlXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0Lm1pbmltdW1TaWduaWZpY2FudERpZ2l0cyA9IGcxLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMgPVxuICAgICAgICAgICAgICAgIGcxLmxlbmd0aCArICh0eXBlb2YgZzIgPT09ICdzdHJpbmcnID8gZzIubGVuZ3RoIDogMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBwYXJzZVNpZ24oc3RyKSB7XG4gICAgc3dpdGNoIChzdHIpIHtcbiAgICAgICAgY2FzZSAnc2lnbi1hdXRvJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2lnbkRpc3BsYXk6ICdhdXRvJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3NpZ24tYWNjb3VudGluZyc6XG4gICAgICAgIGNhc2UgJygpJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY3VycmVuY3lTaWduOiAnYWNjb3VudGluZycsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdzaWduLWFsd2F5cyc6XG4gICAgICAgIGNhc2UgJyshJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2lnbkRpc3BsYXk6ICdhbHdheXMnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnc2lnbi1hY2NvdW50aW5nLWFsd2F5cyc6XG4gICAgICAgIGNhc2UgJygpISc6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNpZ25EaXNwbGF5OiAnYWx3YXlzJyxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeVNpZ246ICdhY2NvdW50aW5nJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3NpZ24tZXhjZXB0LXplcm8nOlxuICAgICAgICBjYXNlICcrPyc6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNpZ25EaXNwbGF5OiAnZXhjZXB0WmVybycsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdzaWduLWFjY291bnRpbmctZXhjZXB0LXplcm8nOlxuICAgICAgICBjYXNlICcoKT8nOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaWduRGlzcGxheTogJ2V4Y2VwdFplcm8nLFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5U2lnbjogJ2FjY291bnRpbmcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnc2lnbi1uZXZlcic6XG4gICAgICAgIGNhc2UgJytfJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2lnbkRpc3BsYXk6ICduZXZlcicsXG4gICAgICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlQ29uY2lzZVNjaWVudGlmaWNBbmRFbmdpbmVlcmluZ1N0ZW0oc3RlbSkge1xuICAgIC8vIEVuZ2luZWVyaW5nXG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoc3RlbVswXSA9PT0gJ0UnICYmIHN0ZW1bMV0gPT09ICdFJykge1xuICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBub3RhdGlvbjogJ2VuZ2luZWVyaW5nJyxcbiAgICAgICAgfTtcbiAgICAgICAgc3RlbSA9IHN0ZW0uc2xpY2UoMik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0ZW1bMF0gPT09ICdFJykge1xuICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBub3RhdGlvbjogJ3NjaWVudGlmaWMnLFxuICAgICAgICB9O1xuICAgICAgICBzdGVtID0gc3RlbS5zbGljZSgxKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB2YXIgc2lnbkRpc3BsYXkgPSBzdGVtLnNsaWNlKDAsIDIpO1xuICAgICAgICBpZiAoc2lnbkRpc3BsYXkgPT09ICcrIScpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zaWduRGlzcGxheSA9ICdhbHdheXMnO1xuICAgICAgICAgICAgc3RlbSA9IHN0ZW0uc2xpY2UoMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2lnbkRpc3BsYXkgPT09ICcrPycpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zaWduRGlzcGxheSA9ICdleGNlcHRaZXJvJztcbiAgICAgICAgICAgIHN0ZW0gPSBzdGVtLnNsaWNlKDIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQ09OQ0lTRV9JTlRFR0VSX1dJRFRIX1JFR0VYLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIGNvbmNpc2UgZW5nL3NjaWVudGlmaWMgbm90YXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubWluaW11bUludGVnZXJEaWdpdHMgPSBzdGVtLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHBhcnNlTm90YXRpb25PcHRpb25zKG9wdCkge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIgc2lnbk9wdHMgPSBwYXJzZVNpZ24ob3B0KTtcbiAgICBpZiAoc2lnbk9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHNpZ25PcHRzO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdW5pY29kZS1vcmcvaWN1L2Jsb2IvbWFzdGVyL2RvY3MvdXNlcmd1aWRlL2Zvcm1hdF9wYXJzZS9udW1iZXJzL3NrZWxldG9ucy5tZCNza2VsZXRvbi1zdGVtcy1hbmQtb3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdW1iZXJTa2VsZXRvbih0b2tlbnMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgX2kgPSAwLCB0b2tlbnNfMSA9IHRva2VuczsgX2kgPCB0b2tlbnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zXzFbX2ldO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnN0ZW0pIHtcbiAgICAgICAgICAgIGNhc2UgJ3BlcmNlbnQnOlxuICAgICAgICAgICAgY2FzZSAnJSc6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnN0eWxlID0gJ3BlcmNlbnQnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSAnJXgxMDAnOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5zdHlsZSA9ICdwZXJjZW50JztcbiAgICAgICAgICAgICAgICByZXN1bHQuc2NhbGUgPSAxMDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlICdjdXJyZW5jeSc6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnN0eWxlID0gJ2N1cnJlbmN5JztcbiAgICAgICAgICAgICAgICByZXN1bHQuY3VycmVuY3kgPSB0b2tlbi5vcHRpb25zWzBdO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSAnZ3JvdXAtb2ZmJzpcbiAgICAgICAgICAgIGNhc2UgJyxfJzpcbiAgICAgICAgICAgICAgICByZXN1bHQudXNlR3JvdXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgJ3ByZWNpc2lvbi1pbnRlZ2VyJzpcbiAgICAgICAgICAgIGNhc2UgJy4nOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5tYXhpbXVtRnJhY3Rpb25EaWdpdHMgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSAnbWVhc3VyZS11bml0JzpcbiAgICAgICAgICAgIGNhc2UgJ3VuaXQnOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5zdHlsZSA9ICd1bml0JztcbiAgICAgICAgICAgICAgICByZXN1bHQudW5pdCA9IGljdVVuaXRUb0VjbWEodG9rZW4ub3B0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlICdjb21wYWN0LXNob3J0JzpcbiAgICAgICAgICAgIGNhc2UgJ0snOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5ub3RhdGlvbiA9ICdjb21wYWN0JztcbiAgICAgICAgICAgICAgICByZXN1bHQuY29tcGFjdERpc3BsYXkgPSAnc2hvcnQnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSAnY29tcGFjdC1sb25nJzpcbiAgICAgICAgICAgIGNhc2UgJ0tLJzpcbiAgICAgICAgICAgICAgICByZXN1bHQubm90YXRpb24gPSAnY29tcGFjdCc7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmNvbXBhY3REaXNwbGF5ID0gJ2xvbmcnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSAnc2NpZW50aWZpYyc6XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIHJlc3VsdCksIHsgbm90YXRpb246ICdzY2llbnRpZmljJyB9KSwgdG9rZW4ub3B0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgb3B0KSB7IHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIGFsbCksIHBhcnNlTm90YXRpb25PcHRpb25zKG9wdCkpKTsgfSwge30pKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgJ2VuZ2luZWVyaW5nJzpcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVzdWx0KSwgeyBub3RhdGlvbjogJ2VuZ2luZWVyaW5nJyB9KSwgdG9rZW4ub3B0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgb3B0KSB7IHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIGFsbCksIHBhcnNlTm90YXRpb25PcHRpb25zKG9wdCkpKTsgfSwge30pKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgJ25vdGF0aW9uLXNpbXBsZSc6XG4gICAgICAgICAgICAgICAgcmVzdWx0Lm5vdGF0aW9uID0gJ3N0YW5kYXJkJztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bmljb2RlLW9yZy9pY3UvYmxvYi9tYXN0ZXIvaWN1NGMvc291cmNlL2kxOG4vdW5pY29kZS91bnVtYmVyZm9ybWF0dGVyLmhcbiAgICAgICAgICAgIGNhc2UgJ3VuaXQtd2lkdGgtbmFycm93JzpcbiAgICAgICAgICAgICAgICByZXN1bHQuY3VycmVuY3lEaXNwbGF5ID0gJ25hcnJvd1N5bWJvbCc7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnVuaXREaXNwbGF5ID0gJ25hcnJvdyc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlICd1bml0LXdpZHRoLXNob3J0JzpcbiAgICAgICAgICAgICAgICByZXN1bHQuY3VycmVuY3lEaXNwbGF5ID0gJ2NvZGUnO1xuICAgICAgICAgICAgICAgIHJlc3VsdC51bml0RGlzcGxheSA9ICdzaG9ydCc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlICd1bml0LXdpZHRoLWZ1bGwtbmFtZSc6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmN1cnJlbmN5RGlzcGxheSA9ICduYW1lJztcbiAgICAgICAgICAgICAgICByZXN1bHQudW5pdERpc3BsYXkgPSAnbG9uZyc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlICd1bml0LXdpZHRoLWlzby1jb2RlJzpcbiAgICAgICAgICAgICAgICByZXN1bHQuY3VycmVuY3lEaXNwbGF5ID0gJ3N5bWJvbCc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlICdzY2FsZSc6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNjYWxlID0gcGFyc2VGbG9hdCh0b2tlbi5vcHRpb25zWzBdKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgJ3JvdW5kaW5nLW1vZGUtZmxvb3InOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5yb3VuZGluZ01vZGUgPSAnZmxvb3InO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSAncm91bmRpbmctbW9kZS1jZWlsaW5nJzpcbiAgICAgICAgICAgICAgICByZXN1bHQucm91bmRpbmdNb2RlID0gJ2NlaWwnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSAncm91bmRpbmctbW9kZS1kb3duJzpcbiAgICAgICAgICAgICAgICByZXN1bHQucm91bmRpbmdNb2RlID0gJ3RydW5jJztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgJ3JvdW5kaW5nLW1vZGUtdXAnOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5yb3VuZGluZ01vZGUgPSAnZXhwYW5kJztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgJ3JvdW5kaW5nLW1vZGUtaGFsZi1ldmVuJzpcbiAgICAgICAgICAgICAgICByZXN1bHQucm91bmRpbmdNb2RlID0gJ2hhbGZFdmVuJztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgJ3JvdW5kaW5nLW1vZGUtaGFsZi1kb3duJzpcbiAgICAgICAgICAgICAgICByZXN1bHQucm91bmRpbmdNb2RlID0gJ2hhbGZUcnVuYyc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlICdyb3VuZGluZy1tb2RlLWhhbGYtdXAnOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5yb3VuZGluZ01vZGUgPSAnaGFsZkV4cGFuZCc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvLyBodHRwczovL3VuaWNvZGUtb3JnLmdpdGh1Yi5pby9pY3UvdXNlcmd1aWRlL2Zvcm1hdF9wYXJzZS9udW1iZXJzL3NrZWxldG9ucy5odG1sI2ludGVnZXItd2lkdGhcbiAgICAgICAgICAgIGNhc2UgJ2ludGVnZXItd2lkdGgnOlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5vcHRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2ludGVnZXItd2lkdGggc3RlbXMgb25seSBhY2NlcHQgYSBzaW5nbGUgb3B0aW9uYWwgb3B0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuLm9wdGlvbnNbMF0ucmVwbGFjZShJTlRFR0VSX1dJRFRIX1JFR0VYLCBmdW5jdGlvbiAoXywgZzEsIGcyLCBnMywgZzQsIGc1KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm1pbmltdW1JbnRlZ2VyRGlnaXRzID0gZzIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGczICYmIGc0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlIGN1cnJlbnRseSBkbyBub3Qgc3VwcG9ydCBtYXhpbXVtIGludGVnZXIgZGlnaXRzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZzUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2UgY3VycmVudGx5IGRvIG5vdCBzdXBwb3J0IGV4YWN0IGludGVnZXIgZGlnaXRzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGh0dHBzOi8vdW5pY29kZS1vcmcuZ2l0aHViLmlvL2ljdS91c2VyZ3VpZGUvZm9ybWF0X3BhcnNlL251bWJlcnMvc2tlbGV0b25zLmh0bWwjaW50ZWdlci13aWR0aFxuICAgICAgICBpZiAoQ09OQ0lTRV9JTlRFR0VSX1dJRFRIX1JFR0VYLnRlc3QodG9rZW4uc3RlbSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5taW5pbXVtSW50ZWdlckRpZ2l0cyA9IHRva2VuLnN0ZW0ubGVuZ3RoO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEZSQUNUSU9OX1BSRUNJU0lPTl9SRUdFWC50ZXN0KHRva2VuLnN0ZW0pKSB7XG4gICAgICAgICAgICAvLyBQcmVjaXNpb25cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdW5pY29kZS1vcmcuZ2l0aHViLmlvL2ljdS91c2VyZ3VpZGUvZm9ybWF0X3BhcnNlL251bWJlcnMvc2tlbGV0b25zLmh0bWwjZnJhY3Rpb24tcHJlY2lzaW9uXG4gICAgICAgICAgICAvLyBwcmVjaXNpb24taW50ZWdlciBjYXNlXG4gICAgICAgICAgICBpZiAodG9rZW4ub3B0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ZyYWN0aW9uLXByZWNpc2lvbiBzdGVtcyBvbmx5IGFjY2VwdCBhIHNpbmdsZSBvcHRpb25hbCBvcHRpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuLnN0ZW0ucmVwbGFjZShGUkFDVElPTl9QUkVDSVNJT05fUkVHRVgsIGZ1bmN0aW9uIChfLCBnMSwgZzIsIGczLCBnNCwgZzUpIHtcbiAgICAgICAgICAgICAgICAvLyAuMDAwKiBjYXNlIChiZWZvcmUgSUNVNjcgaXQgd2FzIC4wMDArKVxuICAgICAgICAgICAgICAgIGlmIChnMiA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5taW5pbXVtRnJhY3Rpb25EaWdpdHMgPSBnMS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4jIyMgY2FzZVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGczICYmIGczWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm1heGltdW1GcmFjdGlvbkRpZ2l0cyA9IGczLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLjAwIyMgY2FzZVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGc0ICYmIGc1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5taW5pbXVtRnJhY3Rpb25EaWdpdHMgPSBnNC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5tYXhpbXVtRnJhY3Rpb25EaWdpdHMgPSBnNC5sZW5ndGggKyBnNS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQubWluaW11bUZyYWN0aW9uRGlnaXRzID0gZzEubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQubWF4aW11bUZyYWN0aW9uRGlnaXRzID0gZzEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBvcHQgPSB0b2tlbi5vcHRpb25zWzBdO1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly91bmljb2RlLW9yZy5naXRodWIuaW8vaWN1L3VzZXJndWlkZS9mb3JtYXRfcGFyc2UvbnVtYmVycy9za2VsZXRvbnMuaHRtbCN0cmFpbGluZy16ZXJvLWRpc3BsYXlcbiAgICAgICAgICAgIGlmIChvcHQgPT09ICd3Jykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXN1bHQpLCB7IHRyYWlsaW5nWmVyb0Rpc3BsYXk6ICdzdHJpcElmSW50ZWdlcicgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVzdWx0KSwgcGFyc2VTaWduaWZpY2FudFByZWNpc2lvbihvcHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGh0dHBzOi8vdW5pY29kZS1vcmcuZ2l0aHViLmlvL2ljdS91c2VyZ3VpZGUvZm9ybWF0X3BhcnNlL251bWJlcnMvc2tlbGV0b25zLmh0bWwjc2lnbmlmaWNhbnQtZGlnaXRzLXByZWNpc2lvblxuICAgICAgICBpZiAoU0lHTklGSUNBTlRfUFJFQ0lTSU9OX1JFR0VYLnRlc3QodG9rZW4uc3RlbSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXN1bHQpLCBwYXJzZVNpZ25pZmljYW50UHJlY2lzaW9uKHRva2VuLnN0ZW0pKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaWduT3B0cyA9IHBhcnNlU2lnbih0b2tlbi5zdGVtKTtcbiAgICAgICAgaWYgKHNpZ25PcHRzKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVzdWx0KSwgc2lnbk9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25jaXNlU2NpZW50aWZpY0FuZEVuZ2luZWVyaW5nT3B0cyA9IHBhcnNlQ29uY2lzZVNjaWVudGlmaWNBbmRFbmdpbmVlcmluZ1N0ZW0odG9rZW4uc3RlbSk7XG4gICAgICAgIGlmIChjb25jaXNlU2NpZW50aWZpY0FuZEVuZ2luZWVyaW5nT3B0cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlc3VsdCksIGNvbmNpc2VTY2llbnRpZmljQW5kRW5naW5lZXJpbmdPcHRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBOzs7QUFDTyxTQUFTLDhCQUE4QixRQUFRO0lBQ2xELElBQUksU0FBUyxNQUFNLEtBQUssR0FBRztRQUN2QixNQUFNLElBQUksTUFBTTtJQUNwQjtJQUNBLHFCQUFxQjtJQUNyQixJQUFJLGVBQWUsU0FDZCxLQUFLLENBQUMsb0xBQUEsQ0FBQSxvQkFBaUIsRUFDdkIsTUFBTSxDQUFDLFNBQVUsQ0FBQztRQUFJLE9BQU8sRUFBRSxNQUFNLEdBQUc7SUFBRztJQUNoRCxJQUFJLFNBQVMsRUFBRTtJQUNmLElBQUssSUFBSSxLQUFLLEdBQUcsaUJBQWlCLGNBQWMsS0FBSyxlQUFlLE1BQU0sRUFBRSxLQUFNO1FBQzlFLElBQUksY0FBYyxjQUFjLENBQUMsR0FBRztRQUNwQyxJQUFJLGlCQUFpQixZQUFZLEtBQUssQ0FBQztRQUN2QyxJQUFJLGVBQWUsTUFBTSxLQUFLLEdBQUc7WUFDN0IsTUFBTSxJQUFJLE1BQU07UUFDcEI7UUFDQSxJQUFJLE9BQU8sY0FBYyxDQUFDLEVBQUUsRUFBRSxVQUFVLGVBQWUsS0FBSyxDQUFDO1FBQzdELElBQUssSUFBSSxLQUFLLEdBQUcsWUFBWSxTQUFTLEtBQUssVUFBVSxNQUFNLEVBQUUsS0FBTTtZQUMvRCxJQUFJLFNBQVMsU0FBUyxDQUFDLEdBQUc7WUFDMUIsSUFBSSxPQUFPLE1BQU0sS0FBSyxHQUFHO2dCQUNyQixNQUFNLElBQUksTUFBTTtZQUNwQjtRQUNKO1FBQ0EsT0FBTyxJQUFJLENBQUM7WUFBRSxNQUFNO1lBQU0sU0FBUztRQUFRO0lBQy9DO0lBQ0EsT0FBTztBQUNYO0FBQ0EsU0FBUyxjQUFjLElBQUk7SUFDdkIsT0FBTyxLQUFLLE9BQU8sQ0FBQyxXQUFXO0FBQ25DO0FBQ0EsSUFBSSwyQkFBMkI7QUFDL0IsSUFBSSw4QkFBOEI7QUFDbEMsSUFBSSxzQkFBc0I7QUFDMUIsSUFBSSw4QkFBOEI7QUFDbEMsU0FBUywwQkFBMEIsR0FBRztJQUNsQyxJQUFJLFNBQVMsQ0FBQztJQUNkLElBQUksR0FBRyxDQUFDLElBQUksTUFBTSxHQUFHLEVBQUUsS0FBSyxLQUFLO1FBQzdCLE9BQU8sZ0JBQWdCLEdBQUc7SUFDOUIsT0FDSyxJQUFJLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxFQUFFLEtBQUssS0FBSztRQUNsQyxPQUFPLGdCQUFnQixHQUFHO0lBQzlCO0lBQ0EsSUFBSSxPQUFPLENBQUMsNkJBQTZCLFNBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO1FBQ3hELFdBQVc7UUFDWCxJQUFJLE9BQU8sT0FBTyxVQUFVO1lBQ3hCLE9BQU8sd0JBQXdCLEdBQUcsR0FBRyxNQUFNO1lBQzNDLE9BQU8sd0JBQXdCLEdBQUcsR0FBRyxNQUFNO1FBQy9DLE9BRUssSUFBSSxPQUFPLEtBQUs7WUFDakIsT0FBTyx3QkFBd0IsR0FBRyxHQUFHLE1BQU07UUFDL0MsT0FFSyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEtBQUssS0FBSztZQUNwQixPQUFPLHdCQUF3QixHQUFHLEdBQUcsTUFBTTtRQUMvQyxPQUVLO1lBQ0QsT0FBTyx3QkFBd0IsR0FBRyxHQUFHLE1BQU07WUFDM0MsT0FBTyx3QkFBd0IsR0FDM0IsR0FBRyxNQUFNLEdBQUcsQ0FBQyxPQUFPLE9BQU8sV0FBVyxHQUFHLE1BQU0sR0FBRyxDQUFDO1FBQzNEO1FBQ0EsT0FBTztJQUNYO0lBQ0EsT0FBTztBQUNYO0FBQ0EsU0FBUyxVQUFVLEdBQUc7SUFDbEIsT0FBUTtRQUNKLEtBQUs7WUFDRCxPQUFPO2dCQUNILGFBQWE7WUFDakI7UUFDSixLQUFLO1FBQ0wsS0FBSztZQUNELE9BQU87Z0JBQ0gsY0FBYztZQUNsQjtRQUNKLEtBQUs7UUFDTCxLQUFLO1lBQ0QsT0FBTztnQkFDSCxhQUFhO1lBQ2pCO1FBQ0osS0FBSztRQUNMLEtBQUs7WUFDRCxPQUFPO2dCQUNILGFBQWE7Z0JBQ2IsY0FBYztZQUNsQjtRQUNKLEtBQUs7UUFDTCxLQUFLO1lBQ0QsT0FBTztnQkFDSCxhQUFhO1lBQ2pCO1FBQ0osS0FBSztRQUNMLEtBQUs7WUFDRCxPQUFPO2dCQUNILGFBQWE7Z0JBQ2IsY0FBYztZQUNsQjtRQUNKLEtBQUs7UUFDTCxLQUFLO1lBQ0QsT0FBTztnQkFDSCxhQUFhO1lBQ2pCO0lBQ1I7QUFDSjtBQUNBLFNBQVMseUNBQXlDLElBQUk7SUFDbEQsY0FBYztJQUNkLElBQUk7SUFDSixJQUFJLElBQUksQ0FBQyxFQUFFLEtBQUssT0FBTyxJQUFJLENBQUMsRUFBRSxLQUFLLEtBQUs7UUFDcEMsU0FBUztZQUNMLFVBQVU7UUFDZDtRQUNBLE9BQU8sS0FBSyxLQUFLLENBQUM7SUFDdEIsT0FDSyxJQUFJLElBQUksQ0FBQyxFQUFFLEtBQUssS0FBSztRQUN0QixTQUFTO1lBQ0wsVUFBVTtRQUNkO1FBQ0EsT0FBTyxLQUFLLEtBQUssQ0FBQztJQUN0QjtJQUNBLElBQUksUUFBUTtRQUNSLElBQUksY0FBYyxLQUFLLEtBQUssQ0FBQyxHQUFHO1FBQ2hDLElBQUksZ0JBQWdCLE1BQU07WUFDdEIsT0FBTyxXQUFXLEdBQUc7WUFDckIsT0FBTyxLQUFLLEtBQUssQ0FBQztRQUN0QixPQUNLLElBQUksZ0JBQWdCLE1BQU07WUFDM0IsT0FBTyxXQUFXLEdBQUc7WUFDckIsT0FBTyxLQUFLLEtBQUssQ0FBQztRQUN0QjtRQUNBLElBQUksQ0FBQyw0QkFBNEIsSUFBSSxDQUFDLE9BQU87WUFDekMsTUFBTSxJQUFJLE1BQU07UUFDcEI7UUFDQSxPQUFPLG9CQUFvQixHQUFHLEtBQUssTUFBTTtJQUM3QztJQUNBLE9BQU87QUFDWDtBQUNBLFNBQVMscUJBQXFCLEdBQUc7SUFDN0IsSUFBSSxTQUFTLENBQUM7SUFDZCxJQUFJLFdBQVcsVUFBVTtJQUN6QixJQUFJLFVBQVU7UUFDVixPQUFPO0lBQ1g7SUFDQSxPQUFPO0FBQ1g7QUFJTyxTQUFTLG9CQUFvQixNQUFNO0lBQ3RDLElBQUksU0FBUyxDQUFDO0lBQ2QsSUFBSyxJQUFJLEtBQUssR0FBRyxXQUFXLFFBQVEsS0FBSyxTQUFTLE1BQU0sRUFBRSxLQUFNO1FBQzVELElBQUksUUFBUSxRQUFRLENBQUMsR0FBRztRQUN4QixPQUFRLE1BQU0sSUFBSTtZQUNkLEtBQUs7WUFDTCxLQUFLO2dCQUNELE9BQU8sS0FBSyxHQUFHO2dCQUNmO1lBQ0osS0FBSztnQkFDRCxPQUFPLEtBQUssR0FBRztnQkFDZixPQUFPLEtBQUssR0FBRztnQkFDZjtZQUNKLEtBQUs7Z0JBQ0QsT0FBTyxLQUFLLEdBQUc7Z0JBQ2YsT0FBTyxRQUFRLEdBQUcsTUFBTSxPQUFPLENBQUMsRUFBRTtnQkFDbEM7WUFDSixLQUFLO1lBQ0wsS0FBSztnQkFDRCxPQUFPLFdBQVcsR0FBRztnQkFDckI7WUFDSixLQUFLO1lBQ0wsS0FBSztnQkFDRCxPQUFPLHFCQUFxQixHQUFHO2dCQUMvQjtZQUNKLEtBQUs7WUFDTCxLQUFLO2dCQUNELE9BQU8sS0FBSyxHQUFHO2dCQUNmLE9BQU8sSUFBSSxHQUFHLGNBQWMsTUFBTSxPQUFPLENBQUMsRUFBRTtnQkFDNUM7WUFDSixLQUFLO1lBQ0wsS0FBSztnQkFDRCxPQUFPLFFBQVEsR0FBRztnQkFDbEIsT0FBTyxjQUFjLEdBQUc7Z0JBQ3hCO1lBQ0osS0FBSztZQUNMLEtBQUs7Z0JBQ0QsT0FBTyxRQUFRLEdBQUc7Z0JBQ2xCLE9BQU8sY0FBYyxHQUFHO2dCQUN4QjtZQUNKLEtBQUs7Z0JBQ0QsU0FBUyxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFDLEdBQUcsU0FBUztvQkFBRSxVQUFVO2dCQUFhLElBQUksTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVUsR0FBRyxFQUFFLEdBQUc7b0JBQUksT0FBUSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFDLEdBQUcsTUFBTSxxQkFBcUI7Z0JBQVEsR0FBRyxDQUFDO2dCQUM5TDtZQUNKLEtBQUs7Z0JBQ0QsU0FBUyxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFDLEdBQUcsU0FBUztvQkFBRSxVQUFVO2dCQUFjLElBQUksTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVUsR0FBRyxFQUFFLEdBQUc7b0JBQUksT0FBUSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFDLEdBQUcsTUFBTSxxQkFBcUI7Z0JBQVEsR0FBRyxDQUFDO2dCQUMvTDtZQUNKLEtBQUs7Z0JBQ0QsT0FBTyxRQUFRLEdBQUc7Z0JBQ2xCO1lBQ0osOEZBQThGO1lBQzlGLEtBQUs7Z0JBQ0QsT0FBTyxlQUFlLEdBQUc7Z0JBQ3pCLE9BQU8sV0FBVyxHQUFHO2dCQUNyQjtZQUNKLEtBQUs7Z0JBQ0QsT0FBTyxlQUFlLEdBQUc7Z0JBQ3pCLE9BQU8sV0FBVyxHQUFHO2dCQUNyQjtZQUNKLEtBQUs7Z0JBQ0QsT0FBTyxlQUFlLEdBQUc7Z0JBQ3pCLE9BQU8sV0FBVyxHQUFHO2dCQUNyQjtZQUNKLEtBQUs7Z0JBQ0QsT0FBTyxlQUFlLEdBQUc7Z0JBQ3pCO1lBQ0osS0FBSztnQkFDRCxPQUFPLEtBQUssR0FBRyxXQUFXLE1BQU0sT0FBTyxDQUFDLEVBQUU7Z0JBQzFDO1lBQ0osS0FBSztnQkFDRCxPQUFPLFlBQVksR0FBRztnQkFDdEI7WUFDSixLQUFLO2dCQUNELE9BQU8sWUFBWSxHQUFHO2dCQUN0QjtZQUNKLEtBQUs7Z0JBQ0QsT0FBTyxZQUFZLEdBQUc7Z0JBQ3RCO1lBQ0osS0FBSztnQkFDRCxPQUFPLFlBQVksR0FBRztnQkFDdEI7WUFDSixLQUFLO2dCQUNELE9BQU8sWUFBWSxHQUFHO2dCQUN0QjtZQUNKLEtBQUs7Z0JBQ0QsT0FBTyxZQUFZLEdBQUc7Z0JBQ3RCO1lBQ0osS0FBSztnQkFDRCxPQUFPLFlBQVksR0FBRztnQkFDdEI7WUFDSixnR0FBZ0c7WUFDaEcsS0FBSztnQkFDRCxJQUFJLE1BQU0sT0FBTyxDQUFDLE1BQU0sR0FBRyxHQUFHO29CQUMxQixNQUFNLElBQUksV0FBVztnQkFDekI7Z0JBQ0EsTUFBTSxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsU0FBVSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7b0JBQ3pFLElBQUksSUFBSTt3QkFDSixPQUFPLG9CQUFvQixHQUFHLEdBQUcsTUFBTTtvQkFDM0MsT0FDSyxJQUFJLE1BQU0sSUFBSTt3QkFDZixNQUFNLElBQUksTUFBTTtvQkFDcEIsT0FDSyxJQUFJLElBQUk7d0JBQ1QsTUFBTSxJQUFJLE1BQU07b0JBQ3BCO29CQUNBLE9BQU87Z0JBQ1g7Z0JBQ0E7UUFDUjtRQUNBLGdHQUFnRztRQUNoRyxJQUFJLDRCQUE0QixJQUFJLENBQUMsTUFBTSxJQUFJLEdBQUc7WUFDOUMsT0FBTyxvQkFBb0IsR0FBRyxNQUFNLElBQUksQ0FBQyxNQUFNO1lBQy9DO1FBQ0o7UUFDQSxJQUFJLHlCQUF5QixJQUFJLENBQUMsTUFBTSxJQUFJLEdBQUc7WUFDM0MsWUFBWTtZQUNaLHFHQUFxRztZQUNyRyx5QkFBeUI7WUFDekIsSUFBSSxNQUFNLE9BQU8sQ0FBQyxNQUFNLEdBQUcsR0FBRztnQkFDMUIsTUFBTSxJQUFJLFdBQVc7WUFDekI7WUFDQSxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsMEJBQTBCLFNBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUN4RSx5Q0FBeUM7Z0JBQ3pDLElBQUksT0FBTyxLQUFLO29CQUNaLE9BQU8scUJBQXFCLEdBQUcsR0FBRyxNQUFNO2dCQUM1QyxPQUVLLElBQUksTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEtBQUs7b0JBQzFCLE9BQU8scUJBQXFCLEdBQUcsR0FBRyxNQUFNO2dCQUM1QyxPQUVLLElBQUksTUFBTSxJQUFJO29CQUNmLE9BQU8scUJBQXFCLEdBQUcsR0FBRyxNQUFNO29CQUN4QyxPQUFPLHFCQUFxQixHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsTUFBTTtnQkFDeEQsT0FDSztvQkFDRCxPQUFPLHFCQUFxQixHQUFHLEdBQUcsTUFBTTtvQkFDeEMsT0FBTyxxQkFBcUIsR0FBRyxHQUFHLE1BQU07Z0JBQzVDO2dCQUNBLE9BQU87WUFDWDtZQUNBLElBQUksTUFBTSxNQUFNLE9BQU8sQ0FBQyxFQUFFO1lBQzFCLHdHQUF3RztZQUN4RyxJQUFJLFFBQVEsS0FBSztnQkFDYixTQUFTLENBQUEsR0FBQSxzSUFBQSxDQUFBLFdBQVEsQUFBRCxFQUFFLENBQUEsR0FBQSxzSUFBQSxDQUFBLFdBQVEsQUFBRCxFQUFFLENBQUMsR0FBRyxTQUFTO29CQUFFLHFCQUFxQjtnQkFBaUI7WUFDcEYsT0FDSyxJQUFJLEtBQUs7Z0JBQ1YsU0FBUyxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxXQUFRLEFBQUQsRUFBRSxDQUFDLEdBQUcsU0FBUywwQkFBMEI7WUFDdEU7WUFDQTtRQUNKO1FBQ0EsK0dBQStHO1FBQy9HLElBQUksNEJBQTRCLElBQUksQ0FBQyxNQUFNLElBQUksR0FBRztZQUM5QyxTQUFTLENBQUEsR0FBQSxzSUFBQSxDQUFBLFdBQVEsQUFBRCxFQUFFLENBQUEsR0FBQSxzSUFBQSxDQUFBLFdBQVEsQUFBRCxFQUFFLENBQUMsR0FBRyxTQUFTLDBCQUEwQixNQUFNLElBQUk7WUFDNUU7UUFDSjtRQUNBLElBQUksV0FBVyxVQUFVLE1BQU0sSUFBSTtRQUNuQyxJQUFJLFVBQVU7WUFDVixTQUFTLENBQUEsR0FBQSxzSUFBQSxDQUFBLFdBQVEsQUFBRCxFQUFFLENBQUEsR0FBQSxzSUFBQSxDQUFBLFdBQVEsQUFBRCxFQUFFLENBQUMsR0FBRyxTQUFTO1FBQzVDO1FBQ0EsSUFBSSxzQ0FBc0MseUNBQXlDLE1BQU0sSUFBSTtRQUM3RixJQUFJLHFDQUFxQztZQUNyQyxTQUFTLENBQUEsR0FBQSxzSUFBQSxDQUFBLFdBQVEsQUFBRCxFQUFFLENBQUEsR0FBQSxzSUFBQSxDQUFBLFdBQVEsQUFBRCxFQUFFLENBQUMsR0FBRyxTQUFTO1FBQzVDO0lBQ0o7SUFDQSxPQUFPO0FBQ1giLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogNDAwMSwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy8lNDBmb3JtYXRqcy9pY3Utc2tlbGV0b24tcGFyc2VyL2xpYi9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2RhdGUtdGltZSc7XG5leHBvcnQgKiBmcm9tICcuL251bWJlcic7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0EiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogNDAxOCwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9pbnRsLW1lc3NhZ2Vmb3JtYXQvbGliL3NyYy9lcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmV4cG9ydCB2YXIgRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChFcnJvckNvZGUpIHtcbiAgICAvLyBXaGVuIHdlIGhhdmUgYSBwbGFjZWhvbGRlciBidXQgbm8gdmFsdWUgdG8gZm9ybWF0XG4gICAgRXJyb3JDb2RlW1wiTUlTU0lOR19WQUxVRVwiXSA9IFwiTUlTU0lOR19WQUxVRVwiO1xuICAgIC8vIFdoZW4gdmFsdWUgc3VwcGxpZWQgaXMgaW52YWxpZFxuICAgIEVycm9yQ29kZVtcIklOVkFMSURfVkFMVUVcIl0gPSBcIklOVkFMSURfVkFMVUVcIjtcbiAgICAvLyBXaGVuIHdlIG5lZWQgc3BlY2lmaWMgSW50bCBBUEkgYnV0IGl0J3Mgbm90IGF2YWlsYWJsZVxuICAgIEVycm9yQ29kZVtcIk1JU1NJTkdfSU5UTF9BUElcIl0gPSBcIk1JU1NJTkdfSU5UTF9BUElcIjtcbn0pKEVycm9yQ29kZSB8fCAoRXJyb3JDb2RlID0ge30pKTtcbnZhciBGb3JtYXRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRm9ybWF0RXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRm9ybWF0RXJyb3IobXNnLCBjb2RlLCBvcmlnaW5hbE1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbXNnKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgX3RoaXMub3JpZ2luYWxNZXNzYWdlID0gb3JpZ2luYWxNZXNzYWdlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZvcm1hdEVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW2Zvcm1hdGpzIEVycm9yOiBcIi5jb25jYXQodGhpcy5jb2RlLCBcIl0gXCIpLmNvbmNhdCh0aGlzLm1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIEZvcm1hdEVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0IHsgRm9ybWF0RXJyb3IgfTtcbnZhciBJbnZhbGlkVmFsdWVFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW52YWxpZFZhbHVlRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW52YWxpZFZhbHVlRXJyb3IodmFyaWFibGVJZCwgdmFsdWUsIG9wdGlvbnMsIG9yaWdpbmFsTWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgXCJJbnZhbGlkIHZhbHVlcyBmb3IgXFxcIlwiLmNvbmNhdCh2YXJpYWJsZUlkLCBcIlxcXCI6IFxcXCJcIikuY29uY2F0KHZhbHVlLCBcIlxcXCIuIE9wdGlvbnMgYXJlIFxcXCJcIikuY29uY2F0KE9iamVjdC5rZXlzKG9wdGlvbnMpLmpvaW4oJ1wiLCBcIicpLCBcIlxcXCJcIiksIEVycm9yQ29kZS5JTlZBTElEX1ZBTFVFLCBvcmlnaW5hbE1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBJbnZhbGlkVmFsdWVFcnJvcjtcbn0oRm9ybWF0RXJyb3IpKTtcbmV4cG9ydCB7IEludmFsaWRWYWx1ZUVycm9yIH07XG52YXIgSW52YWxpZFZhbHVlVHlwZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbnZhbGlkVmFsdWVUeXBlRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW52YWxpZFZhbHVlVHlwZUVycm9yKHZhbHVlLCB0eXBlLCBvcmlnaW5hbE1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIFwiVmFsdWUgZm9yIFxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIiBtdXN0IGJlIG9mIHR5cGUgXCIpLmNvbmNhdCh0eXBlKSwgRXJyb3JDb2RlLklOVkFMSURfVkFMVUUsIG9yaWdpbmFsTWVzc2FnZSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEludmFsaWRWYWx1ZVR5cGVFcnJvcjtcbn0oRm9ybWF0RXJyb3IpKTtcbmV4cG9ydCB7IEludmFsaWRWYWx1ZVR5cGVFcnJvciB9O1xudmFyIE1pc3NpbmdWYWx1ZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNaXNzaW5nVmFsdWVFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNaXNzaW5nVmFsdWVFcnJvcih2YXJpYWJsZUlkLCBvcmlnaW5hbE1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIFwiVGhlIGludGwgc3RyaW5nIGNvbnRleHQgdmFyaWFibGUgXFxcIlwiLmNvbmNhdCh2YXJpYWJsZUlkLCBcIlxcXCIgd2FzIG5vdCBwcm92aWRlZCB0byB0aGUgc3RyaW5nIFxcXCJcIikuY29uY2F0KG9yaWdpbmFsTWVzc2FnZSwgXCJcXFwiXCIpLCBFcnJvckNvZGUuTUlTU0lOR19WQUxVRSwgb3JpZ2luYWxNZXNzYWdlKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gTWlzc2luZ1ZhbHVlRXJyb3I7XG59KEZvcm1hdEVycm9yKSk7XG5leHBvcnQgeyBNaXNzaW5nVmFsdWVFcnJvciB9O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDTyxJQUFJO0FBQ1gsQ0FBQyxTQUFVLFNBQVM7SUFDaEIsb0RBQW9EO0lBQ3BELFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRztJQUM3QixpQ0FBaUM7SUFDakMsU0FBUyxDQUFDLGdCQUFnQixHQUFHO0lBQzdCLHdEQUF3RDtJQUN4RCxTQUFTLENBQUMsbUJBQW1CLEdBQUc7QUFDcEMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUMvQixJQUFJLGNBQTZCLFNBQVUsTUFBTTtJQUM3QyxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxZQUFTLEFBQUQsRUFBRSxhQUFhO0lBQ3ZCLFNBQVMsWUFBWSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQWU7UUFDM0MsSUFBSSxRQUFRLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRSxRQUFRLElBQUk7UUFDMUMsTUFBTSxJQUFJLEdBQUc7UUFDYixNQUFNLGVBQWUsR0FBRztRQUN4QixPQUFPO0lBQ1g7SUFDQSxZQUFZLFNBQVMsQ0FBQyxRQUFRLEdBQUc7UUFDN0IsT0FBTyxvQkFBb0IsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU87SUFDMUU7SUFDQSxPQUFPO0FBQ1gsRUFBRTs7QUFFRixJQUFJLG9CQUFtQyxTQUFVLE1BQU07SUFDbkQsQ0FBQSxHQUFBLHNJQUFBLENBQUEsWUFBUyxBQUFELEVBQUUsbUJBQW1CO0lBQzdCLFNBQVMsa0JBQWtCLFVBQVUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLGVBQWU7UUFDbEUsT0FBTyxPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsd0JBQXdCLE1BQU0sQ0FBQyxZQUFZLFVBQVUsTUFBTSxDQUFDLE9BQU8sc0JBQXNCLE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxTQUFTLE9BQU8sVUFBVSxhQUFhLEVBQUUsb0JBQW9CLElBQUk7SUFDeE47SUFDQSxPQUFPO0FBQ1gsRUFBRTs7QUFFRixJQUFJLHdCQUF1QyxTQUFVLE1BQU07SUFDdkQsQ0FBQSxHQUFBLHNJQUFBLENBQUEsWUFBUyxBQUFELEVBQUUsdUJBQXVCO0lBQ2pDLFNBQVMsc0JBQXNCLEtBQUssRUFBRSxJQUFJLEVBQUUsZUFBZTtRQUN2RCxPQUFPLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRSxlQUFlLE1BQU0sQ0FBQyxPQUFPLHVCQUF1QixNQUFNLENBQUMsT0FBTyxVQUFVLGFBQWEsRUFBRSxvQkFBb0IsSUFBSTtJQUNoSjtJQUNBLE9BQU87QUFDWCxFQUFFOztBQUVGLElBQUksb0JBQW1DLFNBQVUsTUFBTTtJQUNuRCxDQUFBLEdBQUEsc0lBQUEsQ0FBQSxZQUFTLEFBQUQsRUFBRSxtQkFBbUI7SUFDN0IsU0FBUyxrQkFBa0IsVUFBVSxFQUFFLGVBQWU7UUFDbEQsT0FBTyxPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsc0NBQXNDLE1BQU0sQ0FBQyxZQUFZLHdDQUF3QyxNQUFNLENBQUMsaUJBQWlCLE9BQU8sVUFBVSxhQUFhLEVBQUUsb0JBQW9CLElBQUk7SUFDOU07SUFDQSxPQUFPO0FBQ1gsRUFBRSIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiA0MDc4LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL2ludGwtbWVzc2FnZWZvcm1hdC9saWIvc3JjL2Zvcm1hdHRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcmd1bWVudEVsZW1lbnQsIGlzRGF0ZUVsZW1lbnQsIGlzRGF0ZVRpbWVTa2VsZXRvbiwgaXNMaXRlcmFsRWxlbWVudCwgaXNOdW1iZXJFbGVtZW50LCBpc051bWJlclNrZWxldG9uLCBpc1BsdXJhbEVsZW1lbnQsIGlzUG91bmRFbGVtZW50LCBpc1NlbGVjdEVsZW1lbnQsIGlzVGFnRWxlbWVudCwgaXNUaW1lRWxlbWVudCwgfSBmcm9tICdAZm9ybWF0anMvaWN1LW1lc3NhZ2Vmb3JtYXQtcGFyc2VyJztcbmltcG9ydCB7IEVycm9yQ29kZSwgRm9ybWF0RXJyb3IsIEludmFsaWRWYWx1ZUVycm9yLCBJbnZhbGlkVmFsdWVUeXBlRXJyb3IsIE1pc3NpbmdWYWx1ZUVycm9yLCB9IGZyb20gJy4vZXJyb3InO1xuZXhwb3J0IHZhciBQQVJUX1RZUEU7XG4oZnVuY3Rpb24gKFBBUlRfVFlQRSkge1xuICAgIFBBUlRfVFlQRVtQQVJUX1RZUEVbXCJsaXRlcmFsXCJdID0gMF0gPSBcImxpdGVyYWxcIjtcbiAgICBQQVJUX1RZUEVbUEFSVF9UWVBFW1wib2JqZWN0XCJdID0gMV0gPSBcIm9iamVjdFwiO1xufSkoUEFSVF9UWVBFIHx8IChQQVJUX1RZUEUgPSB7fSkpO1xuZnVuY3Rpb24gbWVyZ2VMaXRlcmFsKHBhcnRzKSB7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgIH1cbiAgICByZXR1cm4gcGFydHMucmVkdWNlKGZ1bmN0aW9uIChhbGwsIHBhcnQpIHtcbiAgICAgICAgdmFyIGxhc3RQYXJ0ID0gYWxsW2FsbC5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFsYXN0UGFydCB8fFxuICAgICAgICAgICAgbGFzdFBhcnQudHlwZSAhPT0gUEFSVF9UWVBFLmxpdGVyYWwgfHxcbiAgICAgICAgICAgIHBhcnQudHlwZSAhPT0gUEFSVF9UWVBFLmxpdGVyYWwpIHtcbiAgICAgICAgICAgIGFsbC5wdXNoKHBhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGFzdFBhcnQudmFsdWUgKz0gcGFydC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWxsO1xuICAgIH0sIFtdKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Zvcm1hdFhNTEVsZW1lbnRGbihlbCkge1xuICAgIHJldHVybiB0eXBlb2YgZWwgPT09ICdmdW5jdGlvbic7XG59XG4vLyBUT0RPKHNrZWxldG9uKTogYWRkIHNrZWxldG9uIHN1cHBvcnRcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRUb1BhcnRzKGVscywgbG9jYWxlcywgZm9ybWF0dGVycywgZm9ybWF0cywgdmFsdWVzLCBjdXJyZW50UGx1cmFsVmFsdWUsIFxuLy8gRm9yIGRlYnVnZ2luZ1xub3JpZ2luYWxNZXNzYWdlKSB7XG4gICAgLy8gSG90IHBhdGggZm9yIHN0cmFpZ2h0IHNpbXBsZSBtc2cgdHJhbnNsYXRpb25zXG4gICAgaWYgKGVscy5sZW5ndGggPT09IDEgJiYgaXNMaXRlcmFsRWxlbWVudChlbHNbMF0pKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogUEFSVF9UWVBFLmxpdGVyYWwsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGVsc1swXS52YWx1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIGVsc18xID0gZWxzOyBfaSA8IGVsc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgZWwgPSBlbHNfMVtfaV07XG4gICAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZyBwYXJ0cy5cbiAgICAgICAgaWYgKGlzTGl0ZXJhbEVsZW1lbnQoZWwpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUEFSVF9UWVBFLmxpdGVyYWwsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGVsLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBwYXJ0IGJlIGxpdGVyYWwgdHlwZT9cbiAgICAgICAgLy8gUmVwbGFjZSBgI2AgaW4gcGx1cmFsIHJ1bGVzIHdpdGggdGhlIGFjdHVhbCBudW1lcmljIHZhbHVlLlxuICAgICAgICBpZiAoaXNQb3VuZEVsZW1lbnQoZWwpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRQbHVyYWxWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFBBUlRfVFlQRS5saXRlcmFsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVycy5nZXROdW1iZXJGb3JtYXQobG9jYWxlcykuZm9ybWF0KGN1cnJlbnRQbHVyYWxWYWx1ZSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFyTmFtZSA9IGVsLnZhbHVlO1xuICAgICAgICAvLyBFbmZvcmNlIHRoYXQgYWxsIHJlcXVpcmVkIHZhbHVlcyBhcmUgcHJvdmlkZWQgYnkgdGhlIGNhbGxlci5cbiAgICAgICAgaWYgKCEodmFsdWVzICYmIHZhck5hbWUgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdWYWx1ZUVycm9yKHZhck5hbWUsIG9yaWdpbmFsTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzW3Zhck5hbWVdO1xuICAgICAgICBpZiAoaXNBcmd1bWVudEVsZW1lbnQoZWwpKSB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IFBBUlRfVFlQRS5saXRlcmFsIDogUEFSVF9UWVBFLm9iamVjdCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZvcm1hdCBwbHVyYWwgYW5kIHNlbGVjdCBwYXJ0cycgb3B0aW9uIOKAlCB3aGljaCBjYW4gYmUgYVxuICAgICAgICAvLyBuZXN0ZWQgcGF0dGVybiBzdHJ1Y3R1cmUuIFRoZSBjaG9vc2luZyBvZiB0aGUgb3B0aW9uIHRvIHVzZSBpc1xuICAgICAgICAvLyBhYnN0cmFjdGVkLWJ5IGFuZCBkZWxlZ2F0ZWQtdG8gdGhlIHBhcnQgaGVscGVyIG9iamVjdC5cbiAgICAgICAgaWYgKGlzRGF0ZUVsZW1lbnQoZWwpKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0eXBlb2YgZWwuc3R5bGUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBmb3JtYXRzLmRhdGVbZWwuc3R5bGVdXG4gICAgICAgICAgICAgICAgOiBpc0RhdGVUaW1lU2tlbGV0b24oZWwuc3R5bGUpXG4gICAgICAgICAgICAgICAgICAgID8gZWwuc3R5bGUucGFyc2VkT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQQVJUX1RZUEUubGl0ZXJhbCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVyc1xuICAgICAgICAgICAgICAgICAgICAuZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlcywgc3R5bGUpXG4gICAgICAgICAgICAgICAgICAgIC5mb3JtYXQodmFsdWUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNUaW1lRWxlbWVudChlbCkpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHR5cGVvZiBlbC5zdHlsZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGZvcm1hdHMudGltZVtlbC5zdHlsZV1cbiAgICAgICAgICAgICAgICA6IGlzRGF0ZVRpbWVTa2VsZXRvbihlbC5zdHlsZSlcbiAgICAgICAgICAgICAgICAgICAgPyBlbC5zdHlsZS5wYXJzZWRPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIDogZm9ybWF0cy50aW1lLm1lZGl1bTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQQVJUX1RZUEUubGl0ZXJhbCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVyc1xuICAgICAgICAgICAgICAgICAgICAuZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlcywgc3R5bGUpXG4gICAgICAgICAgICAgICAgICAgIC5mb3JtYXQodmFsdWUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdW1iZXJFbGVtZW50KGVsKSkge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gdHlwZW9mIGVsLnN0eWxlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gZm9ybWF0cy5udW1iZXJbZWwuc3R5bGVdXG4gICAgICAgICAgICAgICAgOiBpc051bWJlclNrZWxldG9uKGVsLnN0eWxlKVxuICAgICAgICAgICAgICAgICAgICA/IGVsLnN0eWxlLnBhcnNlZE9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoc3R5bGUgJiYgc3R5bGUuc2NhbGUpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChzdHlsZS5zY2FsZSB8fCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQQVJUX1RZUEUubGl0ZXJhbCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVyc1xuICAgICAgICAgICAgICAgICAgICAuZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZXMsIHN0eWxlKVxuICAgICAgICAgICAgICAgICAgICAuZm9ybWF0KHZhbHVlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVGFnRWxlbWVudChlbCkpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGVsLmNoaWxkcmVuLCB2YWx1ZV8xID0gZWwudmFsdWU7XG4gICAgICAgICAgICB2YXIgZm9ybWF0Rm4gPSB2YWx1ZXNbdmFsdWVfMV07XG4gICAgICAgICAgICBpZiAoIWlzRm9ybWF0WE1MRWxlbWVudEZuKGZvcm1hdEZuKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkVmFsdWVUeXBlRXJyb3IodmFsdWVfMSwgJ2Z1bmN0aW9uJywgb3JpZ2luYWxNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGZvcm1hdFRvUGFydHMoY2hpbGRyZW4sIGxvY2FsZXMsIGZvcm1hdHRlcnMsIGZvcm1hdHMsIHZhbHVlcywgY3VycmVudFBsdXJhbFZhbHVlKTtcbiAgICAgICAgICAgIHZhciBjaHVua3MgPSBmb3JtYXRGbihwYXJ0cy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAudmFsdWU7IH0pKTtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjaHVua3MpKSB7XG4gICAgICAgICAgICAgICAgY2h1bmtzID0gW2NodW5rc107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQucHVzaC5hcHBseShyZXN1bHQsIGNodW5rcy5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlb2YgYyA9PT0gJ3N0cmluZycgPyBQQVJUX1RZUEUubGl0ZXJhbCA6IFBBUlRfVFlQRS5vYmplY3QsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU2VsZWN0RWxlbWVudChlbCkpIHtcbiAgICAgICAgICAgIHZhciBvcHQgPSBlbC5vcHRpb25zW3ZhbHVlXSB8fCBlbC5vcHRpb25zLm90aGVyO1xuICAgICAgICAgICAgaWYgKCFvcHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFZhbHVlRXJyb3IoZWwudmFsdWUsIHZhbHVlLCBPYmplY3Qua2V5cyhlbC5vcHRpb25zKSwgb3JpZ2luYWxNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoLmFwcGx5KHJlc3VsdCwgZm9ybWF0VG9QYXJ0cyhvcHQudmFsdWUsIGxvY2FsZXMsIGZvcm1hdHRlcnMsIGZvcm1hdHMsIHZhbHVlcykpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUGx1cmFsRWxlbWVudChlbCkpIHtcbiAgICAgICAgICAgIHZhciBvcHQgPSBlbC5vcHRpb25zW1wiPVwiLmNvbmNhdCh2YWx1ZSldO1xuICAgICAgICAgICAgaWYgKCFvcHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUludGwuUGx1cmFsUnVsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEVycm9yKFwiSW50bC5QbHVyYWxSdWxlcyBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQuXFxuVHJ5IHBvbHlmaWxsaW5nIGl0IHVzaW5nIFxcXCJAZm9ybWF0anMvaW50bC1wbHVyYWxydWxlc1xcXCJcXG5cIiwgRXJyb3JDb2RlLk1JU1NJTkdfSU5UTF9BUEksIG9yaWdpbmFsTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBydWxlID0gZm9ybWF0dGVyc1xuICAgICAgICAgICAgICAgICAgICAuZ2V0UGx1cmFsUnVsZXMobG9jYWxlcywgeyB0eXBlOiBlbC5wbHVyYWxUeXBlIH0pXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3QodmFsdWUgLSAoZWwub2Zmc2V0IHx8IDApKTtcbiAgICAgICAgICAgICAgICBvcHQgPSBlbC5vcHRpb25zW3J1bGVdIHx8IGVsLm9wdGlvbnMub3RoZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9wdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkVmFsdWVFcnJvcihlbC52YWx1ZSwgdmFsdWUsIE9iamVjdC5rZXlzKGVsLm9wdGlvbnMpLCBvcmlnaW5hbE1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBmb3JtYXRUb1BhcnRzKG9wdC52YWx1ZSwgbG9jYWxlcywgZm9ybWF0dGVycywgZm9ybWF0cywgdmFsdWVzLCB2YWx1ZSAtIChlbC5vZmZzZXQgfHwgMCkpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUxpdGVyYWwocmVzdWx0KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1h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R0FBRyxPQUFPLEdBQUc7WUFDMUU7WUFDQSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxjQUFjLElBQUksS0FBSyxFQUFFLFNBQVMsWUFBWSxTQUFTO1lBQ2pGO1FBQ0o7UUFDQSxJQUFJLENBQUEsR0FBQSw0S0FBQSxDQUFBLGtCQUFlLEFBQUQsRUFBRSxLQUFLO1lBQ3JCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPO1lBQ3ZDLElBQUksQ0FBQyxLQUFLO2dCQUNOLElBQUksQ0FBQyxLQUFLLFdBQVcsRUFBRTtvQkFDbkIsTUFBTSxJQUFJLDRKQUFBLENBQUEsY0FBVyxDQUFDLHFIQUFxSCw0SkFBQSxDQUFBLFlBQVMsQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDM0s7Z0JBQ0EsSUFBSSxPQUFPLFdBQ04sY0FBYyxDQUFDLFNBQVM7b0JBQUUsTUFBTSxHQUFHLFVBQVU7Z0JBQUMsR0FDOUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sSUFBSSxDQUFDO2dCQUNuQyxNQUFNLEdBQUcsT0FBTyxDQUFDLEtBQUssSUFBSSxHQUFHLE9BQU8sQ0FBQyxLQUFLO1lBQzlDO1lBQ0EsSUFBSSxDQUFDLEtBQUs7Z0JBQ04sTUFBTSxJQUFJLDRKQUFBLENBQUEsb0JBQWlCLENBQUMsR0FBRyxLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksQ0FBQyxHQUFHLE9BQU8sR0FBRztZQUMxRTtZQUNBLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLGNBQWMsSUFBSSxLQUFLLEVBQUUsU0FBUyxZQUFZLFNBQVMsUUFBUSxRQUFRLENBQUMsR0FBRyxNQUFNLElBQUksQ0FBQztZQUNoSDtRQUNKO0lBQ0o7SUFDQSxPQUFPLGFBQWE7QUFDeEIiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogNDI0MywgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9pbnRsLW1lc3NhZ2Vmb3JtYXQvbGliL3NyYy9jb3JlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTQsIFlhaG9vISBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5Db3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuXG5TZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX3Jlc3QsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1lbW9pemUsIHN0cmF0ZWdpZXMgfSBmcm9tICdAZm9ybWF0anMvZmFzdC1tZW1vaXplJztcbmltcG9ydCB7IHBhcnNlLCB9IGZyb20gJ0Bmb3JtYXRqcy9pY3UtbWVzc2FnZWZvcm1hdC1wYXJzZXInO1xuaW1wb3J0IHsgZm9ybWF0VG9QYXJ0cywgUEFSVF9UWVBFLCB9IGZyb20gJy4vZm9ybWF0dGVycyc7XG4vLyAtLSBNZXNzYWdlRm9ybWF0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBtZXJnZUNvbmZpZyhjMSwgYzIpIHtcbiAgICBpZiAoIWMyKSB7XG4gICAgICAgIHJldHVybiBjMTtcbiAgICB9XG4gICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCAoYzEgfHwge30pKSwgKGMyIHx8IHt9KSksIE9iamVjdC5rZXlzKGMxKS5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgaykge1xuICAgICAgICBhbGxba10gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYzFba10pLCAoYzJba10gfHwge30pKTtcbiAgICAgICAgcmV0dXJuIGFsbDtcbiAgICB9LCB7fSkpO1xufVxuZnVuY3Rpb24gbWVyZ2VDb25maWdzKGRlZmF1bHRDb25maWcsIGNvbmZpZ3MpIHtcbiAgICBpZiAoIWNvbmZpZ3MpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRDb25maWc7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhkZWZhdWx0Q29uZmlnKS5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgaykge1xuICAgICAgICBhbGxba10gPSBtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnW2tdLCBjb25maWdzW2tdKTtcbiAgICAgICAgcmV0dXJuIGFsbDtcbiAgICB9LCBfX2Fzc2lnbih7fSwgZGVmYXVsdENvbmZpZykpO1xufVxuZnVuY3Rpb24gY3JlYXRlRmFzdE1lbW9pemVDYWNoZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlW2tleV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEZvcm1hdHRlcnMoY2FjaGUpIHtcbiAgICBpZiAoY2FjaGUgPT09IHZvaWQgMCkgeyBjYWNoZSA9IHtcbiAgICAgICAgbnVtYmVyOiB7fSxcbiAgICAgICAgZGF0ZVRpbWU6IHt9LFxuICAgICAgICBwbHVyYWxSdWxlczoge30sXG4gICAgfTsgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGdldE51bWJlckZvcm1hdDogbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3ICgoX2EgPSBJbnRsLk51bWJlckZvcm1hdCkuYmluZC5hcHBseShfYSwgX19zcHJlYWRBcnJheShbdm9pZCAwXSwgYXJncywgZmFsc2UpKSkoKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2FjaGU6IGNyZWF0ZUZhc3RNZW1vaXplQ2FjaGUoY2FjaGUubnVtYmVyKSxcbiAgICAgICAgICAgIHN0cmF0ZWd5OiBzdHJhdGVnaWVzLnZhcmlhZGljLFxuICAgICAgICB9KSxcbiAgICAgICAgZ2V0RGF0ZVRpbWVGb3JtYXQ6IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyAoKF9hID0gSW50bC5EYXRlVGltZUZvcm1hdCkuYmluZC5hcHBseShfYSwgX19zcHJlYWRBcnJheShbdm9pZCAwXSwgYXJncywgZmFsc2UpKSkoKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2FjaGU6IGNyZWF0ZUZhc3RNZW1vaXplQ2FjaGUoY2FjaGUuZGF0ZVRpbWUpLFxuICAgICAgICAgICAgc3RyYXRlZ3k6IHN0cmF0ZWdpZXMudmFyaWFkaWMsXG4gICAgICAgIH0pLFxuICAgICAgICBnZXRQbHVyYWxSdWxlczogbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3ICgoX2EgPSBJbnRsLlBsdXJhbFJ1bGVzKS5iaW5kLmFwcGx5KF9hLCBfX3NwcmVhZEFycmF5KFt2b2lkIDBdLCBhcmdzLCBmYWxzZSkpKSgpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjYWNoZTogY3JlYXRlRmFzdE1lbW9pemVDYWNoZShjYWNoZS5wbHVyYWxSdWxlcyksXG4gICAgICAgICAgICBzdHJhdGVneTogc3RyYXRlZ2llcy52YXJpYWRpYyxcbiAgICAgICAgfSksXG4gICAgfTtcbn1cbnZhciBJbnRsTWVzc2FnZUZvcm1hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRsTWVzc2FnZUZvcm1hdChtZXNzYWdlLCBsb2NhbGVzLCBvdmVycmlkZUZvcm1hdHMsIG9wdHMpIHtcbiAgICAgICAgaWYgKGxvY2FsZXMgPT09IHZvaWQgMCkgeyBsb2NhbGVzID0gSW50bE1lc3NhZ2VGb3JtYXQuZGVmYXVsdExvY2FsZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmZvcm1hdHRlckNhY2hlID0ge1xuICAgICAgICAgICAgbnVtYmVyOiB7fSxcbiAgICAgICAgICAgIGRhdGVUaW1lOiB7fSxcbiAgICAgICAgICAgIHBsdXJhbFJ1bGVzOiB7fSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBfdGhpcy5mb3JtYXRUb1BhcnRzKHZhbHVlcyk7XG4gICAgICAgICAgICAvLyBIb3QgcGF0aCBmb3Igc3RyYWlnaHQgc2ltcGxlIG1zZyB0cmFuc2xhdGlvbnNcbiAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydHNbMF0udmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGFydHMucmVkdWNlKGZ1bmN0aW9uIChhbGwsIHBhcnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFsbC5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAgICAgcGFydC50eXBlICE9PSBQQVJUX1RZUEUubGl0ZXJhbCB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgYWxsW2FsbC5sZW5ndGggLSAxXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsLnB1c2gocGFydC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGxbYWxsLmxlbmd0aCAtIDFdICs9IHBhcnQudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhbGw7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFswXSB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZm9ybWF0VG9QYXJ0cyA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRUb1BhcnRzKF90aGlzLmFzdCwgX3RoaXMubG9jYWxlcywgX3RoaXMuZm9ybWF0dGVycywgX3RoaXMuZm9ybWF0cywgdmFsdWVzLCB1bmRlZmluZWQsIF90aGlzLm1lc3NhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc29sdmVkT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgIGxvY2FsZTogKChfYSA9IF90aGlzLnJlc29sdmVkTG9jYWxlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9TdHJpbmcoKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgSW50bC5OdW1iZXJGb3JtYXQuc3VwcG9ydGVkTG9jYWxlc09mKF90aGlzLmxvY2FsZXMpWzBdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0QXN0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuYXN0OyB9O1xuICAgICAgICAvLyBEZWZpbmVkIGZpcnN0IGJlY2F1c2UgaXQncyB1c2VkIHRvIGJ1aWxkIHRoZSBmb3JtYXQgcGF0dGVybi5cbiAgICAgICAgdGhpcy5sb2NhbGVzID0gbG9jYWxlcztcbiAgICAgICAgdGhpcy5yZXNvbHZlZExvY2FsZSA9IEludGxNZXNzYWdlRm9ybWF0LnJlc29sdmVMb2NhbGUobG9jYWxlcyk7XG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoIUludGxNZXNzYWdlRm9ybWF0Ll9fcGFyc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnRsTWVzc2FnZUZvcm1hdC5fX3BhcnNlIG11c3QgYmUgc2V0IHRvIHByb2Nlc3MgYG1lc3NhZ2VgIG9mIHR5cGUgYHN0cmluZ2AnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYSA9IG9wdHMgfHwge30sIGZvcm1hdHRlcnMgPSBfYS5mb3JtYXR0ZXJzLCBwYXJzZU9wdHMgPSBfX3Jlc3QoX2EsIFtcImZvcm1hdHRlcnNcIl0pO1xuICAgICAgICAgICAgLy8gUGFyc2Ugc3RyaW5nIG1lc3NhZ2VzIGludG8gYW4gQVNULlxuICAgICAgICAgICAgdGhpcy5hc3QgPSBJbnRsTWVzc2FnZUZvcm1hdC5fX3BhcnNlKG1lc3NhZ2UsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBwYXJzZU9wdHMpLCB7IGxvY2FsZTogdGhpcy5yZXNvbHZlZExvY2FsZSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFzdCA9IG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuYXN0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBtZXNzYWdlIG11c3QgYmUgcHJvdmlkZWQgYXMgYSBTdHJpbmcgb3IgQVNULicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBgZm9ybWF0c2AgbWVyZ2VkIHdpdGggdGhlIGRlZmF1bHRcbiAgICAgICAgLy8gZm9ybWF0cy5cbiAgICAgICAgdGhpcy5mb3JtYXRzID0gbWVyZ2VDb25maWdzKEludGxNZXNzYWdlRm9ybWF0LmZvcm1hdHMsIG92ZXJyaWRlRm9ybWF0cyk7XG4gICAgICAgIHRoaXMuZm9ybWF0dGVycyA9XG4gICAgICAgICAgICAob3B0cyAmJiBvcHRzLmZvcm1hdHRlcnMpIHx8IGNyZWF0ZURlZmF1bHRGb3JtYXR0ZXJzKHRoaXMuZm9ybWF0dGVyQ2FjaGUpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50bE1lc3NhZ2VGb3JtYXQsIFwiZGVmYXVsdExvY2FsZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFJbnRsTWVzc2FnZUZvcm1hdC5tZW1vaXplZERlZmF1bHRMb2NhbGUpIHtcbiAgICAgICAgICAgICAgICBJbnRsTWVzc2FnZUZvcm1hdC5tZW1vaXplZERlZmF1bHRMb2NhbGUgPVxuICAgICAgICAgICAgICAgICAgICBuZXcgSW50bC5OdW1iZXJGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSW50bE1lc3NhZ2VGb3JtYXQubWVtb2l6ZWREZWZhdWx0TG9jYWxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSW50bE1lc3NhZ2VGb3JtYXQubWVtb2l6ZWREZWZhdWx0TG9jYWxlID0gbnVsbDtcbiAgICBJbnRsTWVzc2FnZUZvcm1hdC5yZXNvbHZlTG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBJbnRsLkxvY2FsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3VwcG9ydGVkTG9jYWxlcyA9IEludGwuTnVtYmVyRm9ybWF0LnN1cHBvcnRlZExvY2FsZXNPZihsb2NhbGVzKTtcbiAgICAgICAgaWYgKHN1cHBvcnRlZExvY2FsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRsLkxvY2FsZShzdXBwb3J0ZWRMb2NhbGVzWzBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEludGwuTG9jYWxlKHR5cGVvZiBsb2NhbGVzID09PSAnc3RyaW5nJyA/IGxvY2FsZXMgOiBsb2NhbGVzWzBdKTtcbiAgICB9O1xuICAgIEludGxNZXNzYWdlRm9ybWF0Ll9fcGFyc2UgPSBwYXJzZTtcbiAgICAvLyBEZWZhdWx0IGZvcm1hdCBvcHRpb25zIHVzZWQgYXMgdGhlIHByb3RvdHlwZSBvZiB0aGUgYGZvcm1hdHNgIHByb3ZpZGVkIHRvIHRoZVxuICAgIC8vIGNvbnN0cnVjdG9yLiBUaGVzZSBhcmUgdXNlZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUgaW50ZXJuYWwgSW50bC5OdW1iZXJGb3JtYXRcbiAgICAvLyBhbmQgSW50bC5EYXRlVGltZUZvcm1hdCBpbnN0YW5jZXMuXG4gICAgSW50bE1lc3NhZ2VGb3JtYXQuZm9ybWF0cyA9IHtcbiAgICAgICAgbnVtYmVyOiB7XG4gICAgICAgICAgICBpbnRlZ2VyOiB7XG4gICAgICAgICAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cnJlbmN5OiB7XG4gICAgICAgICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVyY2VudDoge1xuICAgICAgICAgICAgICAgIHN0eWxlOiAncGVyY2VudCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBkYXRlOiB7XG4gICAgICAgICAgICBzaG9ydDoge1xuICAgICAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgeWVhcjogJzItZGlnaXQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lZGl1bToge1xuICAgICAgICAgICAgICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgICAgICAgICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsb25nOiB7XG4gICAgICAgICAgICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVsbDoge1xuICAgICAgICAgICAgICAgIHdlZWtkYXk6ICdsb25nJyxcbiAgICAgICAgICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICAgICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgIHNob3J0OiB7XG4gICAgICAgICAgICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogJ251bWVyaWMnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lZGl1bToge1xuICAgICAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICBtaW51dGU6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6ICdudW1lcmljJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsb25nOiB7XG4gICAgICAgICAgICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIHNlY29uZDogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIHRpbWVab25lTmFtZTogJ3Nob3J0JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdWxsOiB7XG4gICAgICAgICAgICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIHNlY29uZDogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIHRpbWVab25lTmFtZTogJ3Nob3J0JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gSW50bE1lc3NhZ2VGb3JtYXQ7XG59KCkpO1xuZXhwb3J0IHsgSW50bE1lc3NhZ2VGb3JtYXQgfTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUlBOzs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUNBLDRFQUE0RTtBQUM1RSxTQUFTLFlBQVksRUFBRSxFQUFFLEVBQUU7SUFDdkIsSUFBSSxDQUFDLElBQUk7UUFDTCxP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TyxJQUFJLEtBQUssTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7UUFDOUM7UUFDQSxPQUFPLElBQUksS0FBSyxNQUFNLENBQUMsT0FBTyxZQUFZLFdBQVcsVUFBVSxPQUFPLENBQUMsRUFBRTtJQUM3RTtJQUNBLGtCQUFrQixPQUFPLEdBQUcsNExBQUEsQ0FBQSxRQUFLO0lBQ2pDLGdGQUFnRjtJQUNoRiwrRUFBK0U7SUFDL0UscUNBQXFDO0lBQ3JDLGtCQUFrQixPQUFPLEdBQUc7UUFDeEIsUUFBUTtZQUNKLFNBQVM7Z0JBQ0wsdUJBQXVCO1lBQzNCO1lBQ0EsVUFBVTtnQkFDTixPQUFPO1lBQ1g7WUFDQSxTQUFTO2dCQUNMLE9BQU87WUFDWDtRQUNKO1FBQ0EsTUFBTTtZQUNGLE9BQU87Z0JBQ0gsT0FBTztnQkFDUCxLQUFLO2dCQUNMLE1BQU07WUFDVjtZQUNBLFFBQVE7Z0JBQ0osT0FBTztnQkFDUCxLQUFLO2dCQUNMLE1BQU07WUFDVjtZQUNBLE1BQU07Z0JBQ0YsT0FBTztnQkFDUCxLQUFLO2dCQUNMLE1BQU07WUFDVjtZQUNBLE1BQU07Z0JBQ0YsU0FBUztnQkFDVCxPQUFPO2dCQUNQLEtBQUs7Z0JBQ0wsTUFBTTtZQUNWO1FBQ0o7UUFDQSxNQUFNO1lBQ0YsT0FBTztnQkFDSCxNQUFNO2dCQUNOLFFBQVE7WUFDWjtZQUNBLFFBQVE7Z0JBQ0osTUFBTTtnQkFDTixRQUFRO2dCQUNSLFFBQVE7WUFDWjtZQUNBLE1BQU07Z0JBQ0YsTUFBTTtnQkFDTixRQUFRO2dCQUNSLFFBQVE7Z0JBQ1IsY0FBYztZQUNsQjtZQUNBLE1BQU07Z0JBQ0YsTUFBTTtnQkFDTixRQUFRO2dCQUNSLFFBQVE7Z0JBQ1IsY0FBYztZQUNsQjtRQUNKO0lBQ0o7SUFDQSxPQUFPO0FBQ1giLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogNDUwMSwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy91c2UtaW50bC9kaXN0L2VzbS9kZXZlbG9wbWVudC9pbml0aWFsaXplQ29uZmlnLUNSRDZldXVLLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGxNZXNzYWdlRm9ybWF0IH0gZnJvbSAnaW50bC1tZXNzYWdlZm9ybWF0JztcbmltcG9ydCB7IGlzVmFsaWRFbGVtZW50LCBjbG9uZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZW1vaXplLCBzdHJhdGVnaWVzIH0gZnJvbSAnQGZvcm1hdGpzL2Zhc3QtbWVtb2l6ZSc7XG5cbmNsYXNzIEludGxFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoY29kZSwgb3JpZ2luYWxNZXNzYWdlKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBjb2RlO1xuICAgIGlmIChvcmlnaW5hbE1lc3NhZ2UpIHtcbiAgICAgIG1lc3NhZ2UgKz0gJzogJyArIG9yaWdpbmFsTWVzc2FnZTtcbiAgICB9XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICBpZiAob3JpZ2luYWxNZXNzYWdlKSB7XG4gICAgICB0aGlzLm9yaWdpbmFsTWVzc2FnZSA9IG9yaWdpbmFsTWVzc2FnZTtcbiAgICB9XG4gIH1cbn1cblxudmFyIEludGxFcnJvckNvZGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKEludGxFcnJvckNvZGUpIHtcbiAgSW50bEVycm9yQ29kZVtcIk1JU1NJTkdfTUVTU0FHRVwiXSA9IFwiTUlTU0lOR19NRVNTQUdFXCI7XG4gIEludGxFcnJvckNvZGVbXCJNSVNTSU5HX0ZPUk1BVFwiXSA9IFwiTUlTU0lOR19GT1JNQVRcIjtcbiAgSW50bEVycm9yQ29kZVtcIkVOVklST05NRU5UX0ZBTExCQUNLXCJdID0gXCJFTlZJUk9OTUVOVF9GQUxMQkFDS1wiO1xuICBJbnRsRXJyb3JDb2RlW1wiSU5TVUZGSUNJRU5UX1BBVEhcIl0gPSBcIklOU1VGRklDSUVOVF9QQVRIXCI7XG4gIEludGxFcnJvckNvZGVbXCJJTlZBTElEX01FU1NBR0VcIl0gPSBcIklOVkFMSURfTUVTU0FHRVwiO1xuICBJbnRsRXJyb3JDb2RlW1wiSU5WQUxJRF9LRVlcIl0gPSBcIklOVkFMSURfS0VZXCI7XG4gIEludGxFcnJvckNvZGVbXCJGT1JNQVRUSU5HX0VSUk9SXCJdID0gXCJGT1JNQVRUSU5HX0VSUk9SXCI7XG4gIHJldHVybiBJbnRsRXJyb3JDb2RlO1xufShJbnRsRXJyb3JDb2RlIHx8IHt9KTtcblxuLyoqXG4gKiBgaW50bC1tZXNzYWdlZm9ybWF0YCB1c2VzIHNlcGFyYXRlIGtleXMgZm9yIGBkYXRlYCBhbmQgYHRpbWVgLCBidXQgdGhlcmUnc1xuICogb25seSBvbmUgbmF0aXZlIEFQSTogYEludGwuRGF0ZVRpbWVGb3JtYXRgLiBBZGRpdGlvbmFsbHkgeW91IG1pZ2h0IHdhbnQgdG9cbiAqIGluY2x1ZGUgYm90aCBhIHRpbWUgYW5kIGEgZGF0ZSBpbiBhIHZhbHVlLCB0aGVyZWZvcmUgdGhlIHNlcGFyYXRpb24gZG9lc24ndFxuICogc2VlbSBzbyB1c2VmdWwuIFdlIG9mZmVyIGEgc2luZ2xlIGBkYXRlVGltZWAgbmFtZXNwYWNlIGluc3RlYWQsIGJ1dCB3ZSBoYXZlXG4gKiB0byBjb252ZXJ0IHRoZSBmb3JtYXQgYmVmb3JlIGBpbnRsLW1lc3NhZ2Vmb3JtYXRgIGNhbiBiZSB1c2VkLlxuICovXG5mdW5jdGlvbiBjb252ZXJ0Rm9ybWF0c1RvSW50bE1lc3NhZ2VGb3JtYXQoZ2xvYmFsRm9ybWF0cywgaW5saW5lRm9ybWF0cywgdGltZVpvbmUpIHtcbiAgY29uc3QgbWZEYXRlRGVmYXVsdHMgPSBJbnRsTWVzc2FnZUZvcm1hdC5mb3JtYXRzLmRhdGU7XG4gIGNvbnN0IG1mVGltZURlZmF1bHRzID0gSW50bE1lc3NhZ2VGb3JtYXQuZm9ybWF0cy50aW1lO1xuICBjb25zdCBkYXRlVGltZUZvcm1hdHMgPSB7XG4gICAgLi4uZ2xvYmFsRm9ybWF0cz8uZGF0ZVRpbWUsXG4gICAgLi4uaW5saW5lRm9ybWF0cz8uZGF0ZVRpbWVcbiAgfTtcbiAgY29uc3QgYWxsRm9ybWF0cyA9IHtcbiAgICBkYXRlOiB7XG4gICAgICAuLi5tZkRhdGVEZWZhdWx0cyxcbiAgICAgIC4uLmRhdGVUaW1lRm9ybWF0c1xuICAgIH0sXG4gICAgdGltZToge1xuICAgICAgLi4ubWZUaW1lRGVmYXVsdHMsXG4gICAgICAuLi5kYXRlVGltZUZvcm1hdHNcbiAgICB9LFxuICAgIG51bWJlcjoge1xuICAgICAgLi4uZ2xvYmFsRm9ybWF0cz8ubnVtYmVyLFxuICAgICAgLi4uaW5saW5lRm9ybWF0cz8ubnVtYmVyXG4gICAgfVxuICAgIC8vIChsaXN0IGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUNVIG1lc3NhZ2VzKVxuICB9O1xuICBpZiAodGltZVpvbmUpIHtcbiAgICAvLyBUaGUgb25seSB3YXkgdG8gc2V0IGEgdGltZSB6b25lIHdpdGggYGludGwtbWVzc2FnZWZvcm1hdGAgaXMgdG8gbWVyZ2UgaXQgaW50byB0aGUgZm9ybWF0c1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mb3JtYXRqcy9mb3JtYXRqcy9ibG9iLzgyNTZjNTI3MTUwNWNmMjYwNmU0OGUzYzk3ZWNkZDE2ZWRlNGYxYjUvcGFja2FnZXMvaW50bC9zcmMvbWVzc2FnZS50cyNMMTVcbiAgICBbJ2RhdGUnLCAndGltZSddLmZvckVhY2gocHJvcGVydHkgPT4ge1xuICAgICAgY29uc3QgZm9ybWF0cyA9IGFsbEZvcm1hdHNbcHJvcGVydHldO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZm9ybWF0cykpIHtcbiAgICAgICAgZm9ybWF0c1trZXldID0ge1xuICAgICAgICAgIHRpbWVab25lLFxuICAgICAgICAgIC4uLnZhbHVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFsbEZvcm1hdHM7XG59XG5cbmZ1bmN0aW9uIGpvaW5QYXRoKC4uLnBhcnRzKSB7XG4gIHJldHVybiBwYXJ0cy5maWx0ZXIoQm9vbGVhbikuam9pbignLicpO1xufVxuXG4vKipcbiAqIENvbnRhaW5zIGRlZmF1bHRzIHRoYXQgYXJlIHVzZWQgZm9yIGFsbCBlbnRyeSBwb2ludHMgaW50byB0aGUgY29yZS5cbiAqIFNlZSBhbHNvIGBJbml0aWFsaXplZEludGxDb25maWd1cmF0aW9uYC5cbiAqL1xuXG5mdW5jdGlvbiBkZWZhdWx0R2V0TWVzc2FnZUZhbGxiYWNrKHByb3BzKSB7XG4gIHJldHVybiBqb2luUGF0aChwcm9wcy5uYW1lc3BhY2UsIHByb3BzLmtleSk7XG59XG5mdW5jdGlvbiBkZWZhdWx0T25FcnJvcihlcnJvcikge1xuICBjb25zb2xlLmVycm9yKGVycm9yKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG4gIHJldHVybiB7XG4gICAgZGF0ZVRpbWU6IHt9LFxuICAgIG51bWJlcjoge30sXG4gICAgbWVzc2FnZToge30sXG4gICAgcmVsYXRpdmVUaW1lOiB7fSxcbiAgICBwbHVyYWxSdWxlczoge30sXG4gICAgbGlzdDoge30sXG4gICAgZGlzcGxheU5hbWVzOiB7fVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTWVtb0NhY2hlKHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZVtrZXldO1xuICAgICAgICB9LFxuICAgICAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIHN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBtZW1vRm4oZm4sIGNhY2hlKSB7XG4gIHJldHVybiBtZW1vaXplKGZuLCB7XG4gICAgY2FjaGU6IGNyZWF0ZU1lbW9DYWNoZShjYWNoZSksXG4gICAgc3RyYXRlZ3k6IHN0cmF0ZWdpZXMudmFyaWFkaWNcbiAgfSk7XG59XG5mdW5jdGlvbiBtZW1vQ29uc3RydWN0b3IoQ29uc3RydWN0b3JGbiwgY2FjaGUpIHtcbiAgcmV0dXJuIG1lbW9GbigoLi4uYXJncykgPT4gbmV3IENvbnN0cnVjdG9yRm4oLi4uYXJncyksIGNhY2hlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUludGxGb3JtYXR0ZXJzKGNhY2hlKSB7XG4gIGNvbnN0IGdldERhdGVUaW1lRm9ybWF0ID0gbWVtb0NvbnN0cnVjdG9yKEludGwuRGF0ZVRpbWVGb3JtYXQsIGNhY2hlLmRhdGVUaW1lKTtcbiAgY29uc3QgZ2V0TnVtYmVyRm9ybWF0ID0gbWVtb0NvbnN0cnVjdG9yKEludGwuTnVtYmVyRm9ybWF0LCBjYWNoZS5udW1iZXIpO1xuICBjb25zdCBnZXRQbHVyYWxSdWxlcyA9IG1lbW9Db25zdHJ1Y3RvcihJbnRsLlBsdXJhbFJ1bGVzLCBjYWNoZS5wbHVyYWxSdWxlcyk7XG4gIGNvbnN0IGdldFJlbGF0aXZlVGltZUZvcm1hdCA9IG1lbW9Db25zdHJ1Y3RvcihJbnRsLlJlbGF0aXZlVGltZUZvcm1hdCwgY2FjaGUucmVsYXRpdmVUaW1lKTtcbiAgY29uc3QgZ2V0TGlzdEZvcm1hdCA9IG1lbW9Db25zdHJ1Y3RvcihJbnRsLkxpc3RGb3JtYXQsIGNhY2hlLmxpc3QpO1xuICBjb25zdCBnZXREaXNwbGF5TmFtZXMgPSBtZW1vQ29uc3RydWN0b3IoSW50bC5EaXNwbGF5TmFtZXMsIGNhY2hlLmRpc3BsYXlOYW1lcyk7XG4gIHJldHVybiB7XG4gICAgZ2V0RGF0ZVRpbWVGb3JtYXQsXG4gICAgZ2V0TnVtYmVyRm9ybWF0LFxuICAgIGdldFBsdXJhbFJ1bGVzLFxuICAgIGdldFJlbGF0aXZlVGltZUZvcm1hdCxcbiAgICBnZXRMaXN0Rm9ybWF0LFxuICAgIGdldERpc3BsYXlOYW1lc1xuICB9O1xufVxuXG4vLyBQbGFjZWQgaGVyZSBmb3IgaW1wcm92ZWQgdHJlZSBzaGFraW5nLiBTb21laG93IHdoZW4gdGhpcyBpcyBwbGFjZWQgaW5cbi8vIGBmb3JtYXR0ZXJzLnRzeGAsIHRoZW4gaXQgY2FuJ3QgYmUgc2hha2VuIG9mZiBmcm9tIGBuZXh0LWludGxgLlxuZnVuY3Rpb24gY3JlYXRlTWVzc2FnZUZvcm1hdHRlcihjYWNoZSwgaW50bEZvcm1hdHRlcnMpIHtcbiAgY29uc3QgZ2V0TWVzc2FnZUZvcm1hdCA9IG1lbW9GbigoLi4uYXJncykgPT4gbmV3IEludGxNZXNzYWdlRm9ybWF0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIHtcbiAgICBmb3JtYXR0ZXJzOiBpbnRsRm9ybWF0dGVycyxcbiAgICAuLi5hcmdzWzNdXG4gIH0pLCBjYWNoZS5tZXNzYWdlKTtcbiAgcmV0dXJuIGdldE1lc3NhZ2VGb3JtYXQ7XG59XG5mdW5jdGlvbiByZXNvbHZlUGF0aChsb2NhbGUsIG1lc3NhZ2VzLCBrZXksIG5hbWVzcGFjZSkge1xuICBjb25zdCBmdWxsS2V5ID0gam9pblBhdGgobmFtZXNwYWNlLCBrZXkpO1xuICBpZiAoIW1lc3NhZ2VzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBObyBtZXNzYWdlcyBhdmFpbGFibGUgYXQgXFxgJHtuYW1lc3BhY2V9XFxgLmAgKTtcbiAgfVxuICBsZXQgbWVzc2FnZSA9IG1lc3NhZ2VzO1xuICBrZXkuc3BsaXQoJy4nKS5mb3JFYWNoKHBhcnQgPT4ge1xuICAgIGNvbnN0IG5leHQgPSBtZXNzYWdlW3BhcnRdO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb25cbiAgICBpZiAocGFydCA9PSBudWxsIHx8IG5leHQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgcmVzb2x2ZSBcXGAke2Z1bGxLZXl9XFxgIGluIG1lc3NhZ2VzIGZvciBsb2NhbGUgXFxgJHtsb2NhbGV9XFxgLmAgKTtcbiAgICB9XG4gICAgbWVzc2FnZSA9IG5leHQ7XG4gIH0pO1xuICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIHByZXBhcmVUcmFuc2xhdGlvblZhbHVlcyh2YWx1ZXMpIHtcbiAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2Zvcm1hdGpzL2Zvcm1hdGpzL2lzc3Vlcy8xNDY3XG4gIGNvbnN0IHRyYW5zZm9ybWVkVmFsdWVzID0ge307XG4gIE9iamVjdC5rZXlzKHZhbHVlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNba2V5XTtcbiAgICBsZXQgdHJhbnNmb3JtZWQ7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdHJhbnNmb3JtZWQgPSBjaHVua3MgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZShjaHVua3MpO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL2lzVmFsaWRFbGVtZW50KHJlc3VsdCkgPyAvKiNfX1BVUkVfXyovY2xvbmVFbGVtZW50KHJlc3VsdCwge1xuICAgICAgICAgIGtleToga2V5ICsgaW5kZXgrK1xuICAgICAgICB9KSA6IHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybWVkID0gdmFsdWU7XG4gICAgfVxuICAgIHRyYW5zZm9ybWVkVmFsdWVzW2tleV0gPSB0cmFuc2Zvcm1lZDtcbiAgfSk7XG4gIHJldHVybiB0cmFuc2Zvcm1lZFZhbHVlcztcbn1cbmZ1bmN0aW9uIGdldE1lc3NhZ2VzT3JFcnJvcihsb2NhbGUsIG1lc3NhZ2VzLCBuYW1lc3BhY2UsIG9uRXJyb3IgPSBkZWZhdWx0T25FcnJvcikge1xuICB0cnkge1xuICAgIGlmICghbWVzc2FnZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gbWVzc2FnZXMgd2VyZSBjb25maWd1cmVkLmAgKTtcbiAgICB9XG4gICAgY29uc3QgcmV0cmlldmVkTWVzc2FnZXMgPSBuYW1lc3BhY2UgPyByZXNvbHZlUGF0aChsb2NhbGUsIG1lc3NhZ2VzLCBuYW1lc3BhY2UpIDogbWVzc2FnZXM7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgIGlmICghcmV0cmlldmVkTWVzc2FnZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gbWVzc2FnZXMgZm9yIG5hbWVzcGFjZSBcXGAke25hbWVzcGFjZX1cXGAgZm91bmQuYCApO1xuICAgIH1cbiAgICByZXR1cm4gcmV0cmlldmVkTWVzc2FnZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc3QgaW50bEVycm9yID0gbmV3IEludGxFcnJvcihJbnRsRXJyb3JDb2RlLk1JU1NJTkdfTUVTU0FHRSwgZXJyb3IubWVzc2FnZSk7XG4gICAgb25FcnJvcihpbnRsRXJyb3IpO1xuICAgIHJldHVybiBpbnRsRXJyb3I7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFBsYWluTWVzc2FnZShjYW5kaWRhdGUsIHZhbHVlcykge1xuICB7XG4gICAgLy8gS2VlcCBmYXN0IHBhdGggaW4gZGV2ZWxvcG1lbnRcbiAgICBpZiAodmFsdWVzKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgLy8gRGVzcGl0ZSBwb3RlbnRpYWxseSBubyB2YWx1ZXMgYmVpbmcgYXZhaWxhYmxlLCB0aGVyZSBjYW4gc3RpbGwgYmVcbiAgICAvLyBwbGFjZWhvbGRlcnMgaW4gdGhlIG1lc3NhZ2UgaWYgdGhlIHVzZXIgaGFzIGZvcmdvdHRlbiB0byBwcm92aWRlXG4gICAgLy8gdmFsdWVzLiBJbiB0aGlzIGNhc2Ugd2UgY29tcGlsZSB0aGUgbWVzc2FnZSB0byByZWNlaXZlIGFuIGVycm9yLlxuICAgIGNvbnN0IHVuZXNjYXBlZE1lc3NhZ2UgPSBjYW5kaWRhdGUucmVwbGFjZSgvJyhbe31dKS9naSwgJyQxJyk7XG4gICAgY29uc3QgaGFzUGxhY2Vob2xkZXJzID0gLzx8ey8udGVzdCh1bmVzY2FwZWRNZXNzYWdlKTtcbiAgICBpZiAoIWhhc1BsYWNlaG9sZGVycykge1xuICAgICAgcmV0dXJuIHVuZXNjYXBlZE1lc3NhZ2U7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVCYXNlVHJhbnNsYXRvcihjb25maWcpIHtcbiAgY29uc3QgbWVzc2FnZXNPckVycm9yID0gZ2V0TWVzc2FnZXNPckVycm9yKGNvbmZpZy5sb2NhbGUsIGNvbmZpZy5tZXNzYWdlcywgY29uZmlnLm5hbWVzcGFjZSwgY29uZmlnLm9uRXJyb3IpO1xuICByZXR1cm4gY3JlYXRlQmFzZVRyYW5zbGF0b3JJbXBsKHtcbiAgICAuLi5jb25maWcsXG4gICAgbWVzc2FnZXNPckVycm9yXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlQmFzZVRyYW5zbGF0b3JJbXBsKHtcbiAgY2FjaGUsXG4gIGZvcm1hdHM6IGdsb2JhbEZvcm1hdHMsXG4gIGZvcm1hdHRlcnMsXG4gIGdldE1lc3NhZ2VGYWxsYmFjayA9IGRlZmF1bHRHZXRNZXNzYWdlRmFsbGJhY2ssXG4gIGxvY2FsZSxcbiAgbWVzc2FnZXNPckVycm9yLFxuICBuYW1lc3BhY2UsXG4gIG9uRXJyb3IsXG4gIHRpbWVab25lXG59KSB7XG4gIGNvbnN0IGhhc01lc3NhZ2VzRXJyb3IgPSBtZXNzYWdlc09yRXJyb3IgaW5zdGFuY2VvZiBJbnRsRXJyb3I7XG4gIGZ1bmN0aW9uIGdldEZhbGxiYWNrRnJvbUVycm9yQW5kTm90aWZ5KGtleSwgY29kZSwgbWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEludGxFcnJvcihjb2RlLCBtZXNzYWdlKTtcbiAgICBvbkVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZ2V0TWVzc2FnZUZhbGxiYWNrKHtcbiAgICAgIGVycm9yLFxuICAgICAga2V5LFxuICAgICAgbmFtZXNwYWNlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gdHJhbnNsYXRlQmFzZUZuKC8qKiBVc2UgYSBkb3QgdG8gaW5kaWNhdGUgYSBsZXZlbCBvZiBuZXN0aW5nIChlLmcuIGBuYW1lc3BhY2UubmVzdGVkTGFiZWxgKS4gKi9cbiAga2V5LCAvKiogS2V5IHZhbHVlIHBhaXJzIGZvciB2YWx1ZXMgdG8gaW50ZXJwb2xhdGUgaW50byB0aGUgbWVzc2FnZS4gKi9cbiAgdmFsdWVzLCAvKiogUHJvdmlkZSBjdXN0b20gZm9ybWF0cyBmb3IgbnVtYmVycywgZGF0ZXMgYW5kIHRpbWVzLiAqL1xuICBmb3JtYXRzKSB7XG4gICAgaWYgKGhhc01lc3NhZ2VzRXJyb3IpIHtcbiAgICAgIC8vIFdlIGhhdmUgYWxyZWFkeSB3YXJuZWQgYWJvdXQgdGhpcyBkdXJpbmcgcmVuZGVyXG4gICAgICByZXR1cm4gZ2V0TWVzc2FnZUZhbGxiYWNrKHtcbiAgICAgICAgZXJyb3I6IG1lc3NhZ2VzT3JFcnJvcixcbiAgICAgICAga2V5LFxuICAgICAgICBuYW1lc3BhY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlcyA9IG1lc3NhZ2VzT3JFcnJvcjtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZSA9IHJlc29sdmVQYXRoKGxvY2FsZSwgbWVzc2FnZXMsIGtleSwgbmFtZXNwYWNlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGdldEZhbGxiYWNrRnJvbUVycm9yQW5kTm90aWZ5KGtleSwgSW50bEVycm9yQ29kZS5NSVNTSU5HX01FU1NBR0UsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdvYmplY3QnKSB7XG4gICAgICBsZXQgY29kZSwgZXJyb3JNZXNzYWdlO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZSkpIHtcbiAgICAgICAgY29kZSA9IEludGxFcnJvckNvZGUuSU5WQUxJRF9NRVNTQUdFO1xuICAgICAgICB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gYE1lc3NhZ2UgYXQgXFxgJHtqb2luUGF0aChuYW1lc3BhY2UsIGtleSl9XFxgIHJlc29sdmVkIHRvIGFuIGFycmF5LCBidXQgb25seSBzdHJpbmdzIGFyZSBzdXBwb3J0ZWQuIFNlZSBodHRwczovL25leHQtaW50bC5kZXYvZG9jcy91c2FnZS9tZXNzYWdlcyNhcnJheXMtb2YtbWVzc2FnZXNgO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2RlID0gSW50bEVycm9yQ29kZS5JTlNVRkZJQ0lFTlRfUEFUSDtcbiAgICAgICAge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBNZXNzYWdlIGF0IFxcYCR7am9pblBhdGgobmFtZXNwYWNlLCBrZXkpfVxcYCByZXNvbHZlZCB0byBhbiBvYmplY3QsIGJ1dCBvbmx5IHN0cmluZ3MgYXJlIHN1cHBvcnRlZC4gVXNlIGEgXFxgLlxcYCB0byByZXRyaWV2ZSBuZXN0ZWQgbWVzc2FnZXMuIFNlZSBodHRwczovL25leHQtaW50bC5kZXYvZG9jcy91c2FnZS9tZXNzYWdlcyNzdHJ1Y3R1cmluZy1tZXNzYWdlc2A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRGYWxsYmFja0Zyb21FcnJvckFuZE5vdGlmeShrZXksIGNvZGUsIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIGxldCBtZXNzYWdlRm9ybWF0O1xuXG4gICAgLy8gSG90IHBhdGggdGhhdCBhdm9pZHMgY3JlYXRpbmcgYW4gYEludGxNZXNzYWdlRm9ybWF0YCBpbnN0YW5jZVxuICAgIGNvbnN0IHBsYWluTWVzc2FnZSA9IGdldFBsYWluTWVzc2FnZShtZXNzYWdlLCB2YWx1ZXMpO1xuICAgIGlmIChwbGFpbk1lc3NhZ2UpIHJldHVybiBwbGFpbk1lc3NhZ2U7XG5cbiAgICAvLyBMYXp5IGluaXQgdGhlIG1lc3NhZ2UgZm9ybWF0dGVyIGZvciBiZXR0ZXIgdHJlZVxuICAgIC8vIHNoYWtpbmcgaW4gY2FzZSBtZXNzYWdlIGZvcm1hdHRpbmcgaXMgbm90IHVzZWQuXG4gICAgaWYgKCFmb3JtYXR0ZXJzLmdldE1lc3NhZ2VGb3JtYXQpIHtcbiAgICAgIGZvcm1hdHRlcnMuZ2V0TWVzc2FnZUZvcm1hdCA9IGNyZWF0ZU1lc3NhZ2VGb3JtYXR0ZXIoY2FjaGUsIGZvcm1hdHRlcnMpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgbWVzc2FnZUZvcm1hdCA9IGZvcm1hdHRlcnMuZ2V0TWVzc2FnZUZvcm1hdChtZXNzYWdlLCBsb2NhbGUsIGNvbnZlcnRGb3JtYXRzVG9JbnRsTWVzc2FnZUZvcm1hdChnbG9iYWxGb3JtYXRzLCBmb3JtYXRzLCB0aW1lWm9uZSksIHtcbiAgICAgICAgZm9ybWF0dGVyczoge1xuICAgICAgICAgIC4uLmZvcm1hdHRlcnMsXG4gICAgICAgICAgZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlcywgb3B0aW9ucykge1xuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2Zvcm1hdGpzL2Zvcm1hdGpzL2lzc3Vlcy80Mjc5XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVycy5nZXREYXRlVGltZUZvcm1hdChsb2NhbGVzLCB7XG4gICAgICAgICAgICAgIHRpbWVab25lLFxuICAgICAgICAgICAgICAuLi5vcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCB0aHJvd25FcnJvciA9IGVycm9yO1xuICAgICAgcmV0dXJuIGdldEZhbGxiYWNrRnJvbUVycm9yQW5kTm90aWZ5KGtleSwgSW50bEVycm9yQ29kZS5JTlZBTElEX01FU1NBR0UsIHRocm93bkVycm9yLm1lc3NhZ2UgKyAoJ29yaWdpbmFsTWVzc2FnZScgaW4gdGhyb3duRXJyb3IgPyBgICgke3Rocm93bkVycm9yLm9yaWdpbmFsTWVzc2FnZX0pYCA6ICcnKSApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgZm9ybWF0dGVkTWVzc2FnZSA9IG1lc3NhZ2VGb3JtYXQuZm9ybWF0KFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBgaW50bC1tZXNzYWdlZm9ybWF0YCBleHBlY3RzIGEgZGlmZmVyZW50IGZvcm1hdFxuICAgICAgLy8gZm9yIHJpY2ggdGV4dCBlbGVtZW50cyBzaW5jZSBhIHJlY2VudCBtaW5vciB1cGRhdGUuIFRoaXNcbiAgICAgIC8vIG5lZWRzIHRvIGJlIGV2YWx1YXRlZCBpbiBkZXRhaWwsIHBvc3NpYmx5IGFsc28gaW4gcmVnYXJkc1xuICAgICAgLy8gdG8gYmUgYWJsZSB0byBmb3JtYXQgdG8gcGFydHMuXG4gICAgICB2YWx1ZXMgPyBwcmVwYXJlVHJhbnNsYXRpb25WYWx1ZXModmFsdWVzKSA6IHZhbHVlcyk7XG4gICAgICBpZiAoZm9ybWF0dGVkTWVzc2FnZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGZvcm1hdCBcXGAke2tleX1cXGAgaW4gJHtuYW1lc3BhY2UgPyBgbmFtZXNwYWNlIFxcYCR7bmFtZXNwYWNlfVxcYGAgOiAnbWVzc2FnZXMnfWAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gTGltaXQgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSB0byByZXR1cm4gc3RyaW5ncyBvciBSZWFjdCBlbGVtZW50c1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9pc1ZhbGlkRWxlbWVudChmb3JtYXR0ZWRNZXNzYWdlKSB8fFxuICAgICAgLy8gQXJyYXlzIG9mIFJlYWN0IGVsZW1lbnRzXG4gICAgICBBcnJheS5pc0FycmF5KGZvcm1hdHRlZE1lc3NhZ2UpIHx8IHR5cGVvZiBmb3JtYXR0ZWRNZXNzYWdlID09PSAnc3RyaW5nJyA/IGZvcm1hdHRlZE1lc3NhZ2UgOiBTdHJpbmcoZm9ybWF0dGVkTWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBnZXRGYWxsYmFja0Zyb21FcnJvckFuZE5vdGlmeShrZXksIEludGxFcnJvckNvZGUuRk9STUFUVElOR19FUlJPUiwgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRyYW5zbGF0ZUZuKC8qKiBVc2UgYSBkb3QgdG8gaW5kaWNhdGUgYSBsZXZlbCBvZiBuZXN0aW5nIChlLmcuIGBuYW1lc3BhY2UubmVzdGVkTGFiZWxgKS4gKi9cbiAga2V5LCAvKiogS2V5IHZhbHVlIHBhaXJzIGZvciB2YWx1ZXMgdG8gaW50ZXJwb2xhdGUgaW50byB0aGUgbWVzc2FnZS4gKi9cbiAgdmFsdWVzLCAvKiogUHJvdmlkZSBjdXN0b20gZm9ybWF0cyBmb3IgbnVtYmVycywgZGF0ZXMgYW5kIHRpbWVzLiAqL1xuICBmb3JtYXRzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdHJhbnNsYXRlQmFzZUZuKGtleSwgdmFsdWVzLCBmb3JtYXRzKTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBnZXRGYWxsYmFja0Zyb21FcnJvckFuZE5vdGlmeShrZXksIEludGxFcnJvckNvZGUuSU5WQUxJRF9NRVNTQUdFLCBgVGhlIG1lc3NhZ2UgXFxgJHtrZXl9XFxgIGluICR7bmFtZXNwYWNlID8gYG5hbWVzcGFjZSBcXGAke25hbWVzcGFjZX1cXGBgIDogJ21lc3NhZ2VzJ30gZGlkbid0IHJlc29sdmUgdG8gYSBzdHJpbmcuIElmIHlvdSB3YW50IHRvIGZvcm1hdCByaWNoIHRleHQsIHVzZSBcXGB0LnJpY2hcXGAgaW5zdGVhZC5gICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdHJhbnNsYXRlRm4ucmljaCA9IHRyYW5zbGF0ZUJhc2VGbjtcblxuICAvLyBBdWdtZW50IGB0cmFuc2xhdGVCYXNlRm5gIHRvIHJldHVybiBwbGFpbiBzdHJpbmdzXG4gIHRyYW5zbGF0ZUZuLm1hcmt1cCA9IChrZXksIHZhbHVlcywgZm9ybWF0cykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRyYW5zbGF0ZUJhc2VGbihrZXksXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtLSBgTWFya3VwVHJhbnNsYXRpb25WYWx1ZXNgIGlzIHByYWN0aWNhbGx5IGEgc3ViIHR5cGVcbiAgICAvLyBvZiBgUmljaFRyYW5zbGF0aW9uVmFsdWVzYCBidXQgVHlwZVNjcmlwdCBpc24ndCBzbWFydCBlbm91Z2ggaGVyZS5cbiAgICB2YWx1ZXMsIGZvcm1hdHMpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgSW50bEVycm9yKEludGxFcnJvckNvZGUuRk9STUFUVElOR19FUlJPUiwgXCJgdC5tYXJrdXBgIG9ubHkgYWNjZXB0cyBmdW5jdGlvbnMgZm9yIGZvcm1hdHRpbmcgdGhhdCByZWNlaXZlIGFuZCByZXR1cm4gc3RyaW5ncy5cXG5cXG5FLmcuIHQubWFya3VwKCdtYXJrdXAnLCB7YjogKGNodW5rcykgPT4gYDxiPiR7Y2h1bmtzfTwvYj5gfSlcIik7XG4gICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgIHJldHVybiBnZXRNZXNzYWdlRmFsbGJhY2soe1xuICAgICAgICBlcnJvcixcbiAgICAgICAga2V5LFxuICAgICAgICBuYW1lc3BhY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICB0cmFuc2xhdGVGbi5yYXcgPSBrZXkgPT4ge1xuICAgIGlmIChoYXNNZXNzYWdlc0Vycm9yKSB7XG4gICAgICAvLyBXZSBoYXZlIGFscmVhZHkgd2FybmVkIGFib3V0IHRoaXMgZHVyaW5nIHJlbmRlclxuICAgICAgcmV0dXJuIGdldE1lc3NhZ2VGYWxsYmFjayh7XG4gICAgICAgIGVycm9yOiBtZXNzYWdlc09yRXJyb3IsXG4gICAgICAgIGtleSxcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZXMgPSBtZXNzYWdlc09yRXJyb3I7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiByZXNvbHZlUGF0aChsb2NhbGUsIG1lc3NhZ2VzLCBrZXksIG5hbWVzcGFjZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBnZXRGYWxsYmFja0Zyb21FcnJvckFuZE5vdGlmeShrZXksIEludGxFcnJvckNvZGUuTUlTU0lOR19NRVNTQUdFLCBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIHRyYW5zbGF0ZUZuLmhhcyA9IGtleSA9PiB7XG4gICAgaWYgKGhhc01lc3NhZ2VzRXJyb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJlc29sdmVQYXRoKGxvY2FsZSwgbWVzc2FnZXNPckVycm9yLCBrZXksIG5hbWVzcGFjZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB0cmFuc2xhdGVGbjtcbn1cblxuLyoqXG4gKiBGb3IgdGhlIHN0cmljdGx5IHR5cGVkIG1lc3NhZ2VzIHRvIHdvcmsgd2UgaGF2ZSB0byB3cmFwIHRoZSBuYW1lc3BhY2UgaW50b1xuICogYSBtYW5kYXRvcnkgcHJlZml4LiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzcxNTI5NTc1LzM0MzA0NVxuICovXG5mdW5jdGlvbiByZXNvbHZlTmFtZXNwYWNlKG5hbWVzcGFjZSwgbmFtZXNwYWNlUHJlZml4KSB7XG4gIHJldHVybiBuYW1lc3BhY2UgPT09IG5hbWVzcGFjZVByZWZpeCA/IHVuZGVmaW5lZCA6IG5hbWVzcGFjZS5zbGljZSgobmFtZXNwYWNlUHJlZml4ICsgJy4nKS5sZW5ndGgpO1xufVxuXG5jb25zdCBTRUNPTkQgPSAxO1xuY29uc3QgTUlOVVRFID0gU0VDT05EICogNjA7XG5jb25zdCBIT1VSID0gTUlOVVRFICogNjA7XG5jb25zdCBEQVkgPSBIT1VSICogMjQ7XG5jb25zdCBXRUVLID0gREFZICogNztcbmNvbnN0IE1PTlRIID0gREFZICogKDM2NSAvIDEyKTsgLy8gQXBwcm94aW1hdGlvblxuY29uc3QgUVVBUlRFUiA9IE1PTlRIICogMztcbmNvbnN0IFlFQVIgPSBEQVkgKiAzNjU7XG5jb25zdCBVTklUX1NFQ09ORFMgPSB7XG4gIHNlY29uZDogU0VDT05ELFxuICBzZWNvbmRzOiBTRUNPTkQsXG4gIG1pbnV0ZTogTUlOVVRFLFxuICBtaW51dGVzOiBNSU5VVEUsXG4gIGhvdXI6IEhPVVIsXG4gIGhvdXJzOiBIT1VSLFxuICBkYXk6IERBWSxcbiAgZGF5czogREFZLFxuICB3ZWVrOiBXRUVLLFxuICB3ZWVrczogV0VFSyxcbiAgbW9udGg6IE1PTlRILFxuICBtb250aHM6IE1PTlRILFxuICBxdWFydGVyOiBRVUFSVEVSLFxuICBxdWFydGVyczogUVVBUlRFUixcbiAgeWVhcjogWUVBUixcbiAgeWVhcnM6IFlFQVJcbn07XG5mdW5jdGlvbiByZXNvbHZlUmVsYXRpdmVUaW1lVW5pdChzZWNvbmRzKSB7XG4gIGNvbnN0IGFic1ZhbHVlID0gTWF0aC5hYnMoc2Vjb25kcyk7XG4gIGlmIChhYnNWYWx1ZSA8IE1JTlVURSkge1xuICAgIHJldHVybiAnc2Vjb25kJztcbiAgfSBlbHNlIGlmIChhYnNWYWx1ZSA8IEhPVVIpIHtcbiAgICByZXR1cm4gJ21pbnV0ZSc7XG4gIH0gZWxzZSBpZiAoYWJzVmFsdWUgPCBEQVkpIHtcbiAgICByZXR1cm4gJ2hvdXInO1xuICB9IGVsc2UgaWYgKGFic1ZhbHVlIDwgV0VFSykge1xuICAgIHJldHVybiAnZGF5JztcbiAgfSBlbHNlIGlmIChhYnNWYWx1ZSA8IE1PTlRIKSB7XG4gICAgcmV0dXJuICd3ZWVrJztcbiAgfSBlbHNlIGlmIChhYnNWYWx1ZSA8IFlFQVIpIHtcbiAgICByZXR1cm4gJ21vbnRoJztcbiAgfVxuICByZXR1cm4gJ3llYXInO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlUmVsYXRpdmVUaW1lVmFsdWUoc2Vjb25kcywgdW5pdCkge1xuICAvLyBXZSBoYXZlIHRvIHJvdW5kIHRoZSByZXN1bHRpbmcgdmFsdWVzLCBhcyBgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXRgXG4gIC8vIHdpbGwgaW5jbHVkZSBmcmFjdGlvbnMgbGlrZSAnMi4xIGhvdXJzIGFnbycuXG4gIHJldHVybiBNYXRoLnJvdW5kKHNlY29uZHMgLyBVTklUX1NFQ09ORFNbdW5pdF0pO1xufVxuZnVuY3Rpb24gY3JlYXRlRm9ybWF0dGVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBfY2FjaGU6IGNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcbiAgICBfZm9ybWF0dGVyczogZm9ybWF0dGVycyA9IGNyZWF0ZUludGxGb3JtYXR0ZXJzKGNhY2hlKSxcbiAgICBmb3JtYXRzLFxuICAgIGxvY2FsZSxcbiAgICBvbkVycm9yID0gZGVmYXVsdE9uRXJyb3IsXG4gICAgdGltZVpvbmU6IGdsb2JhbFRpbWVab25lXG4gIH0gPSBwcm9wcztcbiAgZnVuY3Rpb24gYXBwbHlUaW1lWm9uZShvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zPy50aW1lWm9uZSkge1xuICAgICAgaWYgKGdsb2JhbFRpbWVab25lKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICB0aW1lWm9uZTogZ2xvYmFsVGltZVpvbmVcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uRXJyb3IobmV3IEludGxFcnJvcihJbnRsRXJyb3JDb2RlLkVOVklST05NRU5UX0ZBTExCQUNLLCBgVGhlIFxcYHRpbWVab25lXFxgIHBhcmFtZXRlciB3YXNuJ3QgcHJvdmlkZWQgYW5kIHRoZXJlIGlzIG5vIGdsb2JhbCBkZWZhdWx0IGNvbmZpZ3VyZWQuIENvbnNpZGVyIGFkZGluZyBhIGdsb2JhbCBkZWZhdWx0IHRvIGF2b2lkIG1hcmt1cCBtaXNtYXRjaGVzIGNhdXNlZCBieSBlbnZpcm9ubWVudCBkaWZmZXJlbmNlcy4gTGVhcm4gbW9yZTogaHR0cHM6Ly9uZXh0LWludGwuZGV2L2RvY3MvY29uZmlndXJhdGlvbiN0aW1lLXpvbmVgICkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuICBmdW5jdGlvbiByZXNvbHZlRm9ybWF0T3JPcHRpb25zKHR5cGVGb3JtYXRzLCBmb3JtYXRPck9wdGlvbnMsIG92ZXJyaWRlcykge1xuICAgIGxldCBvcHRpb25zO1xuICAgIGlmICh0eXBlb2YgZm9ybWF0T3JPcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgZm9ybWF0TmFtZSA9IGZvcm1hdE9yT3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB0eXBlRm9ybWF0cz8uW2Zvcm1hdE5hbWVdO1xuICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEludGxFcnJvcihJbnRsRXJyb3JDb2RlLk1JU1NJTkdfRk9STUFULCBgRm9ybWF0IFxcYCR7Zm9ybWF0TmFtZX1cXGAgaXMgbm90IGF2YWlsYWJsZS5gICk7XG4gICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IGZvcm1hdE9yT3B0aW9ucztcbiAgICB9XG4gICAgaWYgKG92ZXJyaWRlcykge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ub3ZlcnJpZGVzXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuICBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRWYWx1ZShmb3JtYXRPck9wdGlvbnMsIG92ZXJyaWRlcywgdHlwZUZvcm1hdHMsIGZvcm1hdHRlciwgZ2V0RmFsbGJhY2spIHtcbiAgICBsZXQgb3B0aW9ucztcbiAgICB0cnkge1xuICAgICAgb3B0aW9ucyA9IHJlc29sdmVGb3JtYXRPck9wdGlvbnModHlwZUZvcm1hdHMsIGZvcm1hdE9yT3B0aW9ucywgb3ZlcnJpZGVzKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBnZXRGYWxsYmFjaygpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZvcm1hdHRlcihvcHRpb25zKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgb25FcnJvcihuZXcgSW50bEVycm9yKEludGxFcnJvckNvZGUuRk9STUFUVElOR19FUlJPUiwgZXJyb3IubWVzc2FnZSkpO1xuICAgICAgcmV0dXJuIGdldEZhbGxiYWNrKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRhdGVUaW1lKHZhbHVlLCBmb3JtYXRPck9wdGlvbnMsIG92ZXJyaWRlcykge1xuICAgIHJldHVybiBnZXRGb3JtYXR0ZWRWYWx1ZShmb3JtYXRPck9wdGlvbnMsIG92ZXJyaWRlcywgZm9ybWF0cz8uZGF0ZVRpbWUsIG9wdGlvbnMgPT4ge1xuICAgICAgb3B0aW9ucyA9IGFwcGx5VGltZVpvbmUob3B0aW9ucyk7XG4gICAgICByZXR1cm4gZm9ybWF0dGVycy5nZXREYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMpLmZvcm1hdCh2YWx1ZSk7XG4gICAgfSwgKCkgPT4gU3RyaW5nKHZhbHVlKSk7XG4gIH1cbiAgZnVuY3Rpb24gZGF0ZVRpbWVSYW5nZShzdGFydCwgZW5kLCBmb3JtYXRPck9wdGlvbnMsIG92ZXJyaWRlcykge1xuICAgIHJldHVybiBnZXRGb3JtYXR0ZWRWYWx1ZShmb3JtYXRPck9wdGlvbnMsIG92ZXJyaWRlcywgZm9ybWF0cz8uZGF0ZVRpbWUsIG9wdGlvbnMgPT4ge1xuICAgICAgb3B0aW9ucyA9IGFwcGx5VGltZVpvbmUob3B0aW9ucyk7XG4gICAgICByZXR1cm4gZm9ybWF0dGVycy5nZXREYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMpLmZvcm1hdFJhbmdlKHN0YXJ0LCBlbmQpO1xuICAgIH0sICgpID0+IFtkYXRlVGltZShzdGFydCksIGRhdGVUaW1lKGVuZCldLmpvaW4oJ+KAieKAk+KAiScpKTtcbiAgfVxuICBmdW5jdGlvbiBudW1iZXIodmFsdWUsIGZvcm1hdE9yT3B0aW9ucywgb3ZlcnJpZGVzKSB7XG4gICAgcmV0dXJuIGdldEZvcm1hdHRlZFZhbHVlKGZvcm1hdE9yT3B0aW9ucywgb3ZlcnJpZGVzLCBmb3JtYXRzPy5udW1iZXIsIG9wdGlvbnMgPT4gZm9ybWF0dGVycy5nZXROdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zKS5mb3JtYXQodmFsdWUpLCAoKSA9PiBTdHJpbmcodmFsdWUpKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRHbG9iYWxOb3coKSB7XG4gICAgLy8gT25seSByZWFkIHdoZW4gbmVjZXNzYXJ5IHRvIGF2b2lkIHRyaWdnZXJpbmcgYSBgZHluYW1pY0lPYCBlcnJvclxuICAgIC8vIHVubmVjZXNzYXJpbHkgKGBub3dgIGlzIG9ubHkgbmVlZGVkIGZvciBgZm9ybWF0LnJlbGF0aXZlVGltZWApXG4gICAgaWYgKHByb3BzLm5vdykge1xuICAgICAgcmV0dXJuIHByb3BzLm5vdztcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcihuZXcgSW50bEVycm9yKEludGxFcnJvckNvZGUuRU5WSVJPTk1FTlRfRkFMTEJBQ0ssIGBUaGUgXFxgbm93XFxgIHBhcmFtZXRlciB3YXNuJ3QgcHJvdmlkZWQgdG8gXFxgcmVsYXRpdmVUaW1lXFxgIGFuZCB0aGVyZSBpcyBubyBnbG9iYWwgZGVmYXVsdCBjb25maWd1cmVkLCB0aGVyZWZvcmUgdGhlIGN1cnJlbnQgdGltZSB3aWxsIGJlIHVzZWQgYXMgYSBmYWxsYmFjay4gU2VlIGh0dHBzOi8vbmV4dC1pbnRsLmRldi9kb2NzL3VzYWdlL2RhdGVzLXRpbWVzI3JlbGF0aXZlLXRpbWVzLXVzZW5vd2AgKSk7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVsYXRpdmVUaW1lKGRhdGUsIG5vd09yT3B0aW9ucykge1xuICAgIHRyeSB7XG4gICAgICBsZXQgbm93RGF0ZSwgdW5pdDtcbiAgICAgIGNvbnN0IG9wdHMgPSB7fTtcbiAgICAgIGlmIChub3dPck9wdGlvbnMgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiBub3dPck9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgIG5vd0RhdGUgPSBuZXcgRGF0ZShub3dPck9wdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmIChub3dPck9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG5vd09yT3B0aW9ucy5ub3cgIT0gbnVsbCkge1xuICAgICAgICAgIG5vd0RhdGUgPSBuZXcgRGF0ZShub3dPck9wdGlvbnMubm93KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub3dEYXRlID0gZ2V0R2xvYmFsTm93KCk7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdCA9IG5vd09yT3B0aW9ucy51bml0O1xuICAgICAgICBvcHRzLnN0eWxlID0gbm93T3JPcHRpb25zLnN0eWxlO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0tIFR5cGVzIGFyZSBzbGlnaHRseSBvdXRkYXRlZFxuICAgICAgICBvcHRzLm51bWJlcmluZ1N5c3RlbSA9IG5vd09yT3B0aW9ucy5udW1iZXJpbmdTeXN0ZW07XG4gICAgICB9XG4gICAgICBpZiAoIW5vd0RhdGUpIHtcbiAgICAgICAgbm93RGF0ZSA9IGdldEdsb2JhbE5vdygpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZURhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgIGNvbnN0IHNlY29uZHMgPSAoZGF0ZURhdGUuZ2V0VGltZSgpIC0gbm93RGF0ZS5nZXRUaW1lKCkpIC8gMTAwMDtcbiAgICAgIGlmICghdW5pdCkge1xuICAgICAgICB1bml0ID0gcmVzb2x2ZVJlbGF0aXZlVGltZVVuaXQoc2Vjb25kcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGBudW1lcmljOiAnYXV0bydgIGNhbiB0aGVvcmV0aWNhbGx5IHByb2R1Y2Ugb3V0cHV0IGxpa2UgXCJ5ZXN0ZXJkYXlcIixcbiAgICAgIC8vIGJ1dCBpdCBvbmx5IHdvcmtzIHdpdGggaW50ZWdlcnMuIEUuZy4gLTEgZGF5IHdpbGwgcHJvZHVjZSBcInllc3RlcmRheVwiLFxuICAgICAgLy8gYnV0IC0xLjEgZGF5cyB3aWxsIHByb2R1Y2UgXCItMS4xIGRheXNcIi4gUm91bmRpbmcgYmVmb3JlIGZvcm1hdHRpbmcgaXNcbiAgICAgIC8vIG5vdCBkZXNpcmVkLCBhcyB0aGUgZ2l2ZW4gZGF0ZXMgbWlnaHQgY3Jvc3MgYSB0aHJlc2hvbGQgd2VyZSB0aGVcbiAgICAgIC8vIG91dHB1dCBpc24ndCBjb3JyZWN0IGFueW1vcmUuIEV4YW1wbGU6IDIwMjQtMDEtMDhUMjM6MDA6MDAuMDAwWiBhbmRcbiAgICAgIC8vIDIwMjQtMDEtMDhUMDE6MDA6MDAuMDAwWiB3b3VsZCBwcm9kdWNlIFwieWVzdGVyZGF5XCIsIHdoaWNoIGlzIG5vdCB0aGVcbiAgICAgIC8vIGNhc2UuIEJ5IHVzaW5nIGBhbHdheXNgIHdlIGNhbiBlbnN1cmUgY29ycmVjdCBvdXRwdXQuIFRoZSBvbmx5IGV4Y2VwdGlvblxuICAgICAgLy8gaXMgdGhlIGZvcm1hdHRpbmcgb2YgdGltZXMgPDEgc2Vjb25kIGFzIFwibm93XCIuXG4gICAgICBvcHRzLm51bWVyaWMgPSB1bml0ID09PSAnc2Vjb25kJyA/ICdhdXRvJyA6ICdhbHdheXMnO1xuICAgICAgY29uc3QgdmFsdWUgPSBjYWxjdWxhdGVSZWxhdGl2ZVRpbWVWYWx1ZShzZWNvbmRzLCB1bml0KTtcbiAgICAgIHJldHVybiBmb3JtYXR0ZXJzLmdldFJlbGF0aXZlVGltZUZvcm1hdChsb2NhbGUsIG9wdHMpLmZvcm1hdCh2YWx1ZSwgdW5pdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG9uRXJyb3IobmV3IEludGxFcnJvcihJbnRsRXJyb3JDb2RlLkZPUk1BVFRJTkdfRVJST1IsIGVycm9yLm1lc3NhZ2UpKTtcbiAgICAgIHJldHVybiBTdHJpbmcoZGF0ZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGxpc3QodmFsdWUsIGZvcm1hdE9yT3B0aW9ucywgb3ZlcnJpZGVzKSB7XG4gICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0gW107XG4gICAgY29uc3QgcmljaFZhbHVlcyA9IG5ldyBNYXAoKTtcblxuICAgIC8vIGBmb3JtYXRUb1BhcnRzYCBvbmx5IGFjY2VwdHMgc3RyaW5ncywgdGhlcmVmb3JlIHdlIGhhdmUgdG8gdGVtcG9yYXJpbHlcbiAgICAvLyByZXBsYWNlIFJlYWN0IGVsZW1lbnRzIHdpdGggYSBwbGFjZWhvbGRlciBJRCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlXG4gICAgLy8gdGhlIG9yaWdpbmFsIHZhbHVlIGFmdGVyd2FyZHMuXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgIGxldCBzZXJpYWxpemVkSXRlbTtcbiAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgc2VyaWFsaXplZEl0ZW0gPSBTdHJpbmcoaW5kZXgpO1xuICAgICAgICByaWNoVmFsdWVzLnNldChzZXJpYWxpemVkSXRlbSwgaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXJpYWxpemVkSXRlbSA9IFN0cmluZyhpdGVtKTtcbiAgICAgIH1cbiAgICAgIHNlcmlhbGl6ZWRWYWx1ZS5wdXNoKHNlcmlhbGl6ZWRJdGVtKTtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBnZXRGb3JtYXR0ZWRWYWx1ZShmb3JtYXRPck9wdGlvbnMsIG92ZXJyaWRlcywgZm9ybWF0cz8ubGlzdCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0tIGByaWNoVmFsdWVzLnNpemVgIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSByZXR1cm4gdHlwZSwgYnV0IFR5cGVTY3JpcHQgY2FuJ3QgaW5mZXIgdGhlIG1lYW5pbmcgb2YgdGhpcyBjb3JyZWN0bHlcbiAgICBvcHRpb25zID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdHRlcnMuZ2V0TGlzdEZvcm1hdChsb2NhbGUsIG9wdGlvbnMpLmZvcm1hdFRvUGFydHMoc2VyaWFsaXplZFZhbHVlKS5tYXAocGFydCA9PiBwYXJ0LnR5cGUgPT09ICdsaXRlcmFsJyA/IHBhcnQudmFsdWUgOiByaWNoVmFsdWVzLmdldChwYXJ0LnZhbHVlKSB8fCBwYXJ0LnZhbHVlKTtcbiAgICAgIGlmIChyaWNoVmFsdWVzLnNpemUgPiAwKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xuICAgICAgfVxuICAgIH0sICgpID0+IFN0cmluZyh2YWx1ZSkpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGF0ZVRpbWUsXG4gICAgbnVtYmVyLFxuICAgIHJlbGF0aXZlVGltZSxcbiAgICBsaXN0LFxuICAgIGRhdGVUaW1lUmFuZ2VcbiAgfTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVNZXNzYWdlc1NlZ21lbnQobWVzc2FnZXMsIGludmFsaWRLZXlMYWJlbHMsIHBhcmVudFBhdGgpIHtcbiAgT2JqZWN0LmVudHJpZXMobWVzc2FnZXMpLmZvckVhY2goKFtrZXksIG1lc3NhZ2VPck1lc3NhZ2VzXSkgPT4ge1xuICAgIGlmIChrZXkuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgbGV0IGtleUxhYmVsID0ga2V5O1xuICAgICAgaWYgKHBhcmVudFBhdGgpIGtleUxhYmVsICs9IGAgKGF0ICR7cGFyZW50UGF0aH0pYDtcbiAgICAgIGludmFsaWRLZXlMYWJlbHMucHVzaChrZXlMYWJlbCk7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb25cbiAgICBpZiAobWVzc2FnZU9yTWVzc2FnZXMgIT0gbnVsbCAmJiB0eXBlb2YgbWVzc2FnZU9yTWVzc2FnZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWxpZGF0ZU1lc3NhZ2VzU2VnbWVudChtZXNzYWdlT3JNZXNzYWdlcywgaW52YWxpZEtleUxhYmVscywgam9pblBhdGgocGFyZW50UGF0aCwga2V5KSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTWVzc2FnZXMobWVzc2FnZXMsIG9uRXJyb3IpIHtcbiAgY29uc3QgaW52YWxpZEtleUxhYmVscyA9IFtdO1xuICB2YWxpZGF0ZU1lc3NhZ2VzU2VnbWVudChtZXNzYWdlcywgaW52YWxpZEtleUxhYmVscyk7XG4gIGlmIChpbnZhbGlkS2V5TGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICBvbkVycm9yKG5ldyBJbnRsRXJyb3IoSW50bEVycm9yQ29kZS5JTlZBTElEX0tFWSwgYE5hbWVzcGFjZSBrZXlzIGNhbiBub3QgY29udGFpbiB0aGUgY2hhcmFjdGVyIFwiLlwiIGFzIHRoaXMgaXMgdXNlZCB0byBleHByZXNzIG5lc3RpbmcuIFBsZWFzZSByZW1vdmUgaXQgb3IgcmVwbGFjZSBpdCB3aXRoIGFub3RoZXIgY2hhcmFjdGVyLlxuXG5JbnZhbGlkICR7aW52YWxpZEtleUxhYmVscy5sZW5ndGggPT09IDEgPyAna2V5JyA6ICdrZXlzJ306ICR7aW52YWxpZEtleUxhYmVscy5qb2luKCcsICcpfVxuXG5JZiB5b3UncmUgbWlncmF0aW5nIGZyb20gYSBmbGF0IHN0cnVjdHVyZSwgeW91IGNhbiBjb252ZXJ0IHlvdXIgbWVzc2FnZXMgYXMgZm9sbG93czpcblxuaW1wb3J0IHtzZXR9IGZyb20gXCJsb2Rhc2hcIjtcblxuY29uc3QgaW5wdXQgPSB7XG4gIFwib25lLm9uZVwiOiBcIjEuMVwiLFxuICBcIm9uZS50d29cIjogXCIxLjJcIixcbiAgXCJ0d28ub25lLm9uZVwiOiBcIjIuMS4xXCJcbn07XG5cbmNvbnN0IG91dHB1dCA9IE9iamVjdC5lbnRyaWVzKGlucHV0KS5yZWR1Y2UoXG4gIChhY2MsIFtrZXksIHZhbHVlXSkgPT4gc2V0KGFjYywga2V5LCB2YWx1ZSksXG4gIHt9XG4pO1xuXG4vLyBPdXRwdXQ6XG4vL1xuLy8ge1xuLy8gICBcIm9uZVwiOiB7XG4vLyAgICAgXCJvbmVcIjogXCIxLjFcIixcbi8vICAgICBcInR3b1wiOiBcIjEuMlwiXG4vLyAgIH0sXG4vLyAgIFwidHdvXCI6IHtcbi8vICAgICBcIm9uZVwiOiB7XG4vLyAgICAgICBcIm9uZVwiOiBcIjIuMS4xXCJcbi8vICAgICB9XG4vLyAgIH1cbi8vIH1cbmAgKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBFbmhhbmNlcyB0aGUgaW5jb21pbmcgcHJvcHMgd2l0aCBkZWZhdWx0cy5cbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbmZpZyh7XG4gIGZvcm1hdHMsXG4gIGdldE1lc3NhZ2VGYWxsYmFjayxcbiAgbWVzc2FnZXMsXG4gIG9uRXJyb3IsXG4gIC4uLnJlc3Rcbn0pIHtcbiAgY29uc3QgZmluYWxPbkVycm9yID0gb25FcnJvciB8fCBkZWZhdWx0T25FcnJvcjtcbiAgY29uc3QgZmluYWxHZXRNZXNzYWdlRmFsbGJhY2sgPSBnZXRNZXNzYWdlRmFsbGJhY2sgfHwgZGVmYXVsdEdldE1lc3NhZ2VGYWxsYmFjaztcbiAge1xuICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgdmFsaWRhdGVNZXNzYWdlcyhtZXNzYWdlcywgZmluYWxPbkVycm9yKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5yZXN0LFxuICAgIGZvcm1hdHM6IGZvcm1hdHMgfHwgdW5kZWZpbmVkLFxuICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyB8fCB1bmRlZmluZWQsXG4gICAgb25FcnJvcjogZmluYWxPbkVycm9yLFxuICAgIGdldE1lc3NhZ2VGYWxsYmFjazogZmluYWxHZXRNZXNzYWdlRmFsbGJhY2tcbiAgfTtcbn1cblxuZXhwb3J0IHsgSW50bEVycm9yIGFzIEksIEludGxFcnJvckNvZGUgYXMgYSwgY3JlYXRlSW50bEZvcm1hdHRlcnMgYXMgYiwgY3JlYXRlRm9ybWF0dGVyIGFzIGMsIGNyZWF0ZUNhY2hlIGFzIGQsIGNyZWF0ZUJhc2VUcmFuc2xhdG9yIGFzIGUsIGRlZmF1bHRHZXRNZXNzYWdlRmFsbGJhY2sgYXMgZiwgZGVmYXVsdE9uRXJyb3IgYXMgZywgaW5pdGlhbGl6ZUNvbmZpZyBhcyBpLCByZXNvbHZlTmFtZXNwYWNlIGFzIHIgfTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoi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QUFrQixFQUNsQixRQUFRLEVBQ1IsT0FBTyxFQUNQLEdBQUcsTUFDSjtJQUNDLE1BQU0sZUFBZSxXQUFXO0lBQ2hDLE1BQU0sMEJBQTBCLHNCQUFzQjtJQUN0RDtRQUNFLElBQUksVUFBVTtZQUNaLGlCQUFpQixVQUFVO1FBQzdCO0lBQ0Y7SUFDQSxPQUFPO1FBQ0wsR0FBRyxJQUFJO1FBQ1AsU0FBUyxXQUFXO1FBQ3BCLFVBQVUsWUFBWTtRQUN0QixTQUFTO1FBQ1Qsb0JBQW9CO0lBQ3RCO0FBQ0YiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogNTE1NCwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy91c2UtaW50bC9kaXN0L2VzbS9kZXZlbG9wbWVudC9yZWFjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZCBhcyBjcmVhdGVDYWNoZSwgYiBhcyBjcmVhdGVJbnRsRm9ybWF0dGVycywgaSBhcyBpbml0aWFsaXplQ29uZmlnLCByIGFzIHJlc29sdmVOYW1lc3BhY2UsIEkgYXMgSW50bEVycm9yLCBhIGFzIEludGxFcnJvckNvZGUsIGUgYXMgY3JlYXRlQmFzZVRyYW5zbGF0b3IsIGMgYXMgY3JlYXRlRm9ybWF0dGVyIH0gZnJvbSAnLi9pbml0aWFsaXplQ29uZmlnLUNSRDZldXVLLmpzJztcbmltcG9ydCB7IGpzeCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcblxuXG5cbmNvbnN0IEludGxDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcblxuZnVuY3Rpb24gSW50bFByb3ZpZGVyKHtcbiAgY2hpbGRyZW4sXG4gIGZvcm1hdHMsXG4gIGdldE1lc3NhZ2VGYWxsYmFjayxcbiAgbG9jYWxlLFxuICBtZXNzYWdlcyxcbiAgbm93LFxuICBvbkVycm9yLFxuICB0aW1lWm9uZVxufSkge1xuICBjb25zdCBwcmV2Q29udGV4dCA9IHVzZUNvbnRleHQoSW50bENvbnRleHQpO1xuXG4gIC8vIFRoZSBmb3JtYXR0ZXIgY2FjaGUgaXMgcmVsZWFzZWQgd2hlbiB0aGUgbG9jYWxlIGNoYW5nZXMuIEZvclxuICAvLyBsb25nLXJ1bm5pbmcgYXBwcyB3aXRoIGEgcGVyc2lzdGVudCBgSW50bFByb3ZpZGVyYCBhdCB0aGUgcm9vdCxcbiAgLy8gdGhpcyBjYW4gcmVkdWNlIHRoZSBtZW1vcnkgZm9vdHByaW50IChlLmcuIGluIFJlYWN0IE5hdGl2ZSkuXG4gIGNvbnN0IGNhY2hlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHByZXZDb250ZXh0Py5jYWNoZSB8fCBjcmVhdGVDYWNoZSgpO1xuICB9LCBbbG9jYWxlLCBwcmV2Q29udGV4dD8uY2FjaGVdKTtcbiAgY29uc3QgZm9ybWF0dGVycyA9IHVzZU1lbW8oKCkgPT4gcHJldkNvbnRleHQ/LmZvcm1hdHRlcnMgfHwgY3JlYXRlSW50bEZvcm1hdHRlcnMoY2FjaGUpLCBbY2FjaGUsIHByZXZDb250ZXh0Py5mb3JtYXR0ZXJzXSk7XG5cbiAgLy8gTWVtb2l6aW5nIHRoaXMgdmFsdWUgaGVscHMgdG8gYXZvaWQgdHJpZ2dlcmluZyBhIHJlLXJlbmRlciBvZiBhbGxcbiAgLy8gY29udGV4dCBjb25zdW1lcnMgaW4gY2FzZSB0aGUgY29uZmlndXJhdGlvbiBkaWRuJ3QgY2hhbmdlLiBIb3dldmVyLFxuICAvLyBpZiBzb21lIG9mIHRoZSBub24tcHJpbWl0aXZlIHZhbHVlcyBjaGFuZ2UsIGEgcmUtcmVuZGVyIHdpbGwgc3RpbGxcbiAgLy8gYmUgdHJpZ2dlcmVkLiBOb3RlIHRoYXQgdGhlcmUncyBubyBuZWVkIHRvIHB1dCBgbWVtb2Agb24gYEludGxQcm92aWRlcmBcbiAgLy8gaXRzZWxmLCBiZWNhdXNlIHRoZSBgY2hpbGRyZW5gIHR5cGljYWxseSBjaGFuZ2Ugb24gZXZlcnkgcmVuZGVyLlxuICAvLyBUaGVyZSdzIHNvbWUgYnVyZGVuIG9uIHRoZSBjb25zdW1lciBzaWRlIGlmIGl0J3MgaW1wb3J0YW50IHRvIHJlZHVjZVxuICAvLyByZS1yZW5kZXJzLCBwdXQgdGhhdCdzIGhvdyBSZWFjdCB3b3Jrcy5cbiAgLy8gU2VlOiBodHRwczovL2Jsb2cuaXNxdWFyZWRzb2Z0d2FyZS5jb20vMjAyMC8wNS9ibG9nZ2VkLWFuc3dlcnMtYS1tb3N0bHktY29tcGxldGUtZ3VpZGUtdG8tcmVhY3QtcmVuZGVyaW5nLWJlaGF2aW9yLyNjb250ZXh0LXVwZGF0ZXMtYW5kLXJlbmRlci1vcHRpbWl6YXRpb25zXG4gIGNvbnN0IHZhbHVlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIC4uLmluaXRpYWxpemVDb25maWcoe1xuICAgICAgbG9jYWxlLFxuICAgICAgLy8gKHJlcXVpcmVkIGJ5IHByb3ZpZGVyKVxuICAgICAgZm9ybWF0czogZm9ybWF0cyA9PT0gdW5kZWZpbmVkID8gcHJldkNvbnRleHQ/LmZvcm1hdHMgOiBmb3JtYXRzLFxuICAgICAgZ2V0TWVzc2FnZUZhbGxiYWNrOiBnZXRNZXNzYWdlRmFsbGJhY2sgfHwgcHJldkNvbnRleHQ/LmdldE1lc3NhZ2VGYWxsYmFjayxcbiAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyA9PT0gdW5kZWZpbmVkID8gcHJldkNvbnRleHQ/Lm1lc3NhZ2VzIDogbWVzc2FnZXMsXG4gICAgICBub3c6IG5vdyB8fCBwcmV2Q29udGV4dD8ubm93LFxuICAgICAgb25FcnJvcjogb25FcnJvciB8fCBwcmV2Q29udGV4dD8ub25FcnJvcixcbiAgICAgIHRpbWVab25lOiB0aW1lWm9uZSB8fCBwcmV2Q29udGV4dD8udGltZVpvbmVcbiAgICB9KSxcbiAgICBmb3JtYXR0ZXJzLFxuICAgIGNhY2hlXG4gIH0pLCBbY2FjaGUsIGZvcm1hdHMsIGZvcm1hdHRlcnMsIGdldE1lc3NhZ2VGYWxsYmFjaywgbG9jYWxlLCBtZXNzYWdlcywgbm93LCBvbkVycm9yLCBwcmV2Q29udGV4dCwgdGltZVpvbmVdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3goSW50bENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VJbnRsQ29udGV4dCgpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoSW50bENvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGludGwgY29udGV4dCBmb3VuZC4gSGF2ZSB5b3UgY29uZmlndXJlZCB0aGUgcHJvdmlkZXI/IFNlZSBodHRwczovL25leHQtaW50bC5kZXYvZG9jcy91c2FnZS9jb25maWd1cmF0aW9uI3NlcnZlci1jbGllbnQtY29tcG9uZW50cycgKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxubGV0IGhhc1dhcm5lZEZvck1pc3NpbmdUaW1lem9uZSA9IGZhbHNlO1xuY29uc3QgaXNTZXJ2ZXIgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJztcbmZ1bmN0aW9uIHVzZVRyYW5zbGF0aW9uc0ltcGwoYWxsTWVzc2FnZXNQcmVmaXhlZCwgbmFtZXNwYWNlUHJlZml4ZWQsIG5hbWVzcGFjZVByZWZpeCkge1xuICBjb25zdCB7XG4gICAgY2FjaGUsXG4gICAgZm9ybWF0czogZ2xvYmFsRm9ybWF0cyxcbiAgICBmb3JtYXR0ZXJzLFxuICAgIGdldE1lc3NhZ2VGYWxsYmFjayxcbiAgICBsb2NhbGUsXG4gICAgb25FcnJvcixcbiAgICB0aW1lWm9uZVxuICB9ID0gdXNlSW50bENvbnRleHQoKTtcblxuICAvLyBUaGUgYG5hbWVzcGFjZVByZWZpeGAgaXMgcGFydCBvZiB0aGUgdHlwZSBzeXN0ZW0uXG4gIC8vIFNlZSB0aGUgY29tbWVudCBpbiB0aGUgaG9vayBpbnZvY2F0aW9uLlxuICBjb25zdCBhbGxNZXNzYWdlcyA9IGFsbE1lc3NhZ2VzUHJlZml4ZWRbbmFtZXNwYWNlUHJlZml4XTtcbiAgY29uc3QgbmFtZXNwYWNlID0gcmVzb2x2ZU5hbWVzcGFjZShuYW1lc3BhY2VQcmVmaXhlZCwgbmFtZXNwYWNlUHJlZml4KTtcbiAgaWYgKCF0aW1lWm9uZSAmJiAhaGFzV2FybmVkRm9yTWlzc2luZ1RpbWV6b25lICYmIGlzU2VydmVyKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWNvbXBpbGVyL3JlYWN0LWNvbXBpbGVyXG4gICAgaGFzV2FybmVkRm9yTWlzc2luZ1RpbWV6b25lID0gdHJ1ZTtcbiAgICBvbkVycm9yKG5ldyBJbnRsRXJyb3IoSW50bEVycm9yQ29kZS5FTlZJUk9OTUVOVF9GQUxMQkFDSywgYFRoZXJlIGlzIG5vIFxcYHRpbWVab25lXFxgIGNvbmZpZ3VyZWQsIHRoaXMgY2FuIGxlYWQgdG8gbWFya3VwIG1pc21hdGNoZXMgY2F1c2VkIGJ5IGVudmlyb25tZW50IGRpZmZlcmVuY2VzLiBDb25zaWRlciBhZGRpbmcgYSBnbG9iYWwgZGVmYXVsdDogaHR0cHM6Ly9uZXh0LWludGwuZGV2L2RvY3MvY29uZmlndXJhdGlvbiN0aW1lLXpvbmVgICkpO1xuICB9XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHVzZU1lbW8oKCkgPT4gY3JlYXRlQmFzZVRyYW5zbGF0b3Ioe1xuICAgIGNhY2hlLFxuICAgIGZvcm1hdHRlcnMsXG4gICAgZ2V0TWVzc2FnZUZhbGxiYWNrLFxuICAgIG1lc3NhZ2VzOiBhbGxNZXNzYWdlcyxcbiAgICBuYW1lc3BhY2UsXG4gICAgb25FcnJvcixcbiAgICBmb3JtYXRzOiBnbG9iYWxGb3JtYXRzLFxuICAgIGxvY2FsZSxcbiAgICB0aW1lWm9uZVxuICB9KSwgW2NhY2hlLCBmb3JtYXR0ZXJzLCBnZXRNZXNzYWdlRmFsbGJhY2ssIGFsbE1lc3NhZ2VzLCBuYW1lc3BhY2UsIG9uRXJyb3IsIGdsb2JhbEZvcm1hdHMsIGxvY2FsZSwgdGltZVpvbmVdKTtcbiAgcmV0dXJuIHRyYW5zbGF0ZTtcbn1cblxuLyoqXG4gKiBUcmFuc2xhdGVzIG1lc3NhZ2VzIGZyb20gdGhlIGdpdmVuIG5hbWVzcGFjZSBieSB1c2luZyB0aGUgSUNVIHN5bnRheC5cbiAqIFNlZSBodHRwczovL2Zvcm1hdGpzLmlvL2RvY3MvY29yZS1jb25jZXB0cy9pY3Utc3ludGF4LlxuICpcbiAqIElmIG5vIG5hbWVzcGFjZSBpcyBwcm92aWRlZCwgYWxsIGF2YWlsYWJsZSBtZXNzYWdlcyBhcmUgcmV0dXJuZWQuXG4gKiBUaGUgbmFtZXNwYWNlIGNhbiBhbHNvIGluZGljYXRlIG5lc3RpbmcgYnkgdXNpbmcgYSBkb3RcbiAqIChlLmcuIGBuYW1lc3BhY2UuQ29tcG9uZW50YCkuXG4gKi9cbmZ1bmN0aW9uIHVzZVRyYW5zbGF0aW9ucyhuYW1lc3BhY2UpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUludGxDb250ZXh0KCk7XG4gIGNvbnN0IG1lc3NhZ2VzID0gY29udGV4dC5tZXNzYWdlcztcblxuICAvLyBXZSBoYXZlIHRvIHdyYXAgdGhlIGFjdHVhbCBob29rIHNvIHRoZSB0eXBlIGluZmVyZW5jZSBmb3IgdGhlIG9wdGlvbmFsXG4gIC8vIG5hbWVzcGFjZSB3b3JrcyBjb3JyZWN0bHkuIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNzE1Mjk1NzUvMzQzMDQ1XG4gIC8vIFRoZSBwcmVmaXggKFwiIVwiKSBpcyBhcmJpdHJhcnkuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgVXNlIHRoZSBleHBsaWNpdCBhbm5vdGF0aW9uIGluc3RlYWRcbiAgcmV0dXJuIHVzZVRyYW5zbGF0aW9uc0ltcGwoe1xuICAgICchJzogbWVzc2FnZXNcbiAgfSxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICBuYW1lc3BhY2UgPyBgIS4ke25hbWVzcGFjZX1gIDogJyEnLCAnIScpO1xufVxuXG5mdW5jdGlvbiB1c2VMb2NhbGUoKSB7XG4gIHJldHVybiB1c2VJbnRsQ29udGV4dCgpLmxvY2FsZTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm93KCkge1xuICByZXR1cm4gbmV3IERhdGUoKTtcbn1cblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vbmV4dC1pbnRsLmRldi9kb2NzL3VzYWdlL2RhdGVzLXRpbWVzI3JlbGF0aXZlLXRpbWVzLXVzZW5vd1xuICovXG5mdW5jdGlvbiB1c2VOb3cob3B0aW9ucykge1xuICBjb25zdCB1cGRhdGVJbnRlcnZhbCA9IG9wdGlvbnM/LnVwZGF0ZUludGVydmFsO1xuICBjb25zdCB7XG4gICAgbm93OiBnbG9iYWxOb3dcbiAgfSA9IHVzZUludGxDb250ZXh0KCk7XG4gIGNvbnN0IFtub3csIHNldE5vd10gPSB1c2VTdGF0ZShnbG9iYWxOb3cgfHwgZ2V0Tm93KCkpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdXBkYXRlSW50ZXJ2YWwpIHJldHVybjtcbiAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0Tm93KGdldE5vdygpKTtcbiAgICB9LCB1cGRhdGVJbnRlcnZhbCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgfTtcbiAgfSwgW2dsb2JhbE5vdywgdXBkYXRlSW50ZXJ2YWxdKTtcbiAgcmV0dXJuIHVwZGF0ZUludGVydmFsID09IG51bGwgJiYgZ2xvYmFsTm93ID8gZ2xvYmFsTm93IDogbm93O1xufVxuXG5mdW5jdGlvbiB1c2VUaW1lWm9uZSgpIHtcbiAgcmV0dXJuIHVzZUludGxDb250ZXh0KCkudGltZVpvbmU7XG59XG5cbmZ1bmN0aW9uIHVzZU1lc3NhZ2VzKCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlSW50bENvbnRleHQoKTtcbiAgaWYgKCFjb250ZXh0Lm1lc3NhZ2VzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBtZXNzYWdlcyBmb3VuZC4gSGF2ZSB5b3UgY29uZmlndXJlZCB0aGVtIGNvcnJlY3RseT8gU2VlIGh0dHBzOi8vbmV4dC1pbnRsLmRldi9kb2NzL2NvbmZpZ3VyYXRpb24jbWVzc2FnZXMnICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQubWVzc2FnZXM7XG59XG5cbmZ1bmN0aW9uIHVzZUZvcm1hdHRlcigpIHtcbiAgY29uc3Qge1xuICAgIGZvcm1hdHMsXG4gICAgZm9ybWF0dGVycyxcbiAgICBsb2NhbGUsXG4gICAgbm93OiBnbG9iYWxOb3csXG4gICAgb25FcnJvcixcbiAgICB0aW1lWm9uZVxuICB9ID0gdXNlSW50bENvbnRleHQoKTtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gY3JlYXRlRm9ybWF0dGVyKHtcbiAgICBmb3JtYXRzLFxuICAgIGxvY2FsZSxcbiAgICBub3c6IGdsb2JhbE5vdyxcbiAgICBvbkVycm9yLFxuICAgIHRpbWVab25lLFxuICAgIF9mb3JtYXR0ZXJzOiBmb3JtYXR0ZXJzXG4gIH0pLCBbZm9ybWF0cywgZm9ybWF0dGVycywgZ2xvYmFsTm93LCBsb2NhbGUsIG9uRXJyb3IsIHRpbWVab25lXSk7XG59XG5cbmV4cG9ydCB7IEludGxQcm92aWRlciwgdXNlRm9ybWF0dGVyLCB1c2VMb2NhbGUsIHVzZU1lc3NhZ2VzLCB1c2VOb3csIHVzZVRpbWVab25lLCB1c2VUcmFuc2xhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7Ozs7QUFJQSxNQUFNLGNBQWMsV0FBVyxHQUFFLENBQUEsR0FBQSxxTUFBQSxDQUFBLGdCQUFhLEFBQUQsRUFBRTtBQUUvQyxTQUFTLGFBQWEsRUFDcEIsUUFBUSxFQUNSLE9BQU8sRUFDUCxrQkFBa0IsRUFDbEIsTUFBTSxFQUNOLFFBQVEsRUFDUixHQUFHLEVBQ0gsT0FBTyxFQUNQLFFBQVEsRUFDVDtJQUNDLE1BQU0sY0FBYyxDQUFBLEdBQUEscU1BQUEsQ0FBQSxhQUFVLEFBQUQsRUFBRTtJQUUvQiwrREFBK0Q7SUFDL0Qsa0VBQWtFO0lBQ2xFLCtE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QztRQUFTO1FBQVk7UUFBVztRQUFRO1FBQVM7S0FBUztBQUNqRSIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiA1MzQ0LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL25leHQtaW50bC9kaXN0L2VzbS9kZXZlbG9wbWVudC9zaGFyZWQvTmV4dEludGxDbGllbnRQcm92aWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IEludGxQcm92aWRlciB9IGZyb20gJ3VzZS1pbnRsL3JlYWN0JztcbmltcG9ydCB7IGpzeCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcblxuZnVuY3Rpb24gTmV4dEludGxDbGllbnRQcm92aWRlcih7XG4gIGxvY2FsZSxcbiAgLi4ucmVzdFxufSkge1xuICBpZiAoIWxvY2FsZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGluZmVyIHRoZSBgbG9jYWxlYCBwcm9wIGluIGBOZXh0SW50bENsaWVudFByb3ZpZGVyYCwgcGxlYXNlIHByb3ZpZGUgaXQgZXhwbGljaXRseS5cXG5cXG5TZWUgaHR0cHM6Ly9uZXh0LWludGwuZGV2L2RvY3MvY29uZmlndXJhdGlvbiNsb2NhbGVcIiApO1xuICB9XG4gIHJldHVybiAvKiNfX1BVUkVfXyovanN4KEludGxQcm92aWRlciwge1xuICAgIGxvY2FsZTogbG9jYWxlLFxuICAgIC4uLnJlc3RcbiAgfSk7XG59XG5cbmV4cG9ydCB7IE5leHRJbnRsQ2xpZW50UHJvdmlkZXIgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBO0FBQ0E7QUFGQTs7O0FBSUEsU0FBUyx1QkFBdUIsRUFDOUIsTUFBTSxFQUNOLEdBQUcsTUFDSjtJQUNDLElBQUksQ0FBQyxRQUFRO1FBQ1gsTUFBTSxJQUFJLE1BQU07SUFDbEI7SUFDQSxPQUFPLFdBQVcsR0FBRSxDQUFBLEdBQUEsdU5BQUEsQ0FBQSxNQUFHLEFBQUQsRUFBRSxrS0FBQSxDQUFBLGVBQVksRUFBRTtRQUNwQyxRQUFRO1FBQ1IsR0FBRyxJQUFJO0lBQ1Q7QUFDRiIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiA1MzY2LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL25leHQtdGhlbWVzL2Rpc3QvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO2ltcG9ydCphcyB0IGZyb21cInJlYWN0XCI7dmFyIE09KGUsaSxzLHUsbSxhLGwsaCk9PntsZXQgZD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdz1bXCJsaWdodFwiLFwiZGFya1wiXTtmdW5jdGlvbiBwKG4peyhBcnJheS5pc0FycmF5KGUpP2U6W2VdKS5mb3JFYWNoKHk9PntsZXQgaz15PT09XCJjbGFzc1wiLFM9ayYmYT9tLm1hcChmPT5hW2ZdfHxmKTptO2s/KGQuY2xhc3NMaXN0LnJlbW92ZSguLi5TKSxkLmNsYXNzTGlzdC5hZGQoYSYmYVtuXT9hW25dOm4pKTpkLnNldEF0dHJpYnV0ZSh5LG4pfSksUihuKX1mdW5jdGlvbiBSKG4pe2gmJncuaW5jbHVkZXMobikmJihkLnN0eWxlLmNvbG9yU2NoZW1lPW4pfWZ1bmN0aW9uIGMoKXtyZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXM/XCJkYXJrXCI6XCJsaWdodFwifWlmKHUpcCh1KTtlbHNlIHRyeXtsZXQgbj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpKXx8cyx5PWwmJm49PT1cInN5c3RlbVwiP2MoKTpuO3AoeSl9Y2F0Y2gobil7fX07dmFyIGI9W1wibGlnaHRcIixcImRhcmtcIl0sST1cIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIixPPXR5cGVvZiB3aW5kb3c9PVwidW5kZWZpbmVkXCIseD10LmNyZWF0ZUNvbnRleHQodm9pZCAwKSxVPXtzZXRUaGVtZTplPT57fSx0aGVtZXM6W119LHo9KCk9Pnt2YXIgZTtyZXR1cm4oZT10LnVzZUNvbnRleHQoeCkpIT1udWxsP2U6VX0sSj1lPT50LnVzZUNvbnRleHQoeCk/dC5jcmVhdGVFbGVtZW50KHQuRnJhZ21lbnQsbnVsbCxlLmNoaWxkcmVuKTp0LmNyZWF0ZUVsZW1lbnQoVix7Li4uZX0pLE49W1wibGlnaHRcIixcImRhcmtcIl0sVj0oe2ZvcmNlZFRoZW1lOmUsZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZTppPSExLGVuYWJsZVN5c3RlbTpzPSEwLGVuYWJsZUNvbG9yU2NoZW1lOnU9ITAsc3RvcmFnZUtleTptPVwidGhlbWVcIix0aGVtZXM6YT1OLGRlZmF1bHRUaGVtZTpsPXM/XCJzeXN0ZW1cIjpcImxpZ2h0XCIsYXR0cmlidXRlOmg9XCJkYXRhLXRoZW1lXCIsdmFsdWU6ZCxjaGlsZHJlbjp3LG5vbmNlOnAsc2NyaXB0UHJvcHM6Un0pPT57bGV0W2Msbl09dC51c2VTdGF0ZSgoKT0+SChtLGwpKSxbVCx5XT10LnVzZVN0YXRlKCgpPT5jPT09XCJzeXN0ZW1cIj9FKCk6Yyksaz1kP09iamVjdC52YWx1ZXMoZCk6YSxTPXQudXNlQ2FsbGJhY2sobz0+e2xldCByPW87aWYoIXIpcmV0dXJuO289PT1cInN5c3RlbVwiJiZzJiYocj1FKCkpO2xldCB2PWQ/ZFtyXTpyLEM9aT9XKHApOm51bGwsUD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsTD1nPT57Zz09PVwiY2xhc3NcIj8oUC5jbGFzc0xpc3QucmVtb3ZlKC4uLmspLHYmJlAuY2xhc3NMaXN0LmFkZCh2KSk6Zy5zdGFydHNXaXRoKFwiZGF0YS1cIikmJih2P1Auc2V0QXR0cmlidXRlKGcsdik6UC5yZW1vdmVBdHRyaWJ1dGUoZykpfTtpZihBcnJheS5pc0FycmF5KGgpP2guZm9yRWFjaChMKTpMKGgpLHUpe2xldCBnPWIuaW5jbHVkZXMobCk/bDpudWxsLEQ9Yi5pbmNsdWRlcyhyKT9yOmc7UC5zdHlsZS5jb2xvclNjaGVtZT1EfUM9PW51bGx8fEMoKX0sW3BdKSxmPXQudXNlQ2FsbGJhY2sobz0+e2xldCByPXR5cGVvZiBvPT1cImZ1bmN0aW9uXCI/byhjKTpvO24ocik7dHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKG0scil9Y2F0Y2godil7fX0sW2NdKSxBPXQudXNlQ2FsbGJhY2sobz0+e2xldCByPUUobyk7eShyKSxjPT09XCJzeXN0ZW1cIiYmcyYmIWUmJlMoXCJzeXN0ZW1cIil9LFtjLGVdKTt0LnVzZUVmZmVjdCgoKT0+e2xldCBvPXdpbmRvdy5tYXRjaE1lZGlhKEkpO3JldHVybiBvLmFkZExpc3RlbmVyKEEpLEEobyksKCk9Pm8ucmVtb3ZlTGlzdGVuZXIoQSl9LFtBXSksdC51c2VFZmZlY3QoKCk9PntsZXQgbz1yPT57ci5rZXk9PT1tJiYoci5uZXdWYWx1ZT9uKHIubmV3VmFsdWUpOmYobCkpfTtyZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsbyksKCk9PndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLG8pfSxbZl0pLHQudXNlRWZmZWN0KCgpPT57UyhlIT1udWxsP2U6Yyl9LFtlLGNdKTtsZXQgUT10LnVzZU1lbW8oKCk9Pih7dGhlbWU6YyxzZXRUaGVtZTpmLGZvcmNlZFRoZW1lOmUscmVzb2x2ZWRUaGVtZTpjPT09XCJzeXN0ZW1cIj9UOmMsdGhlbWVzOnM/Wy4uLmEsXCJzeXN0ZW1cIl06YSxzeXN0ZW1UaGVtZTpzP1Q6dm9pZCAwfSksW2MsZixlLFQscyxhXSk7cmV0dXJuIHQuY3JlYXRlRWxlbWVudCh4LlByb3ZpZGVyLHt2YWx1ZTpRfSx0LmNyZWF0ZUVsZW1lbnQoXyx7Zm9yY2VkVGhlbWU6ZSxzdG9yYWdlS2V5Om0sYXR0cmlidXRlOmgsZW5hYmxlU3lzdGVtOnMsZW5hYmxlQ29sb3JTY2hlbWU6dSxkZWZhdWx0VGhlbWU6bCx2YWx1ZTpkLHRoZW1lczphLG5vbmNlOnAsc2NyaXB0UHJvcHM6Un0pLHcpfSxfPXQubWVtbygoe2ZvcmNlZFRoZW1lOmUsc3RvcmFnZUtleTppLGF0dHJpYnV0ZTpzLGVuYWJsZVN5c3RlbTp1LGVuYWJsZUNvbG9yU2NoZW1lOm0sZGVmYXVsdFRoZW1lOmEsdmFsdWU6bCx0aGVtZXM6aCxub25jZTpkLHNjcmlwdFByb3BzOnd9KT0+e2xldCBwPUpTT04uc3RyaW5naWZ5KFtzLGksYSxlLGgsbCx1LG1dKS5zbGljZSgxLC0xKTtyZXR1cm4gdC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIsey4uLncsc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiEwLG5vbmNlOnR5cGVvZiB3aW5kb3c9PVwidW5kZWZpbmVkXCI/ZDpcIlwiLGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6YCgke00udG9TdHJpbmcoKX0pKCR7cH0pYH19KX0pLEg9KGUsaSk9PntpZihPKXJldHVybjtsZXQgczt0cnl7cz1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKXx8dm9pZCAwfWNhdGNoKHUpe31yZXR1cm4gc3x8aX0sVz1lPT57bGV0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiBlJiZpLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsZSksaS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIiosKjo6YmVmb3JlLCo6OmFmdGVyey13ZWJraXQtdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDstbW96LXRyYW5zaXRpb246bm9uZSFpbXBvcnRhbnQ7LW8tdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDstbXMtdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50fVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChpKSwoKT0+e3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLHNldFRpbWVvdXQoKCk9Pntkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGkpfSwxKX19LEU9ZT0+KGV8fChlPXdpbmRvdy5tYXRjaE1lZGlhKEkpKSxlLm1hdGNoZXM/XCJkYXJrXCI6XCJsaWdodFwiKTtleHBvcnR7SiBhcyBUaGVtZVByb3ZpZGVyLHogYXMgdXNlVGhlbWV9O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUFiOztBQUFxQyxJQUFJLElBQUUsQ0FBQyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFO0lBQUssSUFBSSxJQUFFLFNBQVMsZUFBZSxFQUFDLElBQUU7UUFBQztRQUFRO0tBQU87SUFBQyxTQUFTLEVBQUUsQ0FBQztRQUFFLENBQUMsTUFBTSxPQUFPLENBQUMsS0FBRyxJQUFFO1lBQUM7U0FBRSxFQUFFLE9BQU8sQ0FBQyxDQUFBO1lBQUksSUFBSSxJQUFFLE1BQUksU0FBUSxJQUFFLEtBQUcsSUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBLElBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBRSxLQUFHO1lBQUUsSUFBRSxDQUFDLEVBQUUsU0FBUyxDQUFDLE1BQU0sSUFBSSxJQUFHLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBQyxFQUFFLElBQUUsRUFBRSxZQUFZLENBQUMsR0FBRTtRQUFFLElBQUcsRUFBRTtJQUFFO0lBQUMsU0FBUyxFQUFFLENBQUM7UUFBRSxLQUFHLEVBQUUsUUFBUSxDQUFDLE1BQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxXQUFXLEdBQUMsQ0FBQztJQUFDO0lBQUMsU0FBUztRQUFJLE9BQU8sT0FBTyxVQUFVLENBQUMsZ0NBQWdDLE9BQU8sR0FBQyxTQUFPO0lBQU87SUFBQyxJQUFHLEdBQUUsRUFBRTtTQUFRLElBQUc7UUFBQyxJQUFJLElBQUUsYUFBYSxPQUFPLENBQUMsTUFBSSxHQUFFLElBQUUsS0FBRyxNQUFJLFdBQVMsTUFBSTtRQUFFLEVBQUU7SUFBRSxFQUFDLE9BQU0sR0FBRSxDQUFDO0FBQUM7QUFBRSxJQUFJLElBQUU7SUFBQztJQUFRO0NBQU8sRUFBQyxJQUFFLGdDQUErQixJQUFFLGVBQWUsYUFBWSxJQUFFLHFNQUFBLENBQUEsZ0JBQWUsQ0FBQyxLQUFLLElBQUcsSUFBRTtJQUFDLFVBQVMsQ0FBQSxLQUFJO0lBQUUsUUFBTyxFQUFFO0FBQUEsR0FBRSxJQUFFO0lBQUssSUFBSTtJQUFFLE9BQU0sQ0FBQyxJQUFFLHFNQUFBLENBQUEsYUFBWSxDQUFDLEVBQUUsS0FBRyxPQUFLLElBQUU7QUFBQyxHQUFFLElBQUUsQ0FBQSxJQUFHLHFNQUFBLENBQUEsYUFBWSxDQUFDLEtBQUcscU1BQUEsQ0FBQSxnQkFBZSxDQUFDLHFNQUFBLENBQUEsV0FBVSxFQUFDLE1BQUssRUFBRSxRQUFRLElBQUUscU1BQUEsQ0FBQSxnQkFBZSxDQUFDLEdBQUU7UUFBQyxHQUFHLENBQUM7SUFBQSxJQUFHLElBQUU7SUFBQztJQUFRO0NBQU8sRUFBQyxJQUFFLENBQUMsRUFBQyxhQUFZLENBQUMsRUFBQywyQkFBMEIsSUFBRSxDQUFDLENBQUMsRUFBQyxjQUFhLElBQUUsQ0FBQyxDQUFDLEVBQUMsbUJBQWtCLElBQUUsQ0FBQyxDQUFDLEVBQUMsWUFBVyxJQUFFLE9BQU8sRUFBQyxRQUFPLElBQUUsQ0FBQyxFQUFDLGNBQWEsSUFBRSxJQUFFLFdBQVMsT0FBTyxFQUFDLFdBQVUsSUFBRSxZQUFZLEVBQUMsT0FBTSxDQUFDLEVBQUMsVUFBUyxDQUFDLEVBQUMsT0FBTSxDQUFDLEVBQUMsYUFBWSxDQUFDLEVBQUM7SUFBSSxJQUFHLENBQUMsR0FBRSxFQUFFLEdBQUMscU1BQUEsQ0FBQSxXQUFVLENBQUMsSUFBSSxFQUFFLEdBQUUsS0FBSSxDQUFDLEdBQUUsRUFBRSxHQUFDLHFNQUFBLENBQUEsV0FBVSxDQUFDLElBQUksTUFBSSxXQUFTLE1BQUksSUFBRyxJQUFFLElBQUUsT0FBTyxNQUFNLENBQUMsS0FBRyxHQUFFLElBQUUscU1BQUEsQ0FBQSxjQUFhLENBQUMsQ0FBQTtRQUFJLElBQUksSUFBRTtRQUFFLElBQUcsQ0FBQyxHQUFFO1FBQU8sTUFBSSxZQUFVLEtBQUcsQ0FBQyxJQUFFLEdBQUc7UUFBRSxJQUFJLElBQUUsSUFBRSxDQUFDLENBQUMsRUFBRSxHQUFDLEdBQUUsSUFBRSxJQUFFLEVBQUUsS0FBRyxNQUFLLElBQUUsU0FBUyxlQUFlLEVBQUMsSUFBRSxDQUFBO1lBQUksTUFBSSxVQUFRLENBQUMsRUFBRSxTQUFTLENBQUMsTUFBTSxJQUFJLElBQUcsS0FBRyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFFLEVBQUUsVUFBVSxDQUFDLFlBQVUsQ0FBQyxJQUFFLEVBQUUsWUFBWSxDQUFDLEdBQUUsS0FBRyxFQUFFLGVBQWUsQ0FBQyxFQUFFO1FBQUM7UUFBRSxJQUFHLE1BQU0sT0FBTyxDQUFDLEtBQUcsRUFBRSxPQUFPLENBQUMsS0FBRyxFQUFFLElBQUcsR0FBRTtZQUFDLElBQUksSUFBRSxFQUFFLFFBQVEsQ0FBQyxLQUFHLElBQUUsTUFBSyxJQUFFLEVBQUUsUUFBUSxDQUFDLEtBQUcsSUFBRTtZQUFFLEVBQUUsS0FBSyxDQUFDLFdBQVcsR0FBQztRQUFDO1FBQUMsS0FBRyxRQUFNO0lBQUcsR0FBRTtRQUFDO0tBQUUsR0FBRSxJQUFFLHFNQUFBLENBQUEsY0FBYSxDQUFDLENBQUE7UUFBSSxJQUFJLElBQUUsT0FBTyxLQUFHLGFBQVcsRUFBRSxLQUFHO1FBQUUsRUFBRTtRQUFHLElBQUc7WUFBQyxhQUFhLE9BQU8sQ0FBQyxHQUFFO1FBQUUsRUFBQyxPQUFNLEdBQUUsQ0FBQztJQUFDLEdBQUU7UUFBQztLQUFFLEdBQUUsSUFBRSxxTUFBQSxDQUFBLGNBQWEsQ0FBQyxDQUFBO1FBQUksSUFBSSxJQUFFLEVBQUU7UUFBRyxFQUFFLElBQUcsTUFBSSxZQUFVLEtBQUcsQ0FBQyxLQUFHLEVBQUU7SUFBUyxHQUFFO1FBQUM7UUFBRTtLQUFFO0lBQUUscU1BQUEsQ0FBQSxZQUFXLENBQUM7UUFBSyxJQUFJLElBQUUsT0FBTyxVQUFVLENBQUM7UUFBRyxPQUFPLEVBQUUsV0FBVyxDQUFDLElBQUcsRUFBRSxJQUFHLElBQUksRUFBRSxjQUFjLENBQUM7SUFBRSxHQUFFO1FBQUM7S0FBRSxHQUFFLHFNQUFBLENBQUEsWUFBVyxDQUFDO1FBQUssSUFBSSxJQUFFLENBQUE7WUFBSSxFQUFFLEdBQUcsS0FBRyxLQUFHLENBQUMsRUFBRSxRQUFRLEdBQUMsRUFBRSxFQUFFLFFBQVEsSUFBRSxFQUFFLEVBQUU7UUFBQztRQUFFLE9BQU8sT0FBTyxnQkFBZ0IsQ0FBQyxXQUFVLElBQUcsSUFBSSxPQUFPLG1CQUFtQixDQUFDLFdBQVU7SUFBRSxHQUFFO1FBQUM7S0FBRSxHQUFFLHFNQUFBLENBQUEsWUFBVyxDQUFDO1FBQUssRUFBRSxLQUFHLE9BQUssSUFBRTtJQUFFLEdBQUU7UUFBQztRQUFFO0tBQUU7SUFBRSxJQUFJLElBQUUscU1BQUEsQ0FBQSxVQUFTLENBQUMsSUFBSSxDQUFDO1lBQUMsT0FBTTtZQUFFLFVBQVM7WUFBRSxhQUFZO1lBQUUsZUFBYyxNQUFJLFdBQVMsSUFBRTtZQUFFLFFBQU8sSUFBRTttQkFBSTtnQkFBRTthQUFTLEdBQUM7WUFBRSxhQUFZLElBQUUsSUFBRSxLQUFLO1FBQUMsQ0FBQyxHQUFFO1FBQUM7UUFBRTtRQUFFO1FBQUU7UUFBRTtRQUFFO0tBQUU7SUFBRSxPQUFPLHFNQUFBLENBQUEsZ0JBQWUsQ0FBQyxFQUFFLFFBQVEsRUFBQztRQUFDLE9BQU07SUFBQyxHQUFFLHFNQUFBLENBQUEsZ0JBQWUsQ0FBQyxHQUFFO1FBQUMsYUFBWTtRQUFFLFlBQVc7UUFBRSxXQUFVO1FBQUUsY0FBYTtRQUFFLG1CQUFrQjtRQUFFLGNBQWE7UUFBRSxPQUFNO1FBQUUsUUFBTztRQUFFLE9BQU07UUFBRSxhQUFZO0lBQUMsSUFBRztBQUFFLEdBQUUsSUFBRSxxTUFBQSxDQUFBLE9BQU0sQ0FBQyxDQUFDLEVBQUMsYUFBWSxDQUFDLEVBQUMsWUFBVyxDQUFDLEVBQUMsV0FBVSxDQUFDLEVBQUMsY0FBYSxDQUFDLEVBQUMsbUJBQWtCLENBQUMsRUFBQyxjQUFhLENBQUMsRUFBQyxPQUFNLENBQUMsRUFBQyxRQUFPLENBQUMsRUFBQyxPQUFNLENBQUMsRUFBQyxhQUFZLENBQUMsRUFBQztJQUFJLElBQUksSUFBRSxLQUFLLFNBQVMsQ0FBQztRQUFDO1FBQUU7UUFBRTtRQUFFO1FBQUU7UUFBRTtRQUFFO1FBQUU7S0FBRSxFQUFFLEtBQUssQ0FBQyxHQUFFLENBQUM7SUFBRyxPQUFPLHFNQUFBLENBQUEsZ0JBQWUsQ0FBQyxVQUFTO1FBQUMsR0FBRyxDQUFDO1FBQUMsMEJBQXlCLENBQUM7UUFBRSxPQUFNLHVDQUEyQixJQUFFO1FBQUcseUJBQXdCO1lBQUMsUUFBTyxDQUFDLENBQUMsRUFBRSxFQUFFLFFBQVEsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFBQTtJQUFDO0FBQUUsSUFBRyxJQUFFLENBQUMsR0FBRTtJQUFLLHdDQUFLOzs7SUFBTyxJQUFJO0FBQTZELEdBQUUsSUFBRSxDQUFBO0lBQUksSUFBSSxJQUFFLFNBQVMsYUFBYSxDQUFDO0lBQVMsT0FBTyxLQUFHLEVBQUUsWUFBWSxDQUFDLFNBQVEsSUFBRyxFQUFFLFdBQVcsQ0FBQyxTQUFTLGNBQWMsQ0FBQyxpTEFBZ0wsU0FBUyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUc7UUFBSyxPQUFPLGdCQUFnQixDQUFDLFNBQVMsSUFBSSxHQUFFLFdBQVc7WUFBSyxTQUFTLElBQUksQ0FBQyxXQUFXLENBQUM7UUFBRSxHQUFFO0lBQUU7QUFBQyxHQUFFLElBQUUsQ0FBQSxJQUFHLENBQUMsS0FBRyxDQUFDLElBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxHQUFFLEVBQUUsT0FBTyxHQUFDLFNBQU8sT0FBTyIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiA1NTI5LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3Nvbm5lci9kaXN0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5mdW5jdGlvbiBfX2luc2VydENTUyhjb2RlKSB7XG4gIGlmICghY29kZSB8fCB0eXBlb2YgZG9jdW1lbnQgPT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuICBsZXQgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXVxuICBsZXQgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnXG4gIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpXG4gIDtzdHlsZS5zdHlsZVNoZWV0ID8gKHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNvZGUpIDogc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29kZSkpXG59XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuY29uc3QgZ2V0QXNzZXQgPSAodHlwZSk9PntcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICAgICAgcmV0dXJuIFN1Y2Nlc3NJY29uO1xuICAgICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgICAgIHJldHVybiBJbmZvSWNvbjtcbiAgICAgICAgY2FzZSAnd2FybmluZyc6XG4gICAgICAgICAgICByZXR1cm4gV2FybmluZ0ljb247XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIHJldHVybiBFcnJvckljb247XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuY29uc3QgYmFycyA9IEFycmF5KDEyKS5maWxsKDApO1xuY29uc3QgTG9hZGVyID0gKHsgdmlzaWJsZSwgY2xhc3NOYW1lIH0pPT57XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogW1xuICAgICAgICAgICAgJ3Nvbm5lci1sb2FkaW5nLXdyYXBwZXInLFxuICAgICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKSxcbiAgICAgICAgXCJkYXRhLXZpc2libGVcIjogdmlzaWJsZVxuICAgIH0sIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzb25uZXItc3Bpbm5lclwiXG4gICAgfSwgYmFycy5tYXAoKF8sIGkpPT4vKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInNvbm5lci1sb2FkaW5nLWJhclwiLFxuICAgICAgICAgICAga2V5OiBgc3Bpbm5lci1iYXItJHtpfWBcbiAgICAgICAgfSkpKSk7XG59O1xuY29uc3QgU3VjY2Vzc0ljb24gPSAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjAgMjBcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGhlaWdodDogXCIyMFwiLFxuICAgIHdpZHRoOiBcIjIwXCJcbn0sIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xMCAxOGE4IDggMCAxMDAtMTYgOCA4IDAgMDAwIDE2em0zLjg1Ny05LjgwOWEuNzUuNzUgMCAwMC0xLjIxNC0uODgybC0zLjQ4MyA0Ljc5LTEuODgtMS44OGEuNzUuNzUgMCAxMC0xLjA2IDEuMDYxbDIuNSAyLjVhLjc1Ljc1IDAgMDAxLjEzNy0uMDg5bDQtNS41elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxufSkpO1xuY29uc3QgV2FybmluZ0ljb24gPSAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGhlaWdodDogXCIyMFwiLFxuICAgIHdpZHRoOiBcIjIwXCJcbn0sIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk05LjQwMSAzLjAwM2MxLjE1NS0yIDQuMDQzLTIgNS4xOTcgMGw3LjM1NSAxMi43NDhjMS4xNTQgMi0uMjkgNC41LTIuNTk5IDQuNUg0LjY0NWMtMi4zMDkgMC0zLjc1Mi0yLjUtMi41OTgtNC41TDkuNCAzLjAwM3pNMTIgOC4yNWEuNzUuNzUgMCAwMS43NS43NXYzLjc1YS43NS43NSAwIDAxLTEuNSAwVjlhLjc1Ljc1IDAgMDEuNzUtLjc1em0wIDguMjVhLjc1Ljc1IDAgMTAwLTEuNS43NS43NSAwIDAwMCAxLjV6XCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG59KSk7XG5jb25zdCBJbmZvSWNvbiA9IC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyMCAyMFwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgaGVpZ2h0OiBcIjIwXCIsXG4gICAgd2lkdGg6IFwiMjBcIlxufSwgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTE4IDEwYTggOCAwIDExLTE2IDAgOCA4IDAgMDExNiAwem0tNy00YTEgMSAwIDExLTIgMCAxIDEgMCAwMTIgMHpNOSA5YS43NS43NSAwIDAwMCAxLjVoLjI1M2EuMjUuMjUgMCAwMS4yNDQuMzA0bC0uNDU5IDIuMDY2QTEuNzUgMS43NSAwIDAwMTAuNzQ3IDE1SDExYS43NS43NSAwIDAwMC0xLjVoLS4yNTNhLjI1LjI1IDAgMDEtLjI0NC0uMzA0bC40NTktMi4wNjZBMS43NSAxLjc1IDAgMDA5LjI1MyA5SDl6XCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG59KSk7XG5jb25zdCBFcnJvckljb24gPSAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjAgMjBcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGhlaWdodDogXCIyMFwiLFxuICAgIHdpZHRoOiBcIjIwXCJcbn0sIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xOCAxMGE4IDggMCAxMS0xNiAwIDggOCAwIDAxMTYgMHptLTgtNWEuNzUuNzUgMCAwMS43NS43NXY0LjVhLjc1Ljc1IDAgMDEtMS41IDB2LTQuNUEuNzUuNzUgMCAwMTEwIDV6bTAgMTBhMSAxIDAgMTAwLTIgMSAxIDAgMDAwIDJ6XCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG59KSk7XG5jb25zdCBDbG9zZUljb24gPSAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IFwiMTJcIixcbiAgICBoZWlnaHQ6IFwiMTJcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICBzdHJva2VXaWR0aDogXCIxLjVcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxufSwgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGluZVwiLCB7XG4gICAgeDE6IFwiMThcIixcbiAgICB5MTogXCI2XCIsXG4gICAgeDI6IFwiNlwiLFxuICAgIHkyOiBcIjE4XCJcbn0pLCAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaW5lXCIsIHtcbiAgICB4MTogXCI2XCIsXG4gICAgeTE6IFwiNlwiLFxuICAgIHgyOiBcIjE4XCIsXG4gICAgeTI6IFwiMThcIlxufSkpO1xuXG5jb25zdCB1c2VJc0RvY3VtZW50SGlkZGVuID0gKCk9PntcbiAgICBjb25zdCBbaXNEb2N1bWVudEhpZGRlbiwgc2V0SXNEb2N1bWVudEhpZGRlbl0gPSBSZWFjdC51c2VTdGF0ZShkb2N1bWVudC5oaWRkZW4pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9ICgpPT57XG4gICAgICAgICAgICBzZXRJc0RvY3VtZW50SGlkZGVuKGRvY3VtZW50LmhpZGRlbik7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKT0+d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBjYWxsYmFjayk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBpc0RvY3VtZW50SGlkZGVuO1xufTtcblxubGV0IHRvYXN0c0NvdW50ZXIgPSAxO1xuY2xhc3MgT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIC8vIFdlIHVzZSBhcnJvdyBmdW5jdGlvbnMgdG8gbWFpbnRhaW4gdGhlIGNvcnJlY3QgYHRoaXNgIHJlZmVyZW5jZVxuICAgICAgICB0aGlzLnN1YnNjcmliZSA9IChzdWJzY3JpYmVyKT0+e1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnN1YnNjcmliZXJzLmluZGV4T2Yoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wdWJsaXNoID0gKGRhdGEpPT57XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmZvckVhY2goKHN1YnNjcmliZXIpPT5zdWJzY3JpYmVyKGRhdGEpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRUb2FzdCA9IChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoKGRhdGEpO1xuICAgICAgICAgICAgdGhpcy50b2FzdHMgPSBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy50b2FzdHMsXG4gICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jcmVhdGUgPSAoZGF0YSk9PntcbiAgICAgICAgICAgIHZhciBfZGF0YV9pZDtcbiAgICAgICAgICAgIGNvbnN0IHsgbWVzc2FnZSwgLi4ucmVzdCB9ID0gZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdHlwZW9mIChkYXRhID09IG51bGwgPyB2b2lkIDAgOiBkYXRhLmlkKSA9PT0gJ251bWJlcicgfHwgKChfZGF0YV9pZCA9IGRhdGEuaWQpID09IG51bGwgPyB2b2lkIDAgOiBfZGF0YV9pZC5sZW5ndGgpID4gMCA/IGRhdGEuaWQgOiB0b2FzdHNDb3VudGVyKys7XG4gICAgICAgICAgICBjb25zdCBhbHJlYWR5RXhpc3RzID0gdGhpcy50b2FzdHMuZmluZCgodG9hc3QpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvYXN0LmlkID09PSBpZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZGlzbWlzc2libGUgPSBkYXRhLmRpc21pc3NpYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogZGF0YS5kaXNtaXNzaWJsZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc21pc3NlZFRvYXN0cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNtaXNzZWRUb2FzdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbHJlYWR5RXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2FzdHMgPSB0aGlzLnRvYXN0cy5tYXAoKHRvYXN0KT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9hc3QuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc21pc3NpYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUb2FzdCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgICAgICAgICBkaXNtaXNzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kaXNtaXNzID0gKGlkKT0+e1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNtaXNzZWRUb2FzdHMuYWRkKGlkKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PnRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaCgoc3Vic2NyaWJlcik9PnN1YnNjcmliZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc21pc3M6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudG9hc3RzLmZvckVhY2goKHRvYXN0KT0+e1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmZvckVhY2goKHN1YnNjcmliZXIpPT5zdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdG9hc3QuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzbWlzczogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAobWVzc2FnZSwgZGF0YSk9PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lcnJvciA9IChtZXNzYWdlLCBkYXRhKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3VjY2VzcyA9IChtZXNzYWdlLCBkYXRhKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbmZvID0gKG1lc3NhZ2UsIGRhdGEpPT57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLndhcm5pbmcgPSAobWVzc2FnZSwgZGF0YSk9PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubG9hZGluZyA9IChtZXNzYWdlLCBkYXRhKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gKHByb21pc2UsIGRhdGEpPT57XG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RoaW5nIHRvIHNob3dcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZGF0YS5sb2FkaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZCA9IHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkYXRhLmxvYWRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0eXBlb2YgZGF0YS5kZXNjcmlwdGlvbiAhPT0gJ2Z1bmN0aW9uJyA/IGRhdGEuZGVzY3JpcHRpb24gOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHAgPSBQcm9taXNlLnJlc29sdmUocHJvbWlzZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gcHJvbWlzZSgpIDogcHJvbWlzZSk7XG4gICAgICAgICAgICBsZXQgc2hvdWxkRGlzbWlzcyA9IGlkICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcm9taXNlID0gcC50aGVuKGFzeW5jIChyZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgICAgICdyZXNvbHZlJyxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmVhY3RFbGVtZW50UmVzcG9uc2UgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVhY3RFbGVtZW50UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkRGlzbWlzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNIdHRwUmVzcG9uc2UocmVzcG9uc2UpICYmICFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGREaXNtaXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VEYXRhID0gdHlwZW9mIGRhdGEuZXJyb3IgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBkYXRhLmVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApIDogZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB0eXBlb2YgZGF0YS5kZXNjcmlwdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IGRhdGEuZGVzY3JpcHRpb24oYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCkgOiBkYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0V4dGVuZGVkUmVzdWx0ID0gdHlwZW9mIHByb21pc2VEYXRhID09PSAnb2JqZWN0JyAmJiAhUmVhY3QuaXNWYWxpZEVsZW1lbnQocHJvbWlzZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2FzdFNldHRpbmdzID0gaXNFeHRlbmRlZFJlc3VsdCA/IHByb21pc2VEYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcHJvbWlzZURhdGFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdFNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGREaXNtaXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VEYXRhID0gdHlwZW9mIGRhdGEuZXJyb3IgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBkYXRhLmVycm9yKHJlc3BvbnNlKSA6IGRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdHlwZW9mIGRhdGEuZGVzY3JpcHRpb24gPT09ICdmdW5jdGlvbicgPyBhd2FpdCBkYXRhLmRlc2NyaXB0aW9uKHJlc3BvbnNlKSA6IGRhdGEuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRXh0ZW5kZWRSZXN1bHQgPSB0eXBlb2YgcHJvbWlzZURhdGEgPT09ICdvYmplY3QnICYmICFSZWFjdC5pc1ZhbGlkRWxlbWVudChwcm9taXNlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvYXN0U2V0dGluZ3MgPSBpc0V4dGVuZGVkUmVzdWx0ID8gcHJvbWlzZURhdGEgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwcm9taXNlRGF0YVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvYXN0U2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN1Y2Nlc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGREaXNtaXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VEYXRhID0gdHlwZW9mIGRhdGEuc3VjY2VzcyA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IGRhdGEuc3VjY2VzcyhyZXNwb25zZSkgOiBkYXRhLnN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdHlwZW9mIGRhdGEuZGVzY3JpcHRpb24gPT09ICdmdW5jdGlvbicgPyBhd2FpdCBkYXRhLmRlc2NyaXB0aW9uKHJlc3BvbnNlKSA6IGRhdGEuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRXh0ZW5kZWRSZXN1bHQgPSB0eXBlb2YgcHJvbWlzZURhdGEgPT09ICdvYmplY3QnICYmICFSZWFjdC5pc1ZhbGlkRWxlbWVudChwcm9taXNlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvYXN0U2V0dGluZ3MgPSBpc0V4dGVuZGVkUmVzdWx0ID8gcHJvbWlzZURhdGEgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwcm9taXNlRGF0YVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9hc3RTZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaChhc3luYyAoZXJyb3IpPT57XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgICAgICAncmVqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkRGlzbWlzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlRGF0YSA9IHR5cGVvZiBkYXRhLmVycm9yID09PSAnZnVuY3Rpb24nID8gYXdhaXQgZGF0YS5lcnJvcihlcnJvcikgOiBkYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHR5cGVvZiBkYXRhLmRlc2NyaXB0aW9uID09PSAnZnVuY3Rpb24nID8gYXdhaXQgZGF0YS5kZXNjcmlwdGlvbihlcnJvcikgOiBkYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0V4dGVuZGVkUmVzdWx0ID0gdHlwZW9mIHByb21pc2VEYXRhID09PSAnb2JqZWN0JyAmJiAhUmVhY3QuaXNWYWxpZEVsZW1lbnQocHJvbWlzZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2FzdFNldHRpbmdzID0gaXNFeHRlbmRlZFJlc3VsdCA/IHByb21pc2VEYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcHJvbWlzZURhdGFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdFNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkRGlzbWlzcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUb2FzdCBpcyBzdGlsbCBpbiBsb2FkIHN0YXRlIChhbmQgd2lsbCBiZSBpbmRlZmluaXRlbHkg4oCUIGRpc21pc3MgaXQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzbWlzcyhpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhLmZpbmFsbHkgPT0gbnVsbCA/IHZvaWQgMCA6IGRhdGEuZmluYWxseS5jYWxsKGRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB1bndyYXAgPSAoKT0+bmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9Pm9yaWdpbmFsUHJvbWlzZS50aGVuKCgpPT5yZXN1bHRbMF0gPT09ICdyZWplY3QnID8gcmVqZWN0KHJlc3VsdFsxXSkgOiByZXNvbHZlKHJlc3VsdFsxXSkpLmNhdGNoKHJlamVjdCkpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIGlkICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBPYmplY3QuYXNzaWduIG9uIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVud3JhcFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGlkLCB7XG4gICAgICAgICAgICAgICAgICAgIHVud3JhcFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmN1c3RvbSA9IChqc3gsIGRhdGEpPT57XG4gICAgICAgICAgICBjb25zdCBpZCA9IChkYXRhID09IG51bGwgPyB2b2lkIDAgOiBkYXRhLmlkKSB8fCB0b2FzdHNDb3VudGVyKys7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAganN4OiBqc3goaWQpLFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIC4uLmRhdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldEFjdGl2ZVRvYXN0cyA9ICgpPT57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2FzdHMuZmlsdGVyKCh0b2FzdCk9PiF0aGlzLmRpc21pc3NlZFRvYXN0cy5oYXModG9hc3QuaWQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IFtdO1xuICAgICAgICB0aGlzLnRvYXN0cyA9IFtdO1xuICAgICAgICB0aGlzLmRpc21pc3NlZFRvYXN0cyA9IG5ldyBTZXQoKTtcbiAgICB9XG59XG5jb25zdCBUb2FzdFN0YXRlID0gbmV3IE9ic2VydmVyKCk7XG4vLyBiaW5kIHRoaXMgdG8gdGhlIHRvYXN0IGZ1bmN0aW9uXG5jb25zdCB0b2FzdEZ1bmN0aW9uID0gKG1lc3NhZ2UsIGRhdGEpPT57XG4gICAgY29uc3QgaWQgPSAoZGF0YSA9PSBudWxsID8gdm9pZCAwIDogZGF0YS5pZCkgfHwgdG9hc3RzQ291bnRlcisrO1xuICAgIFRvYXN0U3RhdGUuYWRkVG9hc3Qoe1xuICAgICAgICB0aXRsZTogbWVzc2FnZSxcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgaWRcbiAgICB9KTtcbiAgICByZXR1cm4gaWQ7XG59O1xuY29uc3QgaXNIdHRwUmVzcG9uc2UgPSAoZGF0YSk9PntcbiAgICByZXR1cm4gZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgJ29rJyBpbiBkYXRhICYmIHR5cGVvZiBkYXRhLm9rID09PSAnYm9vbGVhbicgJiYgJ3N0YXR1cycgaW4gZGF0YSAmJiB0eXBlb2YgZGF0YS5zdGF0dXMgPT09ICdudW1iZXInO1xufTtcbmNvbnN0IGJhc2ljVG9hc3QgPSB0b2FzdEZ1bmN0aW9uO1xuY29uc3QgZ2V0SGlzdG9yeSA9ICgpPT5Ub2FzdFN0YXRlLnRvYXN0cztcbmNvbnN0IGdldFRvYXN0cyA9ICgpPT5Ub2FzdFN0YXRlLmdldEFjdGl2ZVRvYXN0cygpO1xuLy8gV2UgdXNlIGBPYmplY3QuYXNzaWduYCB0byBtYWludGFpbiB0aGUgY29ycmVjdCB0eXBlcyBhcyB3ZSB3b3VsZCBsb3NlIHRoZW0gb3RoZXJ3aXNlXG5jb25zdCB0b2FzdCA9IE9iamVjdC5hc3NpZ24oYmFzaWNUb2FzdCwge1xuICAgIHN1Y2Nlc3M6IFRvYXN0U3RhdGUuc3VjY2VzcyxcbiAgICBpbmZvOiBUb2FzdFN0YXRlLmluZm8sXG4gICAgd2FybmluZzogVG9hc3RTdGF0ZS53YXJuaW5nLFxuICAgIGVycm9yOiBUb2FzdFN0YXRlLmVycm9yLFxuICAgIGN1c3RvbTogVG9hc3RTdGF0ZS5jdXN0b20sXG4gICAgbWVzc2FnZTogVG9hc3RTdGF0ZS5tZXNzYWdlLFxuICAgIHByb21pc2U6IFRvYXN0U3RhdGUucHJvbWlzZSxcbiAgICBkaXNtaXNzOiBUb2FzdFN0YXRlLmRpc21pc3MsXG4gICAgbG9hZGluZzogVG9hc3RTdGF0ZS5sb2FkaW5nXG59LCB7XG4gICAgZ2V0SGlzdG9yeSxcbiAgICBnZXRUb2FzdHNcbn0pO1xuXG5fX2luc2VydENTUyhcIltkYXRhLXNvbm5lci10b2FzdGVyXVtkaXI9bHRyXSxodG1sW2Rpcj1sdHJdey0tdG9hc3QtaWNvbi1tYXJnaW4tc3RhcnQ6LTNweDstLXRvYXN0LWljb24tbWFyZ2luLWVuZDo0cHg7LS10b2FzdC1zdmctbWFyZ2luLXN0YXJ0Oi0xcHg7LS10b2FzdC1zdmctbWFyZ2luLWVuZDowcHg7LS10b2FzdC1idXR0b24tbWFyZ2luLXN0YXJ0OmF1dG87LS10b2FzdC1idXR0b24tbWFyZ2luLWVuZDowOy0tdG9hc3QtY2xvc2UtYnV0dG9uLXN0YXJ0OjA7LS10b2FzdC1jbG9zZS1idXR0b24tZW5kOnVuc2V0Oy0tdG9hc3QtY2xvc2UtYnV0dG9uLXRyYW5zZm9ybTp0cmFuc2xhdGUoLTM1JSwgLTM1JSl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2Rpcj1ydGxdLGh0bWxbZGlyPXJ0bF17LS10b2FzdC1pY29uLW1hcmdpbi1zdGFydDo0cHg7LS10b2FzdC1pY29uLW1hcmdpbi1lbmQ6LTNweDstLXRvYXN0LXN2Zy1tYXJnaW4tc3RhcnQ6MHB4Oy0tdG9hc3Qtc3ZnLW1hcmdpbi1lbmQ6LTFweDstLXRvYXN0LWJ1dHRvbi1tYXJnaW4tc3RhcnQ6MDstLXRvYXN0LWJ1dHRvbi1tYXJnaW4tZW5kOmF1dG87LS10b2FzdC1jbG9zZS1idXR0b24tc3RhcnQ6dW5zZXQ7LS10b2FzdC1jbG9zZS1idXR0b24tZW5kOjA7LS10b2FzdC1jbG9zZS1idXR0b24tdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNSUsIC0zNSUpfVtkYXRhLXNvbm5lci10b2FzdGVyXXtwb3NpdGlvbjpmaXhlZDt3aWR0aDp2YXIoLS13aWR0aCk7Zm9udC1mYW1pbHk6dWktc2Fucy1zZXJpZixzeXN0ZW0tdWksLWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSBOZXVlLEFyaWFsLE5vdG8gU2FucyxzYW5zLXNlcmlmLEFwcGxlIENvbG9yIEVtb2ppLFNlZ29lIFVJIEVtb2ppLFNlZ29lIFVJIFN5bWJvbCxOb3RvIENvbG9yIEVtb2ppOy0tZ3JheTE6aHNsKDAsIDAlLCA5OSUpOy0tZ3JheTI6aHNsKDAsIDAlLCA5Ny4zJSk7LS1ncmF5Mzpoc2woMCwgMCUsIDk1LjElKTstLWdyYXk0OmhzbCgwLCAwJSwgOTMlKTstLWdyYXk1OmhzbCgwLCAwJSwgOTAuOSUpOy0tZ3JheTY6aHNsKDAsIDAlLCA4OC43JSk7LS1ncmF5Nzpoc2woMCwgMCUsIDg1LjglKTstLWdyYXk4OmhzbCgwLCAwJSwgNzglKTstLWdyYXk5OmhzbCgwLCAwJSwgNTYuMSUpOy0tZ3JheTEwOmhzbCgwLCAwJSwgNTIuMyUpOy0tZ3JheTExOmhzbCgwLCAwJSwgNDMuNSUpOy0tZ3JheTEyOmhzbCgwLCAwJSwgOSUpOy0tYm9yZGVyLXJhZGl1czo4cHg7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MDttYXJnaW46MDtsaXN0LXN0eWxlOm5vbmU7b3V0bGluZTowO3otaW5kZXg6OTk5OTk5OTk5O3RyYW5zaXRpb246dHJhbnNmb3JtIC40cyBlYXNlfUBtZWRpYSAoaG92ZXI6bm9uZSkgYW5kIChwb2ludGVyOmNvYXJzZSl7W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEtbGlmdGVkPXRydWVde3RyYW5zZm9ybTpub25lfX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS14LXBvc2l0aW9uPXJpZ2h0XXtyaWdodDp2YXIoLS1vZmZzZXQtcmlnaHQpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXgtcG9zaXRpb249bGVmdF17bGVmdDp2YXIoLS1vZmZzZXQtbGVmdCl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEteC1wb3NpdGlvbj1jZW50ZXJde2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXktcG9zaXRpb249dG9wXXt0b3A6dmFyKC0tb2Zmc2V0LXRvcCl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEteS1wb3NpdGlvbj1ib3R0b21de2JvdHRvbTp2YXIoLS1vZmZzZXQtYm90dG9tKX1bZGF0YS1zb25uZXItdG9hc3Rdey0teTp0cmFuc2xhdGVZKDEwMCUpOy0tbGlmdC1hbW91bnQ6Y2FsYyh2YXIoLS1saWZ0KSAqIHZhcigtLWdhcCkpO3otaW5kZXg6dmFyKC0tei1pbmRleCk7cG9zaXRpb246YWJzb2x1dGU7b3BhY2l0eTowO3RyYW5zZm9ybTp2YXIoLS15KTt0b3VjaC1hY3Rpb246bm9uZTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuNHMsb3BhY2l0eSAuNHMsaGVpZ2h0IC40cyxib3gtc2hhZG93IC4ycztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3V0bGluZTowO292ZXJmbG93LXdyYXA6YW55d2hlcmV9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXXtwYWRkaW5nOjE2cHg7YmFja2dyb3VuZDp2YXIoLS1ub3JtYWwtYmcpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tbm9ybWFsLWJvcmRlcik7Y29sb3I6dmFyKC0tbm9ybWFsLXRleHQpO2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym94LXNoYWRvdzowIDRweCAxMnB4IHJnYmEoMCwwLDAsLjEpO3dpZHRoOnZhcigtLXdpZHRoKTtmb250LXNpemU6MTNweDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo2cHh9W2RhdGEtc29ubmVyLXRvYXN0XTpmb2N1cy12aXNpYmxle2JveC1zaGFkb3c6MCA0cHggMTJweCByZ2JhKDAsMCwwLC4xKSwwIDAgMCAycHggcmdiYSgwLDAsMCwuMil9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXktcG9zaXRpb249dG9wXXt0b3A6MDstLXk6dHJhbnNsYXRlWSgtMTAwJSk7LS1saWZ0OjE7LS1saWZ0LWFtb3VudDpjYWxjKDEgKiB2YXIoLS1nYXApKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEteS1wb3NpdGlvbj1ib3R0b21de2JvdHRvbTowOy0teTp0cmFuc2xhdGVZKDEwMCUpOy0tbGlmdDotMTstLWxpZnQtYW1vdW50OmNhbGModmFyKC0tbGlmdCkgKiB2YXIoLS1nYXApKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWRlc2NyaXB0aW9uXXtmb250LXdlaWdodDo0MDA7bGluZS1oZWlnaHQ6MS40O2NvbG9yOiMzZjNmM2Z9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWRlc2NyaXB0aW9uXXtjb2xvcjppbmhlcml0fVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXNvbm5lci10aGVtZT1kYXJrXSBbZGF0YS1kZXNjcmlwdGlvbl17Y29sb3I6I2U4ZThlOH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLXRpdGxlXXtmb250LXdlaWdodDo1MDA7bGluZS1oZWlnaHQ6MS41O2NvbG9yOmluaGVyaXR9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1pY29uXXtkaXNwbGF5OmZsZXg7aGVpZ2h0OjE2cHg7d2lkdGg6MTZweDtwb3NpdGlvbjpyZWxhdGl2ZTtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1zaHJpbms6MDttYXJnaW4tbGVmdDp2YXIoLS10b2FzdC1pY29uLW1hcmdpbi1zdGFydCk7bWFyZ2luLXJpZ2h0OnZhcigtLXRvYXN0LWljb24tbWFyZ2luLWVuZCl9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXByb21pc2U9dHJ1ZV0gW2RhdGEtaWNvbl0+c3Zne29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjgpO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyO2FuaW1hdGlvbjpzb25uZXItZmFkZS1pbiAuM3MgZWFzZSBmb3J3YXJkc31bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWljb25dPip7ZmxleC1zaHJpbms6MH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWljb25dIHN2Z3ttYXJnaW4tbGVmdDp2YXIoLS10b2FzdC1zdmctbWFyZ2luLXN0YXJ0KTttYXJnaW4tcmlnaHQ6dmFyKC0tdG9hc3Qtc3ZnLW1hcmdpbi1lbmQpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtY29udGVudF17ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6MnB4fVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtYnV0dG9uXXtib3JkZXItcmFkaXVzOjRweDtwYWRkaW5nLWxlZnQ6OHB4O3BhZGRpbmctcmlnaHQ6OHB4O2hlaWdodDoyNHB4O2ZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLW5vcm1hbC1iZyk7YmFja2dyb3VuZDp2YXIoLS1ub3JtYWwtdGV4dCk7bWFyZ2luLWxlZnQ6dmFyKC0tdG9hc3QtYnV0dG9uLW1hcmdpbi1zdGFydCk7bWFyZ2luLXJpZ2h0OnZhcigtLXRvYXN0LWJ1dHRvbi1tYXJnaW4tZW5kKTtib3JkZXI6bm9uZTtmb250LXdlaWdodDo1MDA7Y3Vyc29yOnBvaW50ZXI7b3V0bGluZTowO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1zaHJpbms6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjRzLGJveC1zaGFkb3cgLjJzfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtYnV0dG9uXTpmb2N1cy12aXNpYmxle2JveC1zaGFkb3c6MCAwIDAgMnB4IHJnYmEoMCwwLDAsLjQpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zdHlsZWQ9dHJ1ZV0gW2RhdGEtYnV0dG9uXTpmaXJzdC1vZi10eXBle21hcmdpbi1sZWZ0OnZhcigtLXRvYXN0LWJ1dHRvbi1tYXJnaW4tc3RhcnQpO21hcmdpbi1yaWdodDp2YXIoLS10b2FzdC1idXR0b24tbWFyZ2luLWVuZCl9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1jYW5jZWxde2NvbG9yOnZhcigtLW5vcm1hbC10ZXh0KTtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjA4KX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS1zb25uZXItdGhlbWU9ZGFya10gW2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1jYW5jZWxde2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuMyl9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1jbG9zZS1idXR0b25de3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6dmFyKC0tdG9hc3QtY2xvc2UtYnV0dG9uLXN0YXJ0KTtyaWdodDp2YXIoLS10b2FzdC1jbG9zZS1idXR0b24tZW5kKTt0b3A6MDtoZWlnaHQ6MjBweDt3aWR0aDoyMHB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjA7Y29sb3I6dmFyKC0tZ3JheTEyKTtiYWNrZ3JvdW5kOnZhcigtLW5vcm1hbC1iZyk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ncmF5NCk7dHJhbnNmb3JtOnZhcigtLXRvYXN0LWNsb3NlLWJ1dHRvbi10cmFuc2Zvcm0pO2JvcmRlci1yYWRpdXM6NTAlO2N1cnNvcjpwb2ludGVyO3otaW5kZXg6MTt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzLGJhY2tncm91bmQgLjJzLGJvcmRlci1jb2xvciAuMnN9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN0eWxlZD10cnVlXSBbZGF0YS1jbG9zZS1idXR0b25dOmZvY3VzLXZpc2libGV7Ym94LXNoYWRvdzowIDRweCAxMnB4IHJnYmEoMCwwLDAsLjEpLDAgMCAwIDJweCByZ2JhKDAsMCwwLC4yKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdIFtkYXRhLWRpc2FibGVkPXRydWVde2N1cnNvcjpub3QtYWxsb3dlZH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3R5bGVkPXRydWVdOmhvdmVyIFtkYXRhLWNsb3NlLWJ1dHRvbl06aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1ncmF5Mik7Ym9yZGVyLWNvbG9yOnZhcigtLWdyYXk1KX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3dpcGluZz10cnVlXTo6YmVmb3Jle2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTAwJTtyaWdodDotMTAwJTtoZWlnaHQ6MTAwJTt6LWluZGV4Oi0xfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS15LXBvc2l0aW9uPXRvcF1bZGF0YS1zd2lwaW5nPXRydWVdOjpiZWZvcmV7Ym90dG9tOjUwJTt0cmFuc2Zvcm06c2NhbGVZKDMpIHRyYW5zbGF0ZVkoNTAlKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEteS1wb3NpdGlvbj1ib3R0b21dW2RhdGEtc3dpcGluZz10cnVlXTo6YmVmb3Jle3RvcDo1MCU7dHJhbnNmb3JtOnNjYWxlWSgzKSB0cmFuc2xhdGVZKC01MCUpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zd2lwaW5nPWZhbHNlXVtkYXRhLXJlbW92ZWQ9dHJ1ZV06OmJlZm9yZXtjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2luc2V0OjA7dHJhbnNmb3JtOnNjYWxlWSgyKX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtZXhwYW5kZWQ9dHJ1ZV06OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO2hlaWdodDpjYWxjKHZhcigtLWdhcCkgKyAxcHgpO2JvdHRvbToxMDAlO3dpZHRoOjEwMCV9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLW1vdW50ZWQ9dHJ1ZV17LS15OnRyYW5zbGF0ZVkoMCk7b3BhY2l0eToxfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1leHBhbmRlZD1mYWxzZV1bZGF0YS1mcm9udD1mYWxzZV17LS1zY2FsZTp2YXIoLS10b2FzdHMtYmVmb3JlKSAqIDAuMDUgKyAxOy0teTp0cmFuc2xhdGVZKGNhbGModmFyKC0tbGlmdC1hbW91bnQpICogdmFyKC0tdG9hc3RzLWJlZm9yZSkpKSBzY2FsZShjYWxjKC0xICogdmFyKC0tc2NhbGUpKSk7aGVpZ2h0OnZhcigtLWZyb250LXRvYXN0LWhlaWdodCl9W2RhdGEtc29ubmVyLXRvYXN0XT4qe3RyYW5zaXRpb246b3BhY2l0eSAuNHN9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXgtcG9zaXRpb249cmlnaHRde3JpZ2h0OjB9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXgtcG9zaXRpb249bGVmdF17bGVmdDowfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1leHBhbmRlZD1mYWxzZV1bZGF0YS1mcm9udD1mYWxzZV1bZGF0YS1zdHlsZWQ9dHJ1ZV0+KntvcGFjaXR5OjB9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXZpc2libGU9ZmFsc2Vde29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1tb3VudGVkPXRydWVdW2RhdGEtZXhwYW5kZWQ9dHJ1ZV17LS15OnRyYW5zbGF0ZVkoY2FsYyh2YXIoLS1saWZ0KSAqIHZhcigtLW9mZnNldCkpKTtoZWlnaHQ6dmFyKC0taW5pdGlhbC1oZWlnaHQpfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1yZW1vdmVkPXRydWVdW2RhdGEtZnJvbnQ9dHJ1ZV1bZGF0YS1zd2lwZS1vdXQ9ZmFsc2Vdey0teTp0cmFuc2xhdGVZKGNhbGModmFyKC0tbGlmdCkgKiAtMTAwJSkpO29wYWNpdHk6MH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtcmVtb3ZlZD10cnVlXVtkYXRhLWZyb250PWZhbHNlXVtkYXRhLXN3aXBlLW91dD1mYWxzZV1bZGF0YS1leHBhbmRlZD10cnVlXXstLXk6dHJhbnNsYXRlWShjYWxjKHZhcigtLWxpZnQpICogdmFyKC0tb2Zmc2V0KSArIHZhcigtLWxpZnQpICogLTEwMCUpKTtvcGFjaXR5OjB9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXJlbW92ZWQ9dHJ1ZV1bZGF0YS1mcm9udD1mYWxzZV1bZGF0YS1zd2lwZS1vdXQ9ZmFsc2VdW2RhdGEtZXhwYW5kZWQ9ZmFsc2Vdey0teTp0cmFuc2xhdGVZKDQwJSk7b3BhY2l0eTowO3RyYW5zaXRpb246dHJhbnNmb3JtIC41cyxvcGFjaXR5IC4yc31bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtcmVtb3ZlZD10cnVlXVtkYXRhLWZyb250PWZhbHNlXTo6YmVmb3Jle2hlaWdodDpjYWxjKHZhcigtLWluaXRpYWwtaGVpZ2h0KSArIDIwJSl9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN3aXBpbmc9dHJ1ZV17dHJhbnNmb3JtOnZhcigtLXkpIHRyYW5zbGF0ZVkodmFyKC0tc3dpcGUtYW1vdW50LXksMCkpIHRyYW5zbGF0ZVgodmFyKC0tc3dpcGUtYW1vdW50LXgsMCkpO3RyYW5zaXRpb246bm9uZX1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3dpcGVkPXRydWVde3VzZXItc2VsZWN0Om5vbmV9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN3aXBlLW91dD10cnVlXVtkYXRhLXktcG9zaXRpb249Ym90dG9tXSxbZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3dpcGUtb3V0PXRydWVdW2RhdGEteS1wb3NpdGlvbj10b3Bde2FuaW1hdGlvbi1kdXJhdGlvbjouMnM7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dDthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zd2lwZS1vdXQ9dHJ1ZV1bZGF0YS1zd2lwZS1kaXJlY3Rpb249bGVmdF17YW5pbWF0aW9uLW5hbWU6c3dpcGUtb3V0LWxlZnR9W2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXN3aXBlLW91dD10cnVlXVtkYXRhLXN3aXBlLWRpcmVjdGlvbj1yaWdodF17YW5pbWF0aW9uLW5hbWU6c3dpcGUtb3V0LXJpZ2h0fVtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1zd2lwZS1vdXQ9dHJ1ZV1bZGF0YS1zd2lwZS1kaXJlY3Rpb249dXBde2FuaW1hdGlvbi1uYW1lOnN3aXBlLW91dC11cH1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtc3dpcGUtb3V0PXRydWVdW2RhdGEtc3dpcGUtZGlyZWN0aW9uPWRvd25de2FuaW1hdGlvbi1uYW1lOnN3aXBlLW91dC1kb3dufUBrZXlmcmFtZXMgc3dpcGUtb3V0LWxlZnR7ZnJvbXt0cmFuc2Zvcm06dmFyKC0teSkgdHJhbnNsYXRlWCh2YXIoLS1zd2lwZS1hbW91bnQteCkpO29wYWNpdHk6MX10b3t0cmFuc2Zvcm06dmFyKC0teSkgdHJhbnNsYXRlWChjYWxjKHZhcigtLXN3aXBlLWFtb3VudC14KSAtIDEwMCUpKTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgc3dpcGUtb3V0LXJpZ2h0e2Zyb217dHJhbnNmb3JtOnZhcigtLXkpIHRyYW5zbGF0ZVgodmFyKC0tc3dpcGUtYW1vdW50LXgpKTtvcGFjaXR5OjF9dG97dHJhbnNmb3JtOnZhcigtLXkpIHRyYW5zbGF0ZVgoY2FsYyh2YXIoLS1zd2lwZS1hbW91bnQteCkgKyAxMDAlKSk7b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIHN3aXBlLW91dC11cHtmcm9te3RyYW5zZm9ybTp2YXIoLS15KSB0cmFuc2xhdGVZKHZhcigtLXN3aXBlLWFtb3VudC15KSk7b3BhY2l0eToxfXRve3RyYW5zZm9ybTp2YXIoLS15KSB0cmFuc2xhdGVZKGNhbGModmFyKC0tc3dpcGUtYW1vdW50LXkpIC0gMTAwJSkpO29wYWNpdHk6MH19QGtleWZyYW1lcyBzd2lwZS1vdXQtZG93bntmcm9te3RyYW5zZm9ybTp2YXIoLS15KSB0cmFuc2xhdGVZKHZhcigtLXN3aXBlLWFtb3VudC15KSk7b3BhY2l0eToxfXRve3RyYW5zZm9ybTp2YXIoLS15KSB0cmFuc2xhdGVZKGNhbGModmFyKC0tc3dpcGUtYW1vdW50LXkpICsgMTAwJSkpO29wYWNpdHk6MH19QG1lZGlhIChtYXgtd2lkdGg6NjAwcHgpe1tkYXRhLXNvbm5lci10b2FzdGVyXXtwb3NpdGlvbjpmaXhlZDtyaWdodDp2YXIoLS1tb2JpbGUtb2Zmc2V0LXJpZ2h0KTtsZWZ0OnZhcigtLW1vYmlsZS1vZmZzZXQtbGVmdCk7d2lkdGg6MTAwJX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGlyPXJ0bF17bGVmdDpjYWxjKHZhcigtLW1vYmlsZS1vZmZzZXQtbGVmdCkgKiAtMSl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdIFtkYXRhLXNvbm5lci10b2FzdF17bGVmdDowO3JpZ2h0OjA7d2lkdGg6Y2FsYygxMDAlIC0gdmFyKC0tbW9iaWxlLW9mZnNldC1sZWZ0KSAqIDIpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXgtcG9zaXRpb249bGVmdF17bGVmdDp2YXIoLS1tb2JpbGUtb2Zmc2V0LWxlZnQpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXktcG9zaXRpb249Ym90dG9tXXtib3R0b206dmFyKC0tbW9iaWxlLW9mZnNldC1ib3R0b20pfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXktcG9zaXRpb249dG9wXXt0b3A6dmFyKC0tbW9iaWxlLW9mZnNldC10b3ApfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXgtcG9zaXRpb249Y2VudGVyXXtsZWZ0OnZhcigtLW1vYmlsZS1vZmZzZXQtbGVmdCk7cmlnaHQ6dmFyKC0tbW9iaWxlLW9mZnNldC1yaWdodCk7dHJhbnNmb3JtOm5vbmV9fVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXNvbm5lci10aGVtZT1saWdodF17LS1ub3JtYWwtYmc6I2ZmZjstLW5vcm1hbC1ib3JkZXI6dmFyKC0tZ3JheTQpOy0tbm9ybWFsLXRleHQ6dmFyKC0tZ3JheTEyKTstLXN1Y2Nlc3MtYmc6aHNsKDE0MywgODUlLCA5NiUpOy0tc3VjY2Vzcy1ib3JkZXI6aHNsKDE0NSwgOTIlLCA4NyUpOy0tc3VjY2Vzcy10ZXh0OmhzbCgxNDAsIDEwMCUsIDI3JSk7LS1pbmZvLWJnOmhzbCgyMDgsIDEwMCUsIDk3JSk7LS1pbmZvLWJvcmRlcjpoc2woMjIxLCA5MSUsIDkzJSk7LS1pbmZvLXRleHQ6aHNsKDIxMCwgOTIlLCA0NSUpOy0td2FybmluZy1iZzpoc2woNDksIDEwMCUsIDk3JSk7LS13YXJuaW5nLWJvcmRlcjpoc2woNDksIDkxJSwgODQlKTstLXdhcm5pbmctdGV4dDpoc2woMzEsIDkyJSwgNDUlKTstLWVycm9yLWJnOmhzbCgzNTksIDEwMCUsIDk3JSk7LS1lcnJvci1ib3JkZXI6aHNsKDM1OSwgMTAwJSwgOTQlKTstLWVycm9yLXRleHQ6aHNsKDM2MCwgMTAwJSwgNDUlKX1bZGF0YS1zb25uZXItdG9hc3Rlcl1bZGF0YS1zb25uZXItdGhlbWU9bGlnaHRdIFtkYXRhLXNvbm5lci10b2FzdF1bZGF0YS1pbnZlcnQ9dHJ1ZV17LS1ub3JtYWwtYmc6IzAwMDstLW5vcm1hbC1ib3JkZXI6aHNsKDAsIDAlLCAyMCUpOy0tbm9ybWFsLXRleHQ6dmFyKC0tZ3JheTEpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXNvbm5lci10aGVtZT1kYXJrXSBbZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtaW52ZXJ0PXRydWVdey0tbm9ybWFsLWJnOiNmZmY7LS1ub3JtYWwtYm9yZGVyOnZhcigtLWdyYXkzKTstLW5vcm1hbC10ZXh0OnZhcigtLWdyYXkxMil9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEtc29ubmVyLXRoZW1lPWRhcmtdey0tbm9ybWFsLWJnOiMwMDA7LS1ub3JtYWwtYmctaG92ZXI6aHNsKDAsIDAlLCAxMiUpOy0tbm9ybWFsLWJvcmRlcjpoc2woMCwgMCUsIDIwJSk7LS1ub3JtYWwtYm9yZGVyLWhvdmVyOmhzbCgwLCAwJSwgMjUlKTstLW5vcm1hbC10ZXh0OnZhcigtLWdyYXkxKTstLXN1Y2Nlc3MtYmc6aHNsKDE1MCwgMTAwJSwgNiUpOy0tc3VjY2Vzcy1ib3JkZXI6aHNsKDE0NywgMTAwJSwgMTIlKTstLXN1Y2Nlc3MtdGV4dDpoc2woMTUwLCA4NiUsIDY1JSk7LS1pbmZvLWJnOmhzbCgyMTUsIDEwMCUsIDYlKTstLWluZm8tYm9yZGVyOmhzbCgyMjMsIDQzJSwgMTclKTstLWluZm8tdGV4dDpoc2woMjE2LCA4NyUsIDY1JSk7LS13YXJuaW5nLWJnOmhzbCg2NCwgMTAwJSwgNiUpOy0td2FybmluZy1ib3JkZXI6aHNsKDYwLCAxMDAlLCA5JSk7LS13YXJuaW5nLXRleHQ6aHNsKDQ2LCA4NyUsIDY1JSk7LS1lcnJvci1iZzpoc2woMzU4LCA3NiUsIDEwJSk7LS1lcnJvci1ib3JkZXI6aHNsKDM1NywgODklLCAxNiUpOy0tZXJyb3ItdGV4dDpoc2woMzU4LCAxMDAlLCA4MSUpfVtkYXRhLXNvbm5lci10b2FzdGVyXVtkYXRhLXNvbm5lci10aGVtZT1kYXJrXSBbZGF0YS1zb25uZXItdG9hc3RdIFtkYXRhLWNsb3NlLWJ1dHRvbl17YmFja2dyb3VuZDp2YXIoLS1ub3JtYWwtYmcpO2JvcmRlci1jb2xvcjp2YXIoLS1ub3JtYWwtYm9yZGVyKTtjb2xvcjp2YXIoLS1ub3JtYWwtdGV4dCl9W2RhdGEtc29ubmVyLXRvYXN0ZXJdW2RhdGEtc29ubmVyLXRoZW1lPWRhcmtdIFtkYXRhLXNvbm5lci10b2FzdF0gW2RhdGEtY2xvc2UtYnV0dG9uXTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLW5vcm1hbC1iZy1ob3Zlcik7Ym9yZGVyLWNvbG9yOnZhcigtLW5vcm1hbC1ib3JkZXItaG92ZXIpfVtkYXRhLXJpY2gtY29sb3JzPXRydWVdW2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXR5cGU9c3VjY2Vzc117YmFja2dyb3VuZDp2YXIoLS1zdWNjZXNzLWJnKTtib3JkZXItY29sb3I6dmFyKC0tc3VjY2Vzcy1ib3JkZXIpO2NvbG9yOnZhcigtLXN1Y2Nlc3MtdGV4dCl9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdHlwZT1zdWNjZXNzXSBbZGF0YS1jbG9zZS1idXR0b25de2JhY2tncm91bmQ6dmFyKC0tc3VjY2Vzcy1iZyk7Ym9yZGVyLWNvbG9yOnZhcigtLXN1Y2Nlc3MtYm9yZGVyKTtjb2xvcjp2YXIoLS1zdWNjZXNzLXRleHQpfVtkYXRhLXJpY2gtY29sb3JzPXRydWVdW2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXR5cGU9aW5mb117YmFja2dyb3VuZDp2YXIoLS1pbmZvLWJnKTtib3JkZXItY29sb3I6dmFyKC0taW5mby1ib3JkZXIpO2NvbG9yOnZhcigtLWluZm8tdGV4dCl9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdHlwZT1pbmZvXSBbZGF0YS1jbG9zZS1idXR0b25de2JhY2tncm91bmQ6dmFyKC0taW5mby1iZyk7Ym9yZGVyLWNvbG9yOnZhcigtLWluZm8tYm9yZGVyKTtjb2xvcjp2YXIoLS1pbmZvLXRleHQpfVtkYXRhLXJpY2gtY29sb3JzPXRydWVdW2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXR5cGU9d2FybmluZ117YmFja2dyb3VuZDp2YXIoLS13YXJuaW5nLWJnKTtib3JkZXItY29sb3I6dmFyKC0td2FybmluZy1ib3JkZXIpO2NvbG9yOnZhcigtLXdhcm5pbmctdGV4dCl9W2RhdGEtcmljaC1jb2xvcnM9dHJ1ZV1bZGF0YS1zb25uZXItdG9hc3RdW2RhdGEtdHlwZT13YXJuaW5nXSBbZGF0YS1jbG9zZS1idXR0b25de2JhY2tncm91bmQ6dmFyKC0td2FybmluZy1iZyk7Ym9yZGVyLWNvbG9yOnZhcigtLXdhcm5pbmctYm9yZGVyKTtjb2xvcjp2YXIoLS13YXJuaW5nLXRleHQpfVtkYXRhLXJpY2gtY29sb3JzPXRydWVdW2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXR5cGU9ZXJyb3Jde2JhY2tncm91bmQ6dmFyKC0tZXJyb3ItYmcpO2JvcmRlci1jb2xvcjp2YXIoLS1lcnJvci1ib3JkZXIpO2NvbG9yOnZhcigtLWVycm9yLXRleHQpfVtkYXRhLXJpY2gtY29sb3JzPXRydWVdW2RhdGEtc29ubmVyLXRvYXN0XVtkYXRhLXR5cGU9ZXJyb3JdIFtkYXRhLWNsb3NlLWJ1dHRvbl17YmFja2dyb3VuZDp2YXIoLS1lcnJvci1iZyk7Ym9yZGVyLWNvbG9yOnZhcigtLWVycm9yLWJvcmRlcik7Y29sb3I6dmFyKC0tZXJyb3ItdGV4dCl9LnNvbm5lci1sb2FkaW5nLXdyYXBwZXJ7LS1zaXplOjE2cHg7aGVpZ2h0OnZhcigtLXNpemUpO3dpZHRoOnZhcigtLXNpemUpO3Bvc2l0aW9uOmFic29sdXRlO2luc2V0OjA7ei1pbmRleDoxMH0uc29ubmVyLWxvYWRpbmctd3JhcHBlcltkYXRhLXZpc2libGU9ZmFsc2Vde3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyO2FuaW1hdGlvbjpzb25uZXItZmFkZS1vdXQgLjJzIGVhc2UgZm9yd2FyZHN9LnNvbm5lci1zcGlubmVye3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDo1MCU7bGVmdDo1MCU7aGVpZ2h0OnZhcigtLXNpemUpO3dpZHRoOnZhcigtLXNpemUpfS5zb25uZXItbG9hZGluZy1iYXJ7YW5pbWF0aW9uOnNvbm5lci1zcGluIDEuMnMgbGluZWFyIGluZmluaXRlO2JhY2tncm91bmQ6dmFyKC0tZ3JheTExKTtib3JkZXItcmFkaXVzOjZweDtoZWlnaHQ6OCU7bGVmdDotMTAlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMy45JTt3aWR0aDoyNCV9LnNvbm5lci1sb2FkaW5nLWJhcjpmaXJzdC1jaGlsZHthbmltYXRpb24tZGVsYXk6LTEuMnM7dHJhbnNmb3JtOnJvdGF0ZSguMDAwMWRlZykgdHJhbnNsYXRlKDE0NiUpfS5zb25uZXItbG9hZGluZy1iYXI6bnRoLWNoaWxkKDIpe2FuaW1hdGlvbi1kZWxheTotMS4xczt0cmFuc2Zvcm06cm90YXRlKDMwZGVnKSB0cmFuc2xhdGUoMTQ2JSl9LnNvbm5lci1sb2FkaW5nLWJhcjpudGgtY2hpbGQoMyl7YW5pbWF0aW9uLWRlbGF5Oi0xczt0cmFuc2Zvcm06cm90YXRlKDYwZGVnKSB0cmFuc2xhdGUoMTQ2JSl9LnNvbm5lci1sb2FkaW5nLWJhcjpudGgtY2hpbGQoNCl7YW5pbWF0aW9uLWRlbGF5Oi0uOXM7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZykgdHJhbnNsYXRlKDE0NiUpfS5zb25uZXItbG9hZGluZy1iYXI6bnRoLWNoaWxkKDUpe2FuaW1hdGlvbi1kZWxheTotLjhzO3RyYW5zZm9ybTpyb3RhdGUoMTIwZGVnKSB0cmFuc2xhdGUoMTQ2JSl9LnNvbm5lci1sb2FkaW5nLWJhcjpudGgtY2hpbGQoNil7YW5pbWF0aW9uLWRlbGF5Oi0uN3M7dHJhbnNmb3JtOnJvdGF0ZSgxNTBkZWcpIHRyYW5zbGF0ZSgxNDYlKX0uc29ubmVyLWxvYWRpbmctYmFyOm50aC1jaGlsZCg3KXthbmltYXRpb24tZGVsYXk6LS42czt0cmFuc2Zvcm06cm90YXRlKDE4MGRlZykgdHJhbnNsYXRlKDE0NiUpfS5zb25uZXItbG9hZGluZy1iYXI6bnRoLWNoaWxkKDgpe2FuaW1hdGlvbi1kZWxheTotLjVzO3RyYW5zZm9ybTpyb3RhdGUoMjEwZGVnKSB0cmFuc2xhdGUoMTQ2JSl9LnNvbm5lci1sb2FkaW5nLWJhcjpudGgtY2hpbGQoOSl7YW5pbWF0aW9uLWRlbGF5Oi0uNHM7dHJhbnNmb3JtOnJvdGF0ZSgyNDBkZWcpIHRyYW5zbGF0ZSgxNDYlKX0uc29ubmVyLWxvYWRpbmctYmFyOm50aC1jaGlsZCgxMCl7YW5pbWF0aW9uLWRlbGF5Oi0uM3M7dHJhbnNmb3JtOnJvdGF0ZSgyNzBkZWcpIHRyYW5zbGF0ZSgxNDYlKX0uc29ubmVyLWxvYWRpbmctYmFyOm50aC1jaGlsZCgxMSl7YW5pbWF0aW9uLWRlbGF5Oi0uMnM7dHJhbnNmb3JtOnJvdGF0ZSgzMDBkZWcpIHRyYW5zbGF0ZSgxNDYlKX0uc29ubmVyLWxvYWRpbmctYmFyOm50aC1jaGlsZCgxMil7YW5pbWF0aW9uLWRlbGF5Oi0uMXM7dHJhbnNmb3JtOnJvdGF0ZSgzMzBkZWcpIHRyYW5zbGF0ZSgxNDYlKX1Aa2V5ZnJhbWVzIHNvbm5lci1mYWRlLWluezAle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjgpfTEwMCV7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBzb25uZXItZmFkZS1vdXR7MCV7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKX0xMDAle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjgpfX1Aa2V5ZnJhbWVzIHNvbm5lci1zcGluezAle29wYWNpdHk6MX0xMDAle29wYWNpdHk6LjE1fX1AbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb24pey5zb25uZXItbG9hZGluZy1iYXIsW2RhdGEtc29ubmVyLXRvYXN0XSxbZGF0YS1zb25uZXItdG9hc3RdPip7dHJhbnNpdGlvbjpub25lIWltcG9ydGFudDthbmltYXRpb246bm9uZSFpbXBvcnRhbnR9fS5zb25uZXItbG9hZGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyO3RyYW5zaXRpb246b3BhY2l0eSAuMnMsdHJhbnNmb3JtIC4yc30uc29ubmVyLWxvYWRlcltkYXRhLXZpc2libGU9ZmFsc2Vde29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjgpIHRyYW5zbGF0ZSgtNTAlLC01MCUpfVwiKTtcblxuZnVuY3Rpb24gaXNBY3Rpb24oYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbi5sYWJlbCAhPT0gdW5kZWZpbmVkO1xufVxuXG4vLyBWaXNpYmxlIHRvYXN0cyBhbW91bnRcbmNvbnN0IFZJU0lCTEVfVE9BU1RTX0FNT1VOVCA9IDM7XG4vLyBWaWV3cG9ydCBwYWRkaW5nXG5jb25zdCBWSUVXUE9SVF9PRkZTRVQgPSAnMjRweCc7XG4vLyBNb2JpbGUgdmlld3BvcnQgcGFkZGluZ1xuY29uc3QgTU9CSUxFX1ZJRVdQT1JUX09GRlNFVCA9ICcxNnB4Jztcbi8vIERlZmF1bHQgbGlmZXRpbWUgb2YgYSB0b2FzdHMgKGluIG1zKVxuY29uc3QgVE9BU1RfTElGRVRJTUUgPSA0MDAwO1xuLy8gRGVmYXVsdCB0b2FzdCB3aWR0aFxuY29uc3QgVE9BU1RfV0lEVEggPSAzNTY7XG4vLyBEZWZhdWx0IGdhcCBiZXR3ZWVuIHRvYXN0c1xuY29uc3QgR0FQID0gMTQ7XG4vLyBUaHJlc2hvbGQgdG8gZGlzbWlzcyBhIHRvYXN0XG5jb25zdCBTV0lQRV9USFJFU0hPTEQgPSA0NTtcbi8vIEVxdWFsIHRvIGV4aXQgYW5pbWF0aW9uIGR1cmF0aW9uXG5jb25zdCBUSU1FX0JFRk9SRV9VTk1PVU5UID0gMjAwO1xuZnVuY3Rpb24gY24oLi4uY2xhc3Nlcykge1xuICAgIHJldHVybiBjbGFzc2VzLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyk7XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0U3dpcGVEaXJlY3Rpb25zKHBvc2l0aW9uKSB7XG4gICAgY29uc3QgW3ksIHhdID0gcG9zaXRpb24uc3BsaXQoJy0nKTtcbiAgICBjb25zdCBkaXJlY3Rpb25zID0gW107XG4gICAgaWYgKHkpIHtcbiAgICAgICAgZGlyZWN0aW9ucy5wdXNoKHkpO1xuICAgIH1cbiAgICBpZiAoeCkge1xuICAgICAgICBkaXJlY3Rpb25zLnB1c2goeCk7XG4gICAgfVxuICAgIHJldHVybiBkaXJlY3Rpb25zO1xufVxuY29uc3QgVG9hc3QgPSAocHJvcHMpPT57XG4gICAgdmFyIF90b2FzdF9jbGFzc05hbWVzLCBfdG9hc3RfY2xhc3NOYW1lczEsIF90b2FzdF9jbGFzc05hbWVzMiwgX3RvYXN0X2NsYXNzTmFtZXMzLCBfdG9hc3RfY2xhc3NOYW1lczQsIF90b2FzdF9jbGFzc05hbWVzNSwgX3RvYXN0X2NsYXNzTmFtZXM2LCBfdG9hc3RfY2xhc3NOYW1lczcsIF90b2FzdF9jbGFzc05hbWVzODtcbiAgICBjb25zdCB7IGludmVydDogVG9hc3RlckludmVydCwgdG9hc3QsIHVuc3R5bGVkLCBpbnRlcmFjdGluZywgc2V0SGVpZ2h0cywgdmlzaWJsZVRvYXN0cywgaGVpZ2h0cywgaW5kZXgsIHRvYXN0cywgZXhwYW5kZWQsIHJlbW92ZVRvYXN0LCBkZWZhdWx0UmljaENvbG9ycywgY2xvc2VCdXR0b246IGNsb3NlQnV0dG9uRnJvbVRvYXN0ZXIsIHN0eWxlLCBjYW5jZWxCdXR0b25TdHlsZSwgYWN0aW9uQnV0dG9uU3R5bGUsIGNsYXNzTmFtZSA9ICcnLCBkZXNjcmlwdGlvbkNsYXNzTmFtZSA9ICcnLCBkdXJhdGlvbjogZHVyYXRpb25Gcm9tVG9hc3RlciwgcG9zaXRpb24sIGdhcCwgZXhwYW5kQnlEZWZhdWx0LCBjbGFzc05hbWVzLCBpY29ucywgY2xvc2VCdXR0b25BcmlhTGFiZWwgPSAnQ2xvc2UgdG9hc3QnIH0gPSBwcm9wcztcbiAgICBjb25zdCBbc3dpcGVEaXJlY3Rpb24sIHNldFN3aXBlRGlyZWN0aW9uXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtzd2lwZU91dERpcmVjdGlvbiwgc2V0U3dpcGVPdXREaXJlY3Rpb25dID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW21vdW50ZWQsIHNldE1vdW50ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtyZW1vdmVkLCBzZXRSZW1vdmVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc3dpcGluZywgc2V0U3dpcGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3N3aXBlT3V0LCBzZXRTd2lwZU91dF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2lzU3dpcGVkLCBzZXRJc1N3aXBlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW29mZnNldEJlZm9yZVJlbW92ZSwgc2V0T2Zmc2V0QmVmb3JlUmVtb3ZlXSA9IFJlYWN0LnVzZVN0YXRlKDApO1xuICAgIGNvbnN0IFtpbml0aWFsSGVpZ2h0LCBzZXRJbml0aWFsSGVpZ2h0XSA9IFJlYWN0LnVzZVN0YXRlKDApO1xuICAgIGNvbnN0IHJlbWFpbmluZ1RpbWUgPSBSZWFjdC51c2VSZWYodG9hc3QuZHVyYXRpb24gfHwgZHVyYXRpb25Gcm9tVG9hc3RlciB8fCBUT0FTVF9MSUZFVElNRSk7XG4gICAgY29uc3QgZHJhZ1N0YXJ0VGltZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB0b2FzdFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBpc0Zyb250ID0gaW5kZXggPT09IDA7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gaW5kZXggKyAxIDw9IHZpc2libGVUb2FzdHM7XG4gICAgY29uc3QgdG9hc3RUeXBlID0gdG9hc3QudHlwZTtcbiAgICBjb25zdCBkaXNtaXNzaWJsZSA9IHRvYXN0LmRpc21pc3NpYmxlICE9PSBmYWxzZTtcbiAgICBjb25zdCB0b2FzdENsYXNzbmFtZSA9IHRvYXN0LmNsYXNzTmFtZSB8fCAnJztcbiAgICBjb25zdCB0b2FzdERlc2NyaXB0aW9uQ2xhc3NuYW1lID0gdG9hc3QuZGVzY3JpcHRpb25DbGFzc05hbWUgfHwgJyc7XG4gICAgLy8gSGVpZ2h0IGluZGV4IGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXQgYXMgaXQgZ2V0cyB1cGRhdGVkIGJlZm9yZSB0aGUgdG9hc3QgYXJyYXksIHdoaWNoIG1lYW5zIHdlIGNhbiBjYWxjdWxhdGUgdGhlIG5ldyBsYXlvdXQgZmFzdGVyLlxuICAgIGNvbnN0IGhlaWdodEluZGV4ID0gUmVhY3QudXNlTWVtbygoKT0+aGVpZ2h0cy5maW5kSW5kZXgoKGhlaWdodCk9PmhlaWdodC50b2FzdElkID09PSB0b2FzdC5pZCkgfHwgMCwgW1xuICAgICAgICBoZWlnaHRzLFxuICAgICAgICB0b2FzdC5pZFxuICAgIF0pO1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gUmVhY3QudXNlTWVtbygoKT0+e1xuICAgICAgICB2YXIgX3RvYXN0X2Nsb3NlQnV0dG9uO1xuICAgICAgICByZXR1cm4gKF90b2FzdF9jbG9zZUJ1dHRvbiA9IHRvYXN0LmNsb3NlQnV0dG9uKSAhPSBudWxsID8gX3RvYXN0X2Nsb3NlQnV0dG9uIDogY2xvc2VCdXR0b25Gcm9tVG9hc3RlcjtcbiAgICB9LCBbXG4gICAgICAgIHRvYXN0LmNsb3NlQnV0dG9uLFxuICAgICAgICBjbG9zZUJ1dHRvbkZyb21Ub2FzdGVyXG4gICAgXSk7XG4gICAgY29uc3QgZHVyYXRpb24gPSBSZWFjdC51c2VNZW1vKCgpPT50b2FzdC5kdXJhdGlvbiB8fCBkdXJhdGlvbkZyb21Ub2FzdGVyIHx8IFRPQVNUX0xJRkVUSU1FLCBbXG4gICAgICAgIHRvYXN0LmR1cmF0aW9uLFxuICAgICAgICBkdXJhdGlvbkZyb21Ub2FzdGVyXG4gICAgXSk7XG4gICAgY29uc3QgY2xvc2VUaW1lclN0YXJ0VGltZVJlZiA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBvZmZzZXQgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgbGFzdENsb3NlVGltZXJTdGFydFRpbWVSZWYgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgcG9pbnRlclN0YXJ0UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFt5LCB4XSA9IHBvc2l0aW9uLnNwbGl0KCctJyk7XG4gICAgY29uc3QgdG9hc3RzSGVpZ2h0QmVmb3JlID0gUmVhY3QudXNlTWVtbygoKT0+e1xuICAgICAgICByZXR1cm4gaGVpZ2h0cy5yZWR1Y2UoKHByZXYsIGN1cnIsIHJlZHVjZXJJbmRleCk9PntcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBvZmZzZXQgdXAgdW50aWwgY3VycmVudCB0b2FzdFxuICAgICAgICAgICAgaWYgKHJlZHVjZXJJbmRleCA+PSBoZWlnaHRJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBjdXJyLmhlaWdodDtcbiAgICAgICAgfSwgMCk7XG4gICAgfSwgW1xuICAgICAgICBoZWlnaHRzLFxuICAgICAgICBoZWlnaHRJbmRleFxuICAgIF0pO1xuICAgIGNvbnN0IGlzRG9jdW1lbnRIaWRkZW4gPSB1c2VJc0RvY3VtZW50SGlkZGVuKCk7XG4gICAgY29uc3QgaW52ZXJ0ID0gdG9hc3QuaW52ZXJ0IHx8IFRvYXN0ZXJJbnZlcnQ7XG4gICAgY29uc3QgZGlzYWJsZWQgPSB0b2FzdFR5cGUgPT09ICdsb2FkaW5nJztcbiAgICBvZmZzZXQuY3VycmVudCA9IFJlYWN0LnVzZU1lbW8oKCk9PmhlaWdodEluZGV4ICogZ2FwICsgdG9hc3RzSGVpZ2h0QmVmb3JlLCBbXG4gICAgICAgIGhlaWdodEluZGV4LFxuICAgICAgICB0b2FzdHNIZWlnaHRCZWZvcmVcbiAgICBdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgcmVtYWluaW5nVGltZS5jdXJyZW50ID0gZHVyYXRpb247XG4gICAgfSwgW1xuICAgICAgICBkdXJhdGlvblxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICAvLyBUcmlnZ2VyIGVudGVyIGFuaW1hdGlvbiB3aXRob3V0IHVzaW5nIENTUyBhbmltYXRpb25cbiAgICAgICAgc2V0TW91bnRlZCh0cnVlKTtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGNvbnN0IHRvYXN0Tm9kZSA9IHRvYXN0UmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICh0b2FzdE5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRvYXN0Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAgICAgICAvLyBBZGQgdG9hc3QgaGVpZ2h0IHRvIGhlaWdodHMgYXJyYXkgYWZ0ZXIgdGhlIHRvYXN0IGlzIG1vdW50ZWRcbiAgICAgICAgICAgIHNldEluaXRpYWxIZWlnaHQoaGVpZ2h0KTtcbiAgICAgICAgICAgIHNldEhlaWdodHMoKGgpPT5bXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0SWQ6IHRvYXN0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHRvYXN0LnBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC4uLmhcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiAoKT0+c2V0SGVpZ2h0cygoaCk9PmguZmlsdGVyKChoZWlnaHQpPT5oZWlnaHQudG9hc3RJZCAhPT0gdG9hc3QuaWQpKTtcbiAgICAgICAgfVxuICAgIH0sIFtcbiAgICAgICAgc2V0SGVpZ2h0cyxcbiAgICAgICAgdG9hc3QuaWRcbiAgICBdKTtcbiAgICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCk9PntcbiAgICAgICAgLy8gS2VlcCBoZWlnaHQgdXAgdG8gZGF0ZSB3aXRoIHRoZSBjb250ZW50IGluIGNhc2UgaXQgdXBkYXRlc1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9hc3ROb2RlID0gdG9hc3RSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSB0b2FzdE5vZGUuc3R5bGUuaGVpZ2h0O1xuICAgICAgICB0b2FzdE5vZGUuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICBjb25zdCBuZXdIZWlnaHQgPSB0b2FzdE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICB0b2FzdE5vZGUuc3R5bGUuaGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQ7XG4gICAgICAgIHNldEluaXRpYWxIZWlnaHQobmV3SGVpZ2h0KTtcbiAgICAgICAgc2V0SGVpZ2h0cygoaGVpZ2h0cyk9PntcbiAgICAgICAgICAgIGNvbnN0IGFscmVhZHlFeGlzdHMgPSBoZWlnaHRzLmZpbmQoKGhlaWdodCk9PmhlaWdodC50b2FzdElkID09PSB0b2FzdC5pZCk7XG4gICAgICAgICAgICBpZiAoIWFscmVhZHlFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdElkOiB0b2FzdC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHRvYXN0LnBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC4uLmhlaWdodHNcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0cy5tYXAoKGhlaWdodCk9PmhlaWdodC50b2FzdElkID09PSB0b2FzdC5pZCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3SGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH0gOiBoZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbXG4gICAgICAgIG1vdW50ZWQsXG4gICAgICAgIHRvYXN0LnRpdGxlLFxuICAgICAgICB0b2FzdC5kZXNjcmlwdGlvbixcbiAgICAgICAgc2V0SGVpZ2h0cyxcbiAgICAgICAgdG9hc3QuaWQsXG4gICAgICAgIHRvYXN0LmpzeCxcbiAgICAgICAgdG9hc3QuYWN0aW9uLFxuICAgICAgICB0b2FzdC5jYW5jZWxcbiAgICBdKTtcbiAgICBjb25zdCBkZWxldGVUb2FzdCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpPT57XG4gICAgICAgIC8vIFNhdmUgdGhlIG9mZnNldCBmb3IgdGhlIGV4aXQgc3dpcGUgYW5pbWF0aW9uXG4gICAgICAgIHNldFJlbW92ZWQodHJ1ZSk7XG4gICAgICAgIHNldE9mZnNldEJlZm9yZVJlbW92ZShvZmZzZXQuY3VycmVudCk7XG4gICAgICAgIHNldEhlaWdodHMoKGgpPT5oLmZpbHRlcigoaGVpZ2h0KT0+aGVpZ2h0LnRvYXN0SWQgIT09IHRvYXN0LmlkKSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgIHJlbW92ZVRvYXN0KHRvYXN0KTtcbiAgICAgICAgfSwgVElNRV9CRUZPUkVfVU5NT1VOVCk7XG4gICAgfSwgW1xuICAgICAgICB0b2FzdCxcbiAgICAgICAgcmVtb3ZlVG9hc3QsXG4gICAgICAgIHNldEhlaWdodHMsXG4gICAgICAgIG9mZnNldFxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBpZiAodG9hc3QucHJvbWlzZSAmJiB0b2FzdFR5cGUgPT09ICdsb2FkaW5nJyB8fCB0b2FzdC5kdXJhdGlvbiA9PT0gSW5maW5pdHkgfHwgdG9hc3QudHlwZSA9PT0gJ2xvYWRpbmcnKSByZXR1cm47XG4gICAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICAgIC8vIFBhdXNlIHRoZSB0aW1lciBvbiBlYWNoIGhvdmVyXG4gICAgICAgIGNvbnN0IHBhdXNlVGltZXIgPSAoKT0+e1xuICAgICAgICAgICAgaWYgKGxhc3RDbG9zZVRpbWVyU3RhcnRUaW1lUmVmLmN1cnJlbnQgPCBjbG9zZVRpbWVyU3RhcnRUaW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGVsYXBzZWQgdGltZSBzaW5jZSB0aGUgdGltZXIgc3RhcnRlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBjbG9zZVRpbWVyU3RhcnRUaW1lUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nVGltZS5jdXJyZW50ID0gcmVtYWluaW5nVGltZS5jdXJyZW50IC0gZWxhcHNlZFRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0Q2xvc2VUaW1lclN0YXJ0VGltZVJlZi5jdXJyZW50ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZXIgPSAoKT0+e1xuICAgICAgICAgICAgLy8gc2V0VGltZW91dCgsIEluZmluaXR5KSBiZWhhdmVzIGFzIGlmIHRoZSBkZWxheSBpcyAwLlxuICAgICAgICAgICAgLy8gQXMgYSByZXN1bHQsIHRoZSB0b2FzdCB3b3VsZCBiZSBjbG9zZWQgaW1tZWRpYXRlbHksIGdpdmluZyB0aGUgYXBwZWFyYW5jZSB0aGF0IGl0IHdhcyBuZXZlciByZW5kZXJlZC5cbiAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RlbnlzZG92aGFuL3d0ZmpzP3RhYj1yZWFkbWUtb3YtZmlsZSNhbi1pbmZpbml0ZS10aW1lb3V0XG4gICAgICAgICAgICBpZiAocmVtYWluaW5nVGltZS5jdXJyZW50ID09PSBJbmZpbml0eSkgcmV0dXJuO1xuICAgICAgICAgICAgY2xvc2VUaW1lclN0YXJ0VGltZVJlZi5jdXJyZW50ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAvLyBMZXQgdGhlIHRvYXN0IGtub3cgaXQgaGFzIHN0YXJ0ZWRcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB0b2FzdC5vbkF1dG9DbG9zZSA9PSBudWxsID8gdm9pZCAwIDogdG9hc3Qub25BdXRvQ2xvc2UuY2FsbCh0b2FzdCwgdG9hc3QpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVRvYXN0KCk7XG4gICAgICAgICAgICB9LCByZW1haW5pbmdUaW1lLmN1cnJlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoZXhwYW5kZWQgfHwgaW50ZXJhY3RpbmcgfHwgaXNEb2N1bWVudEhpZGRlbikge1xuICAgICAgICAgICAgcGF1c2VUaW1lcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhcnRUaW1lcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKT0+Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfSwgW1xuICAgICAgICBleHBhbmRlZCxcbiAgICAgICAgaW50ZXJhY3RpbmcsXG4gICAgICAgIHRvYXN0LFxuICAgICAgICB0b2FzdFR5cGUsXG4gICAgICAgIGlzRG9jdW1lbnRIaWRkZW4sXG4gICAgICAgIGRlbGV0ZVRvYXN0XG4gICAgXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGlmICh0b2FzdC5kZWxldGUpIHtcbiAgICAgICAgICAgIGRlbGV0ZVRvYXN0KCk7XG4gICAgICAgICAgICB0b2FzdC5vbkRpc21pc3MgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0Lm9uRGlzbWlzcy5jYWxsKHRvYXN0LCB0b2FzdCk7XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIGRlbGV0ZVRvYXN0LFxuICAgICAgICB0b2FzdC5kZWxldGVcbiAgICBdKTtcbiAgICBmdW5jdGlvbiBnZXRMb2FkaW5nSWNvbigpIHtcbiAgICAgICAgdmFyIF90b2FzdF9jbGFzc05hbWVzO1xuICAgICAgICBpZiAoaWNvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGljb25zLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHZhciBfdG9hc3RfY2xhc3NOYW1lczE7XG4gICAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNuKGNsYXNzTmFtZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGNsYXNzTmFtZXMubG9hZGVyLCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzMSA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lczEubG9hZGVyLCAnc29ubmVyLWxvYWRlcicpLFxuICAgICAgICAgICAgICAgIFwiZGF0YS12aXNpYmxlXCI6IHRvYXN0VHlwZSA9PT0gJ2xvYWRpbmcnXG4gICAgICAgICAgICB9LCBpY29ucy5sb2FkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRlciwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmxvYWRlciwgdG9hc3QgPT0gbnVsbCA/IHZvaWQgMCA6IChfdG9hc3RfY2xhc3NOYW1lcyA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lcy5sb2FkZXIpLFxuICAgICAgICAgICAgdmlzaWJsZTogdG9hc3RUeXBlID09PSAnbG9hZGluZydcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGljb24gPSB0b2FzdC5pY29uIHx8IChpY29ucyA9PSBudWxsID8gdm9pZCAwIDogaWNvbnNbdG9hc3RUeXBlXSkgfHwgZ2V0QXNzZXQodG9hc3RUeXBlKTtcbiAgICB2YXIgX3RvYXN0X3JpY2hDb2xvcnMsIF9pY29uc19jbG9zZTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgcmVmOiB0b2FzdFJlZixcbiAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWUsIHRvYXN0Q2xhc3NuYW1lLCBjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLnRvYXN0LCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzID0gdG9hc3QuY2xhc3NOYW1lcykgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdF9jbGFzc05hbWVzLnRvYXN0LCBjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmRlZmF1bHQsIGNsYXNzTmFtZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGNsYXNzTmFtZXNbdG9hc3RUeXBlXSwgdG9hc3QgPT0gbnVsbCA/IHZvaWQgMCA6IChfdG9hc3RfY2xhc3NOYW1lczEgPSB0b2FzdC5jbGFzc05hbWVzKSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0X2NsYXNzTmFtZXMxW3RvYXN0VHlwZV0pLFxuICAgICAgICBcImRhdGEtc29ubmVyLXRvYXN0XCI6IFwiXCIsXG4gICAgICAgIFwiZGF0YS1yaWNoLWNvbG9yc1wiOiAoX3RvYXN0X3JpY2hDb2xvcnMgPSB0b2FzdC5yaWNoQ29sb3JzKSAhPSBudWxsID8gX3RvYXN0X3JpY2hDb2xvcnMgOiBkZWZhdWx0UmljaENvbG9ycyxcbiAgICAgICAgXCJkYXRhLXN0eWxlZFwiOiAhQm9vbGVhbih0b2FzdC5qc3ggfHwgdG9hc3QudW5zdHlsZWQgfHwgdW5zdHlsZWQpLFxuICAgICAgICBcImRhdGEtbW91bnRlZFwiOiBtb3VudGVkLFxuICAgICAgICBcImRhdGEtcHJvbWlzZVwiOiBCb29sZWFuKHRvYXN0LnByb21pc2UpLFxuICAgICAgICBcImRhdGEtc3dpcGVkXCI6IGlzU3dpcGVkLFxuICAgICAgICBcImRhdGEtcmVtb3ZlZFwiOiByZW1vdmVkLFxuICAgICAgICBcImRhdGEtdmlzaWJsZVwiOiBpc1Zpc2libGUsXG4gICAgICAgIFwiZGF0YS15LXBvc2l0aW9uXCI6IHksXG4gICAgICAgIFwiZGF0YS14LXBvc2l0aW9uXCI6IHgsXG4gICAgICAgIFwiZGF0YS1pbmRleFwiOiBpbmRleCxcbiAgICAgICAgXCJkYXRhLWZyb250XCI6IGlzRnJvbnQsXG4gICAgICAgIFwiZGF0YS1zd2lwaW5nXCI6IHN3aXBpbmcsXG4gICAgICAgIFwiZGF0YS1kaXNtaXNzaWJsZVwiOiBkaXNtaXNzaWJsZSxcbiAgICAgICAgXCJkYXRhLXR5cGVcIjogdG9hc3RUeXBlLFxuICAgICAgICBcImRhdGEtaW52ZXJ0XCI6IGludmVydCxcbiAgICAgICAgXCJkYXRhLXN3aXBlLW91dFwiOiBzd2lwZU91dCxcbiAgICAgICAgXCJkYXRhLXN3aXBlLWRpcmVjdGlvblwiOiBzd2lwZU91dERpcmVjdGlvbixcbiAgICAgICAgXCJkYXRhLWV4cGFuZGVkXCI6IEJvb2xlYW4oZXhwYW5kZWQgfHwgZXhwYW5kQnlEZWZhdWx0ICYmIG1vdW50ZWQpLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgJy0taW5kZXgnOiBpbmRleCxcbiAgICAgICAgICAgICctLXRvYXN0cy1iZWZvcmUnOiBpbmRleCxcbiAgICAgICAgICAgICctLXotaW5kZXgnOiB0b2FzdHMubGVuZ3RoIC0gaW5kZXgsXG4gICAgICAgICAgICAnLS1vZmZzZXQnOiBgJHtyZW1vdmVkID8gb2Zmc2V0QmVmb3JlUmVtb3ZlIDogb2Zmc2V0LmN1cnJlbnR9cHhgLFxuICAgICAgICAgICAgJy0taW5pdGlhbC1oZWlnaHQnOiBleHBhbmRCeURlZmF1bHQgPyAnYXV0bycgOiBgJHtpbml0aWFsSGVpZ2h0fXB4YCxcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgLi4udG9hc3Quc3R5bGVcbiAgICAgICAgfSxcbiAgICAgICAgb25EcmFnRW5kOiAoKT0+e1xuICAgICAgICAgICAgc2V0U3dpcGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRTd2lwZURpcmVjdGlvbihudWxsKTtcbiAgICAgICAgICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyRG93bjogKGV2ZW50KT0+e1xuICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMikgcmV0dXJuOyAvLyBSZXR1cm4gZWFybHkgb24gcmlnaHQgY2xpY2tcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCB8fCAhZGlzbWlzc2libGUpIHJldHVybjtcbiAgICAgICAgICAgIGRyYWdTdGFydFRpbWUuY3VycmVudCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBzZXRPZmZzZXRCZWZvcmVSZW1vdmUob2Zmc2V0LmN1cnJlbnQpO1xuICAgICAgICAgICAgLy8gRW5zdXJlIHdlIG1haW50YWluIGNvcnJlY3QgcG9pbnRlciBjYXB0dXJlIGV2ZW4gd2hlbiBnb2luZyBvdXRzaWRlIG9mIHRoZSB0b2FzdCAoZS5nLiB3aGVuIHN3aXBpbmcpXG4gICAgICAgICAgICBldmVudC50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ0JVVFRPTicpIHJldHVybjtcbiAgICAgICAgICAgIHNldFN3aXBpbmcodHJ1ZSk7XG4gICAgICAgICAgICBwb2ludGVyU3RhcnRSZWYuY3VycmVudCA9IHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlclVwOiAoKT0+e1xuICAgICAgICAgICAgdmFyIF90b2FzdFJlZl9jdXJyZW50LCBfdG9hc3RSZWZfY3VycmVudDEsIF9kcmFnU3RhcnRUaW1lX2N1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoc3dpcGVPdXQgfHwgIWRpc21pc3NpYmxlKSByZXR1cm47XG4gICAgICAgICAgICBwb2ludGVyU3RhcnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzd2lwZUFtb3VudFggPSBOdW1iZXIoKChfdG9hc3RSZWZfY3VycmVudCA9IHRvYXN0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RSZWZfY3VycmVudC5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXN3aXBlLWFtb3VudC14JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDApO1xuICAgICAgICAgICAgY29uc3Qgc3dpcGVBbW91bnRZID0gTnVtYmVyKCgoX3RvYXN0UmVmX2N1cnJlbnQxID0gdG9hc3RSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdFJlZl9jdXJyZW50MS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXN3aXBlLWFtb3VudC15JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDApO1xuICAgICAgICAgICAgY29uc3QgdGltZVRha2VuID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAoKF9kcmFnU3RhcnRUaW1lX2N1cnJlbnQgPSBkcmFnU3RhcnRUaW1lLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZHJhZ1N0YXJ0VGltZV9jdXJyZW50LmdldFRpbWUoKSk7XG4gICAgICAgICAgICBjb25zdCBzd2lwZUFtb3VudCA9IHN3aXBlRGlyZWN0aW9uID09PSAneCcgPyBzd2lwZUFtb3VudFggOiBzd2lwZUFtb3VudFk7XG4gICAgICAgICAgICBjb25zdCB2ZWxvY2l0eSA9IE1hdGguYWJzKHN3aXBlQW1vdW50KSAvIHRpbWVUYWtlbjtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzd2lwZUFtb3VudCkgPj0gU1dJUEVfVEhSRVNIT0xEIHx8IHZlbG9jaXR5ID4gMC4xMSkge1xuICAgICAgICAgICAgICAgIHNldE9mZnNldEJlZm9yZVJlbW92ZShvZmZzZXQuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgdG9hc3Qub25EaXNtaXNzID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdC5vbkRpc21pc3MuY2FsbCh0b2FzdCwgdG9hc3QpO1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZURpcmVjdGlvbiA9PT0gJ3gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN3aXBlT3V0RGlyZWN0aW9uKHN3aXBlQW1vdW50WCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRTd2lwZU91dERpcmVjdGlvbihzd2lwZUFtb3VudFkgPiAwID8gJ2Rvd24nIDogJ3VwJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZVRvYXN0KCk7XG4gICAgICAgICAgICAgICAgc2V0U3dpcGVPdXQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RvYXN0UmVmX2N1cnJlbnQyLCBfdG9hc3RSZWZfY3VycmVudDM7XG4gICAgICAgICAgICAgICAgKF90b2FzdFJlZl9jdXJyZW50MiA9IHRvYXN0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RSZWZfY3VycmVudDIuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtYW1vdW50LXgnLCBgMHB4YCk7XG4gICAgICAgICAgICAgICAgKF90b2FzdFJlZl9jdXJyZW50MyA9IHRvYXN0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RSZWZfY3VycmVudDMuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtYW1vdW50LXknLCBgMHB4YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRJc1N3aXBlZChmYWxzZSk7XG4gICAgICAgICAgICBzZXRTd2lwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFN3aXBlRGlyZWN0aW9uKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJNb3ZlOiAoZXZlbnQpPT57XG4gICAgICAgICAgICB2YXIgX3dpbmRvd19nZXRTZWxlY3Rpb24sIC8vIEFwcGx5IHRyYW5zZm9ybSB1c2luZyBib3RoIHggYW5kIHkgdmFsdWVzXG4gICAgICAgICAgICBfdG9hc3RSZWZfY3VycmVudCwgX3RvYXN0UmVmX2N1cnJlbnQxO1xuICAgICAgICAgICAgaWYgKCFwb2ludGVyU3RhcnRSZWYuY3VycmVudCB8fCAhZGlzbWlzc2libGUpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGlzSGlnaGxpZ2h0ZWQgPSAoKF93aW5kb3dfZ2V0U2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpKSA9PSBudWxsID8gdm9pZCAwIDogX3dpbmRvd19nZXRTZWxlY3Rpb24udG9TdHJpbmcoKS5sZW5ndGgpID4gMDtcbiAgICAgICAgICAgIGlmIChpc0hpZ2hsaWdodGVkKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB5RGVsdGEgPSBldmVudC5jbGllbnRZIC0gcG9pbnRlclN0YXJ0UmVmLmN1cnJlbnQueTtcbiAgICAgICAgICAgIGNvbnN0IHhEZWx0YSA9IGV2ZW50LmNsaWVudFggLSBwb2ludGVyU3RhcnRSZWYuY3VycmVudC54O1xuICAgICAgICAgICAgdmFyIF9wcm9wc19zd2lwZURpcmVjdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBzd2lwZURpcmVjdGlvbnMgPSAoX3Byb3BzX3N3aXBlRGlyZWN0aW9ucyA9IHByb3BzLnN3aXBlRGlyZWN0aW9ucykgIT0gbnVsbCA/IF9wcm9wc19zd2lwZURpcmVjdGlvbnMgOiBnZXREZWZhdWx0U3dpcGVEaXJlY3Rpb25zKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIC8vIERldGVybWluZSBzd2lwZSBkaXJlY3Rpb24gaWYgbm90IGFscmVhZHkgbG9ja2VkXG4gICAgICAgICAgICBpZiAoIXN3aXBlRGlyZWN0aW9uICYmIChNYXRoLmFicyh4RGVsdGEpID4gMSB8fCBNYXRoLmFicyh5RGVsdGEpID4gMSkpIHtcbiAgICAgICAgICAgICAgICBzZXRTd2lwZURpcmVjdGlvbihNYXRoLmFicyh4RGVsdGEpID4gTWF0aC5hYnMoeURlbHRhKSA/ICd4JyA6ICd5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3dpcGVBbW91bnQgPSB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZ2V0RGFtcGVuaW5nID0gKGRlbHRhKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGguYWJzKGRlbHRhKSAvIDIwO1xuICAgICAgICAgICAgICAgIHJldHVybiAxIC8gKDEuNSArIGZhY3Rvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gT25seSBhcHBseSBzd2lwZSBpbiB0aGUgbG9ja2VkIGRpcmVjdGlvblxuICAgICAgICAgICAgaWYgKHN3aXBlRGlyZWN0aW9uID09PSAneScpIHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdmVydGljYWwgc3dpcGVzXG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlRGlyZWN0aW9ucy5pbmNsdWRlcygndG9wJykgfHwgc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCdib3R0b20nKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCd0b3AnKSAmJiB5RGVsdGEgPCAwIHx8IHN3aXBlRGlyZWN0aW9ucy5pbmNsdWRlcygnYm90dG9tJykgJiYgeURlbHRhID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVBbW91bnQueSA9IHlEZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNtb290aGx5IHRyYW5zaXRpb24gdG8gZGFtcGVuZWQgbW92ZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhbXBlbmVkRGVsdGEgPSB5RGVsdGEgKiBnZXREYW1wZW5pbmcoeURlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB3ZSBkb24ndCBqdW1wIHdoZW4gdHJhbnNpdGlvbmluZyB0byBkYW1wZW5lZCBtb3ZlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVBbW91bnQueSA9IE1hdGguYWJzKGRhbXBlbmVkRGVsdGEpIDwgTWF0aC5hYnMoeURlbHRhKSA/IGRhbXBlbmVkRGVsdGEgOiB5RGVsdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN3aXBlRGlyZWN0aW9uID09PSAneCcpIHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgaG9yaXpvbnRhbCBzd2lwZXNcbiAgICAgICAgICAgICAgICBpZiAoc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCdsZWZ0JykgfHwgc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCdyaWdodCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzd2lwZURpcmVjdGlvbnMuaW5jbHVkZXMoJ2xlZnQnKSAmJiB4RGVsdGEgPCAwIHx8IHN3aXBlRGlyZWN0aW9ucy5pbmNsdWRlcygncmlnaHQnKSAmJiB4RGVsdGEgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZUFtb3VudC54ID0geERlbHRhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU21vb3RobHkgdHJhbnNpdGlvbiB0byBkYW1wZW5lZCBtb3ZlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGFtcGVuZWREZWx0YSA9IHhEZWx0YSAqIGdldERhbXBlbmluZyh4RGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGRvbid0IGp1bXAgd2hlbiB0cmFuc2l0aW9uaW5nIHRvIGRhbXBlbmVkIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZUFtb3VudC54ID0gTWF0aC5hYnMoZGFtcGVuZWREZWx0YSkgPCBNYXRoLmFicyh4RGVsdGEpID8gZGFtcGVuZWREZWx0YSA6IHhEZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzd2lwZUFtb3VudC54KSA+IDAgfHwgTWF0aC5hYnMoc3dpcGVBbW91bnQueSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2V0SXNTd2lwZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX3RvYXN0UmVmX2N1cnJlbnQgPSB0b2FzdFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0UmVmX2N1cnJlbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtYW1vdW50LXgnLCBgJHtzd2lwZUFtb3VudC54fXB4YCk7XG4gICAgICAgICAgICAoX3RvYXN0UmVmX2N1cnJlbnQxID0gdG9hc3RSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdFJlZl9jdXJyZW50MS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zd2lwZS1hbW91bnQteScsIGAke3N3aXBlQW1vdW50Lnl9cHhgKTtcbiAgICAgICAgfVxuICAgIH0sIGNsb3NlQnV0dG9uICYmICF0b2FzdC5qc3ggJiYgdG9hc3RUeXBlICE9PSAnbG9hZGluZycgPyAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBcImFyaWEtbGFiZWxcIjogY2xvc2VCdXR0b25BcmlhTGFiZWwsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkaXNhYmxlZCxcbiAgICAgICAgXCJkYXRhLWNsb3NlLWJ1dHRvblwiOiB0cnVlLFxuICAgICAgICBvbkNsaWNrOiBkaXNhYmxlZCB8fCAhZGlzbWlzc2libGUgPyAoKT0+e30gOiAoKT0+e1xuICAgICAgICAgICAgZGVsZXRlVG9hc3QoKTtcbiAgICAgICAgICAgIHRvYXN0Lm9uRGlzbWlzcyA9PSBudWxsID8gdm9pZCAwIDogdG9hc3Qub25EaXNtaXNzLmNhbGwodG9hc3QsIHRvYXN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmNsb3NlQnV0dG9uLCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzMiA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lczIuY2xvc2VCdXR0b24pXG4gICAgfSwgKF9pY29uc19jbG9zZSA9IGljb25zID09IG51bGwgPyB2b2lkIDAgOiBpY29ucy5jbG9zZSkgIT0gbnVsbCA/IF9pY29uc19jbG9zZSA6IENsb3NlSWNvbikgOiBudWxsLCAodG9hc3RUeXBlIHx8IHRvYXN0Lmljb24gfHwgdG9hc3QucHJvbWlzZSkgJiYgdG9hc3QuaWNvbiAhPT0gbnVsbCAmJiAoKGljb25zID09IG51bGwgPyB2b2lkIDAgOiBpY29uc1t0b2FzdFR5cGVdKSAhPT0gbnVsbCB8fCB0b2FzdC5pY29uKSA/IC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIFwiZGF0YS1pY29uXCI6IFwiXCIsXG4gICAgICAgIGNsYXNzTmFtZTogY24oY2xhc3NOYW1lcyA9PSBudWxsID8gdm9pZCAwIDogY2xhc3NOYW1lcy5pY29uLCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzMyA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lczMuaWNvbilcbiAgICB9LCB0b2FzdC5wcm9taXNlIHx8IHRvYXN0LnR5cGUgPT09ICdsb2FkaW5nJyAmJiAhdG9hc3QuaWNvbiA/IHRvYXN0Lmljb24gfHwgZ2V0TG9hZGluZ0ljb24oKSA6IG51bGwsIHRvYXN0LnR5cGUgIT09ICdsb2FkaW5nJyA/IGljb24gOiBudWxsKSA6IG51bGwsIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIFwiZGF0YS1jb250ZW50XCI6IFwiXCIsXG4gICAgICAgIGNsYXNzTmFtZTogY24oY2xhc3NOYW1lcyA9PSBudWxsID8gdm9pZCAwIDogY2xhc3NOYW1lcy5jb250ZW50LCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzNCA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lczQuY29udGVudClcbiAgICB9LCAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBcImRhdGEtdGl0bGVcIjogXCJcIixcbiAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLnRpdGxlLCB0b2FzdCA9PSBudWxsID8gdm9pZCAwIDogKF90b2FzdF9jbGFzc05hbWVzNSA9IHRvYXN0LmNsYXNzTmFtZXMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RfY2xhc3NOYW1lczUudGl0bGUpXG4gICAgfSwgdG9hc3QuanN4ID8gdG9hc3QuanN4IDogdHlwZW9mIHRvYXN0LnRpdGxlID09PSAnZnVuY3Rpb24nID8gdG9hc3QudGl0bGUoKSA6IHRvYXN0LnRpdGxlKSwgdG9hc3QuZGVzY3JpcHRpb24gPyAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBcImRhdGEtZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgICAgY2xhc3NOYW1lOiBjbihkZXNjcmlwdGlvbkNsYXNzTmFtZSwgdG9hc3REZXNjcmlwdGlvbkNsYXNzbmFtZSwgY2xhc3NOYW1lcyA9PSBudWxsID8gdm9pZCAwIDogY2xhc3NOYW1lcy5kZXNjcmlwdGlvbiwgdG9hc3QgPT0gbnVsbCA/IHZvaWQgMCA6IChfdG9hc3RfY2xhc3NOYW1lczYgPSB0b2FzdC5jbGFzc05hbWVzKSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0X2NsYXNzTmFtZXM2LmRlc2NyaXB0aW9uKVxuICAgIH0sIHR5cGVvZiB0b2FzdC5kZXNjcmlwdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IHRvYXN0LmRlc2NyaXB0aW9uKCkgOiB0b2FzdC5kZXNjcmlwdGlvbikgOiBudWxsKSwgLyojX19QVVJFX18qLyBSZWFjdC5pc1ZhbGlkRWxlbWVudCh0b2FzdC5jYW5jZWwpID8gdG9hc3QuY2FuY2VsIDogdG9hc3QuY2FuY2VsICYmIGlzQWN0aW9uKHRvYXN0LmNhbmNlbCkgPyAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBcImRhdGEtYnV0dG9uXCI6IHRydWUsXG4gICAgICAgIFwiZGF0YS1jYW5jZWxcIjogdHJ1ZSxcbiAgICAgICAgc3R5bGU6IHRvYXN0LmNhbmNlbEJ1dHRvblN0eWxlIHx8IGNhbmNlbEJ1dHRvblN0eWxlLFxuICAgICAgICBvbkNsaWNrOiAoZXZlbnQpPT57XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIHR3aWNlIGJlY2F1c2UgdHlwZXNjcmlwdFxuICAgICAgICAgICAgaWYgKCFpc0FjdGlvbih0b2FzdC5jYW5jZWwpKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoIWRpc21pc3NpYmxlKSByZXR1cm47XG4gICAgICAgICAgICB0b2FzdC5jYW5jZWwub25DbGljayA9PSBudWxsID8gdm9pZCAwIDogdG9hc3QuY2FuY2VsLm9uQ2xpY2suY2FsbCh0b2FzdC5jYW5jZWwsIGV2ZW50KTtcbiAgICAgICAgICAgIGRlbGV0ZVRvYXN0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogY24oY2xhc3NOYW1lcyA9PSBudWxsID8gdm9pZCAwIDogY2xhc3NOYW1lcy5jYW5jZWxCdXR0b24sIHRvYXN0ID09IG51bGwgPyB2b2lkIDAgOiAoX3RvYXN0X2NsYXNzTmFtZXM3ID0gdG9hc3QuY2xhc3NOYW1lcykgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdF9jbGFzc05hbWVzNy5jYW5jZWxCdXR0b24pXG4gICAgfSwgdG9hc3QuY2FuY2VsLmxhYmVsKSA6IG51bGwsIC8qI19fUFVSRV9fKi8gUmVhY3QuaXNWYWxpZEVsZW1lbnQodG9hc3QuYWN0aW9uKSA/IHRvYXN0LmFjdGlvbiA6IHRvYXN0LmFjdGlvbiAmJiBpc0FjdGlvbih0b2FzdC5hY3Rpb24pID8gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgXCJkYXRhLWJ1dHRvblwiOiB0cnVlLFxuICAgICAgICBcImRhdGEtYWN0aW9uXCI6IHRydWUsXG4gICAgICAgIHN0eWxlOiB0b2FzdC5hY3Rpb25CdXR0b25TdHlsZSB8fCBhY3Rpb25CdXR0b25TdHlsZSxcbiAgICAgICAgb25DbGljazogKGV2ZW50KT0+e1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayB0d2ljZSBiZWNhdXNlIHR5cGVzY3JpcHRcbiAgICAgICAgICAgIGlmICghaXNBY3Rpb24odG9hc3QuYWN0aW9uKSkgcmV0dXJuO1xuICAgICAgICAgICAgdG9hc3QuYWN0aW9uLm9uQ2xpY2sgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0LmFjdGlvbi5vbkNsaWNrLmNhbGwodG9hc3QuYWN0aW9uLCBldmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgZGVsZXRlVG9hc3QoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbihjbGFzc05hbWVzID09IG51bGwgPyB2b2lkIDAgOiBjbGFzc05hbWVzLmFjdGlvbkJ1dHRvbiwgdG9hc3QgPT0gbnVsbCA/IHZvaWQgMCA6IChfdG9hc3RfY2xhc3NOYW1lczggPSB0b2FzdC5jbGFzc05hbWVzKSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0X2NsYXNzTmFtZXM4LmFjdGlvbkJ1dHRvbilcbiAgICB9LCB0b2FzdC5hY3Rpb24ubGFiZWwpIDogbnVsbCk7XG59O1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnREaXJlY3Rpb24oKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gJ2x0cic7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAnbHRyJzsgLy8gRm9yIEZyZXNoIHB1cnBvc2VcbiAgICBjb25zdCBkaXJBdHRyaWJ1dGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKTtcbiAgICBpZiAoZGlyQXR0cmlidXRlID09PSAnYXV0bycgfHwgIWRpckF0dHJpYnV0ZSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5kaXJlY3Rpb247XG4gICAgfVxuICAgIHJldHVybiBkaXJBdHRyaWJ1dGU7XG59XG5mdW5jdGlvbiBhc3NpZ25PZmZzZXQoZGVmYXVsdE9mZnNldCwgbW9iaWxlT2Zmc2V0KSB7XG4gICAgY29uc3Qgc3R5bGVzID0ge307XG4gICAgW1xuICAgICAgICBkZWZhdWx0T2Zmc2V0LFxuICAgICAgICBtb2JpbGVPZmZzZXRcbiAgICBdLmZvckVhY2goKG9mZnNldCwgaW5kZXgpPT57XG4gICAgICAgIGNvbnN0IGlzTW9iaWxlID0gaW5kZXggPT09IDE7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IGlzTW9iaWxlID8gJy0tbW9iaWxlLW9mZnNldCcgOiAnLS1vZmZzZXQnO1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBpc01vYmlsZSA/IE1PQklMRV9WSUVXUE9SVF9PRkZTRVQgOiBWSUVXUE9SVF9PRkZTRVQ7XG4gICAgICAgIGZ1bmN0aW9uIGFzc2lnbkFsbChvZmZzZXQpIHtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAndG9wJyxcbiAgICAgICAgICAgICAgICAncmlnaHQnLFxuICAgICAgICAgICAgICAgICdib3R0b20nLFxuICAgICAgICAgICAgICAgICdsZWZ0J1xuICAgICAgICAgICAgXS5mb3JFYWNoKChrZXkpPT57XG4gICAgICAgICAgICAgICAgc3R5bGVzW2Ake3ByZWZpeH0tJHtrZXl9YF0gPSB0eXBlb2Ygb2Zmc2V0ID09PSAnbnVtYmVyJyA/IGAke29mZnNldH1weGAgOiBvZmZzZXQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGFzc2lnbkFsbChvZmZzZXQpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ3RvcCcsXG4gICAgICAgICAgICAgICAgJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAnYm90dG9tJyxcbiAgICAgICAgICAgICAgICAnbGVmdCdcbiAgICAgICAgICAgIF0uZm9yRWFjaCgoa2V5KT0+e1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlc1tgJHtwcmVmaXh9LSR7a2V5fWBdID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlc1tgJHtwcmVmaXh9LSR7a2V5fWBdID0gdHlwZW9mIG9mZnNldFtrZXldID09PSAnbnVtYmVyJyA/IGAke29mZnNldFtrZXldfXB4YCA6IG9mZnNldFtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXNzaWduQWxsKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3R5bGVzO1xufVxuZnVuY3Rpb24gdXNlU29ubmVyKCkge1xuICAgIGNvbnN0IFthY3RpdmVUb2FzdHMsIHNldEFjdGl2ZVRvYXN0c10gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIHJldHVybiBUb2FzdFN0YXRlLnN1YnNjcmliZSgodG9hc3QpPT57XG4gICAgICAgICAgICBpZiAodG9hc3QuZGlzbWlzcykge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RET00uZmx1c2hTeW5jKCgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUb2FzdHMoKHRvYXN0cyk9PnRvYXN0cy5maWx0ZXIoKHQpPT50LmlkICE9PSB0b2FzdC5pZCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGJhdGNoaW5nLCB0ZW1wIHNvbHV0aW9uLlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIFJlYWN0RE9NLmZsdXNoU3luYygoKT0+e1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUb2FzdHMoKHRvYXN0cyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4T2ZFeGlzdGluZ1RvYXN0ID0gdG9hc3RzLmZpbmRJbmRleCgodCk9PnQuaWQgPT09IHRvYXN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdG9hc3QgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleE9mRXhpc3RpbmdUb2FzdCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdHMuc2xpY2UoMCwgaW5kZXhPZkV4aXN0aW5nVG9hc3QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdHNbaW5kZXhPZkV4aXN0aW5nVG9hc3RdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9hc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9hc3RzLnNsaWNlKGluZGV4T2ZFeGlzdGluZ1RvYXN0ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b2FzdHM6IGFjdGl2ZVRvYXN0c1xuICAgIH07XG59XG5jb25zdCBUb2FzdGVyID0gLyojX19QVVJFX18qLyBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFRvYXN0ZXIocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgaW52ZXJ0LCBwb3NpdGlvbiA9ICdib3R0b20tcmlnaHQnLCBob3RrZXkgPSBbXG4gICAgICAgICdhbHRLZXknLFxuICAgICAgICAnS2V5VCdcbiAgICBdLCBleHBhbmQsIGNsb3NlQnV0dG9uLCBjbGFzc05hbWUsIG9mZnNldCwgbW9iaWxlT2Zmc2V0LCB0aGVtZSA9ICdsaWdodCcsIHJpY2hDb2xvcnMsIGR1cmF0aW9uLCBzdHlsZSwgdmlzaWJsZVRvYXN0cyA9IFZJU0lCTEVfVE9BU1RTX0FNT1VOVCwgdG9hc3RPcHRpb25zLCBkaXIgPSBnZXREb2N1bWVudERpcmVjdGlvbigpLCBnYXAgPSBHQVAsIGljb25zLCBjb250YWluZXJBcmlhTGFiZWwgPSAnTm90aWZpY2F0aW9ucycgfSA9IHByb3BzO1xuICAgIGNvbnN0IFt0b2FzdHMsIHNldFRvYXN0c10gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgcG9zc2libGVQb3NpdGlvbnMgPSBSZWFjdC51c2VNZW1vKCgpPT57XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoW1xuICAgICAgICAgICAgcG9zaXRpb25cbiAgICAgICAgXS5jb25jYXQodG9hc3RzLmZpbHRlcigodG9hc3QpPT50b2FzdC5wb3NpdGlvbikubWFwKCh0b2FzdCk9PnRvYXN0LnBvc2l0aW9uKSkpKTtcbiAgICB9LCBbXG4gICAgICAgIHRvYXN0cyxcbiAgICAgICAgcG9zaXRpb25cbiAgICBdKTtcbiAgICBjb25zdCBbaGVpZ2h0cywgc2V0SGVpZ2h0c10gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2V4cGFuZGVkLCBzZXRFeHBhbmRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2ludGVyYWN0aW5nLCBzZXRJbnRlcmFjdGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2FjdHVhbFRoZW1lLCBzZXRBY3R1YWxUaGVtZV0gPSBSZWFjdC51c2VTdGF0ZSh0aGVtZSAhPT0gJ3N5c3RlbScgPyB0aGVtZSA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzID8gJ2RhcmsnIDogJ2xpZ2h0JyA6ICdsaWdodCcpO1xuICAgIGNvbnN0IGxpc3RSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgaG90a2V5TGFiZWwgPSBob3RrZXkuam9pbignKycpLnJlcGxhY2UoL0tleS9nLCAnJykucmVwbGFjZSgvRGlnaXQvZywgJycpO1xuICAgIGNvbnN0IGxhc3RGb2N1c2VkRWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBpc0ZvY3VzV2l0aGluUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCByZW1vdmVUb2FzdCA9IFJlYWN0LnVzZUNhbGxiYWNrKCh0b2FzdFRvUmVtb3ZlKT0+e1xuICAgICAgICBzZXRUb2FzdHMoKHRvYXN0cyk9PntcbiAgICAgICAgICAgIHZhciBfdG9hc3RzX2ZpbmQ7XG4gICAgICAgICAgICBpZiAoISgoX3RvYXN0c19maW5kID0gdG9hc3RzLmZpbmQoKHRvYXN0KT0+dG9hc3QuaWQgPT09IHRvYXN0VG9SZW1vdmUuaWQpKSA9PSBudWxsID8gdm9pZCAwIDogX3RvYXN0c19maW5kLmRlbGV0ZSkpIHtcbiAgICAgICAgICAgICAgICBUb2FzdFN0YXRlLmRpc21pc3ModG9hc3RUb1JlbW92ZS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9hc3RzLmZpbHRlcigoeyBpZCB9KT0+aWQgIT09IHRvYXN0VG9SZW1vdmUuaWQpO1xuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIHJldHVybiBUb2FzdFN0YXRlLnN1YnNjcmliZSgodG9hc3QpPT57XG4gICAgICAgICAgICBpZiAodG9hc3QuZGlzbWlzcykge1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgYmF0Y2hpbmcgb2Ygb3RoZXIgc3RhdGUgdXBkYXRlc1xuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xuICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdHMoKHRvYXN0cyk9PnRvYXN0cy5tYXAoKHQpPT50LmlkID09PSB0b2FzdC5pZCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHQpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGJhdGNoaW5nLCB0ZW1wIHNvbHV0aW9uLlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIFJlYWN0RE9NLmZsdXNoU3luYygoKT0+e1xuICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdHMoKHRvYXN0cyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4T2ZFeGlzdGluZ1RvYXN0ID0gdG9hc3RzLmZpbmRJbmRleCgodCk9PnQuaWQgPT09IHRvYXN0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdG9hc3QgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleE9mRXhpc3RpbmdUb2FzdCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdHMuc2xpY2UoMCwgaW5kZXhPZkV4aXN0aW5nVG9hc3QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdHNbaW5kZXhPZkV4aXN0aW5nVG9hc3RdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9hc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9hc3RzLnNsaWNlKGluZGV4T2ZFeGlzdGluZ1RvYXN0ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2FzdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtcbiAgICAgICAgdG9hc3RzXG4gICAgXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGlmICh0aGVtZSAhPT0gJ3N5c3RlbScpIHtcbiAgICAgICAgICAgIHNldEFjdHVhbFRoZW1lKHRoZW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhlbWUgPT09ICdzeXN0ZW0nKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjdXJyZW50IHByZWZlcmVuY2UgaXMgZGFya1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhICYmIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIC8vIGl0J3MgY3VycmVudGx5IGRhcmtcbiAgICAgICAgICAgICAgICBzZXRBY3R1YWxUaGVtZSgnZGFyaycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBkYXJrXG4gICAgICAgICAgICAgICAgc2V0QWN0dWFsVGhlbWUoJ2xpZ2h0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGRhcmtNZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENocm9tZSAmIEZpcmVmb3hcbiAgICAgICAgICAgIGRhcmtNZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICh7IG1hdGNoZXMgfSk9PntcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3R1YWxUaGVtZSgnZGFyaycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdHVhbFRoZW1lKCdsaWdodCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gU2FmYXJpIDwgMTRcbiAgICAgICAgICAgIGRhcmtNZWRpYVF1ZXJ5LmFkZExpc3RlbmVyKCh7IG1hdGNoZXMgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0dWFsVGhlbWUoJ2RhcmsnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdHVhbFRoZW1lKCdsaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICB0aGVtZVxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICAvLyBFbnN1cmUgZXhwYW5kZWQgaXMgYWx3YXlzIGZhbHNlIHdoZW4gbm8gdG9hc3RzIGFyZSBwcmVzZW50IC8gb25seSBvbmUgbGVmdFxuICAgICAgICBpZiAodG9hc3RzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICBzZXRFeHBhbmRlZChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIHRvYXN0c1xuICAgIF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50KT0+e1xuICAgICAgICAgICAgdmFyIF9saXN0UmVmX2N1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCBpc0hvdGtleVByZXNzZWQgPSBob3RrZXkuZXZlcnkoKGtleSk9PmV2ZW50W2tleV0gfHwgZXZlbnQuY29kZSA9PT0ga2V5KTtcbiAgICAgICAgICAgIGlmIChpc0hvdGtleVByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2xpc3RSZWZfY3VycmVudDE7XG4gICAgICAgICAgICAgICAgc2V0RXhwYW5kZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgKF9saXN0UmVmX2N1cnJlbnQxID0gbGlzdFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2xpc3RSZWZfY3VycmVudDEuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudC5jb2RlID09PSAnRXNjYXBlJyAmJiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGlzdFJlZi5jdXJyZW50IHx8ICgoX2xpc3RSZWZfY3VycmVudCA9IGxpc3RSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9saXN0UmVmX2N1cnJlbnQuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpKSkge1xuICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICByZXR1cm4gKCk9PmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICB9LCBbXG4gICAgICAgIGhvdGtleVxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBpZiAobGlzdFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICBpZiAobGFzdEZvY3VzZWRFbGVtZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZvY3VzZWRFbGVtZW50UmVmLmN1cnJlbnQuZm9jdXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZvY3VzZWRFbGVtZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpc0ZvY3VzV2l0aGluUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBsaXN0UmVmLmN1cnJlbnRcbiAgICBdKTtcbiAgICByZXR1cm4oLy8gUmVtb3ZlIGl0ZW0gZnJvbSBub3JtYWwgbmF2aWdhdGlvbiBmbG93LCBvbmx5IGF2YWlsYWJsZSB2aWEgaG90a2V5XG4gICAgLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCB7XG4gICAgICAgIHJlZjogcmVmLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogYCR7Y29udGFpbmVyQXJpYUxhYmVsfSAke2hvdGtleUxhYmVsfWAsXG4gICAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgICAgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIixcbiAgICAgICAgXCJhcmlhLXJlbGV2YW50XCI6IFwiYWRkaXRpb25zIHRleHRcIixcbiAgICAgICAgXCJhcmlhLWF0b21pY1wiOiBcImZhbHNlXCIsXG4gICAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZVxuICAgIH0sIHBvc3NpYmxlUG9zaXRpb25zLm1hcCgocG9zaXRpb24sIGluZGV4KT0+e1xuICAgICAgICB2YXIgX2hlaWdodHNfO1xuICAgICAgICBjb25zdCBbeSwgeF0gPSBwb3NpdGlvbi5zcGxpdCgnLScpO1xuICAgICAgICBpZiAoIXRvYXN0cy5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwib2xcIiwge1xuICAgICAgICAgICAga2V5OiBwb3NpdGlvbixcbiAgICAgICAgICAgIGRpcjogZGlyID09PSAnYXV0bycgPyBnZXREb2N1bWVudERpcmVjdGlvbigpIDogZGlyLFxuICAgICAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICAgICAgcmVmOiBsaXN0UmVmLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgICAgICBcImRhdGEtc29ubmVyLXRvYXN0ZXJcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiZGF0YS1zb25uZXItdGhlbWVcIjogYWN0dWFsVGhlbWUsXG4gICAgICAgICAgICBcImRhdGEteS1wb3NpdGlvblwiOiB5LFxuICAgICAgICAgICAgXCJkYXRhLXgtcG9zaXRpb25cIjogeCxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgJy0tZnJvbnQtdG9hc3QtaGVpZ2h0JzogYCR7KChfaGVpZ2h0c18gPSBoZWlnaHRzWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2hlaWdodHNfLmhlaWdodCkgfHwgMH1weGAsXG4gICAgICAgICAgICAgICAgJy0td2lkdGgnOiBgJHtUT0FTVF9XSURUSH1weGAsXG4gICAgICAgICAgICAgICAgJy0tZ2FwJzogYCR7Z2FwfXB4YCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgICAgICAuLi5hc3NpZ25PZmZzZXQob2Zmc2V0LCBtb2JpbGVPZmZzZXQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25CbHVyOiAoZXZlbnQpPT57XG4gICAgICAgICAgICAgICAgaWYgKGlzRm9jdXNXaXRoaW5SZWYuY3VycmVudCAmJiAhZXZlbnQuY3VycmVudFRhcmdldC5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBpc0ZvY3VzV2l0aGluUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RGb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Rm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudC5mb2N1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Rm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Gb2N1czogKGV2ZW50KT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzTm90RGlzbWlzc2libGUgPSBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBldmVudC50YXJnZXQuZGF0YXNldC5kaXNtaXNzaWJsZSA9PT0gJ2ZhbHNlJztcbiAgICAgICAgICAgICAgICBpZiAoaXNOb3REaXNtaXNzaWJsZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICghaXNGb2N1c1dpdGhpblJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRm9jdXNXaXRoaW5SZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RGb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Nb3VzZUVudGVyOiAoKT0+c2V0RXhwYW5kZWQodHJ1ZSksXG4gICAgICAgICAgICBvbk1vdXNlTW92ZTogKCk9PnNldEV4cGFuZGVkKHRydWUpLFxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlOiAoKT0+e1xuICAgICAgICAgICAgICAgIC8vIEF2b2lkIHNldHRpbmcgZXhwYW5kZWQgdG8gZmFsc2Ugd2hlbiBpbnRlcmFjdGluZyB3aXRoIGEgdG9hc3QsIGUuZy4gc3dpcGluZ1xuICAgICAgICAgICAgICAgIGlmICghaW50ZXJhY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXhwYW5kZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRyYWdFbmQ6ICgpPT5zZXRFeHBhbmRlZChmYWxzZSksXG4gICAgICAgICAgICBvblBvaW50ZXJEb3duOiAoZXZlbnQpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgaXNOb3REaXNtaXNzaWJsZSA9IGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGV2ZW50LnRhcmdldC5kYXRhc2V0LmRpc21pc3NpYmxlID09PSAnZmFsc2UnO1xuICAgICAgICAgICAgICAgIGlmIChpc05vdERpc21pc3NpYmxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJhY3RpbmcodHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Qb2ludGVyVXA6ICgpPT5zZXRJbnRlcmFjdGluZyhmYWxzZSlcbiAgICAgICAgfSwgdG9hc3RzLmZpbHRlcigodG9hc3QpPT4hdG9hc3QucG9zaXRpb24gJiYgaW5kZXggPT09IDAgfHwgdG9hc3QucG9zaXRpb24gPT09IHBvc2l0aW9uKS5tYXAoKHRvYXN0LCBpbmRleCk9PntcbiAgICAgICAgICAgIHZhciBfdG9hc3RPcHRpb25zX2R1cmF0aW9uLCBfdG9hc3RPcHRpb25zX2Nsb3NlQnV0dG9uO1xuICAgICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChUb2FzdCwge1xuICAgICAgICAgICAgICAgIGtleTogdG9hc3QuaWQsXG4gICAgICAgICAgICAgICAgaWNvbnM6IGljb25zLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICB0b2FzdDogdG9hc3QsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFJpY2hDb2xvcnM6IHJpY2hDb2xvcnMsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IChfdG9hc3RPcHRpb25zX2R1cmF0aW9uID0gdG9hc3RPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdE9wdGlvbnMuZHVyYXRpb24pICE9IG51bGwgPyBfdG9hc3RPcHRpb25zX2R1cmF0aW9uIDogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0b2FzdE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0T3B0aW9ucy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb25DbGFzc05hbWU6IHRvYXN0T3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogdG9hc3RPcHRpb25zLmRlc2NyaXB0aW9uQ2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGludmVydDogaW52ZXJ0LFxuICAgICAgICAgICAgICAgIHZpc2libGVUb2FzdHM6IHZpc2libGVUb2FzdHMsXG4gICAgICAgICAgICAgICAgY2xvc2VCdXR0b246IChfdG9hc3RPcHRpb25zX2Nsb3NlQnV0dG9uID0gdG9hc3RPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdE9wdGlvbnMuY2xvc2VCdXR0b24pICE9IG51bGwgPyBfdG9hc3RPcHRpb25zX2Nsb3NlQnV0dG9uIDogY2xvc2VCdXR0b24sXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpbmc6IGludGVyYWN0aW5nLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICBzdHlsZTogdG9hc3RPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdE9wdGlvbnMuc3R5bGUsXG4gICAgICAgICAgICAgICAgdW5zdHlsZWQ6IHRvYXN0T3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogdG9hc3RPcHRpb25zLnVuc3R5bGVkLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZXM6IHRvYXN0T3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogdG9hc3RPcHRpb25zLmNsYXNzTmFtZXMsXG4gICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uU3R5bGU6IHRvYXN0T3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogdG9hc3RPcHRpb25zLmNhbmNlbEJ1dHRvblN0eWxlLFxuICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvblN0eWxlOiB0b2FzdE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRvYXN0T3B0aW9ucy5hY3Rpb25CdXR0b25TdHlsZSxcbiAgICAgICAgICAgICAgICBjbG9zZUJ1dHRvbkFyaWFMYWJlbDogdG9hc3RPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b2FzdE9wdGlvbnMuY2xvc2VCdXR0b25BcmlhTGFiZWwsXG4gICAgICAgICAgICAgICAgcmVtb3ZlVG9hc3Q6IHJlbW92ZVRvYXN0LFxuICAgICAgICAgICAgICAgIHRvYXN0czogdG9hc3RzLmZpbHRlcigodCk9PnQucG9zaXRpb24gPT0gdG9hc3QucG9zaXRpb24pLFxuICAgICAgICAgICAgICAgIGhlaWdodHM6IGhlaWdodHMuZmlsdGVyKChoKT0+aC5wb3NpdGlvbiA9PSB0b2FzdC5wb3NpdGlvbiksXG4gICAgICAgICAgICAgICAgc2V0SGVpZ2h0czogc2V0SGVpZ2h0cyxcbiAgICAgICAgICAgICAgICBleHBhbmRCeURlZmF1bHQ6IGV4cGFuZCxcbiAgICAgICAgICAgICAgICBnYXA6IGdhcCxcbiAgICAgICAgICAgICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG4gICAgICAgICAgICAgICAgc3dpcGVEaXJlY3Rpb25zOiBwcm9wcy5zd2lwZURpcmVjdGlvbnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfSkpKTtcbn0pO1xuXG5leHBvcnQgeyBUb2FzdGVyLCB0b2FzdCwgdXNlU29ubmVyIH07XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFVQTtBQUNBO0FBWEE7QUFDQSxTQUFTLFlBQVksSUFBSTtJQUN2QixJQUFJLENBQUMsUUFBUSxPQUFPLFlBQVksYUFBYTtJQUM3QyxJQUFJLE9BQU8sU0FBUyxJQUFJLElBQUksU0FBUyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUNwRSxJQUFJLFFBQVEsU0FBUyxhQUFhLENBQUM7SUFDbkMsTUFBTSxJQUFJLEdBQUc7SUFDYixLQUFLLFdBQVcsQ0FBQztJQUNoQixNQUFNLFVBQVUsR0FBSSxNQUFNLFVBQVUsQ0FBQyxPQUFPLEdBQUcsT0FBUSxNQUFNLFdBQVcsQ0FBQyxTQUFTLGNBQWMsQ0FBQztBQUNwRzs7O0FBS0EsTUFBTSxXQUFXLENBQUM7SUFDZCxPQUFPO1FBQ0gsS0FBSztZQUNELE9BQU87UUFDWCxLQUFL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QUNiLE9BQU87Z0JBQ1AsT0FBTztnQkFDUCxPQUFPO2dCQUNQLG1CQUFtQjtnQkFDbkIsVUFBVSxDQUFDLHlCQUF5QixnQkFBZ0IsT0FBTyxLQUFLLElBQUksYUFBYSxRQUFRLEtBQUssT0FBTyx5QkFBeUI7Z0JBQzlILFdBQVcsZ0JBQWdCLE9BQU8sS0FBSyxJQUFJLGFBQWEsU0FBUztnQkFDakUsc0JBQXNCLGdCQUFnQixPQUFPLEtBQUssSUFBSSxhQUFhLG9CQUFvQjtnQkFDdkYsUUFBUTtnQkFDUixlQUFlO2dCQUNmLGFBQWEsQ0FBQyw0QkFBNEIsZ0JBQWdCLE9BQU8sS0FBSyxJQUFJLGFBQWEsV0FBVyxLQUFLLE9BQU8sNEJBQTRCO2dCQUMxSSxhQUFhO2dCQUNiLFVBQVU7Z0JBQ1YsT0FBTyxnQkFBZ0IsT0FBTyxLQUFLLElBQUksYUFBYSxLQUFLO2dCQUN6RCxVQUFVLGdCQUFnQixPQUFPLEtBQUssSUFBSSxhQUFhLFFBQVE7Z0JBQy9ELFlBQVksZ0JBQWdCLE9BQU8sS0FBSyxJQUFJLGFBQWEsVUFBVTtnQkFDbkUsbUJBQW1CLGdCQUFnQixPQUFPLEtBQUssSUFBSSxhQUFhLGlCQUFpQjtnQkFDakYsbUJBQW1CLGdCQUFnQixPQUFPLEtBQUssSUFBSSxhQUFhLGlCQUFpQjtnQkFDakYsc0JBQXNCLGdCQUFnQixPQUFPLEtBQUssSUFBSSxhQUFhLG9CQUFvQjtnQkFDdkYsYUFBYTtnQkFDYixRQUFRLE9BQU8sTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLFFBQVEsSUFBSSxNQUFNLFFBQVE7Z0JBQ3ZELFNBQVMsUUFBUSxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsUUFBUSxJQUFJLE1BQU0sUUFBUTtnQkFDekQsWUFBWTtnQkFDWixpQkFBaUI7Z0JBQ2pCLEtBQUs7Z0JBQ0wsVUFBVTtnQkFDVixpQkFBaUIsTUFBTSxlQUFlO1lBQzFDO1FBQ0o7SUFDSjtBQUNKIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDY2NzYsICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvY2pzL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlLXdpdGgtc2VsZWN0b3IuZGV2ZWxvcG1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtd2l0aC1zZWxlY3Rvci5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgICByZXR1cm4gKHggPT09IHkgJiYgKDAgIT09IHggfHwgMSAvIHggPT09IDEgLyB5KSkgfHwgKHggIT09IHggJiYgeSAhPT0geSk7XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpLFxuICAgICAgb2JqZWN0SXMgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBPYmplY3QuaXMgPyBPYmplY3QuaXMgOiBpcyxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlID0gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUsXG4gICAgICB1c2VSZWYgPSBSZWFjdC51c2VSZWYsXG4gICAgICB1c2VFZmZlY3QgPSBSZWFjdC51c2VFZmZlY3QsXG4gICAgICB1c2VNZW1vID0gUmVhY3QudXNlTWVtbyxcbiAgICAgIHVzZURlYnVnVmFsdWUgPSBSZWFjdC51c2VEZWJ1Z1ZhbHVlO1xuICAgIGV4cG9ydHMudXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3IgPSBmdW5jdGlvbiAoXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICBnZXRTbmFwc2hvdCxcbiAgICAgIGdldFNlcnZlclNuYXBzaG90LFxuICAgICAgc2VsZWN0b3IsXG4gICAgICBpc0VxdWFsXG4gICAgKSB7XG4gICAgICB2YXIgaW5zdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgIGlmIChudWxsID09PSBpbnN0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGluc3QgPSB7IGhhc1ZhbHVlOiAhMSwgdmFsdWU6IG51bGwgfTtcbiAgICAgICAgaW5zdFJlZi5jdXJyZW50ID0gaW5zdDtcbiAgICAgIH0gZWxzZSBpbnN0ID0gaW5zdFJlZi5jdXJyZW50O1xuICAgICAgaW5zdFJlZiA9IHVzZU1lbW8oXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmdW5jdGlvbiBtZW1vaXplZFNlbGVjdG9yKG5leHRTbmFwc2hvdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNNZW1vKSB7XG4gICAgICAgICAgICAgIGhhc01lbW8gPSAhMDtcbiAgICAgICAgICAgICAgbWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdDtcbiAgICAgICAgICAgICAgbmV4dFNuYXBzaG90ID0gc2VsZWN0b3IobmV4dFNuYXBzaG90KTtcbiAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gaXNFcXVhbCAmJiBpbnN0Lmhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBpbnN0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc0VxdWFsKGN1cnJlbnRTZWxlY3Rpb24sIG5leHRTbmFwc2hvdCkpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKG1lbW9pemVkU2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIChtZW1vaXplZFNlbGVjdGlvbiA9IG5leHRTbmFwc2hvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50U2VsZWN0aW9uID0gbWVtb2l6ZWRTZWxlY3Rpb247XG4gICAgICAgICAgICBpZiAob2JqZWN0SXMobWVtb2l6ZWRTbmFwc2hvdCwgbmV4dFNuYXBzaG90KSlcbiAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICB2YXIgbmV4dFNlbGVjdGlvbiA9IHNlbGVjdG9yKG5leHRTbmFwc2hvdCk7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBpc0VxdWFsICYmIGlzRXF1YWwoY3VycmVudFNlbGVjdGlvbiwgbmV4dFNlbGVjdGlvbikpXG4gICAgICAgICAgICAgIHJldHVybiAobWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdCksIGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90O1xuICAgICAgICAgICAgcmV0dXJuIChtZW1vaXplZFNlbGVjdGlvbiA9IG5leHRTZWxlY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaGFzTWVtbyA9ICExLFxuICAgICAgICAgICAgbWVtb2l6ZWRTbmFwc2hvdCxcbiAgICAgICAgICAgIG1lbW9pemVkU2VsZWN0aW9uLFxuICAgICAgICAgICAgbWF5YmVHZXRTZXJ2ZXJTbmFwc2hvdCA9XG4gICAgICAgICAgICAgIHZvaWQgMCA9PT0gZ2V0U2VydmVyU25hcHNob3QgPyBudWxsIDogZ2V0U2VydmVyU25hcHNob3Q7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0b3IoZ2V0U25hcHNob3QoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbnVsbCA9PT0gbWF5YmVHZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICAgICAgICA/IHZvaWQgMFxuICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdG9yKG1heWJlR2V0U2VydmVyU25hcHNob3QoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICAgIH0sXG4gICAgICAgIFtnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QsIHNlbGVjdG9yLCBpc0VxdWFsXVxuICAgICAgKTtcbiAgICAgIHZhciB2YWx1ZSA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgaW5zdFJlZlswXSwgaW5zdFJlZlsxXSk7XG4gICAgICB1c2VFZmZlY3QoXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpbnN0Lmhhc1ZhbHVlID0gITA7XG4gICAgICAgICAgaW5zdC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBbdmFsdWVdXG4gICAgICApO1xuICAgICAgdXNlRGVidWdWYWx1ZSh2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSkoKTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Q0FRQyxHQUdELG9FQUNFLEFBQUM7SUFDQyxTQUFTLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDZCxPQUFPLEFBQUMsTUFBTSxLQUFLLENBQUMsTUFBTSxLQUFLLElBQUksTUFBTSxJQUFJLENBQUMsS0FBTyxNQUFNLEtBQUssTUFBTTtJQUN4RTtJQUNBLGdCQUFnQixPQUFPLGtDQUNyQixlQUNFLE9BQU8sK0JBQStCLDJCQUEyQixJQUNuRSwrQkFBK0IsMkJBQTJCLENBQUM7SUFDN0QsSUFBSSxnSkFDRixXQUFXLGVBQWUsT0FBTyxPQUFPLEVBQUUsR0FBRyxPQUFPLEVBQUUsR0FBRyxJQUN6RCx1QkFBdUIsTUFBTSxvQkFBb0IsRUFDakQsU0FBUyxNQUFNLE1BQU0sRUFDckIsWUFBWSxNQUFNLFNBQVMsRUFDM0IsVUFBVSxNQUFNLE9BQU8sRUFDdkIsZ0JBQWdCLE1BQU0sYUFBYTtJQUNyQyxRQUFRLGdDQUFnQyxHQUFHLFNBQ3pDLFNBQVMsRUFDVCxXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLFFBQVEsRUFDUixPQUFPO1FBRVAsSUFBSSxVQUFVLE9BQU87UUFDckIsSUFBSSxTQUFTLFFBQVEsT0FBTyxFQUFFO1lBQzVCLElBQUksT0FBTztnQkFBRSxVQUFVLENBQUM7Z0JBQUcsT0FBTztZQUFLO1lBQ3ZDLFFBQVEsT0FBTyxHQUFHO1FBQ3BCLE9BQU8sT0FBTyxRQUFRLE9BQU87UUFDN0IsVUFBVSxRQUNSO1lBQ0UsU0FBUyxpQkFBaUIsWUFBWTtnQkFDcEMsSUFBSSxDQUFDLFNBQVM7b0JBQ1osVUFBVSxDQUFDO29CQUNYLG1CQUFtQjtvQkFDbkIsZUFBZSxTQUFTO29CQUN4QixJQUFJLEtBQUssTUFBTSxXQUFXLEtBQUssUUFBUSxFQUFFO3dCQUN2QyxJQUFJLG1CQUFtQixLQUFLLEtBQUs7d0JBQ2pDLElBQUksUUFBUSxrQkFBa0IsZUFDNUIsT0FBUSxvQkFBb0I7b0JBQ2hDO29CQUNBLE9BQVEsb0JBQW9CO2dCQUM5QjtnQkFDQSxtQkFBbUI7Z0JBQ25CLElBQUksU0FBUyxrQkFBa0IsZUFDN0IsT0FBTztnQkFDVCxJQUFJLGdCQUFnQixTQUFTO2dCQUM3QixJQUFJLEtBQUssTUFBTSxXQUFXLFFBQVEsa0JBQWtCLGdCQUNsRCxPQUFPLEFBQUMsbUJBQW1CLGNBQWU7Z0JBQzVDLG1CQUFtQjtnQkFDbkIsT0FBUSxvQkFBb0I7WUFDOUI7WUFDQSxJQUFJLFVBQVUsQ0FBQyxHQUNiLGtCQUNBLG1CQUNBLHlCQUNFLEtBQUssTUFBTSxvQkFBb0IsT0FBTztZQUMxQyxPQUFPO2dCQUNMO29CQUNFLE9BQU8saUJBQWlCO2dCQUMxQjtnQkFDQSxTQUFTLHlCQUNMLEtBQUssSUFDTDtvQkFDRSxPQUFPLGlCQUFpQjtnQkFDMUI7YUFDTDtRQUNILEdBQ0E7WUFBQztZQUFhO1lBQW1CO1lBQVU7U0FBUTtRQUVyRCxJQUFJLFFBQVEscUJBQXFCLFdBQVcsT0FBTyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsRUFBRTtRQUNsRSxVQUNFO1lBQ0UsS0FBSyxRQUFRLEdBQUcsQ0FBQztZQUNqQixLQUFLLEtBQUssR0FBRztRQUNmLEdBQ0E7WUFBQztTQUFNO1FBRVQsY0FBYztRQUNkLE9BQU87SUFDVDtJQUNBLGdCQUFnQixPQUFPLGtDQUNyQixlQUNFLE9BQU8sK0JBQStCLDBCQUEwQixJQUNsRSwrQkFBK0IsMEJBQTBCLENBQUM7QUFDOUQiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogNjc1MSwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS93aXRoLXNlbGVjdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS13aXRoLXNlbGVjdG9yLnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtd2l0aC1zZWxlY3Rvci5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBOztLQUVPO0lBQ0wsT0FBTyxPQUFPO0FBQ2hCIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDY3NjAsICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3JlYWN0LnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L3NyYy91dGlscy9yZWFjdC1pcy50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd2FybmluZy50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvY29ubmVjdC92ZXJpZnlTdWJzZWxlY3RvcnMudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL2Nvbm5lY3Qvc2VsZWN0b3JGYWN0b3J5LnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L3NyYy91dGlscy9iaW5kQWN0aW9uQ3JlYXRvcnMudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL3V0aWxzL2lzUGxhaW5PYmplY3QudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3ZlcmlmeVBsYWluT2JqZWN0LnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L3NyYy9jb25uZWN0L3dyYXBNYXBUb1Byb3BzLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L3NyYy9jb25uZWN0L2ludmFsaWRBcmdGYWN0b3J5LnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L3NyYy9jb25uZWN0L21hcERpc3BhdGNoVG9Qcm9wcy50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvY29ubmVjdC9tYXBTdGF0ZVRvUHJvcHMudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL2Nvbm5lY3QvbWVyZ2VQcm9wcy50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvYmF0Y2gudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL3V0aWxzL1N1YnNjcmlwdGlvbi50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvc2hhbGxvd0VxdWFsLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L3NyYy91dGlscy9ob2lzdFN0YXRpY3MudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL2NvbXBvbmVudHMvQ29udGV4dC50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9jb25uZWN0LnRzeCIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9Qcm92aWRlci50c3giLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL2hvb2tzL3VzZVJlZHV4Q29udGV4dC50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvaG9va3MvdXNlU3RvcmUudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvc3JjL2hvb2tzL3VzZURpc3BhdGNoLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L3NyYy9ob29rcy91c2VTZWxlY3Rvci50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9zcmMvZXhwb3J0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcblxuZXhwb3J0IHsgUmVhY3QgfVxuIiwiaW1wb3J0IHR5cGUgeyBFbGVtZW50VHlwZSwgTWVtb0V4b3RpY0NvbXBvbmVudCwgUmVhY3RFbGVtZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBSZWFjdCB9IGZyb20gJy4vcmVhY3QnXG5cbi8vIERpcmVjdGx5IHBvcnRlZCBmcm9tOlxuLy8gaHR0cHM6Ly91bnBrZy5jb20vYnJvd3NlL3JlYWN0LWlzQDE5LjAuMC9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5qc1xuLy8gSXQncyB2ZXJ5IHBvc3NpYmxlIHRoaXMgY291bGQgY2hhbmdlIGluIHRoZSBmdXR1cmUsIGJ1dCBnaXZlbiB0aGF0XG4vLyB3ZSBvbmx5IHVzZSB0aGVzZSBpbiBgY29ubmVjdGAsIHRoaXMgaXMgYSBsb3cgcHJpb3JpdHkuXG5cbmV4cG9ydCBjb25zdCBJU19SRUFDVF8xOSA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC52ZXJzaW9uLnN0YXJ0c1dpdGgoJzE5JylcblxuY29uc3QgUkVBQ1RfRUxFTUVOVF9UWVBFID0gLyogQF9fUFVSRV9fICovIFN5bWJvbC5mb3IoXG4gIElTX1JFQUNUXzE5ID8gJ3JlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50JyA6ICdyZWFjdC5lbGVtZW50JyxcbilcbmNvbnN0IFJFQUNUX1BPUlRBTF9UWVBFID0gLyogQF9fUFVSRV9fICovIFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpXG5jb25zdCBSRUFDVF9GUkFHTUVOVF9UWVBFID0gLyogQF9fUFVSRV9fICovIFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50JylcbmNvbnN0IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSAvKiBAX19QVVJFX18gKi8gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKVxuY29uc3QgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IC8qIEBfX1BVUkVfXyAqLyBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpXG5jb25zdCBSRUFDVF9DT05TVU1FUl9UWVBFID0gLyogQF9fUFVSRV9fICovIFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnN1bWVyJylcbmNvbnN0IFJFQUNUX0NPTlRFWFRfVFlQRSA9IC8qIEBfX1BVUkVfXyAqLyBTeW1ib2wuZm9yKCdyZWFjdC5jb250ZXh0JylcbmNvbnN0IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSAvKiBAX19QVVJFX18gKi8gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKVxuY29uc3QgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IC8qIEBfX1BVUkVfXyAqLyBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpXG5jb25zdCBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSAvKiBAX19QVVJFX18gKi8gU3ltYm9sLmZvcihcbiAgJ3JlYWN0LnN1c3BlbnNlX2xpc3QnLFxuKVxuY29uc3QgUkVBQ1RfTUVNT19UWVBFID0gLyogQF9fUFVSRV9fICovIFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKVxuY29uc3QgUkVBQ1RfTEFaWV9UWVBFID0gLyogQF9fUFVSRV9fICovIFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKVxuY29uc3QgUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgPSAvKiBAX19QVVJFX18gKi8gU3ltYm9sLmZvcigncmVhY3Qub2Zmc2NyZWVuJylcbmNvbnN0IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSAvKiBAX19QVVJFX18gKi8gU3ltYm9sLmZvcihcbiAgJ3JlYWN0LmNsaWVudC5yZWZlcmVuY2UnLFxuKVxuXG5leHBvcnQgY29uc3QgRm9yd2FyZFJlZiA9IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEVcbmV4cG9ydCBjb25zdCBNZW1vID0gUkVBQ1RfTUVNT19UWVBFXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZTogYW55KTogdHlwZSBpcyBFbGVtZW50VHlwZSB7XG4gIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHxcbiAgICB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8XG4gICAgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fFxuICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHxcbiAgICB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgfHxcbiAgICB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRSB8fFxuICAgICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIHR5cGUgIT09IG51bGwgJiZcbiAgICAgICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHxcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8XG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fFxuICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFIHx8XG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHxcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSB8fFxuICAgICAgICB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpKVxuICAgID8gITBcbiAgICA6ICExXG59XG5cbmZ1bmN0aW9uIHR5cGVPZihvYmplY3Q6IGFueSk6IHN5bWJvbCB8IHVuZGVmaW5lZCB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwpIHtcbiAgICBjb25zdCB7ICQkdHlwZW9mIH0gPSBvYmplY3RcblxuICAgIHN3aXRjaCAoJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICBzd2l0Y2ggKCgob2JqZWN0ID0gb2JqZWN0LnR5cGUpLCBvYmplY3QpKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdFxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzd2l0Y2ggKCgob2JqZWN0ID0gb2JqZWN0ICYmIG9iamVjdC4kJHR5cGVvZiksIG9iamVjdCkpIHtcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3RcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3RcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2ZcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgcmV0dXJuICQkdHlwZW9mXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRleHRDb25zdW1lcihvYmplY3Q6IGFueSk6IG9iamVjdCBpcyBSZWFjdEVsZW1lbnQge1xuICByZXR1cm4gSVNfUkVBQ1RfMTlcbiAgICA/IHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9DT05TVU1FUl9UWVBFXG4gICAgOiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01lbW8ob2JqZWN0OiBhbnkpOiBvYmplY3QgaXMgTWVtb0V4b3RpY0NvbXBvbmVudDxhbnk+IHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9NRU1PX1RZUEVcbn1cbiIsIi8qKlxyXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cclxuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpXHJcbiAgfVxyXG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xyXG4gIHRyeSB7XHJcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcclxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXHJcbiAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cclxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKVxyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cclxuICB9IGNhdGNoIChlKSB7fVxyXG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cclxufVxyXG4iLCJpbXBvcnQgd2FybmluZyBmcm9tICcuLi91dGlscy93YXJuaW5nJ1xuXG5mdW5jdGlvbiB2ZXJpZnkoc2VsZWN0b3I6IHVua25vd24sIG1ldGhvZE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHZhbHVlIGZvciAke21ldGhvZE5hbWV9IGluIGNvbm5lY3QuYClcbiAgfSBlbHNlIGlmIChcbiAgICBtZXRob2ROYW1lID09PSAnbWFwU3RhdGVUb1Byb3BzJyB8fFxuICAgIG1ldGhvZE5hbWUgPT09ICdtYXBEaXNwYXRjaFRvUHJvcHMnXG4gICkge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNlbGVjdG9yLCAnZGVwZW5kc09uT3duUHJvcHMnKSkge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgYFRoZSBzZWxlY3RvciBmb3IgJHttZXRob2ROYW1lfSBvZiBjb25uZWN0IGRpZCBub3Qgc3BlY2lmeSBhIHZhbHVlIGZvciBkZXBlbmRzT25Pd25Qcm9wcy5gLFxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2ZXJpZnlTdWJzZWxlY3RvcnMoXG4gIG1hcFN0YXRlVG9Qcm9wczogdW5rbm93bixcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzOiB1bmtub3duLFxuICBtZXJnZVByb3BzOiB1bmtub3duLFxuKTogdm9pZCB7XG4gIHZlcmlmeShtYXBTdGF0ZVRvUHJvcHMsICdtYXBTdGF0ZVRvUHJvcHMnKVxuICB2ZXJpZnkobWFwRGlzcGF0Y2hUb1Byb3BzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJylcbiAgdmVyaWZ5KG1lcmdlUHJvcHMsICdtZXJnZVByb3BzJylcbn1cbiIsImltcG9ydCB0eXBlIHsgRGlzcGF0Y2gsIEFjdGlvbiB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRUeXBlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdmVyaWZ5U3Vic2VsZWN0b3JzIGZyb20gJy4vdmVyaWZ5U3Vic2VsZWN0b3JzJ1xuaW1wb3J0IHR5cGUgeyBFcXVhbGl0eUZuLCBFeHRlbmRlZEVxdWFsaXR5Rm4gfSBmcm9tICcuLi90eXBlcydcblxuZXhwb3J0IHR5cGUgU2VsZWN0b3JGYWN0b3J5PFMsIFRQcm9wcywgVE93blByb3BzLCBURmFjdG9yeU9wdGlvbnM+ID0gKFxuICBkaXNwYXRjaDogRGlzcGF0Y2g8QWN0aW9uPHN0cmluZz4+LFxuICBmYWN0b3J5T3B0aW9uczogVEZhY3RvcnlPcHRpb25zLFxuKSA9PiBTZWxlY3RvcjxTLCBUUHJvcHMsIFRPd25Qcm9wcz5cblxuZXhwb3J0IHR5cGUgU2VsZWN0b3I8UywgVFByb3BzLCBUT3duUHJvcHMgPSBudWxsPiA9IFRPd25Qcm9wcyBleHRlbmRzXG4gIHwgbnVsbFxuICB8IHVuZGVmaW5lZFxuICA/IChzdGF0ZTogUykgPT4gVFByb3BzXG4gIDogKHN0YXRlOiBTLCBvd25Qcm9wczogVE93blByb3BzKSA9PiBUUHJvcHNcblxuZXhwb3J0IHR5cGUgTWFwU3RhdGVUb1Byb3BzPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPiA9IChcbiAgc3RhdGU6IFN0YXRlLFxuICBvd25Qcm9wczogVE93blByb3BzLFxuKSA9PiBUU3RhdGVQcm9wc1xuXG5leHBvcnQgdHlwZSBNYXBTdGF0ZVRvUHJvcHNGYWN0b3J5PFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPiA9IChcbiAgaW5pdGlhbFN0YXRlOiBTdGF0ZSxcbiAgb3duUHJvcHM6IFRPd25Qcm9wcyxcbikgPT4gTWFwU3RhdGVUb1Byb3BzPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPlxuXG5leHBvcnQgdHlwZSBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4gPVxuICB8IE1hcFN0YXRlVG9Qcm9wc0ZhY3Rvcnk8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+XG4gIHwgTWFwU3RhdGVUb1Byb3BzPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPlxuICB8IG51bGxcbiAgfCB1bmRlZmluZWRcblxuZXhwb3J0IHR5cGUgTWFwRGlzcGF0Y2hUb1Byb3BzRnVuY3Rpb248VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4gPSAoXG4gIGRpc3BhdGNoOiBEaXNwYXRjaDxBY3Rpb248c3RyaW5nPj4sXG4gIG93blByb3BzOiBUT3duUHJvcHMsXG4pID0+IFREaXNwYXRjaFByb3BzXG5cbmV4cG9ydCB0eXBlIE1hcERpc3BhdGNoVG9Qcm9wczxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPiA9XG4gIHwgTWFwRGlzcGF0Y2hUb1Byb3BzRnVuY3Rpb248VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz5cbiAgfCBURGlzcGF0Y2hQcm9wc1xuXG5leHBvcnQgdHlwZSBNYXBEaXNwYXRjaFRvUHJvcHNGYWN0b3J5PFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+ID0gKFxuICBkaXNwYXRjaDogRGlzcGF0Y2g8QWN0aW9uPHN0cmluZz4+LFxuICBvd25Qcm9wczogVE93blByb3BzLFxuKSA9PiBNYXBEaXNwYXRjaFRvUHJvcHNGdW5jdGlvbjxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPlxuXG5leHBvcnQgdHlwZSBNYXBEaXNwYXRjaFRvUHJvcHNQYXJhbTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPiA9XG4gIHwgTWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yeTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPlxuICB8IE1hcERpc3BhdGNoVG9Qcm9wczxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPlxuXG5leHBvcnQgdHlwZSBNYXBEaXNwYXRjaFRvUHJvcHNOb25PYmplY3Q8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4gPVxuICB8IE1hcERpc3BhdGNoVG9Qcm9wc0ZhY3Rvcnk8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz5cbiAgfCBNYXBEaXNwYXRjaFRvUHJvcHNGdW5jdGlvbjxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPlxuXG5leHBvcnQgdHlwZSBNZXJnZVByb3BzPFRTdGF0ZVByb3BzLCBURGlzcGF0Y2hQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHM+ID0gKFxuICBzdGF0ZVByb3BzOiBUU3RhdGVQcm9wcyxcbiAgZGlzcGF0Y2hQcm9wczogVERpc3BhdGNoUHJvcHMsXG4gIG93blByb3BzOiBUT3duUHJvcHMsXG4pID0+IFRNZXJnZWRQcm9wc1xuXG5pbnRlcmZhY2UgUHVyZVNlbGVjdG9yRmFjdG9yeUNvbXBhcmlzb25PcHRpb25zPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPiB7XG4gIHJlYWRvbmx5IGFyZVN0YXRlc0VxdWFsOiBFeHRlbmRlZEVxdWFsaXR5Rm48U3RhdGUsIFRPd25Qcm9wcz5cbiAgcmVhZG9ubHkgYXJlU3RhdGVQcm9wc0VxdWFsOiBFcXVhbGl0eUZuPFRTdGF0ZVByb3BzPlxuICByZWFkb25seSBhcmVPd25Qcm9wc0VxdWFsOiBFcXVhbGl0eUZuPFRPd25Qcm9wcz5cbn1cblxuZnVuY3Rpb24gcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3Rvcnk8XG4gIFRTdGF0ZVByb3BzLFxuICBUT3duUHJvcHMsXG4gIFREaXNwYXRjaFByb3BzLFxuICBUTWVyZ2VkUHJvcHMsXG4gIFN0YXRlLFxuPihcbiAgbWFwU3RhdGVUb1Byb3BzOiBXcmFwcGVkTWFwU3RhdGVUb1Byb3BzPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBXcmFwcGVkTWFwRGlzcGF0Y2hUb1Byb3BzPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICBtZXJnZVByb3BzOiBNZXJnZVByb3BzPFRTdGF0ZVByb3BzLCBURGlzcGF0Y2hQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHM+LFxuICBkaXNwYXRjaDogRGlzcGF0Y2g8QWN0aW9uPHN0cmluZz4+LFxuICB7XG4gICAgYXJlU3RhdGVzRXF1YWwsXG4gICAgYXJlT3duUHJvcHNFcXVhbCxcbiAgICBhcmVTdGF0ZVByb3BzRXF1YWwsXG4gIH06IFB1cmVTZWxlY3RvckZhY3RvcnlDb21wYXJpc29uT3B0aW9uczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4pIHtcbiAgbGV0IGhhc1J1bkF0TGVhc3RPbmNlID0gZmFsc2VcbiAgbGV0IHN0YXRlOiBTdGF0ZVxuICBsZXQgb3duUHJvcHM6IFRPd25Qcm9wc1xuICBsZXQgc3RhdGVQcm9wczogVFN0YXRlUHJvcHNcbiAgbGV0IGRpc3BhdGNoUHJvcHM6IFREaXNwYXRjaFByb3BzXG4gIGxldCBtZXJnZWRQcm9wczogVE1lcmdlZFByb3BzXG5cbiAgZnVuY3Rpb24gaGFuZGxlRmlyc3RDYWxsKGZpcnN0U3RhdGU6IFN0YXRlLCBmaXJzdE93blByb3BzOiBUT3duUHJvcHMpIHtcbiAgICBzdGF0ZSA9IGZpcnN0U3RhdGVcbiAgICBvd25Qcm9wcyA9IGZpcnN0T3duUHJvcHNcbiAgICBzdGF0ZVByb3BzID0gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcylcbiAgICBkaXNwYXRjaFByb3BzID0gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBvd25Qcm9wcylcbiAgICBtZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpXG4gICAgaGFzUnVuQXRMZWFzdE9uY2UgPSB0cnVlXG4gICAgcmV0dXJuIG1lcmdlZFByb3BzXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVOZXdQcm9wc0FuZE5ld1N0YXRlKCkge1xuICAgIHN0YXRlUHJvcHMgPSBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKVxuXG4gICAgaWYgKG1hcERpc3BhdGNoVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcylcbiAgICAgIGRpc3BhdGNoUHJvcHMgPSBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIG93blByb3BzKVxuXG4gICAgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKVxuICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmV3UHJvcHMoKSB7XG4gICAgaWYgKG1hcFN0YXRlVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcylcbiAgICAgIHN0YXRlUHJvcHMgPSBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKVxuXG4gICAgaWYgKG1hcERpc3BhdGNoVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcylcbiAgICAgIGRpc3BhdGNoUHJvcHMgPSBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIG93blByb3BzKVxuXG4gICAgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKVxuICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmV3U3RhdGUoKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlUHJvcHMgPSBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKVxuICAgIGNvbnN0IHN0YXRlUHJvcHNDaGFuZ2VkID0gIWFyZVN0YXRlUHJvcHNFcXVhbChuZXh0U3RhdGVQcm9wcywgc3RhdGVQcm9wcylcbiAgICBzdGF0ZVByb3BzID0gbmV4dFN0YXRlUHJvcHNcblxuICAgIGlmIChzdGF0ZVByb3BzQ2hhbmdlZClcbiAgICAgIG1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcylcblxuICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3Vic2VxdWVudENhbGxzKG5leHRTdGF0ZTogU3RhdGUsIG5leHRPd25Qcm9wczogVE93blByb3BzKSB7XG4gICAgY29uc3QgcHJvcHNDaGFuZ2VkID0gIWFyZU93blByb3BzRXF1YWwobmV4dE93blByb3BzLCBvd25Qcm9wcylcbiAgICBjb25zdCBzdGF0ZUNoYW5nZWQgPSAhYXJlU3RhdGVzRXF1YWwoXG4gICAgICBuZXh0U3RhdGUsXG4gICAgICBzdGF0ZSxcbiAgICAgIG5leHRPd25Qcm9wcyxcbiAgICAgIG93blByb3BzLFxuICAgIClcbiAgICBzdGF0ZSA9IG5leHRTdGF0ZVxuICAgIG93blByb3BzID0gbmV4dE93blByb3BzXG5cbiAgICBpZiAocHJvcHNDaGFuZ2VkICYmIHN0YXRlQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1Byb3BzQW5kTmV3U3RhdGUoKVxuICAgIGlmIChwcm9wc0NoYW5nZWQpIHJldHVybiBoYW5kbGVOZXdQcm9wcygpXG4gICAgaWYgKHN0YXRlQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1N0YXRlKClcbiAgICByZXR1cm4gbWVyZ2VkUHJvcHNcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwdXJlRmluYWxQcm9wc1NlbGVjdG9yKFxuICAgIG5leHRTdGF0ZTogU3RhdGUsXG4gICAgbmV4dE93blByb3BzOiBUT3duUHJvcHMsXG4gICkge1xuICAgIHJldHVybiBoYXNSdW5BdExlYXN0T25jZVxuICAgICAgPyBoYW5kbGVTdWJzZXF1ZW50Q2FsbHMobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpXG4gICAgICA6IGhhbmRsZUZpcnN0Q2FsbChuZXh0U3RhdGUsIG5leHRPd25Qcm9wcylcbiAgfVxufVxuXG5pbnRlcmZhY2UgV3JhcHBlZE1hcFN0YXRlVG9Qcm9wczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4ge1xuICAoc3RhdGU6IFN0YXRlLCBvd25Qcm9wczogVE93blByb3BzKTogVFN0YXRlUHJvcHNcbiAgcmVhZG9ubHkgZGVwZW5kc09uT3duUHJvcHM6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIFdyYXBwZWRNYXBEaXNwYXRjaFRvUHJvcHM8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4ge1xuICAoZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+Piwgb3duUHJvcHM6IFRPd25Qcm9wcyk6IFREaXNwYXRjaFByb3BzXG4gIHJlYWRvbmx5IGRlcGVuZHNPbk93blByb3BzOiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5pdE9wdGlvbnM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzLCBTdGF0ZT5cbiAgZXh0ZW5kcyBQdXJlU2VsZWN0b3JGYWN0b3J5Q29tcGFyaXNvbk9wdGlvbnM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+IHtcbiAgcmVhZG9ubHkgc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzOiBib29sZWFuXG4gIHJlYWRvbmx5IGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgcmVhZG9ubHkgd3JhcHBlZENvbXBvbmVudE5hbWU6IHN0cmluZ1xuICByZWFkb25seSBXcmFwcGVkQ29tcG9uZW50OiBDb21wb25lbnRUeXBlPFRPd25Qcm9wcz5cbiAgcmVhZG9ubHkgYXJlTWVyZ2VkUHJvcHNFcXVhbDogRXF1YWxpdHlGbjxUTWVyZ2VkUHJvcHM+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0b3JGYWN0b3J5T3B0aW9uczxcbiAgVFN0YXRlUHJvcHMsXG4gIFRPd25Qcm9wcyxcbiAgVERpc3BhdGNoUHJvcHMsXG4gIFRNZXJnZWRQcm9wcyxcbiAgU3RhdGUsXG4+IGV4dGVuZHMgSW5pdE9wdGlvbnM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzLCBTdGF0ZT4ge1xuICByZWFkb25seSBpbml0TWFwU3RhdGVUb1Byb3BzOiAoXG4gICAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgICBvcHRpb25zOiBJbml0T3B0aW9uczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHMsIFN0YXRlPixcbiAgKSA9PiBXcmFwcGVkTWFwU3RhdGVUb1Byb3BzPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPlxuICByZWFkb25seSBpbml0TWFwRGlzcGF0Y2hUb1Byb3BzOiAoXG4gICAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgICBvcHRpb25zOiBJbml0T3B0aW9uczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHMsIFN0YXRlPixcbiAgKSA9PiBXcmFwcGVkTWFwRGlzcGF0Y2hUb1Byb3BzPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+XG4gIHJlYWRvbmx5IGluaXRNZXJnZVByb3BzOiAoXG4gICAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgICBvcHRpb25zOiBJbml0T3B0aW9uczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHMsIFN0YXRlPixcbiAgKSA9PiBNZXJnZVByb3BzPFRTdGF0ZVByb3BzLCBURGlzcGF0Y2hQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHM+XG59XG5cbi8vIFRPRE86IEFkZCBtb3JlIGNvbW1lbnRzXG5cbi8vIFRoZSBzZWxlY3RvciByZXR1cm5lZCBieSBzZWxlY3RvckZhY3Rvcnkgd2lsbCBtZW1vaXplIGl0cyByZXN1bHRzLFxuLy8gYWxsb3dpbmcgY29ubmVjdCdzIHNob3VsZENvbXBvbmVudFVwZGF0ZSB0byByZXR1cm4gZmFsc2UgaWYgZmluYWxcbi8vIHByb3BzIGhhdmUgbm90IGNoYW5nZWQuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbmFsUHJvcHNTZWxlY3RvckZhY3Rvcnk8XG4gIFRTdGF0ZVByb3BzLFxuICBUT3duUHJvcHMsXG4gIFREaXNwYXRjaFByb3BzLFxuICBUTWVyZ2VkUHJvcHMsXG4gIFN0YXRlLFxuPihcbiAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAge1xuICAgIGluaXRNYXBTdGF0ZVRvUHJvcHMsXG4gICAgaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyxcbiAgICBpbml0TWVyZ2VQcm9wcyxcbiAgICAuLi5vcHRpb25zXG4gIH06IFNlbGVjdG9yRmFjdG9yeU9wdGlvbnM8XG4gICAgVFN0YXRlUHJvcHMsXG4gICAgVE93blByb3BzLFxuICAgIFREaXNwYXRjaFByb3BzLFxuICAgIFRNZXJnZWRQcm9wcyxcbiAgICBTdGF0ZVxuICA+LFxuKSB7XG4gIGNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IGluaXRNYXBTdGF0ZVRvUHJvcHMoZGlzcGF0Y2gsIG9wdGlvbnMpXG4gIGNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IGluaXRNYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIG9wdGlvbnMpXG4gIGNvbnN0IG1lcmdlUHJvcHMgPSBpbml0TWVyZ2VQcm9wcyhkaXNwYXRjaCwgb3B0aW9ucylcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZlcmlmeVN1YnNlbGVjdG9ycyhtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcylcbiAgfVxuXG4gIHJldHVybiBwdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeTxcbiAgICBUU3RhdGVQcm9wcyxcbiAgICBUT3duUHJvcHMsXG4gICAgVERpc3BhdGNoUHJvcHMsXG4gICAgVE1lcmdlZFByb3BzLFxuICAgIFN0YXRlXG4gID4obWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIGRpc3BhdGNoLCBvcHRpb25zKVxufVxuIiwiaW1wb3J0IHR5cGUgeyBBY3Rpb25DcmVhdG9yc01hcE9iamVjdCwgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKFxuICBhY3Rpb25DcmVhdG9yczogQWN0aW9uQ3JlYXRvcnNNYXBPYmplY3QsXG4gIGRpc3BhdGNoOiBEaXNwYXRjaCxcbik6IEFjdGlvbkNyZWF0b3JzTWFwT2JqZWN0IHtcbiAgY29uc3QgYm91bmRBY3Rpb25DcmVhdG9yczogQWN0aW9uQ3JlYXRvcnNNYXBPYmplY3QgPSB7fVxuXG4gIGZvciAoY29uc3Qga2V5IGluIGFjdGlvbkNyZWF0b3JzKSB7XG4gICAgY29uc3QgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV1cbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9ICguLi5hcmdzKSA9PiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yKC4uLmFyZ3MpKVxuICAgIH1cbiAgfVxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9yc1xufVxuIiwiLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iajogdW5rbm93bikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gZmFsc2VcblxuICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopXG4gIGlmIChwcm90byA9PT0gbnVsbCkgcmV0dXJuIHRydWVcblxuICBsZXQgYmFzZVByb3RvID0gcHJvdG9cbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihiYXNlUHJvdG8pICE9PSBudWxsKSB7XG4gICAgYmFzZVByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGJhc2VQcm90bylcbiAgfVxuXG4gIHJldHVybiBwcm90byA9PT0gYmFzZVByb3RvXG59XG4iLCJpbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICcuL2lzUGxhaW5PYmplY3QnXG5pbXBvcnQgd2FybmluZyBmcm9tICcuL3dhcm5pbmcnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZlcmlmeVBsYWluT2JqZWN0KFxuICB2YWx1ZTogdW5rbm93bixcbiAgZGlzcGxheU5hbWU6IHN0cmluZyxcbiAgbWV0aG9kTmFtZTogc3RyaW5nLFxuKSB7XG4gIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgYCR7bWV0aG9kTmFtZX0oKSBpbiAke2Rpc3BsYXlOYW1lfSBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gSW5zdGVhZCByZWNlaXZlZCAke3ZhbHVlfS5gLFxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBBY3Rpb25DcmVhdG9yc01hcE9iamVjdCwgRGlzcGF0Y2gsIEFjdGlvbkNyZWF0b3IgfSBmcm9tICdyZWR1eCdcblxuaW1wb3J0IHR5cGUgeyBGaXhUeXBlTGF0ZXIgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB2ZXJpZnlQbGFpbk9iamVjdCBmcm9tICcuLi91dGlscy92ZXJpZnlQbGFpbk9iamVjdCdcblxudHlwZSBBbnlTdGF0ZSA9IHsgW2tleTogc3RyaW5nXTogYW55IH1cbnR5cGUgU3RhdGVPckRpc3BhdGNoPFMgZXh0ZW5kcyBBbnlTdGF0ZSA9IEFueVN0YXRlPiA9IFMgfCBEaXNwYXRjaFxuXG50eXBlIEFueVByb3BzID0geyBba2V5OiBzdHJpbmddOiBhbnkgfVxuXG5leHBvcnQgdHlwZSBNYXBUb1Byb3BzPFAgZXh0ZW5kcyBBbnlQcm9wcyA9IEFueVByb3BzPiA9IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIChzdGF0ZU9yRGlzcGF0Y2g6IFN0YXRlT3JEaXNwYXRjaCwgb3duUHJvcHM/OiBQKTogRml4VHlwZUxhdGVyXG4gIGRlcGVuZHNPbk93blByb3BzPzogYm9vbGVhblxufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcE1hcFRvUHJvcHNDb25zdGFudChcbiAgLy8gKiBOb3RlOlxuICAvLyAgSXQgc2VlbXMgdGhhdCB0aGUgZGlzcGF0Y2ggYXJndW1lbnRcbiAgLy8gIGNvdWxkIGJlIGEgZGlzcGF0Y2ggZnVuY3Rpb24gaW4gc29tZSBjYXNlcyAoZXg6IHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc01pc3NpbmcpXG4gIC8vICBhbmQgYSBzdGF0ZSBvYmplY3QgaW4gc29tZSBvdGhlcnMgKGV4OiB3aGVuTWFwU3RhdGVUb1Byb3BzSXNNaXNzaW5nKVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgZ2V0Q29uc3RhbnQ6IChkaXNwYXRjaDogRGlzcGF0Y2gpID0+XG4gICAgfCB7XG4gICAgICAgIGRpc3BhdGNoPzogRGlzcGF0Y2hcbiAgICAgICAgZGVwZW5kc09uT3duUHJvcHM/OiBib29sZWFuXG4gICAgICB9XG4gICAgfCBBY3Rpb25DcmVhdG9yc01hcE9iamVjdFxuICAgIHwgQWN0aW9uQ3JlYXRvcjxhbnk+LFxuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0Q29uc3RhbnRTZWxlY3RvcihkaXNwYXRjaDogRGlzcGF0Y2gpIHtcbiAgICBjb25zdCBjb25zdGFudCA9IGdldENvbnN0YW50KGRpc3BhdGNoKVxuXG4gICAgZnVuY3Rpb24gY29uc3RhbnRTZWxlY3RvcigpIHtcbiAgICAgIHJldHVybiBjb25zdGFudFxuICAgIH1cbiAgICBjb25zdGFudFNlbGVjdG9yLmRlcGVuZHNPbk93blByb3BzID0gZmFsc2VcbiAgICByZXR1cm4gY29uc3RhbnRTZWxlY3RvclxuICB9XG59XG5cbi8vIGRlcGVuZHNPbk93blByb3BzIGlzIHVzZWQgYnkgY3JlYXRlTWFwVG9Qcm9wc1Byb3h5IHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHBhc3MgcHJvcHMgYXMgYXJnc1xuLy8gdG8gdGhlIG1hcFRvUHJvcHMgZnVuY3Rpb24gYmVpbmcgd3JhcHBlZC4gSXQgaXMgYWxzbyB1c2VkIGJ5IG1ha2VQdXJlUHJvcHNTZWxlY3RvciB0byBkZXRlcm1pbmVcbi8vIHdoZXRoZXIgbWFwVG9Qcm9wcyBuZWVkcyB0byBiZSBpbnZva2VkIHdoZW4gcHJvcHMgaGF2ZSBjaGFuZ2VkLlxuLy9cbi8vIEEgbGVuZ3RoIG9mIG9uZSBzaWduYWxzIHRoYXQgbWFwVG9Qcm9wcyBkb2VzIG5vdCBkZXBlbmQgb24gcHJvcHMgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC5cbi8vIEEgbGVuZ3RoIG9mIHplcm8gaXMgYXNzdW1lZCB0byBtZWFuIG1hcFRvUHJvcHMgaXMgZ2V0dGluZyBhcmdzIHZpYSBhcmd1bWVudHMgb3IgLi4uYXJncyBhbmRcbi8vIHRoZXJlZm9yZSBub3QgcmVwb3J0aW5nIGl0cyBsZW5ndGggYWNjdXJhdGVseS4uXG4vLyBUT0RPIENhbiB0aGlzIGdldCBwdWxsZWQgb3V0IHNvIHRoYXQgd2UgY2FuIHN1YnNjcmliZSBkaXJlY3RseSB0byB0aGUgc3RvcmUgaWYgd2UgZG9uJ3QgbmVlZCBvd25Qcm9wcz9cbmZ1bmN0aW9uIGdldERlcGVuZHNPbk93blByb3BzKG1hcFRvUHJvcHM6IE1hcFRvUHJvcHMpIHtcbiAgcmV0dXJuIG1hcFRvUHJvcHMuZGVwZW5kc09uT3duUHJvcHNcbiAgICA/IEJvb2xlYW4obWFwVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcylcbiAgICA6IG1hcFRvUHJvcHMubGVuZ3RoICE9PSAxXG59XG5cbi8vIFVzZWQgYnkgd2hlbk1hcFN0YXRlVG9Qcm9wc0lzRnVuY3Rpb24gYW5kIHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc0Z1bmN0aW9uLFxuLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBtYXBUb1Byb3BzIGluIGEgcHJveHkgZnVuY3Rpb24gd2hpY2ggZG9lcyBzZXZlcmFsIHRoaW5nczpcbi8vXG4vLyAgKiBEZXRlY3RzIHdoZXRoZXIgdGhlIG1hcFRvUHJvcHMgZnVuY3Rpb24gYmVpbmcgY2FsbGVkIGRlcGVuZHMgb24gcHJvcHMsIHdoaWNoXG4vLyAgICBpcyB1c2VkIGJ5IHNlbGVjdG9yRmFjdG9yeSB0byBkZWNpZGUgaWYgaXQgc2hvdWxkIHJlaW52b2tlIG9uIHByb3BzIGNoYW5nZXMuXG4vL1xuLy8gICogT24gZmlyc3QgY2FsbCwgaGFuZGxlcyBtYXBUb1Byb3BzIGlmIHJldHVybnMgYW5vdGhlciBmdW5jdGlvbiwgYW5kIHRyZWF0cyB0aGF0XG4vLyAgICBuZXcgZnVuY3Rpb24gYXMgdGhlIHRydWUgbWFwVG9Qcm9wcyBmb3Igc3Vic2VxdWVudCBjYWxscy5cbi8vXG4vLyAgKiBPbiBmaXJzdCBjYWxsLCB2ZXJpZmllcyB0aGUgZmlyc3QgcmVzdWx0IGlzIGEgcGxhaW4gb2JqZWN0LCBpbiBvcmRlciB0byB3YXJuXG4vLyAgICB0aGUgZGV2ZWxvcGVyIHRoYXQgdGhlaXIgbWFwVG9Qcm9wcyBmdW5jdGlvbiBpcyBub3QgcmV0dXJuaW5nIGEgdmFsaWQgcmVzdWx0LlxuLy9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwTWFwVG9Qcm9wc0Z1bmM8UCBleHRlbmRzIEFueVByb3BzID0gQW55UHJvcHM+KFxuICBtYXBUb1Byb3BzOiBNYXBUb1Byb3BzLFxuICBtZXRob2ROYW1lOiBzdHJpbmcsXG4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGluaXRQcm94eVNlbGVjdG9yKFxuICAgIGRpc3BhdGNoOiBEaXNwYXRjaCxcbiAgICB7IGRpc3BsYXlOYW1lIH06IHsgZGlzcGxheU5hbWU6IHN0cmluZyB9LFxuICApIHtcbiAgICBjb25zdCBwcm94eSA9IGZ1bmN0aW9uIG1hcFRvUHJvcHNQcm94eShcbiAgICAgIHN0YXRlT3JEaXNwYXRjaDogU3RhdGVPckRpc3BhdGNoLFxuICAgICAgb3duUHJvcHM/OiBQLFxuICAgICk6IE1hcFRvUHJvcHMge1xuICAgICAgcmV0dXJuIHByb3h5LmRlcGVuZHNPbk93blByb3BzXG4gICAgICAgID8gcHJveHkubWFwVG9Qcm9wcyhzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKVxuICAgICAgICA6IHByb3h5Lm1hcFRvUHJvcHMoc3RhdGVPckRpc3BhdGNoLCB1bmRlZmluZWQpXG4gICAgfVxuXG4gICAgLy8gYWxsb3cgZGV0ZWN0RmFjdG9yeUFuZFZlcmlmeSB0byBnZXQgb3duUHJvcHNcbiAgICBwcm94eS5kZXBlbmRzT25Pd25Qcm9wcyA9IHRydWVcblxuICAgIHByb3h5Lm1hcFRvUHJvcHMgPSBmdW5jdGlvbiBkZXRlY3RGYWN0b3J5QW5kVmVyaWZ5KFxuICAgICAgc3RhdGVPckRpc3BhdGNoOiBTdGF0ZU9yRGlzcGF0Y2gsXG4gICAgICBvd25Qcm9wcz86IFAsXG4gICAgKTogTWFwVG9Qcm9wcyB7XG4gICAgICBwcm94eS5tYXBUb1Byb3BzID0gbWFwVG9Qcm9wc1xuICAgICAgcHJveHkuZGVwZW5kc09uT3duUHJvcHMgPSBnZXREZXBlbmRzT25Pd25Qcm9wcyhtYXBUb1Byb3BzKVxuICAgICAgbGV0IHByb3BzID0gcHJveHkoc3RhdGVPckRpc3BhdGNoLCBvd25Qcm9wcylcblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm94eS5tYXBUb1Byb3BzID0gcHJvcHNcbiAgICAgICAgcHJveHkuZGVwZW5kc09uT3duUHJvcHMgPSBnZXREZXBlbmRzT25Pd25Qcm9wcyhwcm9wcylcbiAgICAgICAgcHJvcHMgPSBwcm94eShzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgdmVyaWZ5UGxhaW5PYmplY3QocHJvcHMsIGRpc3BsYXlOYW1lLCBtZXRob2ROYW1lKVxuXG4gICAgICByZXR1cm4gcHJvcHNcbiAgICB9XG5cbiAgICByZXR1cm4gcHJveHlcbiAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBBY3Rpb24sIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkQXJnRmFjdG9yeShhcmc6IHVua25vd24sIG5hbWU6IHN0cmluZykge1xuICByZXR1cm4gKFxuICAgIGRpc3BhdGNoOiBEaXNwYXRjaDxBY3Rpb248c3RyaW5nPj4sXG4gICAgb3B0aW9uczogeyByZWFkb25seSB3cmFwcGVkQ29tcG9uZW50TmFtZTogc3RyaW5nIH0sXG4gICkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIHZhbHVlIG9mIHR5cGUgJHt0eXBlb2YgYXJnfSBmb3IgJHtuYW1lfSBhcmd1bWVudCB3aGVuIGNvbm5lY3RpbmcgY29tcG9uZW50ICR7XG4gICAgICAgIG9wdGlvbnMud3JhcHBlZENvbXBvbmVudE5hbWVcbiAgICAgIH0uYCxcbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgQWN0aW9uLCBEaXNwYXRjaCB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IGJpbmRBY3Rpb25DcmVhdG9ycyBmcm9tICcuLi91dGlscy9iaW5kQWN0aW9uQ3JlYXRvcnMnXG5pbXBvcnQgeyB3cmFwTWFwVG9Qcm9wc0NvbnN0YW50LCB3cmFwTWFwVG9Qcm9wc0Z1bmMgfSBmcm9tICcuL3dyYXBNYXBUb1Byb3BzJ1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkgfSBmcm9tICcuL2ludmFsaWRBcmdGYWN0b3J5J1xuaW1wb3J0IHR5cGUgeyBNYXBEaXNwYXRjaFRvUHJvcHNQYXJhbSB9IGZyb20gJy4vc2VsZWN0b3JGYWN0b3J5J1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yeTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPihcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzOlxuICAgIHwgTWFwRGlzcGF0Y2hUb1Byb3BzUGFyYW08VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz5cbiAgICB8IHVuZGVmaW5lZCxcbikge1xuICByZXR1cm4gbWFwRGlzcGF0Y2hUb1Byb3BzICYmIHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdvYmplY3QnXG4gICAgPyB3cmFwTWFwVG9Qcm9wc0NvbnN0YW50KChkaXNwYXRjaDogRGlzcGF0Y2g8QWN0aW9uPHN0cmluZz4+KSA9PlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGJpbmRBY3Rpb25DcmVhdG9ycyhtYXBEaXNwYXRjaFRvUHJvcHMsIGRpc3BhdGNoKSxcbiAgICAgIClcbiAgICA6ICFtYXBEaXNwYXRjaFRvUHJvcHNcbiAgICAgID8gd3JhcE1hcFRvUHJvcHNDb25zdGFudCgoZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PikgPT4gKHtcbiAgICAgICAgICBkaXNwYXRjaCxcbiAgICAgICAgfSkpXG4gICAgICA6IHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgd3JhcE1hcFRvUHJvcHNGdW5jKG1hcERpc3BhdGNoVG9Qcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpXG4gICAgICAgIDogY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkobWFwRGlzcGF0Y2hUb1Byb3BzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJylcbn1cbiIsImltcG9ydCB7IHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQsIHdyYXBNYXBUb1Byb3BzRnVuYyB9IGZyb20gJy4vd3JhcE1hcFRvUHJvcHMnXG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkQXJnRmFjdG9yeSB9IGZyb20gJy4vaW52YWxpZEFyZ0ZhY3RvcnknXG5pbXBvcnQgdHlwZSB7IE1hcFN0YXRlVG9Qcm9wc1BhcmFtIH0gZnJvbSAnLi9zZWxlY3RvckZhY3RvcnknXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHNGYWN0b3J5PFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPihcbiAgbWFwU3RhdGVUb1Byb3BzOiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4pIHtcbiAgcmV0dXJuICFtYXBTdGF0ZVRvUHJvcHNcbiAgICA/IHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQoKCkgPT4gKHt9KSlcbiAgICA6IHR5cGVvZiBtYXBTdGF0ZVRvUHJvcHMgPT09ICdmdW5jdGlvbidcbiAgICAgID8gLy8gQHRzLWlnbm9yZVxuICAgICAgICB3cmFwTWFwVG9Qcm9wc0Z1bmMobWFwU3RhdGVUb1Byb3BzLCAnbWFwU3RhdGVUb1Byb3BzJylcbiAgICAgIDogY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkobWFwU3RhdGVUb1Byb3BzLCAnbWFwU3RhdGVUb1Byb3BzJylcbn1cbiIsImltcG9ydCB0eXBlIHsgQWN0aW9uLCBEaXNwYXRjaCB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHZlcmlmeVBsYWluT2JqZWN0IGZyb20gJy4uL3V0aWxzL3ZlcmlmeVBsYWluT2JqZWN0J1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkgfSBmcm9tICcuL2ludmFsaWRBcmdGYWN0b3J5J1xuaW1wb3J0IHR5cGUgeyBNZXJnZVByb3BzIH0gZnJvbSAnLi9zZWxlY3RvckZhY3RvcnknXG5pbXBvcnQgdHlwZSB7IEVxdWFsaXR5Rm4gfSBmcm9tICcuLi90eXBlcydcblxuZnVuY3Rpb24gZGVmYXVsdE1lcmdlUHJvcHM8XG4gIFRTdGF0ZVByb3BzLFxuICBURGlzcGF0Y2hQcm9wcyxcbiAgVE93blByb3BzLFxuICBUTWVyZ2VkUHJvcHMsXG4+KFxuICBzdGF0ZVByb3BzOiBUU3RhdGVQcm9wcyxcbiAgZGlzcGF0Y2hQcm9wczogVERpc3BhdGNoUHJvcHMsXG4gIG93blByb3BzOiBUT3duUHJvcHMsXG4pOiBUTWVyZ2VkUHJvcHMge1xuICAvLyBAdHMtaWdub3JlXG4gIHJldHVybiB7IC4uLm93blByb3BzLCAuLi5zdGF0ZVByb3BzLCAuLi5kaXNwYXRjaFByb3BzIH1cbn1cblxuZnVuY3Rpb24gd3JhcE1lcmdlUHJvcHNGdW5jPFxuICBUU3RhdGVQcm9wcyxcbiAgVERpc3BhdGNoUHJvcHMsXG4gIFRPd25Qcm9wcyxcbiAgVE1lcmdlZFByb3BzLFxuPihcbiAgbWVyZ2VQcm9wczogTWVyZ2VQcm9wczxUU3RhdGVQcm9wcywgVERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPixcbik6IChcbiAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgb3B0aW9uczoge1xuICAgIHJlYWRvbmx5IGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgICByZWFkb25seSBhcmVNZXJnZWRQcm9wc0VxdWFsOiBFcXVhbGl0eUZuPFRNZXJnZWRQcm9wcz5cbiAgfSxcbikgPT4gTWVyZ2VQcm9wczxUU3RhdGVQcm9wcywgVERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPiB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0TWVyZ2VQcm9wc1Byb3h5KFxuICAgIGRpc3BhdGNoLFxuICAgIHsgZGlzcGxheU5hbWUsIGFyZU1lcmdlZFByb3BzRXF1YWwgfSxcbiAgKSB7XG4gICAgbGV0IGhhc1J1bk9uY2UgPSBmYWxzZVxuICAgIGxldCBtZXJnZWRQcm9wczogVE1lcmdlZFByb3BzXG5cbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VQcm9wc1Byb3h5KFxuICAgICAgc3RhdGVQcm9wczogVFN0YXRlUHJvcHMsXG4gICAgICBkaXNwYXRjaFByb3BzOiBURGlzcGF0Y2hQcm9wcyxcbiAgICAgIG93blByb3BzOiBUT3duUHJvcHMsXG4gICAgKSB7XG4gICAgICBjb25zdCBuZXh0TWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKVxuXG4gICAgICBpZiAoaGFzUnVuT25jZSkge1xuICAgICAgICBpZiAoIWFyZU1lcmdlZFByb3BzRXF1YWwobmV4dE1lcmdlZFByb3BzLCBtZXJnZWRQcm9wcykpXG4gICAgICAgICAgbWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc1J1bk9uY2UgPSB0cnVlXG4gICAgICAgIG1lcmdlZFByb3BzID0gbmV4dE1lcmdlZFByb3BzXG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgdmVyaWZ5UGxhaW5PYmplY3QobWVyZ2VkUHJvcHMsIGRpc3BsYXlOYW1lLCAnbWVyZ2VQcm9wcycpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VQcm9wc0ZhY3Rvcnk8XG4gIFRTdGF0ZVByb3BzLFxuICBURGlzcGF0Y2hQcm9wcyxcbiAgVE93blByb3BzLFxuICBUTWVyZ2VkUHJvcHMsXG4+KFxuICBtZXJnZVByb3BzPzogTWVyZ2VQcm9wczxUU3RhdGVQcm9wcywgVERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPixcbikge1xuICByZXR1cm4gIW1lcmdlUHJvcHNcbiAgICA/ICgpID0+IGRlZmF1bHRNZXJnZVByb3BzXG4gICAgOiB0eXBlb2YgbWVyZ2VQcm9wcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyB3cmFwTWVyZ2VQcm9wc0Z1bmMobWVyZ2VQcm9wcylcbiAgICAgIDogY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkobWVyZ2VQcm9wcywgJ21lcmdlUHJvcHMnKVxufVxuIiwiLy8gRGVmYXVsdCB0byBhIGR1bW15IFwiYmF0Y2hcIiBpbXBsZW1lbnRhdGlvbiB0aGF0IGp1c3QgcnVucyB0aGUgY2FsbGJhY2tcclxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHROb29wQmF0Y2goY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcclxuICBjYWxsYmFjaygpXHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdE5vb3BCYXRjaCBhcyBiYXRjaCB9IGZyb20gJy4vYmF0Y2gnXG5cbi8vIGVuY2Fwc3VsYXRlcyB0aGUgc3Vic2NyaXB0aW9uIGxvZ2ljIGZvciBjb25uZWN0aW5nIGEgY29tcG9uZW50IHRvIHRoZSByZWR1eCBzdG9yZSwgYXNcbi8vIHdlbGwgYXMgbmVzdGluZyBzdWJzY3JpcHRpb25zIG9mIGRlc2NlbmRhbnQgY29tcG9uZW50cywgc28gdGhhdCB3ZSBjYW4gZW5zdXJlIHRoZVxuLy8gYW5jZXN0b3IgY29tcG9uZW50cyByZS1yZW5kZXIgYmVmb3JlIGRlc2NlbmRhbnRzXG5cbnR5cGUgVm9pZEZ1bmMgPSAoKSA9PiB2b2lkXG5cbnR5cGUgTGlzdGVuZXIgPSB7XG4gIGNhbGxiYWNrOiBWb2lkRnVuY1xuICBuZXh0OiBMaXN0ZW5lciB8IG51bGxcbiAgcHJldjogTGlzdGVuZXIgfCBudWxsXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbigpIHtcbiAgbGV0IGZpcnN0OiBMaXN0ZW5lciB8IG51bGwgPSBudWxsXG4gIGxldCBsYXN0OiBMaXN0ZW5lciB8IG51bGwgPSBudWxsXG5cbiAgcmV0dXJuIHtcbiAgICBjbGVhcigpIHtcbiAgICAgIGZpcnN0ID0gbnVsbFxuICAgICAgbGFzdCA9IG51bGxcbiAgICB9LFxuXG4gICAgbm90aWZ5KCkge1xuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICBsZXQgbGlzdGVuZXIgPSBmaXJzdFxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICBsaXN0ZW5lci5jYWxsYmFjaygpXG4gICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGdldCgpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyczogTGlzdGVuZXJbXSA9IFtdXG4gICAgICBsZXQgbGlzdGVuZXIgPSBmaXJzdFxuICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKVxuICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHRcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaXN0ZW5lcnNcbiAgICB9LFxuXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgICBsZXQgaXNTdWJzY3JpYmVkID0gdHJ1ZVxuXG4gICAgICBjb25zdCBsaXN0ZW5lcjogTGlzdGVuZXIgPSAobGFzdCA9IHtcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgIHByZXY6IGxhc3QsXG4gICAgICB9KVxuXG4gICAgICBpZiAobGlzdGVuZXIucHJldikge1xuICAgICAgICBsaXN0ZW5lci5wcmV2Lm5leHQgPSBsaXN0ZW5lclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlyc3QgPSBsaXN0ZW5lclxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghaXNTdWJzY3JpYmVkIHx8IGZpcnN0ID09PSBudWxsKSByZXR1cm5cbiAgICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2VcblxuICAgICAgICBpZiAobGlzdGVuZXIubmV4dCkge1xuICAgICAgICAgIGxpc3RlbmVyLm5leHQucHJldiA9IGxpc3RlbmVyLnByZXZcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0ID0gbGlzdGVuZXIucHJldlxuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lci5wcmV2KSB7XG4gICAgICAgICAgbGlzdGVuZXIucHJldi5uZXh0ID0gbGlzdGVuZXIubmV4dFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpcnN0ID0gbGlzdGVuZXIubmV4dFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfVxufVxuXG50eXBlIExpc3RlbmVyQ29sbGVjdGlvbiA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbj5cblxuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpcHRpb24ge1xuICBhZGROZXN0ZWRTdWI6IChsaXN0ZW5lcjogVm9pZEZ1bmMpID0+IFZvaWRGdW5jXG4gIG5vdGlmeU5lc3RlZFN1YnM6IFZvaWRGdW5jXG4gIGhhbmRsZUNoYW5nZVdyYXBwZXI6IFZvaWRGdW5jXG4gIGlzU3Vic2NyaWJlZDogKCkgPT4gYm9vbGVhblxuICBvblN0YXRlQ2hhbmdlPzogVm9pZEZ1bmMgfCBudWxsXG4gIHRyeVN1YnNjcmliZTogVm9pZEZ1bmNcbiAgdHJ5VW5zdWJzY3JpYmU6IFZvaWRGdW5jXG4gIGdldExpc3RlbmVyczogKCkgPT4gTGlzdGVuZXJDb2xsZWN0aW9uXG59XG5cbmNvbnN0IG51bGxMaXN0ZW5lcnMgPSB7XG4gIG5vdGlmeSgpIHt9LFxuICBnZXQ6ICgpID0+IFtdLFxufSBhcyB1bmtub3duIGFzIExpc3RlbmVyQ29sbGVjdGlvblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3Vic2NyaXB0aW9uKHN0b3JlOiBhbnksIHBhcmVudFN1Yj86IFN1YnNjcmlwdGlvbikge1xuICBsZXQgdW5zdWJzY3JpYmU6IFZvaWRGdW5jIHwgdW5kZWZpbmVkXG4gIGxldCBsaXN0ZW5lcnM6IExpc3RlbmVyQ29sbGVjdGlvbiA9IG51bGxMaXN0ZW5lcnNcblxuICAvLyBSZWFzb25zIHRvIGtlZXAgdGhlIHN1YnNjcmlwdGlvbiBhY3RpdmVcbiAgbGV0IHN1YnNjcmlwdGlvbnNBbW91bnQgPSAwXG5cbiAgLy8gSXMgdGhpcyBzcGVjaWZpYyBzdWJzY3JpcHRpb24gc3Vic2NyaWJlZCAob3Igb25seSBuZXN0ZWQgb25lcz8pXG4gIGxldCBzZWxmU3Vic2NyaWJlZCA9IGZhbHNlXG5cbiAgZnVuY3Rpb24gYWRkTmVzdGVkU3ViKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSB7XG4gICAgdHJ5U3Vic2NyaWJlKClcblxuICAgIGNvbnN0IGNsZWFudXBMaXN0ZW5lciA9IGxpc3RlbmVycy5zdWJzY3JpYmUobGlzdGVuZXIpXG5cbiAgICAvLyBjbGVhbnVwIG5lc3RlZCBzdWJcbiAgICBsZXQgcmVtb3ZlZCA9IGZhbHNlXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICghcmVtb3ZlZCkge1xuICAgICAgICByZW1vdmVkID0gdHJ1ZVxuICAgICAgICBjbGVhbnVwTGlzdGVuZXIoKVxuICAgICAgICB0cnlVbnN1YnNjcmliZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5TmVzdGVkU3VicygpIHtcbiAgICBsaXN0ZW5lcnMubm90aWZ5KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZVdyYXBwZXIoKSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlKSB7XG4gICAgICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSgpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNTdWJzY3JpYmVkKCkge1xuICAgIHJldHVybiBzZWxmU3Vic2NyaWJlZFxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5U3Vic2NyaWJlKCkge1xuICAgIHN1YnNjcmlwdGlvbnNBbW91bnQrK1xuICAgIGlmICghdW5zdWJzY3JpYmUpIHtcbiAgICAgIHVuc3Vic2NyaWJlID0gcGFyZW50U3ViXG4gICAgICAgID8gcGFyZW50U3ViLmFkZE5lc3RlZFN1YihoYW5kbGVDaGFuZ2VXcmFwcGVyKVxuICAgICAgICA6IHN0b3JlLnN1YnNjcmliZShoYW5kbGVDaGFuZ2VXcmFwcGVyKVxuXG4gICAgICBsaXN0ZW5lcnMgPSBjcmVhdGVMaXN0ZW5lckNvbGxlY3Rpb24oKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuICAgIHN1YnNjcmlwdGlvbnNBbW91bnQtLVxuICAgIGlmICh1bnN1YnNjcmliZSAmJiBzdWJzY3JpcHRpb25zQW1vdW50ID09PSAwKSB7XG4gICAgICB1bnN1YnNjcmliZSgpXG4gICAgICB1bnN1YnNjcmliZSA9IHVuZGVmaW5lZFxuICAgICAgbGlzdGVuZXJzLmNsZWFyKClcbiAgICAgIGxpc3RlbmVycyA9IG51bGxMaXN0ZW5lcnNcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlTdWJzY3JpYmVTZWxmKCkge1xuICAgIGlmICghc2VsZlN1YnNjcmliZWQpIHtcbiAgICAgIHNlbGZTdWJzY3JpYmVkID0gdHJ1ZVxuICAgICAgdHJ5U3Vic2NyaWJlKClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlVbnN1YnNjcmliZVNlbGYoKSB7XG4gICAgaWYgKHNlbGZTdWJzY3JpYmVkKSB7XG4gICAgICBzZWxmU3Vic2NyaWJlZCA9IGZhbHNlXG4gICAgICB0cnlVbnN1YnNjcmliZSgpXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24gPSB7XG4gICAgYWRkTmVzdGVkU3ViLFxuICAgIG5vdGlmeU5lc3RlZFN1YnMsXG4gICAgaGFuZGxlQ2hhbmdlV3JhcHBlcixcbiAgICBpc1N1YnNjcmliZWQsXG4gICAgdHJ5U3Vic2NyaWJlOiB0cnlTdWJzY3JpYmVTZWxmLFxuICAgIHRyeVVuc3Vic2NyaWJlOiB0cnlVbnN1YnNjcmliZVNlbGYsXG4gICAgZ2V0TGlzdGVuZXJzOiAoKSA9PiBsaXN0ZW5lcnMsXG4gIH1cblxuICByZXR1cm4gc3Vic2NyaXB0aW9uXG59XG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJy4uL3V0aWxzL3JlYWN0J1xuXG4vLyBSZWFjdCBjdXJyZW50bHkgdGhyb3dzIGEgd2FybmluZyB3aGVuIHVzaW5nIHVzZUxheW91dEVmZmVjdCBvbiB0aGUgc2VydmVyLlxuLy8gVG8gZ2V0IGFyb3VuZCBpdCwgd2UgY2FuIGNvbmRpdGlvbmFsbHkgdXNlRWZmZWN0IG9uIHRoZSBzZXJ2ZXIgKG5vLW9wKSBhbmRcbi8vIHVzZUxheW91dEVmZmVjdCBpbiB0aGUgYnJvd3Nlci4gV2UgbmVlZCB1c2VMYXlvdXRFZmZlY3QgdG8gZW5zdXJlIHRoZSBzdG9yZVxuLy8gc3Vic2NyaXB0aW9uIGNhbGxiYWNrIGFsd2F5cyBoYXMgdGhlIHNlbGVjdG9yIGZyb20gdGhlIGxhdGVzdCByZW5kZXIgY29tbWl0XG4vLyBhdmFpbGFibGUsIG90aGVyd2lzZSBhIHN0b3JlIHVwZGF0ZSBtYXkgaGFwcGVuIGJldHdlZW4gcmVuZGVyIGFuZCB0aGUgZWZmZWN0LFxuLy8gd2hpY2ggbWF5IGNhdXNlIG1pc3NlZCB1cGRhdGVzOyB3ZSBhbHNvIG11c3QgZW5zdXJlIHRoZSBzdG9yZSBzdWJzY3JpcHRpb25cbi8vIGlzIGNyZWF0ZWQgc3luY2hyb25vdXNseSwgb3RoZXJ3aXNlIGEgc3RvcmUgdXBkYXRlIG1heSBvY2N1ciBiZWZvcmUgdGhlXG4vLyBzdWJzY3JpcHRpb24gaXMgY3JlYXRlZCBhbmQgYW4gaW5jb25zaXN0ZW50IHN0YXRlIG1heSBiZSBvYnNlcnZlZFxuXG4vLyBNYXRjaGVzIGxvZ2ljIGluIFJlYWN0J3MgYHNoYXJlZC9FeGVjdXRpb25FbnZpcm9ubWVudGAgZmlsZVxuY29uc3QgY2FuVXNlRE9NID0gKCkgPT5cbiAgISEoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKVxuXG5jb25zdCBpc0RPTSA9IC8qIEBfX1BVUkVfXyAqLyBjYW5Vc2VET00oKVxuXG4vLyBVbmRlciBSZWFjdCBOYXRpdmUsIHdlIGtub3cgdGhhdCB3ZSBhbHdheXMgd2FudCB0byB1c2UgdXNlTGF5b3V0RWZmZWN0XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBjb2RlIGlzIHJ1bm5pbmcgaW4gYSBSZWFjdCBOYXRpdmUgZW52aXJvbm1lbnQuXG4gKlxuICogQHJldHVybnMgV2hldGhlciB0aGUgY29kZSBpcyBydW5uaW5nIGluIGEgUmVhY3QgTmF0aXZlIGVudmlyb25tZW50LlxuICpcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvaXNzdWVzLzEzMzEgUmVmZXJlbmNlfVxuICovXG5jb25zdCBpc1J1bm5pbmdJblJlYWN0TmF0aXZlID0gKCkgPT5cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZSdcblxuY29uc3QgaXNSZWFjdE5hdGl2ZSA9IC8qIEBfX1BVUkVfXyAqLyBpc1J1bm5pbmdJblJlYWN0TmF0aXZlKClcblxuY29uc3QgZ2V0VXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9ICgpID0+XG4gIGlzRE9NIHx8IGlzUmVhY3ROYXRpdmUgPyBSZWFjdC51c2VMYXlvdXRFZmZlY3QgOiBSZWFjdC51c2VFZmZlY3RcblxuZXhwb3J0IGNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPVxuICAvKiBAX19QVVJFX18gKi8gZ2V0VXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgpXG4iLCJmdW5jdGlvbiBpcyh4OiB1bmtub3duLCB5OiB1bmtub3duKSB7XHJcbiAgaWYgKHggPT09IHkpIHtcclxuICAgIHJldHVybiB4ICE9PSAwIHx8IHkgIT09IDAgfHwgMSAvIHggPT09IDEgLyB5XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBOiBhbnksIG9iakI6IGFueSkge1xyXG4gIGlmIChpcyhvYmpBLCBvYmpCKSkgcmV0dXJuIHRydWVcclxuXHJcbiAgaWYgKFxyXG4gICAgdHlwZW9mIG9iakEgIT09ICdvYmplY3QnIHx8XHJcbiAgICBvYmpBID09PSBudWxsIHx8XHJcbiAgICB0eXBlb2Ygb2JqQiAhPT0gJ29iamVjdCcgfHxcclxuICAgIG9iakIgPT09IG51bGxcclxuICApIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKVxyXG4gIGNvbnN0IGtleXNCID0gT2JqZWN0LmtleXMob2JqQilcclxuXHJcbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSByZXR1cm4gZmFsc2VcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKFxyXG4gICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iakIsIGtleXNBW2ldKSB8fFxyXG4gICAgICAhaXMob2JqQVtrZXlzQVtpXV0sIG9iakJba2V5c0FbaV1dKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWVcclxufVxyXG4iLCIvLyBDb3BpZWQgZGlyZWN0bHkgZnJvbTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmlkZ3dheS9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9ibG9iL21haW4vc3JjL2luZGV4LmpzXG4vLyBodHRwczovL3VucGtnLmNvbS9icm93c2UvQHR5cGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzQDMuMy42L2luZGV4LmQudHNcblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xuaW1wb3J0IHR5cGUgeyBGb3J3YXJkUmVmRXhvdGljQ29tcG9uZW50LCBNZW1vRXhvdGljQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBGb3J3YXJkUmVmLCBNZW1vLCBpc01lbW8gfSBmcm9tICcuLi91dGlscy9yZWFjdC1pcydcblxuY29uc3QgUkVBQ1RfU1RBVElDUyA9IHtcbiAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gIGNvbnRleHRUeXBlOiB0cnVlLFxuICBjb250ZXh0VHlwZXM6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IHRydWUsXG4gIG1peGluczogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlLFxufSBhcyBjb25zdFxuXG5jb25zdCBLTk9XTl9TVEFUSUNTID0ge1xuICBuYW1lOiB0cnVlLFxuICBsZW5ndGg6IHRydWUsXG4gIHByb3RvdHlwZTogdHJ1ZSxcbiAgY2FsbGVyOiB0cnVlLFxuICBjYWxsZWU6IHRydWUsXG4gIGFyZ3VtZW50czogdHJ1ZSxcbiAgYXJpdHk6IHRydWUsXG59IGFzIGNvbnN0XG5cbmNvbnN0IEZPUldBUkRfUkVGX1NUQVRJQ1MgPSB7XG4gICQkdHlwZW9mOiB0cnVlLFxuICByZW5kZXI6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbn0gYXMgY29uc3RcblxuY29uc3QgTUVNT19TVEFUSUNTID0ge1xuICAkJHR5cGVvZjogdHJ1ZSxcbiAgY29tcGFyZTogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlLFxufSBhcyBjb25zdFxuXG5jb25zdCBUWVBFX1NUQVRJQ1MgPSB7XG4gIFtGb3J3YXJkUmVmXTogRk9SV0FSRF9SRUZfU1RBVElDUyxcbiAgW01lbW9dOiBNRU1PX1NUQVRJQ1MsXG59IGFzIGNvbnN0XG5cbmZ1bmN0aW9uIGdldFN0YXRpY3MoY29tcG9uZW50OiBhbnkpIHtcbiAgLy8gUmVhY3QgdjE2LjExIGFuZCBiZWxvd1xuICBpZiAoaXNNZW1vKGNvbXBvbmVudCkpIHtcbiAgICByZXR1cm4gTUVNT19TVEFUSUNTXG4gIH1cblxuICAvLyBSZWFjdCB2MTYuMTIgYW5kIGFib3ZlXG4gIHJldHVybiBUWVBFX1NUQVRJQ1NbY29tcG9uZW50WyckJHR5cGVvZiddXSB8fCBSRUFDVF9TVEFUSUNTXG59XG5cbmV4cG9ydCB0eXBlIE5vblJlYWN0U3RhdGljczxcbiAgU291cmNlLFxuICBDIGV4dGVuZHMge1xuICAgIFtrZXk6IHN0cmluZ106IHRydWVcbiAgfSA9IHt9LFxuPiA9IHtcbiAgW2tleSBpbiBFeGNsdWRlPFxuICAgIGtleW9mIFNvdXJjZSxcbiAgICBTb3VyY2UgZXh0ZW5kcyBNZW1vRXhvdGljQ29tcG9uZW50PGFueT5cbiAgICAgID8ga2V5b2YgdHlwZW9mIE1FTU9fU1RBVElDUyB8IGtleW9mIENcbiAgICAgIDogU291cmNlIGV4dGVuZHMgRm9yd2FyZFJlZkV4b3RpY0NvbXBvbmVudDxhbnk+XG4gICAgICAgID8ga2V5b2YgdHlwZW9mIEZPUldBUkRfUkVGX1NUQVRJQ1MgfCBrZXlvZiBDXG4gICAgICAgIDoga2V5b2YgdHlwZW9mIFJFQUNUX1NUQVRJQ1MgfCBrZXlvZiB0eXBlb2YgS05PV05fU1RBVElDUyB8IGtleW9mIENcbiAgPl06IFNvdXJjZVtrZXldXG59XG5cbmNvbnN0IGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5XG5jb25zdCBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbmNvbnN0IGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbmNvbnN0IGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcbmNvbnN0IGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mXG5jb25zdCBvYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzPFxuICBUYXJnZXQsXG4gIFNvdXJjZSxcbiAgQ3VzdG9tU3RhdGljIGV4dGVuZHMge1xuICAgIFtrZXk6IHN0cmluZ106IHRydWVcbiAgfSA9IHt9LFxuPihcbiAgdGFyZ2V0Q29tcG9uZW50OiBUYXJnZXQsXG4gIHNvdXJjZUNvbXBvbmVudDogU291cmNlLFxuKTogVGFyZ2V0ICYgTm9uUmVhY3RTdGF0aWNzPFNvdXJjZSwgQ3VzdG9tU3RhdGljPiB7XG4gIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cbiAgICBpZiAob2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICBjb25zdCBpbmhlcml0ZWRDb21wb25lbnQgPSBnZXRQcm90b3R5cGVPZihzb3VyY2VDb21wb25lbnQpXG4gICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50KVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBrZXlzOiAoc3RyaW5nIHwgc3ltYm9sKVtdID0gZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpXG5cbiAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpXG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0U3RhdGljcyA9IGdldFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50KVxuICAgIGNvbnN0IHNvdXJjZVN0YXRpY3MgPSBnZXRTdGF0aWNzKHNvdXJjZUNvbXBvbmVudClcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXVxuICAgICAgaWYgKFxuICAgICAgICAhS05PV05fU1RBVElDU1trZXkgYXMga2V5b2YgdHlwZW9mIEtOT1dOX1NUQVRJQ1NdICYmXG4gICAgICAgICEoc291cmNlU3RhdGljcyAmJiBzb3VyY2VTdGF0aWNzW2tleSBhcyBrZXlvZiB0eXBlb2Ygc291cmNlU3RhdGljc10pICYmXG4gICAgICAgICEodGFyZ2V0U3RhdGljcyAmJiB0YXJnZXRTdGF0aWNzW2tleSBhcyBrZXlvZiB0eXBlb2YgdGFyZ2V0U3RhdGljc10pXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2VDb21wb25lbnQsIGtleSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBdm9pZCBmYWlsdXJlcyBmcm9tIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0Q29tcG9uZW50LCBrZXksIGRlc2NyaXB0b3IhKVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50IGFzIGFueVxufVxuIiwiaW1wb3J0IHR5cGUgeyBDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBSZWFjdCB9IGZyb20gJy4uL3V0aWxzL3JlYWN0J1xuaW1wb3J0IHR5cGUgeyBBY3Rpb24sIFN0b3JlLCBVbmtub3duQWN0aW9uIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgdHlwZSB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbidcbmltcG9ydCB0eXBlIHsgUHJvdmlkZXJQcm9wcyB9IGZyb20gJy4vUHJvdmlkZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3RSZWR1eENvbnRleHRWYWx1ZTxcbiAgU1MgPSBhbnksXG4gIEEgZXh0ZW5kcyBBY3Rpb248c3RyaW5nPiA9IFVua25vd25BY3Rpb24sXG4+IGV4dGVuZHMgUGljazxQcm92aWRlclByb3BzLCAnc3RhYmlsaXR5Q2hlY2snIHwgJ2lkZW50aXR5RnVuY3Rpb25DaGVjayc+IHtcbiAgc3RvcmU6IFN0b3JlPFNTLCBBPlxuICBzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvblxuICBnZXRTZXJ2ZXJTdGF0ZT86ICgpID0+IFNTXG59XG5cbmNvbnN0IENvbnRleHRLZXkgPSAvKiBAX19QVVJFX18gKi8gU3ltYm9sLmZvcihgcmVhY3QtcmVkdXgtY29udGV4dGApXG5jb25zdCBnVDoge1xuICBbQ29udGV4dEtleV0/OiBNYXA8XG4gICAgdHlwZW9mIFJlYWN0LmNyZWF0ZUNvbnRleHQsXG4gICAgQ29udGV4dDxSZWFjdFJlZHV4Q29udGV4dFZhbHVlIHwgbnVsbD5cbiAgPlxufSA9IChcbiAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxUaGlzXG4gICAgOiAvKiBmYWxsIGJhY2sgdG8gYSBwZXItbW9kdWxlIHNjb3BlIChwcmUtOC4xIGJlaGF2aW91cikgaWYgYGdsb2JhbFRoaXNgIGlzIG5vdCBhdmFpbGFibGUgKi8ge31cbikgYXMgYW55XG5cbmZ1bmN0aW9uIGdldENvbnRleHQoKTogQ29udGV4dDxSZWFjdFJlZHV4Q29udGV4dFZhbHVlIHwgbnVsbD4ge1xuICBpZiAoIVJlYWN0LmNyZWF0ZUNvbnRleHQpIHJldHVybiB7fSBhcyBhbnlcblxuICBjb25zdCBjb250ZXh0TWFwID0gKGdUW0NvbnRleHRLZXldID8/PSBuZXcgTWFwPFxuICAgIHR5cGVvZiBSZWFjdC5jcmVhdGVDb250ZXh0LFxuICAgIENvbnRleHQ8UmVhY3RSZWR1eENvbnRleHRWYWx1ZSB8IG51bGw+XG4gID4oKSlcbiAgbGV0IHJlYWxDb250ZXh0ID0gY29udGV4dE1hcC5nZXQoUmVhY3QuY3JlYXRlQ29udGV4dClcbiAgaWYgKCFyZWFsQ29udGV4dCkge1xuICAgIHJlYWxDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxSZWFjdFJlZHV4Q29udGV4dFZhbHVlIHwgbnVsbD4oXG4gICAgICBudWxsIGFzIGFueSxcbiAgICApXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJlYWxDb250ZXh0LmRpc3BsYXlOYW1lID0gJ1JlYWN0UmVkdXgnXG4gICAgfVxuICAgIGNvbnRleHRNYXAuc2V0KFJlYWN0LmNyZWF0ZUNvbnRleHQsIHJlYWxDb250ZXh0KVxuICB9XG4gIHJldHVybiByZWFsQ29udGV4dFxufVxuXG5leHBvcnQgY29uc3QgUmVhY3RSZWR1eENvbnRleHQgPSAvKiNfX1BVUkVfXyovIGdldENvbnRleHQoKVxuXG5leHBvcnQgdHlwZSBSZWFjdFJlZHV4Q29udGV4dEluc3RhbmNlID0gdHlwZW9mIFJlYWN0UmVkdXhDb250ZXh0XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYywgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudFR5cGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJlYWN0IH0gZnJvbSAnLi4vdXRpbHMvcmVhY3QnXG5pbXBvcnQgeyBpc1ZhbGlkRWxlbWVudFR5cGUsIGlzQ29udGV4dENvbnN1bWVyIH0gZnJvbSAnLi4vdXRpbHMvcmVhY3QtaXMnXG5cbmltcG9ydCB0eXBlIHsgU3RvcmUgfSBmcm9tICdyZWR1eCdcblxuaW1wb3J0IHR5cGUge1xuICBDb25uZWN0ZWRDb21wb25lbnQsXG4gIEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyLFxuICBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wcyxcbiAgUmVzb2x2ZVRodW5rcyxcbiAgRGlzcGF0Y2hQcm9wLFxuICBDb25uZWN0UHJvcHNNYXliZVdpdGhvdXRDb250ZXh0LFxufSBmcm9tICcuLi90eXBlcydcblxuaW1wb3J0IHR5cGUge1xuICBNYXBTdGF0ZVRvUHJvcHNQYXJhbSxcbiAgTWFwRGlzcGF0Y2hUb1Byb3BzUGFyYW0sXG4gIE1lcmdlUHJvcHMsXG4gIE1hcERpc3BhdGNoVG9Qcm9wc05vbk9iamVjdCxcbiAgU2VsZWN0b3JGYWN0b3J5T3B0aW9ucyxcbn0gZnJvbSAnLi4vY29ubmVjdC9zZWxlY3RvckZhY3RvcnknXG5pbXBvcnQgZGVmYXVsdFNlbGVjdG9yRmFjdG9yeSBmcm9tICcuLi9jb25uZWN0L3NlbGVjdG9yRmFjdG9yeSdcbmltcG9ydCB7IG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcnkgfSBmcm9tICcuLi9jb25uZWN0L21hcERpc3BhdGNoVG9Qcm9wcydcbmltcG9ydCB7IG1hcFN0YXRlVG9Qcm9wc0ZhY3RvcnkgfSBmcm9tICcuLi9jb25uZWN0L21hcFN0YXRlVG9Qcm9wcydcbmltcG9ydCB7IG1lcmdlUHJvcHNGYWN0b3J5IH0gZnJvbSAnLi4vY29ubmVjdC9tZXJnZVByb3BzJ1xuXG5pbXBvcnQgdHlwZSB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbidcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbidcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0J1xuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICcuLi91dGlscy9zaGFsbG93RXF1YWwnXG5pbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gJy4uL3V0aWxzL2hvaXN0U3RhdGljcydcbmltcG9ydCB3YXJuaW5nIGZyb20gJy4uL3V0aWxzL3dhcm5pbmcnXG5cbmltcG9ydCB0eXBlIHtcbiAgUmVhY3RSZWR1eENvbnRleHRWYWx1ZSxcbiAgUmVhY3RSZWR1eENvbnRleHRJbnN0YW5jZSxcbn0gZnJvbSAnLi9Db250ZXh0J1xuaW1wb3J0IHsgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICcuL0NvbnRleHQnXG5cbi8vIERlZmluZSBzb21lIGNvbnN0YW50IGFycmF5cyBqdXN0IHRvIGF2b2lkIHJlLWNyZWF0aW5nIHRoZXNlXG5jb25zdCBFTVBUWV9BUlJBWTogW3Vua25vd24sIG51bWJlcl0gPSBbbnVsbCwgMF1cbmNvbnN0IE5PX1NVQlNDUklQVElPTl9BUlJBWSA9IFtudWxsLCBudWxsXVxuXG4vLyBBdHRlbXB0cyB0byBzdHJpbmdpZnkgd2hhdGV2ZXIgbm90LXJlYWxseS1hLWNvbXBvbmVudCB2YWx1ZSB3ZSB3ZXJlIGdpdmVuXG4vLyBmb3IgbG9nZ2luZyBpbiBhbiBlcnJvciBtZXNzYWdlXG5jb25zdCBzdHJpbmdpZnlDb21wb25lbnQgPSAoQ29tcDogdW5rbm93bikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShDb21wKVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gU3RyaW5nKENvbXApXG4gIH1cbn1cblxudHlwZSBFZmZlY3RGdW5jID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkIHwgUmV0dXJuVHlwZTxSZWFjdC5FZmZlY3RDYWxsYmFjaz5cblxuLy8gVGhpcyBpcyBcImp1c3RcIiBhIGB1c2VMYXlvdXRFZmZlY3RgLCBidXQgd2l0aCB0d28gbW9kaWZpY2F0aW9uczpcbi8vIC0gd2UgbmVlZCB0byBmYWxsIGJhY2sgdG8gYHVzZUVmZmVjdGAgaW4gU1NSIHRvIGF2b2lkIGFubm95aW5nIHdhcm5pbmdzXG4vLyAtIHdlIGV4dHJhY3QgdGhpcyB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHRvIGF2b2lkIGNsb3Npbmcgb3ZlciB2YWx1ZXNcbi8vICAgYW5kIGNhdXNpbmcgbWVtb3J5IGxlYWtzXG5mdW5jdGlvbiB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0V2l0aEFyZ3MoXG4gIGVmZmVjdEZ1bmM6IEVmZmVjdEZ1bmMsXG4gIGVmZmVjdEFyZ3M6IGFueVtdLFxuICBkZXBlbmRlbmNpZXM/OiBSZWFjdC5EZXBlbmRlbmN5TGlzdCxcbikge1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IGVmZmVjdEZ1bmMoLi4uZWZmZWN0QXJncyksIGRlcGVuZGVuY2llcylcbn1cblxuLy8gRWZmZWN0IGNhbGxiYWNrLCBleHRyYWN0ZWQ6IGFzc2lnbiB0aGUgbGF0ZXN0IHByb3BzIHZhbHVlcyB0byByZWZzIGZvciBsYXRlciB1c2FnZVxuZnVuY3Rpb24gY2FwdHVyZVdyYXBwZXJQcm9wcyhcbiAgbGFzdFdyYXBwZXJQcm9wczogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDx1bmtub3duPixcbiAgbGFzdENoaWxkUHJvcHM6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8dW5rbm93bj4sXG4gIHJlbmRlcklzU2NoZWR1bGVkOiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PGJvb2xlYW4+LFxuICB3cmFwcGVyUHJvcHM6IHVua25vd24sXG4gIC8vIGFjdHVhbENoaWxkUHJvcHM6IHVua25vd24sXG4gIGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGU6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8dW5rbm93bj4sXG4gIG5vdGlmeU5lc3RlZFN1YnM6ICgpID0+IHZvaWQsXG4pIHtcbiAgLy8gV2Ugd2FudCB0byBjYXB0dXJlIHRoZSB3cmFwcGVyIHByb3BzIGFuZCBjaGlsZCBwcm9wcyB3ZSB1c2VkIGZvciBsYXRlciBjb21wYXJpc29uc1xuICBsYXN0V3JhcHBlclByb3BzLmN1cnJlbnQgPSB3cmFwcGVyUHJvcHNcbiAgcmVuZGVySXNTY2hlZHVsZWQuY3VycmVudCA9IGZhbHNlXG5cbiAgLy8gSWYgdGhlIHJlbmRlciB3YXMgZnJvbSBhIHN0b3JlIHVwZGF0ZSwgY2xlYXIgb3V0IHRoYXQgcmVmZXJlbmNlIGFuZCBjYXNjYWRlIHRoZSBzdWJzY3JpYmVyIHVwZGF0ZVxuICBpZiAoY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZS5jdXJyZW50KSB7XG4gICAgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZS5jdXJyZW50ID0gbnVsbFxuICAgIG5vdGlmeU5lc3RlZFN1YnMoKVxuICB9XG59XG5cbi8vIEVmZmVjdCBjYWxsYmFjaywgZXh0cmFjdGVkOiBzdWJzY3JpYmUgdG8gdGhlIFJlZHV4IHN0b3JlIG9yIG5lYXJlc3QgY29ubmVjdGVkIGFuY2VzdG9yLFxuLy8gY2hlY2sgZm9yIHVwZGF0ZXMgYWZ0ZXIgZGlzcGF0Y2hlZCBhY3Rpb25zLCBhbmQgdHJpZ2dlciByZS1yZW5kZXJzLlxuZnVuY3Rpb24gc3Vic2NyaWJlVXBkYXRlcyhcbiAgc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzOiBib29sZWFuLFxuICBzdG9yZTogU3RvcmUsXG4gIHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uLFxuICBjaGlsZFByb3BzU2VsZWN0b3I6IChzdGF0ZTogdW5rbm93biwgcHJvcHM6IHVua25vd24pID0+IHVua25vd24sXG4gIGxhc3RXcmFwcGVyUHJvcHM6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8dW5rbm93bj4sXG4gIGxhc3RDaGlsZFByb3BzOiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PHVua25vd24+LFxuICByZW5kZXJJc1NjaGVkdWxlZDogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxib29sZWFuPixcbiAgaXNNb3VudGVkOiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PGJvb2xlYW4+LFxuICBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlOiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PHVua25vd24+LFxuICBub3RpZnlOZXN0ZWRTdWJzOiAoKSA9PiB2b2lkLFxuICAvLyBmb3JjZUNvbXBvbmVudFVwZGF0ZURpc3BhdGNoOiBSZWFjdC5EaXNwYXRjaDxhbnk+LFxuICBhZGRpdGlvbmFsU3Vic2NyaWJlTGlzdGVuZXI6ICgpID0+IHZvaWQsXG4pIHtcbiAgLy8gSWYgd2UncmUgbm90IHN1YnNjcmliZWQgdG8gdGhlIHN0b3JlLCBub3RoaW5nIHRvIGRvIGhlcmVcbiAgaWYgKCFzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMpIHJldHVybiAoKSA9PiB7fVxuXG4gIC8vIENhcHR1cmUgdmFsdWVzIGZvciBjaGVja2luZyBpZiBhbmQgd2hlbiB0aGlzIGNvbXBvbmVudCB1bm1vdW50c1xuICBsZXQgZGlkVW5zdWJzY3JpYmUgPSBmYWxzZVxuICBsZXQgbGFzdFRocm93bkVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsXG5cbiAgLy8gV2UnbGwgcnVuIHRoaXMgY2FsbGJhY2sgZXZlcnkgdGltZSBhIHN0b3JlIHN1YnNjcmlwdGlvbiB1cGRhdGUgcHJvcGFnYXRlcyB0byB0aGlzIGNvbXBvbmVudFxuICBjb25zdCBjaGVja0ZvclVwZGF0ZXMgPSAoKSA9PiB7XG4gICAgaWYgKGRpZFVuc3Vic2NyaWJlIHx8ICFpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgLy8gRG9uJ3QgcnVuIHN0YWxlIGxpc3RlbmVycy5cbiAgICAgIC8vIFJlZHV4IGRvZXNuJ3QgZ3VhcmFudGVlIHVuc3Vic2NyaXB0aW9ucyBoYXBwZW4gdW50aWwgbmV4dCBkaXNwYXRjaC5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFRPRE8gV2UncmUgY3VycmVudGx5IGNhbGxpbmcgZ2V0U3RhdGUgb3Vyc2VsdmVzIGhlcmUsIHJhdGhlciB0aGFuIGxldHRpbmcgYHVTRVNgIGRvIGl0XG4gICAgY29uc3QgbGF0ZXN0U3RvcmVTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKClcblxuICAgIGxldCBuZXdDaGlsZFByb3BzLCBlcnJvclxuICAgIHRyeSB7XG4gICAgICAvLyBBY3R1YWxseSBydW4gdGhlIHNlbGVjdG9yIHdpdGggdGhlIG1vc3QgcmVjZW50IHN0b3JlIHN0YXRlIGFuZCB3cmFwcGVyIHByb3BzXG4gICAgICAvLyB0byBkZXRlcm1pbmUgd2hhdCB0aGUgY2hpbGQgcHJvcHMgc2hvdWxkIGJlXG4gICAgICBuZXdDaGlsZFByb3BzID0gY2hpbGRQcm9wc1NlbGVjdG9yKFxuICAgICAgICBsYXRlc3RTdG9yZVN0YXRlLFxuICAgICAgICBsYXN0V3JhcHBlclByb3BzLmN1cnJlbnQsXG4gICAgICApXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3IgPSBlXG4gICAgICBsYXN0VGhyb3duRXJyb3IgPSBlIGFzIEVycm9yIHwgbnVsbFxuICAgIH1cblxuICAgIGlmICghZXJyb3IpIHtcbiAgICAgIGxhc3RUaHJvd25FcnJvciA9IG51bGxcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgY2hpbGQgcHJvcHMgaGF2ZW4ndCBjaGFuZ2VkLCBub3RoaW5nIHRvIGRvIGhlcmUgLSBjYXNjYWRlIHRoZSBzdWJzY3JpcHRpb24gdXBkYXRlXG4gICAgaWYgKG5ld0NoaWxkUHJvcHMgPT09IGxhc3RDaGlsZFByb3BzLmN1cnJlbnQpIHtcbiAgICAgIGlmICghcmVuZGVySXNTY2hlZHVsZWQuY3VycmVudCkge1xuICAgICAgICBub3RpZnlOZXN0ZWRTdWJzKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2F2ZSByZWZlcmVuY2VzIHRvIHRoZSBuZXcgY2hpbGQgcHJvcHMuICBOb3RlIHRoYXQgd2UgdHJhY2sgdGhlIFwiY2hpbGQgcHJvcHMgZnJvbSBzdG9yZSB1cGRhdGVcIlxuICAgICAgLy8gYXMgYSByZWYgaW5zdGVhZCBvZiBhIHVzZVN0YXRlL3VzZVJlZHVjZXIgYmVjYXVzZSB3ZSBuZWVkIGEgd2F5IHRvIGRldGVybWluZSBpZiB0aGF0IHZhbHVlIGhhc1xuICAgICAgLy8gYmVlbiBwcm9jZXNzZWQuICBJZiB0aGlzIHdlbnQgaW50byB1c2VTdGF0ZS91c2VSZWR1Y2VyLCB3ZSBjb3VsZG4ndCBjbGVhciBvdXQgdGhlIHZhbHVlIHdpdGhvdXRcbiAgICAgIC8vIGZvcmNpbmcgYW5vdGhlciByZS1yZW5kZXIsIHdoaWNoIHdlIGRvbid0IHdhbnQuXG4gICAgICBsYXN0Q2hpbGRQcm9wcy5jdXJyZW50ID0gbmV3Q2hpbGRQcm9wc1xuICAgICAgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZS5jdXJyZW50ID0gbmV3Q2hpbGRQcm9wc1xuICAgICAgcmVuZGVySXNTY2hlZHVsZWQuY3VycmVudCA9IHRydWVcblxuICAgICAgLy8gVE9ETyBUaGlzIGlzIGhhY2t5IGFuZCBub3QgaG93IGB1U0VTYCBpcyBtZWFudCB0byBiZSB1c2VkXG4gICAgICAvLyBUcmlnZ2VyIHRoZSBSZWFjdCBgdXNlU3luY0V4dGVybmFsU3RvcmVgIHN1YnNjcmliZXJcbiAgICAgIGFkZGl0aW9uYWxTdWJzY3JpYmVMaXN0ZW5lcigpXG4gICAgfVxuICB9XG5cbiAgLy8gQWN0dWFsbHkgc3Vic2NyaWJlIHRvIHRoZSBuZWFyZXN0IGNvbm5lY3RlZCBhbmNlc3RvciAob3Igc3RvcmUpXG4gIHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlID0gY2hlY2tGb3JVcGRhdGVzXG4gIHN1YnNjcmlwdGlvbi50cnlTdWJzY3JpYmUoKVxuXG4gIC8vIFB1bGwgZGF0YSBmcm9tIHRoZSBzdG9yZSBhZnRlciBmaXJzdCByZW5kZXIgaW4gY2FzZSB0aGUgc3RvcmUgaGFzXG4gIC8vIGNoYW5nZWQgc2luY2Ugd2UgYmVnYW4uXG4gIGNoZWNrRm9yVXBkYXRlcygpXG5cbiAgY29uc3QgdW5zdWJzY3JpYmVXcmFwcGVyID0gKCkgPT4ge1xuICAgIGRpZFVuc3Vic2NyaWJlID0gdHJ1ZVxuICAgIHN1YnNjcmlwdGlvbi50cnlVbnN1YnNjcmliZSgpXG4gICAgc3Vic2NyaXB0aW9uLm9uU3RhdGVDaGFuZ2UgPSBudWxsXG5cbiAgICBpZiAobGFzdFRocm93bkVycm9yKSB7XG4gICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2UgY2F1Z2h0IGFuIGVycm9yIGR1ZSB0byBhIGJhZCBtYXBTdGF0ZSBmdW5jdGlvbiwgYnV0IHRoZVxuICAgICAgLy8gcGFyZW50IHJlLXJlbmRlcmVkIHdpdGhvdXQgdGhpcyBjb21wb25lbnQgYW5kIHdlJ3JlIGFib3V0IHRvIHVubW91bnQuXG4gICAgICAvLyBUaGlzIHNob3VsZG4ndCBoYXBwZW4gYXMgbG9uZyBhcyB3ZSBkbyB0b3AtZG93biBzdWJzY3JpcHRpb25zIGNvcnJlY3RseSwgYnV0XG4gICAgICAvLyBpZiB3ZSBldmVyIGRvIHRob3NlIHdyb25nLCB0aGlzIHRocm93IHdpbGwgc3VyZmFjZSB0aGUgZXJyb3IgaW4gb3VyIHRlc3RzLlxuICAgICAgLy8gSW4gdGhhdCBjYXNlLCB0aHJvdyB0aGUgZXJyb3IgZnJvbSBoZXJlIHNvIGl0IGRvZXNuJ3QgZ2V0IGxvc3QuXG4gICAgICB0aHJvdyBsYXN0VGhyb3duRXJyb3JcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5zdWJzY3JpYmVXcmFwcGVyXG59XG5cbi8vIFJlZHVjZXIgaW5pdGlhbCBzdGF0ZSBjcmVhdGlvbiBmb3Igb3VyIHVwZGF0ZSByZWR1Y2VyXG5jb25zdCBpbml0U3RhdGVVcGRhdGVzID0gKCkgPT4gRU1QVFlfQVJSQVlcblxuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0UHJvcHMge1xuICAvKiogQSBjdXN0b20gQ29udGV4dCBpbnN0YW5jZSB0aGF0IHRoZSBjb21wb25lbnQgY2FuIHVzZSB0byBhY2Nlc3MgdGhlIHN0b3JlIGZyb20gYW4gYWx0ZXJuYXRlIFByb3ZpZGVyIHVzaW5nIHRoYXQgc2FtZSBDb250ZXh0IGluc3RhbmNlICovXG4gIGNvbnRleHQ/OiBSZWFjdFJlZHV4Q29udGV4dEluc3RhbmNlXG4gIC8qKiBBIFJlZHV4IHN0b3JlIGluc3RhbmNlIHRvIGJlIHVzZWQgZm9yIHN1YnNjcmlwdGlvbnMgaW5zdGVhZCBvZiB0aGUgc3RvcmUgZnJvbSBhIFByb3ZpZGVyICovXG4gIHN0b3JlPzogU3RvcmVcbn1cblxuaW50ZXJmYWNlIEludGVybmFsQ29ubmVjdFByb3BzIGV4dGVuZHMgQ29ubmVjdFByb3BzIHtcbiAgcmVhY3RSZWR1eEZvcndhcmRlZFJlZj86IFJlYWN0LkZvcndhcmRlZFJlZjx1bmtub3duPlxufVxuXG5mdW5jdGlvbiBzdHJpY3RFcXVhbChhOiB1bmtub3duLCBiOiB1bmtub3duKSB7XG4gIHJldHVybiBhID09PSBiXG59XG5cbi8qKlxuICogSW5mZXJzIHRoZSB0eXBlIG9mIHByb3BzIHRoYXQgYSBjb25uZWN0b3Igd2lsbCBpbmplY3QgaW50byBhIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IHR5cGUgQ29ubmVjdGVkUHJvcHM8VENvbm5lY3Rvcj4gPVxuICBUQ29ubmVjdG9yIGV4dGVuZHMgSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8XG4gICAgaW5mZXIgVEluamVjdGVkUHJvcHMsXG4gICAgYW55XG4gID5cbiAgICA/IHVua25vd24gZXh0ZW5kcyBUSW5qZWN0ZWRQcm9wc1xuICAgICAgPyBUQ29ubmVjdG9yIGV4dGVuZHMgSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXI8aW5mZXIgVEluamVjdGVkUHJvcHM+XG4gICAgICAgID8gVEluamVjdGVkUHJvcHNcbiAgICAgICAgOiBuZXZlclxuICAgICAgOiBUSW5qZWN0ZWRQcm9wc1xuICAgIDogbmV2ZXJcblxuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0T3B0aW9uczxcbiAgU3RhdGUgPSB1bmtub3duLFxuICBUU3RhdGVQcm9wcyA9IHt9LFxuICBUT3duUHJvcHMgPSB7fSxcbiAgVE1lcmdlZFByb3BzID0ge30sXG4+IHtcbiAgZm9yd2FyZFJlZj86IGJvb2xlYW5cbiAgY29udGV4dD86IHR5cGVvZiBSZWFjdFJlZHV4Q29udGV4dFxuICBhcmVTdGF0ZXNFcXVhbD86IChcbiAgICBuZXh0U3RhdGU6IFN0YXRlLFxuICAgIHByZXZTdGF0ZTogU3RhdGUsXG4gICAgbmV4dE93blByb3BzOiBUT3duUHJvcHMsXG4gICAgcHJldk93blByb3BzOiBUT3duUHJvcHMsXG4gICkgPT4gYm9vbGVhblxuXG4gIGFyZU93blByb3BzRXF1YWw/OiAoXG4gICAgbmV4dE93blByb3BzOiBUT3duUHJvcHMsXG4gICAgcHJldk93blByb3BzOiBUT3duUHJvcHMsXG4gICkgPT4gYm9vbGVhblxuXG4gIGFyZVN0YXRlUHJvcHNFcXVhbD86IChcbiAgICBuZXh0U3RhdGVQcm9wczogVFN0YXRlUHJvcHMsXG4gICAgcHJldlN0YXRlUHJvcHM6IFRTdGF0ZVByb3BzLFxuICApID0+IGJvb2xlYW5cbiAgYXJlTWVyZ2VkUHJvcHNFcXVhbD86IChcbiAgICBuZXh0TWVyZ2VkUHJvcHM6IFRNZXJnZWRQcm9wcyxcbiAgICBwcmV2TWVyZ2VkUHJvcHM6IFRNZXJnZWRQcm9wcyxcbiAgKSA9PiBib29sZWFuXG59XG5cbi8qKlxuICogQ29ubmVjdHMgYSBSZWFjdCBjb21wb25lbnQgdG8gYSBSZWR1eCBzdG9yZS5cbiAqXG4gKiAtIFdpdGhvdXQgYXJndW1lbnRzLCBqdXN0IHdyYXBzIHRoZSBjb21wb25lbnQsIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGJlaGF2aW9yIC8gcHJvcHNcbiAqXG4gKiAtIElmIDIgcGFyYW1zIGFyZSBwYXNzZWQgKDNyZCBwYXJhbSwgbWVyZ2VQcm9wcywgaXMgc2tpcHBlZCksIGRlZmF1bHQgYmVoYXZpb3JcbiAqIGlzIHRvIG92ZXJyaWRlIG93blByb3BzIChhcyBzdGF0ZWQgaW4gdGhlIGRvY3MpLCBzbyB3aGF0IHJlbWFpbnMgaXMgZXZlcnl0aGluZyB0aGF0J3NcbiAqIG5vdCBhIHN0YXRlIG9yIGRpc3BhdGNoIHByb3BcbiAqXG4gKiAtIFdoZW4gM3JkIHBhcmFtIGlzIHBhc3NlZCwgd2UgZG9uJ3Qga25vdyBpZiBvd25Qcm9wcyBwcm9wYWdhdGUgYW5kIHdoZXRoZXIgdGhleVxuICogc2hvdWxkIGJlIHZhbGlkIGNvbXBvbmVudCBwcm9wcywgYmVjYXVzZSBpdCBkZXBlbmRzIG9uIG1lcmdlUHJvcHMgaW1wbGVtZW50YXRpb24uXG4gKiBBcyBzdWNoLCBpdCBpcyB0aGUgdXNlcidzIHJlc3BvbnNpYmlsaXR5IHRvIGV4dGVuZCBvd25Qcm9wcyBpbnRlcmZhY2UgZnJvbSBzdGF0ZSBvclxuICogZGlzcGF0Y2ggcHJvcHMgb3IgYm90aCB3aGVuIGFwcGxpY2FibGVcbiAqXG4gKiBAcGFyYW0gbWFwU3RhdGVUb1Byb3BzXG4gKiBAcGFyYW0gbWFwRGlzcGF0Y2hUb1Byb3BzXG4gKiBAcGFyYW0gbWVyZ2VQcm9wc1xuICogQHBhcmFtIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0PERlZmF1bHRTdGF0ZSA9IHVua25vd24+IHtcbiAgLy8gdHNsaW50OmRpc2FibGU6bm8tdW5uZWNlc3NhcnktZ2VuZXJpY3NcbiAgKCk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyPERpc3BhdGNoUHJvcD5cblxuICAvKiogbWFwU3RhdGUgb25seSAqL1xuICA8VFN0YXRlUHJvcHMgPSB7fSwgbm9fZGlzcGF0Y2ggPSB7fSwgVE93blByb3BzID0ge30sIFN0YXRlID0gRGVmYXVsdFN0YXRlPihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8VFN0YXRlUHJvcHMgJiBEaXNwYXRjaFByb3AsIFRPd25Qcm9wcz5cblxuICAvKiogbWFwRGlzcGF0Y2ggb25seSAoYXMgYSBmdW5jdGlvbikgKi9cbiAgPG5vX3N0YXRlID0ge30sIFREaXNwYXRjaFByb3BzID0ge30sIFRPd25Qcm9wcyA9IHt9PihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBNYXBEaXNwYXRjaFRvUHJvcHNOb25PYmplY3Q8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4sXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+XG5cbiAgLyoqIG1hcERpc3BhdGNoIG9ubHkgKGFzIGFuIG9iamVjdCkgKi9cbiAgPG5vX3N0YXRlID0ge30sIFREaXNwYXRjaFByb3BzID0ge30sIFRPd25Qcm9wcyA9IHt9PihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBNYXBEaXNwYXRjaFRvUHJvcHNQYXJhbTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8XG4gICAgUmVzb2x2ZVRodW5rczxURGlzcGF0Y2hQcm9wcz4sXG4gICAgVE93blByb3BzXG4gID5cblxuICAvKiogbWFwU3RhdGUgYW5kIG1hcERpc3BhdGNoIChhcyBhIGZ1bmN0aW9uKSovXG4gIDxUU3RhdGVQcm9wcyA9IHt9LCBURGlzcGF0Y2hQcm9wcyA9IHt9LCBUT3duUHJvcHMgPSB7fSwgU3RhdGUgPSBEZWZhdWx0U3RhdGU+KFxuICAgIG1hcFN0YXRlVG9Qcm9wczogTWFwU3RhdGVUb1Byb3BzUGFyYW08VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+LFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wczogTWFwRGlzcGF0Y2hUb1Byb3BzTm9uT2JqZWN0PFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxcbiAgICBUU3RhdGVQcm9wcyAmIFREaXNwYXRjaFByb3BzLFxuICAgIFRPd25Qcm9wc1xuICA+XG5cbiAgLyoqIG1hcFN0YXRlIGFuZCBtYXBEaXNwYXRjaCAobnVsbGlzaCkgKi9cbiAgPFRTdGF0ZVByb3BzID0ge30sIFREaXNwYXRjaFByb3BzID0ge30sIFRPd25Qcm9wcyA9IHt9LCBTdGF0ZSA9IERlZmF1bHRTdGF0ZT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxUU3RhdGVQcm9wcywgVE93blByb3BzPlxuXG4gIC8qKiBtYXBTdGF0ZSBhbmQgbWFwRGlzcGF0Y2ggKGFzIGFuIG9iamVjdCkgKi9cbiAgPFRTdGF0ZVByb3BzID0ge30sIFREaXNwYXRjaFByb3BzID0ge30sIFRPd25Qcm9wcyA9IHt9LCBTdGF0ZSA9IERlZmF1bHRTdGF0ZT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBNYXBEaXNwYXRjaFRvUHJvcHNQYXJhbTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8XG4gICAgVFN0YXRlUHJvcHMgJiBSZXNvbHZlVGh1bmtzPFREaXNwYXRjaFByb3BzPixcbiAgICBUT3duUHJvcHNcbiAgPlxuXG4gIC8qKiBtZXJnZVByb3BzIG9ubHkgKi9cbiAgPG5vX3N0YXRlID0ge30sIG5vX2Rpc3BhdGNoID0ge30sIFRPd25Qcm9wcyA9IHt9LCBUTWVyZ2VkUHJvcHMgPSB7fT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBtZXJnZVByb3BzOiBNZXJnZVByb3BzPHVuZGVmaW5lZCwgRGlzcGF0Y2hQcm9wLCBUT3duUHJvcHMsIFRNZXJnZWRQcm9wcz4sXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPFRNZXJnZWRQcm9wcywgVE93blByb3BzPlxuXG4gIC8qKiBtYXBTdGF0ZSBhbmQgbWVyZ2VQcm9wcyAqL1xuICA8XG4gICAgVFN0YXRlUHJvcHMgPSB7fSxcbiAgICBub19kaXNwYXRjaCA9IHt9LFxuICAgIFRPd25Qcm9wcyA9IHt9LFxuICAgIFRNZXJnZWRQcm9wcyA9IHt9LFxuICAgIFN0YXRlID0gRGVmYXVsdFN0YXRlLFxuICA+KFxuICAgIG1hcFN0YXRlVG9Qcm9wczogTWFwU3RhdGVUb1Byb3BzUGFyYW08VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+LFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBtZXJnZVByb3BzOiBNZXJnZVByb3BzPFRTdGF0ZVByb3BzLCBEaXNwYXRjaFByb3AsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8VE1lcmdlZFByb3BzLCBUT3duUHJvcHM+XG5cbiAgLyoqIG1hcERpc3BhdGNoIChhcyBhIG9iamVjdCkgYW5kIG1lcmdlUHJvcHMgKi9cbiAgPG5vX3N0YXRlID0ge30sIFREaXNwYXRjaFByb3BzID0ge30sIFRPd25Qcm9wcyA9IHt9LCBUTWVyZ2VkUHJvcHMgPSB7fT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wczogTWFwRGlzcGF0Y2hUb1Byb3BzUGFyYW08VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4sXG4gICAgbWVyZ2VQcm9wczogTWVyZ2VQcm9wczx1bmRlZmluZWQsIFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHMsIFRNZXJnZWRQcm9wcz4sXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPFRNZXJnZWRQcm9wcywgVE93blByb3BzPlxuXG4gIC8qKiBtYXBTdGF0ZSBhbmQgb3B0aW9ucyAqL1xuICA8VFN0YXRlUHJvcHMgPSB7fSwgbm9fZGlzcGF0Y2ggPSB7fSwgVE93blByb3BzID0ge30sIFN0YXRlID0gRGVmYXVsdFN0YXRlPihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICAgbWVyZ2VQcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBvcHRpb25zOiBDb25uZWN0T3B0aW9uczxTdGF0ZSwgVFN0YXRlUHJvcHMsIFRPd25Qcm9wcz4sXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPERpc3BhdGNoUHJvcCAmIFRTdGF0ZVByb3BzLCBUT3duUHJvcHM+XG5cbiAgLyoqIG1hcERpc3BhdGNoIChhcyBhIGZ1bmN0aW9uKSBhbmQgb3B0aW9ucyAqL1xuICA8VFN0YXRlUHJvcHMgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30+KFxuICAgIG1hcFN0YXRlVG9Qcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IE1hcERpc3BhdGNoVG9Qcm9wc05vbk9iamVjdDxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPixcbiAgICBtZXJnZVByb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG9wdGlvbnM6IENvbm5lY3RPcHRpb25zPHt9LCBUU3RhdGVQcm9wcywgVE93blByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz5cblxuICAvKiogbWFwRGlzcGF0Y2ggKGFzIGFuIG9iamVjdCkgYW5kIG9wdGlvbnMqL1xuICA8VFN0YXRlUHJvcHMgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30+KFxuICAgIG1hcFN0YXRlVG9Qcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICAgIG1lcmdlUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICAgb3B0aW9uczogQ29ubmVjdE9wdGlvbnM8e30sIFRTdGF0ZVByb3BzLCBUT3duUHJvcHM+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxcbiAgICBSZXNvbHZlVGh1bmtzPFREaXNwYXRjaFByb3BzPixcbiAgICBUT3duUHJvcHNcbiAgPlxuXG4gIC8qKiBtYXBTdGF0ZSwgIG1hcERpc3BhdGNoIChhcyBhIGZ1bmN0aW9uKSwgYW5kIG9wdGlvbnMgKi9cbiAgPFRTdGF0ZVByb3BzID0ge30sIFREaXNwYXRjaFByb3BzID0ge30sIFRPd25Qcm9wcyA9IHt9LCBTdGF0ZSA9IERlZmF1bHRTdGF0ZT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBNYXBEaXNwYXRjaFRvUHJvcHNOb25PYmplY3Q8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4sXG4gICAgbWVyZ2VQcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBvcHRpb25zOiBDb25uZWN0T3B0aW9uczxTdGF0ZSwgVFN0YXRlUHJvcHMsIFRPd25Qcm9wcz4sXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPFxuICAgIFRTdGF0ZVByb3BzICYgVERpc3BhdGNoUHJvcHMsXG4gICAgVE93blByb3BzXG4gID5cblxuICAvKiogbWFwU3RhdGUsICBtYXBEaXNwYXRjaCAoYXMgYW4gb2JqZWN0KSwgYW5kIG9wdGlvbnMgKi9cbiAgPFRTdGF0ZVByb3BzID0ge30sIFREaXNwYXRjaFByb3BzID0ge30sIFRPd25Qcm9wcyA9IHt9LCBTdGF0ZSA9IERlZmF1bHRTdGF0ZT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBNYXBEaXNwYXRjaFRvUHJvcHNQYXJhbTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPixcbiAgICBtZXJnZVByb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG9wdGlvbnM6IENvbm5lY3RPcHRpb25zPFN0YXRlLCBUU3RhdGVQcm9wcywgVE93blByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8XG4gICAgVFN0YXRlUHJvcHMgJiBSZXNvbHZlVGh1bmtzPFREaXNwYXRjaFByb3BzPixcbiAgICBUT3duUHJvcHNcbiAgPlxuXG4gIC8qKiBtYXBTdGF0ZSwgbWFwRGlzcGF0Y2gsIG1lcmdlUHJvcHMsIGFuZCBvcHRpb25zICovXG4gIDxcbiAgICBUU3RhdGVQcm9wcyA9IHt9LFxuICAgIFREaXNwYXRjaFByb3BzID0ge30sXG4gICAgVE93blByb3BzID0ge30sXG4gICAgVE1lcmdlZFByb3BzID0ge30sXG4gICAgU3RhdGUgPSBEZWZhdWx0U3RhdGUsXG4gID4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBNYXBEaXNwYXRjaFRvUHJvcHNQYXJhbTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPixcbiAgICBtZXJnZVByb3BzOiBNZXJnZVByb3BzPFxuICAgICAgVFN0YXRlUHJvcHMsXG4gICAgICBURGlzcGF0Y2hQcm9wcyxcbiAgICAgIFRPd25Qcm9wcyxcbiAgICAgIFRNZXJnZWRQcm9wc1xuICAgID4sXG4gICAgb3B0aW9ucz86IENvbm5lY3RPcHRpb25zPFN0YXRlLCBUU3RhdGVQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHM+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxUTWVyZ2VkUHJvcHMsIFRPd25Qcm9wcz5cbiAgLy8gdHNsaW50OmVuYWJsZTpuby11bm5lY2Vzc2FyeS1nZW5lcmljc1xufVxuXG5sZXQgaGFzV2FybmVkQWJvdXREZXByZWNhdGVkUHVyZU9wdGlvbiA9IGZhbHNlXG5cbi8qKlxuICogQ29ubmVjdHMgYSBSZWFjdCBjb21wb25lbnQgdG8gYSBSZWR1eCBzdG9yZS5cbiAqXG4gKiAtIFdpdGhvdXQgYXJndW1lbnRzLCBqdXN0IHdyYXBzIHRoZSBjb21wb25lbnQsIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGJlaGF2aW9yIC8gcHJvcHNcbiAqXG4gKiAtIElmIDIgcGFyYW1zIGFyZSBwYXNzZWQgKDNyZCBwYXJhbSwgbWVyZ2VQcm9wcywgaXMgc2tpcHBlZCksIGRlZmF1bHQgYmVoYXZpb3JcbiAqIGlzIHRvIG92ZXJyaWRlIG93blByb3BzIChhcyBzdGF0ZWQgaW4gdGhlIGRvY3MpLCBzbyB3aGF0IHJlbWFpbnMgaXMgZXZlcnl0aGluZyB0aGF0J3NcbiAqIG5vdCBhIHN0YXRlIG9yIGRpc3BhdGNoIHByb3BcbiAqXG4gKiAtIFdoZW4gM3JkIHBhcmFtIGlzIHBhc3NlZCwgd2UgZG9uJ3Qga25vdyBpZiBvd25Qcm9wcyBwcm9wYWdhdGUgYW5kIHdoZXRoZXIgdGhleVxuICogc2hvdWxkIGJlIHZhbGlkIGNvbXBvbmVudCBwcm9wcywgYmVjYXVzZSBpdCBkZXBlbmRzIG9uIG1lcmdlUHJvcHMgaW1wbGVtZW50YXRpb24uXG4gKiBBcyBzdWNoLCBpdCBpcyB0aGUgdXNlcidzIHJlc3BvbnNpYmlsaXR5IHRvIGV4dGVuZCBvd25Qcm9wcyBpbnRlcmZhY2UgZnJvbSBzdGF0ZSBvclxuICogZGlzcGF0Y2ggcHJvcHMgb3IgYm90aCB3aGVuIGFwcGxpY2FibGVcbiAqXG4gKiBAcGFyYW0gbWFwU3RhdGVUb1Byb3BzIEEgZnVuY3Rpb24gdGhhdCBleHRyYWN0cyB2YWx1ZXMgZnJvbSBzdGF0ZVxuICogQHBhcmFtIG1hcERpc3BhdGNoVG9Qcm9wcyBTZXR1cCBmb3IgZGlzcGF0Y2hpbmcgYWN0aW9uc1xuICogQHBhcmFtIG1lcmdlUHJvcHMgT3B0aW9uYWwgY2FsbGJhY2sgdG8gbWVyZ2Ugc3RhdGUgYW5kIGRpc3BhdGNoIHByb3BzIHRvZ2V0aGVyXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciBjb25maWd1cmluZyB0aGUgY29ubmVjdGlvblxuICpcbiAqL1xuZnVuY3Rpb24gY29ubmVjdDxcbiAgVFN0YXRlUHJvcHMgPSB7fSxcbiAgVERpc3BhdGNoUHJvcHMgPSB7fSxcbiAgVE93blByb3BzID0ge30sXG4gIFRNZXJnZWRQcm9wcyA9IHt9LFxuICBTdGF0ZSA9IHVua25vd24sXG4+KFxuICBtYXBTdGF0ZVRvUHJvcHM/OiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4gIG1hcERpc3BhdGNoVG9Qcm9wcz86IE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICBtZXJnZVByb3BzPzogTWVyZ2VQcm9wczxUU3RhdGVQcm9wcywgVERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPixcbiAge1xuICAgIC8vIFRoZSBgcHVyZWAgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWQsIHNvIFRTIGRvZXNuJ3QgbGlrZSB1cyBkZXN0cnVjdHVyaW5nIHRoaXMgdG8gY2hlY2sgaXRzIGV4aXN0ZW5jZS5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHVyZSxcbiAgICBhcmVTdGF0ZXNFcXVhbCA9IHN0cmljdEVxdWFsLFxuICAgIGFyZU93blByb3BzRXF1YWwgPSBzaGFsbG93RXF1YWwsXG4gICAgYXJlU3RhdGVQcm9wc0VxdWFsID0gc2hhbGxvd0VxdWFsLFxuICAgIGFyZU1lcmdlZFByb3BzRXF1YWwgPSBzaGFsbG93RXF1YWwsXG5cbiAgICAvLyB1c2UgUmVhY3QncyBmb3J3YXJkUmVmIHRvIGV4cG9zZSBhIHJlZiBvZiB0aGUgd3JhcHBlZCBjb21wb25lbnRcbiAgICBmb3J3YXJkUmVmID0gZmFsc2UsXG5cbiAgICAvLyB0aGUgY29udGV4dCBjb25zdW1lciB0byB1c2VcbiAgICBjb250ZXh0ID0gUmVhY3RSZWR1eENvbnRleHQsXG4gIH06IENvbm5lY3RPcHRpb25zPHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24+ID0ge30sXG4pOiB1bmtub3duIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAocHVyZSAhPT0gdW5kZWZpbmVkICYmICFoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRQdXJlT3B0aW9uKSB7XG4gICAgICBoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRQdXJlT3B0aW9uID0gdHJ1ZVxuICAgICAgd2FybmluZyhcbiAgICAgICAgJ1RoZSBgcHVyZWAgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWQuIGBjb25uZWN0YCBpcyBub3cgYWx3YXlzIGEgXCJwdXJlL21lbW9pemVkXCIgY29tcG9uZW50JyxcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBjb25zdCBDb250ZXh0ID0gY29udGV4dFxuXG4gIGNvbnN0IGluaXRNYXBTdGF0ZVRvUHJvcHMgPSBtYXBTdGF0ZVRvUHJvcHNGYWN0b3J5KG1hcFN0YXRlVG9Qcm9wcylcbiAgY29uc3QgaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyA9IG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcnkobWFwRGlzcGF0Y2hUb1Byb3BzKVxuICBjb25zdCBpbml0TWVyZ2VQcm9wcyA9IG1lcmdlUHJvcHNGYWN0b3J5KG1lcmdlUHJvcHMpXG5cbiAgY29uc3Qgc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpXG5cbiAgY29uc3Qgd3JhcFdpdGhDb25uZWN0ID0gPFRQcm9wcyw+KFxuICAgIFdyYXBwZWRDb21wb25lbnQ6IENvbXBvbmVudFR5cGU8VFByb3BzPixcbiAgKSA9PiB7XG4gICAgdHlwZSBXcmFwcGVkQ29tcG9uZW50UHJvcHMgPSBUUHJvcHMgJlxuICAgICAgQ29ubmVjdFByb3BzTWF5YmVXaXRob3V0Q29udGV4dDxUUHJvcHM+XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY29uc3QgaXNWYWxpZCA9IC8qI19fUFVSRV9fKi8gaXNWYWxpZEVsZW1lbnRUeXBlKFdyYXBwZWRDb21wb25lbnQpXG4gICAgICBpZiAoIWlzVmFsaWQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgWW91IG11c3QgcGFzcyBhIGNvbXBvbmVudCB0byB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgYnkgY29ubmVjdC4gSW5zdGVhZCByZWNlaXZlZCAke3N0cmluZ2lmeUNvbXBvbmVudChcbiAgICAgICAgICAgIFdyYXBwZWRDb21wb25lbnQsXG4gICAgICAgICAgKX1gLFxuICAgICAgICApXG4gICAgfVxuXG4gICAgY29uc3Qgd3JhcHBlZENvbXBvbmVudE5hbWUgPVxuICAgICAgV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCdcblxuICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gYENvbm5lY3QoJHt3cmFwcGVkQ29tcG9uZW50TmFtZX0pYFxuXG4gICAgY29uc3Qgc2VsZWN0b3JGYWN0b3J5T3B0aW9uczogU2VsZWN0b3JGYWN0b3J5T3B0aW9uczxcbiAgICAgIGFueSxcbiAgICAgIGFueSxcbiAgICAgIGFueSxcbiAgICAgIGFueSxcbiAgICAgIFN0YXRlXG4gICAgPiA9IHtcbiAgICAgIHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcyxcbiAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgd3JhcHBlZENvbXBvbmVudE5hbWUsXG4gICAgICBXcmFwcGVkQ29tcG9uZW50LFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaW5pdE1hcFN0YXRlVG9Qcm9wcyxcbiAgICAgIGluaXRNYXBEaXNwYXRjaFRvUHJvcHMsXG4gICAgICBpbml0TWVyZ2VQcm9wcyxcbiAgICAgIGFyZVN0YXRlc0VxdWFsLFxuICAgICAgYXJlU3RhdGVQcm9wc0VxdWFsLFxuICAgICAgYXJlT3duUHJvcHNFcXVhbCxcbiAgICAgIGFyZU1lcmdlZFByb3BzRXF1YWwsXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQ29ubmVjdEZ1bmN0aW9uPFRPd25Qcm9wcz4oXG4gICAgICBwcm9wczogSW50ZXJuYWxDb25uZWN0UHJvcHMgJiBUT3duUHJvcHMsXG4gICAgKSB7XG4gICAgICBjb25zdCBbcHJvcHNDb250ZXh0LCByZWFjdFJlZHV4Rm9yd2FyZGVkUmVmLCB3cmFwcGVyUHJvcHNdID1cbiAgICAgICAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgICAgLy8gRGlzdGluZ3Vpc2ggYmV0d2VlbiBhY3R1YWwgXCJkYXRhXCIgcHJvcHMgdGhhdCB3ZXJlIHBhc3NlZCB0byB0aGUgd3JhcHBlciBjb21wb25lbnQsXG4gICAgICAgICAgLy8gYW5kIHZhbHVlcyBuZWVkZWQgdG8gY29udHJvbCBiZWhhdmlvciAoZm9yd2FyZGVkIHJlZnMsIGFsdGVybmF0ZSBjb250ZXh0IGluc3RhbmNlcykuXG4gICAgICAgICAgLy8gVG8gbWFpbnRhaW4gdGhlIHdyYXBwZXJQcm9wcyBvYmplY3QgcmVmZXJlbmNlLCBtZW1vaXplIHRoaXMgZGVzdHJ1Y3R1cmluZy5cbiAgICAgICAgICBjb25zdCB7IHJlYWN0UmVkdXhGb3J3YXJkZWRSZWYsIC4uLndyYXBwZXJQcm9wcyB9ID0gcHJvcHNcbiAgICAgICAgICByZXR1cm4gW3Byb3BzLmNvbnRleHQsIHJlYWN0UmVkdXhGb3J3YXJkZWRSZWYsIHdyYXBwZXJQcm9wc11cbiAgICAgICAgfSwgW3Byb3BzXSlcblxuICAgICAgY29uc3QgQ29udGV4dFRvVXNlOiBSZWFjdFJlZHV4Q29udGV4dEluc3RhbmNlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIC8vIFVzZXJzIG1heSBvcHRpb25hbGx5IHBhc3MgaW4gYSBjdXN0b20gY29udGV4dCBpbnN0YW5jZSB0byB1c2UgaW5zdGVhZCBvZiBvdXIgUmVhY3RSZWR1eENvbnRleHQuXG4gICAgICAgIC8vIE1lbW9pemUgdGhlIGNoZWNrIHRoYXQgZGV0ZXJtaW5lcyB3aGljaCBjb250ZXh0IGluc3RhbmNlIHdlIHNob3VsZCB1c2UuXG4gICAgICAgIGxldCBSZXN1bHRDb250ZXh0ID0gQ29udGV4dFxuICAgICAgICBpZiAocHJvcHNDb250ZXh0Py5Db25zdW1lcikge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gLyojX19QVVJFX18qLyBpc0NvbnRleHRDb25zdW1lcihcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICA8cHJvcHNDb250ZXh0LkNvbnN1bWVyIC8+LFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAnWW91IG11c3QgcGFzcyBhIHZhbGlkIFJlYWN0IGNvbnRleHQgY29uc3VtZXIgYXMgYHByb3BzLmNvbnRleHRgJyxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUmVzdWx0Q29udGV4dCA9IHByb3BzQ29udGV4dFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzdWx0Q29udGV4dFxuICAgICAgfSwgW3Byb3BzQ29udGV4dCwgQ29udGV4dF0pXG5cbiAgICAgIC8vIFJldHJpZXZlIHRoZSBzdG9yZSBhbmQgYW5jZXN0b3Igc3Vic2NyaXB0aW9uIHZpYSBjb250ZXh0LCBpZiBhdmFpbGFibGVcbiAgICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZUNvbnRleHQoQ29udGV4dFRvVXNlKVxuXG4gICAgICAvLyBUaGUgc3RvcmUgX211c3RfIGV4aXN0IGFzIGVpdGhlciBhIHByb3Agb3IgaW4gY29udGV4dC5cbiAgICAgIC8vIFdlJ2xsIGNoZWNrIHRvIHNlZSBpZiBpdCBfbG9va3NfIGxpa2UgYSBSZWR1eCBzdG9yZSBmaXJzdC5cbiAgICAgIC8vIFRoaXMgYWxsb3dzIHVzIHRvIHBhc3MgdGhyb3VnaCBhIGBzdG9yZWAgcHJvcCB0aGF0IGlzIGp1c3QgYSBwbGFpbiB2YWx1ZS5cbiAgICAgIGNvbnN0IGRpZFN0b3JlQ29tZUZyb21Qcm9wcyA9XG4gICAgICAgIEJvb2xlYW4ocHJvcHMuc3RvcmUpICYmXG4gICAgICAgIEJvb2xlYW4ocHJvcHMuc3RvcmUhLmdldFN0YXRlKSAmJlxuICAgICAgICBCb29sZWFuKHByb3BzLnN0b3JlIS5kaXNwYXRjaClcbiAgICAgIGNvbnN0IGRpZFN0b3JlQ29tZUZyb21Db250ZXh0ID1cbiAgICAgICAgQm9vbGVhbihjb250ZXh0VmFsdWUpICYmIEJvb2xlYW4oY29udGV4dFZhbHVlIS5zdG9yZSlcblxuICAgICAgaWYgKFxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgICAgICFkaWRTdG9yZUNvbWVGcm9tUHJvcHMgJiZcbiAgICAgICAgIWRpZFN0b3JlQ29tZUZyb21Db250ZXh0XG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDb3VsZCBub3QgZmluZCBcInN0b3JlXCIgaW4gdGhlIGNvbnRleHQgb2YgYCArXG4gICAgICAgICAgICBgXCIke2Rpc3BsYXlOYW1lfVwiLiBFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCBgICtcbiAgICAgICAgICAgIGBvciBwYXNzIGEgY3VzdG9tIFJlYWN0IGNvbnRleHQgcHJvdmlkZXIgdG8gPFByb3ZpZGVyPiBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgYCArXG4gICAgICAgICAgICBgUmVhY3QgY29udGV4dCBjb25zdW1lciB0byAke2Rpc3BsYXlOYW1lfSBpbiBjb25uZWN0IG9wdGlvbnMuYCxcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICAvLyBCYXNlZCBvbiB0aGUgcHJldmlvdXMgY2hlY2ssIG9uZSBvZiB0aGVzZSBtdXN0IGJlIHRydWVcbiAgICAgIGNvbnN0IHN0b3JlOiBTdG9yZSA9IGRpZFN0b3JlQ29tZUZyb21Qcm9wc1xuICAgICAgICA/IHByb3BzLnN0b3JlIVxuICAgICAgICA6IGNvbnRleHRWYWx1ZSEuc3RvcmVcblxuICAgICAgY29uc3QgZ2V0U2VydmVyU3RhdGUgPSBkaWRTdG9yZUNvbWVGcm9tQ29udGV4dFxuICAgICAgICA/IGNvbnRleHRWYWx1ZSEuZ2V0U2VydmVyU3RhdGVcbiAgICAgICAgOiBzdG9yZS5nZXRTdGF0ZVxuXG4gICAgICBjb25zdCBjaGlsZFByb3BzU2VsZWN0b3IgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgLy8gVGhlIGNoaWxkIHByb3BzIHNlbGVjdG9yIG5lZWRzIHRoZSBzdG9yZSByZWZlcmVuY2UgYXMgYW4gaW5wdXQuXG4gICAgICAgIC8vIFJlLWNyZWF0ZSB0aGlzIHNlbGVjdG9yIHdoZW5ldmVyIHRoZSBzdG9yZSBjaGFuZ2VzLlxuICAgICAgICByZXR1cm4gZGVmYXVsdFNlbGVjdG9yRmFjdG9yeShzdG9yZS5kaXNwYXRjaCwgc2VsZWN0b3JGYWN0b3J5T3B0aW9ucylcbiAgICAgIH0sIFtzdG9yZV0pXG5cbiAgICAgIGNvbnN0IFtzdWJzY3JpcHRpb24sIG5vdGlmeU5lc3RlZFN1YnNdID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICghc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzKSByZXR1cm4gTk9fU1VCU0NSSVBUSU9OX0FSUkFZXG5cbiAgICAgICAgLy8gVGhpcyBTdWJzY3JpcHRpb24ncyBzb3VyY2Ugc2hvdWxkIG1hdGNoIHdoZXJlIHN0b3JlIGNhbWUgZnJvbTogcHJvcHMgdnMuIGNvbnRleHQuIEEgY29tcG9uZW50XG4gICAgICAgIC8vIGNvbm5lY3RlZCB0byB0aGUgc3RvcmUgdmlhIHByb3BzIHNob3VsZG4ndCB1c2Ugc3Vic2NyaXB0aW9uIGZyb20gY29udGV4dCwgb3IgdmljZSB2ZXJzYS5cbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gY3JlYXRlU3Vic2NyaXB0aW9uKFxuICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgIGRpZFN0b3JlQ29tZUZyb21Qcm9wcyA/IHVuZGVmaW5lZCA6IGNvbnRleHRWYWx1ZSEuc3Vic2NyaXB0aW9uLFxuICAgICAgICApXG5cbiAgICAgICAgLy8gYG5vdGlmeU5lc3RlZFN1YnNgIGlzIGR1cGxpY2F0ZWQgdG8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGluXG4gICAgICAgIC8vIHRoZSBtaWRkbGUgb2YgdGhlIG5vdGlmaWNhdGlvbiBsb29wLCB3aGVyZSBgc3Vic2NyaXB0aW9uYCB3aWxsIHRoZW4gYmUgbnVsbC4gVGhpcyBjYW5cbiAgICAgICAgLy8gcHJvYmFibHkgYmUgYXZvaWRlZCBpZiBTdWJzY3JpcHRpb24ncyBsaXN0ZW5lcnMgbG9naWMgaXMgY2hhbmdlZCB0byBub3QgY2FsbCBsaXN0ZW5lcnNcbiAgICAgICAgLy8gdGhhdCBoYXZlIGJlZW4gdW5zdWJzY3JpYmVkIGluIHRoZSAgbWlkZGxlIG9mIHRoZSBub3RpZmljYXRpb24gbG9vcC5cbiAgICAgICAgY29uc3Qgbm90aWZ5TmVzdGVkU3VicyA9XG4gICAgICAgICAgc3Vic2NyaXB0aW9uLm5vdGlmeU5lc3RlZFN1YnMuYmluZChzdWJzY3JpcHRpb24pXG5cbiAgICAgICAgcmV0dXJuIFtzdWJzY3JpcHRpb24sIG5vdGlmeU5lc3RlZFN1YnNdXG4gICAgICB9LCBbc3RvcmUsIGRpZFN0b3JlQ29tZUZyb21Qcm9wcywgY29udGV4dFZhbHVlXSlcblxuICAgICAgLy8gRGV0ZXJtaW5lIHdoYXQge3N0b3JlLCBzdWJzY3JpcHRpb259IHZhbHVlIHNob3VsZCBiZSBwdXQgaW50byBuZXN0ZWQgY29udGV4dCwgaWYgbmVjZXNzYXJ5LFxuICAgICAgLy8gYW5kIG1lbW9pemUgdGhhdCB2YWx1ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSBjb250ZXh0IHVwZGF0ZXMuXG4gICAgICBjb25zdCBvdmVycmlkZGVuQ29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmIChkaWRTdG9yZUNvbWVGcm9tUHJvcHMpIHtcbiAgICAgICAgICAvLyBUaGlzIGNvbXBvbmVudCBpcyBkaXJlY3RseSBzdWJzY3JpYmVkIHRvIGEgc3RvcmUgZnJvbSBwcm9wcy5cbiAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IGRlc2NlbmRhbnRzIHJlYWRpbmcgZnJvbSB0aGlzIHN0b3JlIC0gcGFzcyBkb3duIHdoYXRldmVyXG4gICAgICAgICAgLy8gdGhlIGV4aXN0aW5nIGNvbnRleHQgdmFsdWUgaXMgZnJvbSB0aGUgbmVhcmVzdCBjb25uZWN0ZWQgYW5jZXN0b3IuXG4gICAgICAgICAgcmV0dXJuIGNvbnRleHRWYWx1ZSFcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgcHV0IHRoaXMgY29tcG9uZW50J3Mgc3Vic2NyaXB0aW9uIGluc3RhbmNlIGludG8gY29udGV4dCwgc28gdGhhdFxuICAgICAgICAvLyBjb25uZWN0ZWQgZGVzY2VuZGFudHMgd29uJ3QgdXBkYXRlIHVudGlsIGFmdGVyIHRoaXMgY29tcG9uZW50IGlzIGRvbmVcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5jb250ZXh0VmFsdWUsXG4gICAgICAgICAgc3Vic2NyaXB0aW9uLFxuICAgICAgICB9IGFzIFJlYWN0UmVkdXhDb250ZXh0VmFsdWVcbiAgICAgIH0sIFtkaWRTdG9yZUNvbWVGcm9tUHJvcHMsIGNvbnRleHRWYWx1ZSwgc3Vic2NyaXB0aW9uXSlcblxuICAgICAgLy8gU2V0IHVwIHJlZnMgdG8gY29vcmRpbmF0ZSB2YWx1ZXMgYmV0d2VlbiB0aGUgc3Vic2NyaXB0aW9uIGVmZmVjdCBhbmQgdGhlIHJlbmRlciBsb2dpY1xuICAgICAgY29uc3QgbGFzdENoaWxkUHJvcHMgPSBSZWFjdC51c2VSZWY8dW5rbm93bj4odW5kZWZpbmVkKVxuICAgICAgY29uc3QgbGFzdFdyYXBwZXJQcm9wcyA9IFJlYWN0LnVzZVJlZih3cmFwcGVyUHJvcHMpXG4gICAgICBjb25zdCBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlID0gUmVhY3QudXNlUmVmPHVua25vd24+KHVuZGVmaW5lZClcbiAgICAgIGNvbnN0IHJlbmRlcklzU2NoZWR1bGVkID0gUmVhY3QudXNlUmVmKGZhbHNlKVxuICAgICAgY29uc3QgaXNNb3VudGVkID0gUmVhY3QudXNlUmVmKGZhbHNlKVxuXG4gICAgICAvLyBUT0RPOiBDaGFuZ2UgdGhpcyB0byBgUmVhY3QudXNlUmVmPEVycm9yPih1bmRlZmluZWQpYCBhZnRlciB1cGdyYWRpbmcgdG8gUmVhY3QgMTkuXG4gICAgICAvKipcbiAgICAgICAqIEB0b2RvIENoYW5nZSB0aGlzIHRvIGBSZWFjdC51c2VSZWY8RXJyb3I+KHVuZGVmaW5lZClgIGFmdGVyIHVwZ3JhZGluZyB0byBSZWFjdCAxOS5cbiAgICAgICAqL1xuICAgICAgY29uc3QgbGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvciA9IFJlYWN0LnVzZVJlZjxFcnJvciB8IHVuZGVmaW5lZD4oXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgIClcblxuICAgICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSwgW10pXG5cbiAgICAgIGNvbnN0IGFjdHVhbENoaWxkUHJvcHNTZWxlY3RvciA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9ICgpID0+IHtcbiAgICAgICAgICAvLyBUcmlja3kgbG9naWMgaGVyZTpcbiAgICAgICAgICAvLyAtIFRoaXMgcmVuZGVyIG1heSBoYXZlIGJlZW4gdHJpZ2dlcmVkIGJ5IGEgUmVkdXggc3RvcmUgdXBkYXRlIHRoYXQgcHJvZHVjZWQgbmV3IGNoaWxkIHByb3BzXG4gICAgICAgICAgLy8gLSBIb3dldmVyLCB3ZSBtYXkgaGF2ZSBnb3R0ZW4gbmV3IHdyYXBwZXIgcHJvcHMgYWZ0ZXIgdGhhdFxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgbmV3IGNoaWxkIHByb3BzLCBhbmQgdGhlIHNhbWUgd3JhcHBlciBwcm9wcywgd2Uga25vdyB3ZSBzaG91bGQgdXNlIHRoZSBuZXcgY2hpbGQgcHJvcHMgYXMtaXMuXG4gICAgICAgICAgLy8gQnV0LCBpZiB3ZSBoYXZlIG5ldyB3cmFwcGVyIHByb3BzLCB0aG9zZSBtaWdodCBjaGFuZ2UgdGhlIGNoaWxkIHByb3BzLCBzbyB3ZSBoYXZlIHRvIHJlY2FsY3VsYXRlIHRoaW5ncy5cbiAgICAgICAgICAvLyBTbywgd2UnbGwgdXNlIHRoZSBjaGlsZCBwcm9wcyBmcm9tIHN0b3JlIHVwZGF0ZSBvbmx5IGlmIHRoZSB3cmFwcGVyIHByb3BzIGFyZSB0aGUgc2FtZSBhcyBsYXN0IHRpbWUuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZS5jdXJyZW50ICYmXG4gICAgICAgICAgICB3cmFwcGVyUHJvcHMgPT09IGxhc3RXcmFwcGVyUHJvcHMuY3VycmVudFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGUuY3VycmVudFxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFRPRE8gV2UncmUgcmVhZGluZyB0aGUgc3RvcmUgZGlyZWN0bHkgaW4gcmVuZGVyKCkgaGVyZS4gQmFkIGlkZWE/XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIGxpa2VseSBjYXVzZSBCYWQgVGhpbmdzIChUTSkgdG8gaGFwcGVuIGluIENvbmN1cnJlbnQgTW9kZS5cbiAgICAgICAgICAvLyBOb3RlIHRoYXQgd2UgZG8gdGhpcyBiZWNhdXNlIG9uIHJlbmRlcnMgX25vdF8gY2F1c2VkIGJ5IHN0b3JlIHVwZGF0ZXMsIHdlIG5lZWQgdGhlIGxhdGVzdCBzdG9yZSBzdGF0ZVxuICAgICAgICAgIC8vIHRvIGRldGVybWluZSB3aGF0IHRoZSBjaGlsZCBwcm9wcyBzaG91bGQgYmUuXG4gICAgICAgICAgcmV0dXJuIGNoaWxkUHJvcHNTZWxlY3RvcihzdG9yZS5nZXRTdGF0ZSgpLCB3cmFwcGVyUHJvcHMpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yXG4gICAgICB9LCBbc3RvcmUsIHdyYXBwZXJQcm9wc10pXG5cbiAgICAgIC8vIFdlIG5lZWQgdGhpcyB0byBleGVjdXRlIHN5bmNocm9ub3VzbHkgZXZlcnkgdGltZSB3ZSByZS1yZW5kZXIuIEhvd2V2ZXIsIFJlYWN0IHdhcm5zXG4gICAgICAvLyBhYm91dCB1c2VMYXlvdXRFZmZlY3QgaW4gU1NSLCBzbyB3ZSB0cnkgdG8gZGV0ZWN0IGVudmlyb25tZW50IGFuZCBmYWxsIGJhY2sgdG9cbiAgICAgIC8vIGp1c3QgdXNlRWZmZWN0IGluc3RlYWQgdG8gYXZvaWQgdGhlIHdhcm5pbmcsIHNpbmNlIG5laXRoZXIgd2lsbCBydW4gYW55d2F5LlxuXG4gICAgICBjb25zdCBzdWJzY3JpYmVGb3JSZWFjdCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBzdWJzY3JpYmUgPSAocmVhY3RMaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge31cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlVXBkYXRlcyhcbiAgICAgICAgICAgIHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcyxcbiAgICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY2hpbGRQcm9wc1NlbGVjdG9yLFxuICAgICAgICAgICAgbGFzdFdyYXBwZXJQcm9wcyxcbiAgICAgICAgICAgIGxhc3RDaGlsZFByb3BzLFxuICAgICAgICAgICAgcmVuZGVySXNTY2hlZHVsZWQsXG4gICAgICAgICAgICBpc01vdW50ZWQsXG4gICAgICAgICAgICBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLFxuICAgICAgICAgICAgbm90aWZ5TmVzdGVkU3VicyxcbiAgICAgICAgICAgIHJlYWN0TGlzdGVuZXIsXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVxuICAgICAgfSwgW3N1YnNjcmlwdGlvbl0pXG5cbiAgICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3RXaXRoQXJncyhjYXB0dXJlV3JhcHBlclByb3BzLCBbXG4gICAgICAgIGxhc3RXcmFwcGVyUHJvcHMsXG4gICAgICAgIGxhc3RDaGlsZFByb3BzLFxuICAgICAgICByZW5kZXJJc1NjaGVkdWxlZCxcbiAgICAgICAgd3JhcHBlclByb3BzLFxuICAgICAgICBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLFxuICAgICAgICBub3RpZnlOZXN0ZWRTdWJzLFxuICAgICAgXSlcblxuICAgICAgbGV0IGFjdHVhbENoaWxkUHJvcHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGFjdHVhbENoaWxkUHJvcHMgPSBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICAvLyBUT0RPIFdlJ3JlIHBhc3NpbmcgdGhyb3VnaCBhIGJpZyB3cmFwcGVyIHRoYXQgZG9lcyBhIGJ1bmNoIG9mIGV4dHJhIHNpZGUgZWZmZWN0cyBiZXNpZGVzIHN1YnNjcmliaW5nXG4gICAgICAgICAgc3Vic2NyaWJlRm9yUmVhY3QsXG4gICAgICAgICAgLy8gVE9ETyBUaGlzIGlzIGluY3JlZGlibHkgaGFja3kuIFdlJ3ZlIGFscmVhZHkgcHJvY2Vzc2VkIHRoZSBzdG9yZSB1cGRhdGUgYW5kIGNhbGN1bGF0ZWQgbmV3IGNoaWxkIHByb3BzLFxuICAgICAgICAgIC8vIFRPRE8gYW5kIHdlJ3JlIGp1c3QgcGFzc2luZyB0aGF0IHRocm91Z2ggc28gaXQgdHJpZ2dlcnMgYSByZS1yZW5kZXIgZm9yIHVzIHJhdGhlciB0aGFuIHJlbHlpbmcgb24gYHVTRVNgLlxuICAgICAgICAgIGFjdHVhbENoaWxkUHJvcHNTZWxlY3RvcixcbiAgICAgICAgICBnZXRTZXJ2ZXJTdGF0ZVxuICAgICAgICAgICAgPyAoKSA9PiBjaGlsZFByb3BzU2VsZWN0b3IoZ2V0U2VydmVyU3RhdGUoKSwgd3JhcHBlclByb3BzKVxuICAgICAgICAgICAgOiBhY3R1YWxDaGlsZFByb3BzU2VsZWN0b3IsXG4gICAgICAgIClcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAobGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXNlbWlcbiAgICAgICAgICA7KGVyciBhcyBFcnJvcikubWVzc2FnZSArPVxuICAgICAgICAgICAgYFxcblRoZSBlcnJvciBtYXkgYmUgY29ycmVsYXRlZCB3aXRoIHRoaXMgcHJldmlvdXMgZXJyb3I6XFxuJHtsYXRlc3RTdWJzY3JpcHRpb25DYWxsYmFja0Vycm9yLmN1cnJlbnQuc3RhY2t9XFxuXFxuYFxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgZXJyXG4gICAgICB9XG5cbiAgICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsYXRlc3RTdWJzY3JpcHRpb25DYWxsYmFja0Vycm9yLmN1cnJlbnQgPSB1bmRlZmluZWRcbiAgICAgICAgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZS5jdXJyZW50ID0gdW5kZWZpbmVkXG4gICAgICAgIGxhc3RDaGlsZFByb3BzLmN1cnJlbnQgPSBhY3R1YWxDaGlsZFByb3BzXG4gICAgICB9KVxuXG4gICAgICAvLyBOb3cgdGhhdCBhbGwgdGhhdCdzIGRvbmUsIHdlIGNhbiBmaW5hbGx5IHRyeSB0byBhY3R1YWxseSByZW5kZXIgdGhlIGNoaWxkIGNvbXBvbmVudC5cbiAgICAgIC8vIFdlIG1lbW9pemUgdGhlIGVsZW1lbnRzIGZvciB0aGUgcmVuZGVyZWQgY2hpbGQgY29tcG9uZW50IGFzIGFuIG9wdGltaXphdGlvbi5cbiAgICAgIGNvbnN0IHJlbmRlcmVkV3JhcHBlZENvbXBvbmVudCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICA8V3JhcHBlZENvbXBvbmVudFxuICAgICAgICAgICAgey4uLmFjdHVhbENoaWxkUHJvcHN9XG4gICAgICAgICAgICByZWY9e3JlYWN0UmVkdXhGb3J3YXJkZWRSZWZ9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSwgW3JlYWN0UmVkdXhGb3J3YXJkZWRSZWYsIFdyYXBwZWRDb21wb25lbnQsIGFjdHVhbENoaWxkUHJvcHNdKVxuXG4gICAgICAvLyBJZiBSZWFjdCBzZWVzIHRoZSBleGFjdCBzYW1lIGVsZW1lbnQgcmVmZXJlbmNlIGFzIGxhc3QgdGltZSwgaXQgYmFpbHMgb3V0IG9mIHJlLXJlbmRlcmluZ1xuICAgICAgLy8gdGhhdCBjaGlsZCwgc2FtZSBhcyBpZiBpdCB3YXMgd3JhcHBlZCBpbiBSZWFjdC5tZW1vKCkgb3IgcmV0dXJuZWQgZmFsc2UgZnJvbSBzaG91bGRDb21wb25lbnRVcGRhdGUuXG4gICAgICBjb25zdCByZW5kZXJlZENoaWxkID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmIChzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMpIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGNvbXBvbmVudCBpcyBzdWJzY3JpYmVkIHRvIHN0b3JlIHVwZGF0ZXMsIHdlIG5lZWQgdG8gcGFzcyBpdHMgb3duXG4gICAgICAgICAgLy8gc3Vic2NyaXB0aW9uIGluc3RhbmNlIGRvd24gdG8gb3VyIGRlc2NlbmRhbnRzLiBUaGF0IG1lYW5zIHJlbmRlcmluZyB0aGUgc2FtZVxuICAgICAgICAgIC8vIENvbnRleHQgaW5zdGFuY2UsIGFuZCBwdXR0aW5nIGEgZGlmZmVyZW50IHZhbHVlIGludG8gdGhlIGNvbnRleHQuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxDb250ZXh0VG9Vc2UuUHJvdmlkZXIgdmFsdWU9e292ZXJyaWRkZW5Db250ZXh0VmFsdWV9PlxuICAgICAgICAgICAgICB7cmVuZGVyZWRXcmFwcGVkQ29tcG9uZW50fVxuICAgICAgICAgICAgPC9Db250ZXh0VG9Vc2UuUHJvdmlkZXI+XG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkV3JhcHBlZENvbXBvbmVudFxuICAgICAgfSwgW0NvbnRleHRUb1VzZSwgcmVuZGVyZWRXcmFwcGVkQ29tcG9uZW50LCBvdmVycmlkZGVuQ29udGV4dFZhbHVlXSlcblxuICAgICAgcmV0dXJuIHJlbmRlcmVkQ2hpbGRcbiAgICB9XG5cbiAgICBjb25zdCBfQ29ubmVjdCA9IFJlYWN0Lm1lbW8oQ29ubmVjdEZ1bmN0aW9uKVxuXG4gICAgdHlwZSBDb25uZWN0ZWRXcmFwcGVyQ29tcG9uZW50ID0gdHlwZW9mIF9Db25uZWN0ICYge1xuICAgICAgV3JhcHBlZENvbXBvbmVudDogdHlwZW9mIFdyYXBwZWRDb21wb25lbnRcbiAgICB9XG5cbiAgICAvLyBBZGQgYSBoYWNreSBjYXN0IHRvIGdldCB0aGUgcmlnaHQgb3V0cHV0IHR5cGVcbiAgICBjb25zdCBDb25uZWN0ID0gX0Nvbm5lY3QgYXMgdW5rbm93biBhcyBDb25uZWN0ZWRDb21wb25lbnQ8XG4gICAgICB0eXBlb2YgV3JhcHBlZENvbXBvbmVudCxcbiAgICAgIFdyYXBwZWRDb21wb25lbnRQcm9wc1xuICAgID5cbiAgICBDb25uZWN0LldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50XG4gICAgQ29ubmVjdC5kaXNwbGF5TmFtZSA9IENvbm5lY3RGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lXG5cbiAgICBpZiAoZm9yd2FyZFJlZikge1xuICAgICAgY29uc3QgX2ZvcndhcmRlZCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gICAgICAgIGZ1bmN0aW9uIGZvcndhcmRDb25uZWN0UmVmKHByb3BzLCByZWYpIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgcmV0dXJuIDxDb25uZWN0IHsuLi5wcm9wc30gcmVhY3RSZWR1eEZvcndhcmRlZFJlZj17cmVmfSAvPlxuICAgICAgICB9LFxuICAgICAgKVxuXG4gICAgICBjb25zdCBmb3J3YXJkZWQgPSBfZm9yd2FyZGVkIGFzIENvbm5lY3RlZFdyYXBwZXJDb21wb25lbnRcbiAgICAgIGZvcndhcmRlZC5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lXG4gICAgICBmb3J3YXJkZWQuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnRcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovIGhvaXN0U3RhdGljcyhmb3J3YXJkZWQsIFdyYXBwZWRDb21wb25lbnQpXG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gaG9pc3RTdGF0aWNzKENvbm5lY3QsIFdyYXBwZWRDb21wb25lbnQpXG4gIH1cblxuICByZXR1cm4gd3JhcFdpdGhDb25uZWN0XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QgYXMgQ29ubmVjdFxuIiwiaW1wb3J0IHR5cGUgeyBDb250ZXh0LCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJlYWN0IH0gZnJvbSAnLi4vdXRpbHMvcmVhY3QnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbiwgU3RvcmUsIFVua25vd25BY3Rpb24gfSBmcm9tICdyZWR1eCdcbmltcG9ydCB0eXBlIHsgRGV2TW9kZUNoZWNrRnJlcXVlbmN5IH0gZnJvbSAnLi4vaG9va3MvdXNlU2VsZWN0b3InXG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb24gfSBmcm9tICcuLi91dGlscy9TdWJzY3JpcHRpb24nXG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vdXRpbHMvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCdcbmltcG9ydCB0eXBlIHsgUmVhY3RSZWR1eENvbnRleHRWYWx1ZSB9IGZyb20gJy4vQ29udGV4dCdcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi9Db250ZXh0J1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb3ZpZGVyUHJvcHM8XG4gIEEgZXh0ZW5kcyBBY3Rpb248c3RyaW5nPiA9IFVua25vd25BY3Rpb24sXG4gIFMgPSB1bmtub3duLFxuPiB7XG4gIC8qKlxuICAgKiBUaGUgc2luZ2xlIFJlZHV4IHN0b3JlIGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuICBzdG9yZTogU3RvcmU8UywgQT5cblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgc2VydmVyIHN0YXRlIHNuYXBzaG90LiBXaWxsIGJlIHVzZWQgZHVyaW5nIGluaXRpYWwgaHlkcmF0aW9uIHJlbmRlciBpZiBhdmFpbGFibGUsIHRvIGVuc3VyZSB0aGF0IHRoZSBVSSBvdXRwdXQgaXMgY29uc2lzdGVudCB3aXRoIHRoZSBIVE1MIGdlbmVyYXRlZCBvbiB0aGUgc2VydmVyLlxuICAgKi9cbiAgc2VydmVyU3RhdGU/OiBTXG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNvbnRleHQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5IGluIHJlYWN0LXJlZHV4LiBVc2UgUmVhY3QuY3JlYXRlQ29udGV4dCgpIHRvIGNyZWF0ZSBhIGNvbnRleHQgdG8gYmUgdXNlZC5cbiAgICogSWYgdGhpcyBpcyB1c2VkLCB5b3UnbGwgbmVlZCB0byBjdXN0b21pemUgYGNvbm5lY3RgIGJ5IHN1cHBseWluZyB0aGUgc2FtZSBjb250ZXh0IHByb3ZpZGVkIHRvIHRoZSBQcm92aWRlci5cbiAgICogU2V0IHRoZSBpbml0aWFsIHZhbHVlIHRvIG51bGwsIGFuZCB0aGUgaG9va3Mgd2lsbCBlcnJvclxuICAgKiBpZiB0aGlzIGlzIG5vdCBvdmVyd3JpdHRlbiBieSBQcm92aWRlci5cbiAgICovXG4gIGNvbnRleHQ/OiBDb250ZXh0PFJlYWN0UmVkdXhDb250ZXh0VmFsdWU8UywgQT4gfCBudWxsPlxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBmcmVxdWVuY3kgb2Ygc3RhYmlsaXR5IGNoZWNrcyBmb3IgYWxsIHNlbGVjdG9ycy5cbiAgICogVGhpcyBzZXR0aW5nIG92ZXJyaWRlcyB0aGUgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gZm9yXG4gICAqIHRoZSBgdXNlU2VsZWN0b3JgIHN0YWJpbGl0eSBjaGVjaywgYWxsb3dpbmcgeW91IHRvIHNwZWNpZnkgaG93IG9mdGVuXG4gICAqIHRoZXNlIGNoZWNrcyBzaG91bGQgb2NjdXIgaW4gZGV2ZWxvcG1lbnQgbW9kZS5cbiAgICpcbiAgICogQHNpbmNlIDguMS4wXG4gICAqL1xuICBzdGFiaWxpdHlDaGVjaz86IERldk1vZGVDaGVja0ZyZXF1ZW5jeVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBmcmVxdWVuY3kgb2YgaWRlbnRpdHkgZnVuY3Rpb24gY2hlY2tzIGZvciBhbGwgc2VsZWN0b3JzLlxuICAgKiBUaGlzIHNldHRpbmcgb3ZlcnJpZGVzIHRoZSBnbG9iYWwgY29uZmlndXJhdGlvbiBmb3JcbiAgICogdGhlIGB1c2VTZWxlY3RvcmAgaWRlbnRpdHkgZnVuY3Rpb24gY2hlY2ssIGFsbG93aW5nIHlvdSB0byBzcGVjaWZ5IGhvdyBvZnRlblxuICAgKiB0aGVzZSBjaGVja3Mgc2hvdWxkIG9jY3VyIGluIGRldmVsb3BtZW50IG1vZGUuXG4gICAqXG4gICAqICoqTm90ZSoqOiBQcmV2aW91c2x5IHJlZmVycmVkIHRvIGFzIGBub29wQ2hlY2tgLlxuICAgKlxuICAgKiBAc2luY2UgOS4wLjBcbiAgICovXG4gIGlkZW50aXR5RnVuY3Rpb25DaGVjaz86IERldk1vZGVDaGVja0ZyZXF1ZW5jeVxuXG4gIGNoaWxkcmVuOiBSZWFjdE5vZGVcbn1cblxuZnVuY3Rpb24gUHJvdmlkZXI8QSBleHRlbmRzIEFjdGlvbjxzdHJpbmc+ID0gVW5rbm93bkFjdGlvbiwgUyA9IHVua25vd24+KFxuICBwcm92aWRlclByb3BzOiBQcm92aWRlclByb3BzPEEsIFM+LFxuKSB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGNvbnRleHQsIHNlcnZlclN0YXRlLCBzdG9yZSB9ID0gcHJvdmlkZXJQcm9wc1xuXG4gIGNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGNyZWF0ZVN1YnNjcmlwdGlvbihzdG9yZSlcblxuICAgIGNvbnN0IGJhc2VDb250ZXh0VmFsdWUgPSB7XG4gICAgICBzdG9yZSxcbiAgICAgIHN1YnNjcmlwdGlvbixcbiAgICAgIGdldFNlcnZlclN0YXRlOiBzZXJ2ZXJTdGF0ZSA/ICgpID0+IHNlcnZlclN0YXRlIDogdW5kZWZpbmVkLFxuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbnRleHRWYWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IGlkZW50aXR5RnVuY3Rpb25DaGVjayA9ICdvbmNlJywgc3RhYmlsaXR5Q2hlY2sgPSAnb25jZScgfSA9XG4gICAgICAgIHByb3ZpZGVyUHJvcHNcblxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuYXNzaWduKGJhc2VDb250ZXh0VmFsdWUsIHtcbiAgICAgICAgc3RhYmlsaXR5Q2hlY2ssXG4gICAgICAgIGlkZW50aXR5RnVuY3Rpb25DaGVjayxcbiAgICAgIH0pXG4gICAgfVxuICB9LCBbc3RvcmUsIHNlcnZlclN0YXRlXSlcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gUmVhY3QudXNlTWVtbygoKSA9PiBzdG9yZS5nZXRTdGF0ZSgpLCBbc3RvcmVdKVxuXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHsgc3Vic2NyaXB0aW9uIH0gPSBjb250ZXh0VmFsdWVcbiAgICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSA9IHN1YnNjcmlwdGlvbi5ub3RpZnlOZXN0ZWRTdWJzXG4gICAgc3Vic2NyaXB0aW9uLnRyeVN1YnNjcmliZSgpXG5cbiAgICBpZiAocHJldmlvdXNTdGF0ZSAhPT0gc3RvcmUuZ2V0U3RhdGUoKSkge1xuICAgICAgc3Vic2NyaXB0aW9uLm5vdGlmeU5lc3RlZFN1YnMoKVxuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3Vic2NyaXB0aW9uLnRyeVVuc3Vic2NyaWJlKClcbiAgICAgIHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlID0gdW5kZWZpbmVkXG4gICAgfVxuICB9LCBbY29udGV4dFZhbHVlLCBwcmV2aW91c1N0YXRlXSlcblxuICBjb25zdCBDb250ZXh0ID0gY29udGV4dCB8fCBSZWFjdFJlZHV4Q29udGV4dFxuXG4gIHJldHVybiA8Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT57Y2hpbGRyZW59PC9Db250ZXh0LlByb3ZpZGVyPlxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm92aWRlclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICcuLi91dGlscy9yZWFjdCdcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuaW1wb3J0IHR5cGUgeyBSZWFjdFJlZHV4Q29udGV4dFZhbHVlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuXG4vKipcbiAqIEhvb2sgZmFjdG9yeSwgd2hpY2ggY3JlYXRlcyBhIGB1c2VSZWR1eENvbnRleHRgIGhvb2sgYm91bmQgdG8gYSBnaXZlbiBjb250ZXh0LiBUaGlzIGlzIGEgbG93LWxldmVsXG4gKiBob29rIHRoYXQgeW91IHNob3VsZCB1c3VhbGx5IG5vdCBuZWVkIHRvIGNhbGwgZGlyZWN0bHkuXG4gKlxuICogQHBhcmFtIHtSZWFjdC5Db250ZXh0fSBbY29udGV4dD1SZWFjdFJlZHV4Q29udGV4dF0gQ29udGV4dCBwYXNzZWQgdG8geW91ciBgPFByb3ZpZGVyPmAuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgYHVzZVJlZHV4Q29udGV4dGAgaG9vayBib3VuZCB0byB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWR1eENvbnRleHRIb29rKGNvbnRleHQgPSBSZWFjdFJlZHV4Q29udGV4dCkge1xuICByZXR1cm4gZnVuY3Rpb24gdXNlUmVkdXhDb250ZXh0KCk6IFJlYWN0UmVkdXhDb250ZXh0VmFsdWUge1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZUNvbnRleHQoY29udGV4dClcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFjb250ZXh0VmFsdWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2NvdWxkIG5vdCBmaW5kIHJlYWN0LXJlZHV4IGNvbnRleHQgdmFsdWU7IHBsZWFzZSBlbnN1cmUgdGhlIGNvbXBvbmVudCBpcyB3cmFwcGVkIGluIGEgPFByb3ZpZGVyPicsXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHRWYWx1ZSFcbiAgfVxufVxuXG4vKipcbiAqIEEgaG9vayB0byBhY2Nlc3MgdGhlIHZhbHVlIG9mIHRoZSBgUmVhY3RSZWR1eENvbnRleHRgLiBUaGlzIGlzIGEgbG93LWxldmVsXG4gKiBob29rIHRoYXQgeW91IHNob3VsZCB1c3VhbGx5IG5vdCBuZWVkIHRvIGNhbGwgZGlyZWN0bHkuXG4gKlxuICogQHJldHVybnMge2FueX0gdGhlIHZhbHVlIG9mIHRoZSBgUmVhY3RSZWR1eENvbnRleHRgXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG4gKiBpbXBvcnQgeyB1c2VSZWR1eENvbnRleHQgfSBmcm9tICdyZWFjdC1yZWR1eCdcbiAqXG4gKiBleHBvcnQgY29uc3QgQ291bnRlckNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgY29uc3QgeyBzdG9yZSB9ID0gdXNlUmVkdXhDb250ZXh0KClcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmdldFN0YXRlKCl9PC9kaXY+XG4gKiB9XG4gKi9cbmV4cG9ydCBjb25zdCB1c2VSZWR1eENvbnRleHQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVJlZHV4Q29udGV4dEhvb2soKVxuIiwiaW1wb3J0IHR5cGUgeyBDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbiwgU3RvcmUgfSBmcm9tICdyZWR1eCdcbmltcG9ydCB0eXBlIHsgUmVhY3RSZWR1eENvbnRleHRWYWx1ZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGV4dCdcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuaW1wb3J0IHtcbiAgY3JlYXRlUmVkdXhDb250ZXh0SG9vayxcbiAgdXNlUmVkdXhDb250ZXh0IGFzIHVzZURlZmF1bHRSZWR1eENvbnRleHQsXG59IGZyb20gJy4vdXNlUmVkdXhDb250ZXh0J1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSB0eXBlIHRoYXQgZXh0cmFjdHMgdGhlIGFjdGlvbiB0eXBlIGZyb20gYSBnaXZlbiBSZWR1eCBzdG9yZS5cbiAqXG4gKiBAdGVtcGxhdGUgU3RvcmVUeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2YgdGhlIFJlZHV4IHN0b3JlLlxuICpcbiAqIEBzaW5jZSA5LjEuMFxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB0eXBlIEV4dHJhY3RTdG9yZUFjdGlvblR5cGU8U3RvcmVUeXBlIGV4dGVuZHMgU3RvcmU+ID1cbiAgU3RvcmVUeXBlIGV4dGVuZHMgU3RvcmU8YW55LCBpbmZlciBBY3Rpb25UeXBlPiA/IEFjdGlvblR5cGUgOiBuZXZlclxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjdXN0b20gaG9vayB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgUmVkdXggc3RvcmUuXG4gKlxuICogQHRlbXBsYXRlIFN0b3JlVHlwZSAtIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHRoZSBSZWR1eCBzdG9yZSB0aGF0IGdldHMgcmV0dXJuZWQuXG4gKlxuICogQHNpbmNlIDkuMS4wXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RvcmU8U3RvcmVUeXBlIGV4dGVuZHMgU3RvcmU+IHtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFJlZHV4IHN0b3JlIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgUmVkdXggc3RvcmUgaW5zdGFuY2UuXG4gICAqL1xuICAoKTogU3RvcmVUeXBlXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFJlZHV4IHN0b3JlIGluc3RhbmNlIHdpdGggc3BlY2lmaWMgc3RhdGUgYW5kIGFjdGlvbiB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIFJlZHV4IHN0b3JlIHdpdGggdGhlIHNwZWNpZmllZCBzdGF0ZSBhbmQgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAdGVtcGxhdGUgU3RhdGVUeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2YgdGhlIHN0YXRlIHVzZWQgaW4gdGhlIHN0b3JlLlxuICAgKiBAdGVtcGxhdGUgQWN0aW9uVHlwZSAtIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHRoZSBhY3Rpb25zIHVzZWQgaW4gdGhlIHN0b3JlLlxuICAgKi9cbiAgPFxuICAgIFN0YXRlVHlwZSBleHRlbmRzIFJldHVyblR5cGU8U3RvcmVUeXBlWydnZXRTdGF0ZSddPiA9IFJldHVyblR5cGU8XG4gICAgICBTdG9yZVR5cGVbJ2dldFN0YXRlJ11cbiAgICA+LFxuICAgIEFjdGlvblR5cGUgZXh0ZW5kcyBBY3Rpb24gPSBFeHRyYWN0U3RvcmVBY3Rpb25UeXBlPFN0b3JlPixcbiAgPigpOiBTdG9yZTxTdGF0ZVR5cGUsIEFjdGlvblR5cGU+XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBcInByZS10eXBlZFwiIHZlcnNpb24gb2Yge0BsaW5rY29kZSB1c2VTdG9yZSB1c2VTdG9yZX1cbiAgICogd2hlcmUgdGhlIHR5cGUgb2YgdGhlIFJlZHV4IGBzdG9yZWAgaXMgcHJlZGVmaW5lZC5cbiAgICpcbiAgICogVGhpcyBhbGxvd3MgeW91IHRvIHNldCB0aGUgYHN0b3JlYCB0eXBlIG9uY2UsIGVsaW1pbmF0aW5nIHRoZSBuZWVkIHRvXG4gICAqIHNwZWNpZnkgaXQgd2l0aCBldmVyeSB7QGxpbmtjb2RlIHVzZVN0b3JlIHVzZVN0b3JlfSBjYWxsLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIHByZS10eXBlZCBgdXNlU3RvcmVgIHdpdGggdGhlIHN0b3JlIHR5cGUgYWxyZWFkeSBkZWZpbmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBleHBvcnQgY29uc3QgdXNlQXBwU3RvcmUgPSB1c2VTdG9yZS53aXRoVHlwZXM8QXBwU3RvcmU+KClcbiAgICogYGBgXG4gICAqXG4gICAqIEB0ZW1wbGF0ZSBPdmVycmlkZVN0b3JlVHlwZSAtIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHRoZSBSZWR1eCBzdG9yZSB0aGF0IGdldHMgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBzaW5jZSA5LjEuMFxuICAgKi9cbiAgd2l0aFR5cGVzOiA8XG4gICAgT3ZlcnJpZGVTdG9yZVR5cGUgZXh0ZW5kcyBTdG9yZVR5cGUsXG4gID4oKSA9PiBVc2VTdG9yZTxPdmVycmlkZVN0b3JlVHlwZT5cbn1cblxuLyoqXG4gKiBIb29rIGZhY3RvcnksIHdoaWNoIGNyZWF0ZXMgYSBgdXNlU3RvcmVgIGhvb2sgYm91bmQgdG8gYSBnaXZlbiBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7UmVhY3QuQ29udGV4dH0gW2NvbnRleHQ9UmVhY3RSZWR1eENvbnRleHRdIENvbnRleHQgcGFzc2VkIHRvIHlvdXIgYDxQcm92aWRlcj5gLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGB1c2VTdG9yZWAgaG9vayBib3VuZCB0byB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdG9yZUhvb2s8XG4gIFN0YXRlVHlwZSA9IHVua25vd24sXG4gIEFjdGlvblR5cGUgZXh0ZW5kcyBBY3Rpb24gPSBBY3Rpb24sXG4+KFxuICAvLyBAdHMtaWdub3JlXG4gIGNvbnRleHQ/OiBDb250ZXh0PFJlYWN0UmVkdXhDb250ZXh0VmFsdWU8XG4gICAgU3RhdGVUeXBlLFxuICAgIEFjdGlvblR5cGVcbiAgPiB8IG51bGw+ID0gUmVhY3RSZWR1eENvbnRleHQsXG4pIHtcbiAgY29uc3QgdXNlUmVkdXhDb250ZXh0ID1cbiAgICBjb250ZXh0ID09PSBSZWFjdFJlZHV4Q29udGV4dFxuICAgICAgPyB1c2VEZWZhdWx0UmVkdXhDb250ZXh0XG4gICAgICA6IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY3JlYXRlUmVkdXhDb250ZXh0SG9vayhjb250ZXh0KVxuICBjb25zdCB1c2VTdG9yZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0b3JlIH0gPSB1c2VSZWR1eENvbnRleHQoKVxuICAgIHJldHVybiBzdG9yZVxuICB9XG5cbiAgT2JqZWN0LmFzc2lnbih1c2VTdG9yZSwge1xuICAgIHdpdGhUeXBlczogKCkgPT4gdXNlU3RvcmUsXG4gIH0pXG5cbiAgcmV0dXJuIHVzZVN0b3JlIGFzIFVzZVN0b3JlPFN0b3JlPFN0YXRlVHlwZSwgQWN0aW9uVHlwZT4+XG59XG5cbi8qKlxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgcmVkdXggc3RvcmUuXG4gKlxuICogQHJldHVybnMge2FueX0gdGhlIHJlZHV4IHN0b3JlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG4gKiBpbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuICpcbiAqIGV4cG9ydCBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKClcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmdldFN0YXRlKCl9PC9kaXY+XG4gKiB9XG4gKi9cbmV4cG9ydCBjb25zdCB1c2VTdG9yZSA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU3RvcmVIb29rKClcbiIsImltcG9ydCB0eXBlIHsgQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHR5cGUgeyBBY3Rpb24sIERpc3BhdGNoLCBVbmtub3duQWN0aW9uIH0gZnJvbSAncmVkdXgnXG5cbmltcG9ydCB0eXBlIHsgUmVhY3RSZWR1eENvbnRleHRWYWx1ZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGV4dCdcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuaW1wb3J0IHsgY3JlYXRlU3RvcmVIb29rLCB1c2VTdG9yZSBhcyB1c2VEZWZhdWx0U3RvcmUgfSBmcm9tICcuL3VzZVN0b3JlJ1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjdXN0b20gaG9vayB0aGF0IHByb3ZpZGVzIGEgZGlzcGF0Y2ggZnVuY3Rpb25cbiAqIGZyb20gdGhlIFJlZHV4IHN0b3JlLlxuICpcbiAqIEB0ZW1wbGF0ZSBEaXNwYXRjaFR5cGUgLSBUaGUgc3BlY2lmaWMgdHlwZSBvZiB0aGUgZGlzcGF0Y2ggZnVuY3Rpb24uXG4gKlxuICogQHNpbmNlIDkuMS4wXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRGlzcGF0Y2g8XG4gIERpc3BhdGNoVHlwZSBleHRlbmRzIERpc3BhdGNoPFVua25vd25BY3Rpb24+ID0gRGlzcGF0Y2g8VW5rbm93bkFjdGlvbj4sXG4+IHtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpc3BhdGNoIGZ1bmN0aW9uIGZyb20gdGhlIFJlZHV4IHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgZGlzcGF0Y2ggZnVuY3Rpb24gZnJvbSB0aGUgUmVkdXggc3RvcmUuXG4gICAqXG4gICAqIEB0ZW1wbGF0ZSBBcHBEaXNwYXRjaCAtIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHRoZSBkaXNwYXRjaCBmdW5jdGlvbi5cbiAgICovXG4gIDxBcHBEaXNwYXRjaCBleHRlbmRzIERpc3BhdGNoVHlwZSA9IERpc3BhdGNoVHlwZT4oKTogQXBwRGlzcGF0Y2hcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFwicHJlLXR5cGVkXCIgdmVyc2lvbiBvZiB7QGxpbmtjb2RlIHVzZURpc3BhdGNoIHVzZURpc3BhdGNofVxuICAgKiB3aGVyZSB0aGUgdHlwZSBvZiB0aGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBpcyBwcmVkZWZpbmVkLlxuICAgKlxuICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gc2V0IHRoZSBgZGlzcGF0Y2hgIHR5cGUgb25jZSwgZWxpbWluYXRpbmcgdGhlIG5lZWQgdG9cbiAgICogc3BlY2lmeSBpdCB3aXRoIGV2ZXJ5IHtAbGlua2NvZGUgdXNlRGlzcGF0Y2ggdXNlRGlzcGF0Y2h9IGNhbGwuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgcHJlLXR5cGVkIGB1c2VEaXNwYXRjaGAgd2l0aCB0aGUgZGlzcGF0Y2ggdHlwZSBhbHJlYWR5IGRlZmluZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGV4cG9ydCBjb25zdCB1c2VBcHBEaXNwYXRjaCA9IHVzZURpc3BhdGNoLndpdGhUeXBlczxBcHBEaXNwYXRjaD4oKVxuICAgKiBgYGBcbiAgICpcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlRGlzcGF0Y2hUeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2YgdGhlIGRpc3BhdGNoIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAc2luY2UgOS4xLjBcbiAgICovXG4gIHdpdGhUeXBlczogPFxuICAgIE92ZXJyaWRlRGlzcGF0Y2hUeXBlIGV4dGVuZHMgRGlzcGF0Y2hUeXBlLFxuICA+KCkgPT4gVXNlRGlzcGF0Y2g8T3ZlcnJpZGVEaXNwYXRjaFR5cGU+XG59XG5cbi8qKlxuICogSG9vayBmYWN0b3J5LCB3aGljaCBjcmVhdGVzIGEgYHVzZURpc3BhdGNoYCBob29rIGJvdW5kIHRvIGEgZ2l2ZW4gY29udGV4dC5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0LkNvbnRleHR9IFtjb250ZXh0PVJlYWN0UmVkdXhDb250ZXh0XSBDb250ZXh0IHBhc3NlZCB0byB5b3VyIGA8UHJvdmlkZXI+YC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBgdXNlRGlzcGF0Y2hgIGhvb2sgYm91bmQgdG8gdGhlIHNwZWNpZmllZCBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGlzcGF0Y2hIb29rPFxuICBTdGF0ZVR5cGUgPSB1bmtub3duLFxuICBBY3Rpb25UeXBlIGV4dGVuZHMgQWN0aW9uID0gVW5rbm93bkFjdGlvbixcbj4oXG4gIC8vIEB0cy1pZ25vcmVcbiAgY29udGV4dD86IENvbnRleHQ8UmVhY3RSZWR1eENvbnRleHRWYWx1ZTxcbiAgICBTdGF0ZVR5cGUsXG4gICAgQWN0aW9uVHlwZVxuICA+IHwgbnVsbD4gPSBSZWFjdFJlZHV4Q29udGV4dCxcbikge1xuICBjb25zdCB1c2VTdG9yZSA9XG4gICAgY29udGV4dCA9PT0gUmVhY3RSZWR1eENvbnRleHQgPyB1c2VEZWZhdWx0U3RvcmUgOiBjcmVhdGVTdG9yZUhvb2soY29udGV4dClcblxuICBjb25zdCB1c2VEaXNwYXRjaCA9ICgpID0+IHtcbiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKClcbiAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2hcbiAgfVxuXG4gIE9iamVjdC5hc3NpZ24odXNlRGlzcGF0Y2gsIHtcbiAgICB3aXRoVHlwZXM6ICgpID0+IHVzZURpc3BhdGNoLFxuICB9KVxuXG4gIHJldHVybiB1c2VEaXNwYXRjaCBhcyBVc2VEaXNwYXRjaDxEaXNwYXRjaDxBY3Rpb25UeXBlPj5cbn1cblxuLyoqXG4gKiBBIGhvb2sgdG8gYWNjZXNzIHRoZSByZWR1eCBgZGlzcGF0Y2hgIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHthbnl8ZnVuY3Rpb259IHJlZHV4IHN0b3JlJ3MgYGRpc3BhdGNoYCBmdW5jdGlvblxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG4gKiBpbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuICpcbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyQ29tcG9uZW50ID0gKHsgdmFsdWUgfSkgPT4ge1xuICogICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcbiAqICAgY29uc3QgaW5jcmVhc2VDb3VudGVyID0gdXNlQ2FsbGJhY2soKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiAnaW5jcmVhc2UtY291bnRlcicgfSksIFtdKVxuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj57dmFsdWV9PC9zcGFuPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtpbmNyZWFzZUNvdW50ZXJ9PkluY3JlYXNlIGNvdW50ZXI8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKVxuICogfVxuICovXG5leHBvcnQgY29uc3QgdXNlRGlzcGF0Y2ggPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURpc3BhdGNoSG9vaygpXG4iLCIvL2ltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUmVhY3QgfSBmcm9tICcuLi91dGlscy9yZWFjdCdcbmltcG9ydCB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yIH0gZnJvbSAndXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvd2l0aC1zZWxlY3Rvci5qcydcbmltcG9ydCB0eXBlIHsgUmVhY3RSZWR1eENvbnRleHRWYWx1ZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGV4dCdcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuaW1wb3J0IHR5cGUgeyBFcXVhbGl0eUZuLCBOb0luZmVyIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQge1xuICBjcmVhdGVSZWR1eENvbnRleHRIb29rLFxuICB1c2VSZWR1eENvbnRleHQgYXMgdXNlRGVmYXVsdFJlZHV4Q29udGV4dCxcbn0gZnJvbSAnLi91c2VSZWR1eENvbnRleHQnXG5cbi8qKlxuICogVGhlIGZyZXF1ZW5jeSBvZiBkZXZlbG9wbWVudCBtb2RlIGNoZWNrcy5cbiAqXG4gKiBAc2luY2UgOC4xLjBcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdHlwZSBEZXZNb2RlQ2hlY2tGcmVxdWVuY3kgPSAnbmV2ZXInIHwgJ29uY2UnIHwgJ2Fsd2F5cydcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBjb25maWd1cmF0aW9uIGZvciBkZXZlbG9wbWVudCBtb2RlIGNoZWNrcy5cbiAqXG4gKiBAc2luY2UgOS4wLjBcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIERldk1vZGVDaGVja3Mge1xuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBnbG9iYWwgc3RhYmlsaXR5IGNoZWNrIGZvciB0aGUgc2VsZWN0b3IuXG4gICAqIC0gYG9uY2VgIC0gUnVuIG9ubHkgdGhlIGZpcnN0IHRpbWUgdGhlIHNlbGVjdG9yIGlzIGNhbGxlZC5cbiAgICogLSBgYWx3YXlzYCAtIFJ1biBldmVyeSB0aW1lIHRoZSBzZWxlY3RvciBpcyBjYWxsZWQuXG4gICAqIC0gYG5ldmVyYCAtIE5ldmVyIHJ1biB0aGUgc3RhYmlsaXR5IGNoZWNrLlxuICAgKlxuICAgKiBAZGVmYXVsdCAnb25jZSdcbiAgICpcbiAgICogQHNpbmNlIDguMS4wXG4gICAqL1xuICBzdGFiaWxpdHlDaGVjazogRGV2TW9kZUNoZWNrRnJlcXVlbmN5XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgZ2xvYmFsIGlkZW50aXR5IGZ1bmN0aW9uIGNoZWNrIGZvciB0aGUgc2VsZWN0b3IuXG4gICAqIC0gYG9uY2VgIC0gUnVuIG9ubHkgdGhlIGZpcnN0IHRpbWUgdGhlIHNlbGVjdG9yIGlzIGNhbGxlZC5cbiAgICogLSBgYWx3YXlzYCAtIFJ1biBldmVyeSB0aW1lIHRoZSBzZWxlY3RvciBpcyBjYWxsZWQuXG4gICAqIC0gYG5ldmVyYCAtIE5ldmVyIHJ1biB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gY2hlY2suXG4gICAqXG4gICAqICoqTm90ZSoqOiBQcmV2aW91c2x5IHJlZmVycmVkIHRvIGFzIGBub29wQ2hlY2tgLlxuICAgKlxuICAgKiBAZGVmYXVsdCAnb25jZSdcbiAgICpcbiAgICogQHNpbmNlIDkuMC4wXG4gICAqL1xuICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2s6IERldk1vZGVDaGVja0ZyZXF1ZW5jeVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVNlbGVjdG9yT3B0aW9uczxTZWxlY3RlZCA9IHVua25vd24+IHtcbiAgZXF1YWxpdHlGbj86IEVxdWFsaXR5Rm48U2VsZWN0ZWQ+XG5cbiAgLyoqXG4gICAqIGB1c2VTZWxlY3RvcmAgcGVyZm9ybXMgYWRkaXRpb25hbCBjaGVja3MgaW4gZGV2ZWxvcG1lbnQgbW9kZSB0byBoZWxwXG4gICAqIGlkZW50aWZ5IGFuZCB3YXJuIGFib3V0IHBvdGVudGlhbCBpc3N1ZXMgaW4gc2VsZWN0b3IgYmVoYXZpb3IuIFRoaXNcbiAgICogb3B0aW9uIGFsbG93cyB5b3UgdG8gY3VzdG9taXplIHRoZSBiZWhhdmlvciBvZiB0aGVzZSBjaGVja3MgcGVyIHNlbGVjdG9yLlxuICAgKlxuICAgKiBAc2luY2UgOS4wLjBcbiAgICovXG4gIGRldk1vZGVDaGVja3M/OiBQYXJ0aWFsPERldk1vZGVDaGVja3M+XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGN1c3RvbSBob29rIHRoYXQgYWxsb3dzIHlvdSB0byBleHRyYWN0IGRhdGEgZnJvbSB0aGVcbiAqIFJlZHV4IHN0b3JlIHN0YXRlLCB1c2luZyBhIHNlbGVjdG9yIGZ1bmN0aW9uLiBUaGUgc2VsZWN0b3IgZnVuY3Rpb25cbiAqIHRha2VzIHRoZSBjdXJyZW50IHN0YXRlIGFzIGFuIGFyZ3VtZW50IGFuZCByZXR1cm5zIGEgcGFydCBvZiB0aGUgc3RhdGVcbiAqIG9yIHNvbWUgZGVyaXZlZCBkYXRhLiBUaGUgaG9vayBhbHNvIHN1cHBvcnRzIGFuIG9wdGlvbmFsIGVxdWFsaXR5XG4gKiBmdW5jdGlvbiBvciBvcHRpb25zIG9iamVjdCB0byBjdXN0b21pemUgaXRzIGJlaGF2aW9yLlxuICpcbiAqIEB0ZW1wbGF0ZSBTdGF0ZVR5cGUgLSBUaGUgc3BlY2lmaWMgdHlwZSBvZiBzdGF0ZSB0aGlzIGhvb2sgb3BlcmF0ZXMgb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZVNlbGVjdG9yPFN0YXRlVHlwZSA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHNlbGVjdG9yIGZ1bmN0aW9uIGFzIGl0cyBmaXJzdCBhcmd1bWVudC5cbiAgICogVGhlIHNlbGVjdG9yIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBzZWxlY3RpbmcgYSBwYXJ0IG9mXG4gICAqIHRoZSBSZWR1eCBzdG9yZSdzIHN0YXRlIG9yIGNvbXB1dGluZyBkZXJpdmVkIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEEgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyB0aGUgY3VycmVudCBzdGF0ZSBhbmQgcmV0dXJucyBhIHBhcnQgb2YgdGhlIHN0YXRlIG9yIHNvbWUgZGVyaXZlZCBkYXRhLlxuICAgKiBAcGFyYW0gZXF1YWxpdHlGbk9yT3B0aW9ucyAtIEFuIG9wdGlvbmFsIGVxdWFsaXR5IGZ1bmN0aW9uIG9yIG9wdGlvbnMgb2JqZWN0IGZvciBjdXN0b21pemluZyB0aGUgYmVoYXZpb3Igb2YgdGhlIHNlbGVjdG9yLlxuICAgKiBAcmV0dXJucyBUaGUgc2VsZWN0ZWQgcGFydCBvZiB0aGUgc3RhdGUgb3IgZGVyaXZlZCBkYXRhLlxuICAgKlxuICAgKiBAdGVtcGxhdGUgVFN0YXRlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2Ygc3RhdGUgdGhpcyBob29rIG9wZXJhdGVzIG9uLlxuICAgKiBAdGVtcGxhdGUgU2VsZWN0ZWQgLSBUaGUgdHlwZSBvZiB0aGUgdmFsdWUgdGhhdCB0aGUgc2VsZWN0b3IgZnVuY3Rpb24gd2lsbCByZXR1cm4uXG4gICAqL1xuICA8VFN0YXRlIGV4dGVuZHMgU3RhdGVUeXBlID0gU3RhdGVUeXBlLCBTZWxlY3RlZCA9IHVua25vd24+KFxuICAgIHNlbGVjdG9yOiAoc3RhdGU6IFRTdGF0ZSkgPT4gU2VsZWN0ZWQsXG4gICAgZXF1YWxpdHlGbk9yT3B0aW9ucz86IEVxdWFsaXR5Rm48U2VsZWN0ZWQ+IHwgVXNlU2VsZWN0b3JPcHRpb25zPFNlbGVjdGVkPixcbiAgKTogU2VsZWN0ZWRcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFwicHJlLXR5cGVkXCIgdmVyc2lvbiBvZiB7QGxpbmtjb2RlIHVzZVNlbGVjdG9yIHVzZVNlbGVjdG9yfVxuICAgKiB3aGVyZSB0aGUgYHN0YXRlYCB0eXBlIGlzIHByZWRlZmluZWQuXG4gICAqXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBzZXQgdGhlIGBzdGF0ZWAgdHlwZSBvbmNlLCBlbGltaW5hdGluZyB0aGUgbmVlZCB0b1xuICAgKiBzcGVjaWZ5IGl0IHdpdGggZXZlcnkge0BsaW5rY29kZSB1c2VTZWxlY3RvciB1c2VTZWxlY3Rvcn0gY2FsbC5cbiAgICpcbiAgICogQHJldHVybnMgQSBwcmUtdHlwZWQgYHVzZVNlbGVjdG9yYCB3aXRoIHRoZSBzdGF0ZSB0eXBlIGFscmVhZHkgZGVmaW5lZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogZXhwb3J0IGNvbnN0IHVzZUFwcFNlbGVjdG9yID0gdXNlU2VsZWN0b3Iud2l0aFR5cGVzPFJvb3RTdGF0ZT4oKVxuICAgKiBgYGBcbiAgICpcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlU3RhdGVUeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2Ygc3RhdGUgdGhpcyBob29rIG9wZXJhdGVzIG9uLlxuICAgKlxuICAgKiBAc2luY2UgOS4xLjBcbiAgICovXG4gIHdpdGhUeXBlczogPFxuICAgIE92ZXJyaWRlU3RhdGVUeXBlIGV4dGVuZHMgU3RhdGVUeXBlLFxuICA+KCkgPT4gVXNlU2VsZWN0b3I8T3ZlcnJpZGVTdGF0ZVR5cGU+XG59XG5cbmNvbnN0IHJlZkVxdWFsaXR5OiBFcXVhbGl0eUZuPGFueT4gPSAoYSwgYikgPT4gYSA9PT0gYlxuXG4vKipcbiAqIEhvb2sgZmFjdG9yeSwgd2hpY2ggY3JlYXRlcyBhIGB1c2VTZWxlY3RvcmAgaG9vayBib3VuZCB0byBhIGdpdmVuIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHtSZWFjdC5Db250ZXh0fSBbY29udGV4dD1SZWFjdFJlZHV4Q29udGV4dF0gQ29udGV4dCBwYXNzZWQgdG8geW91ciBgPFByb3ZpZGVyPmAuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgYHVzZVNlbGVjdG9yYCBob29rIGJvdW5kIHRvIHRoZSBzcGVjaWZpZWQgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9ySG9vayhcbiAgY29udGV4dDogUmVhY3QuQ29udGV4dDxSZWFjdFJlZHV4Q29udGV4dFZhbHVlPFxuICAgIGFueSxcbiAgICBhbnlcbiAgPiB8IG51bGw+ID0gUmVhY3RSZWR1eENvbnRleHQsXG4pOiBVc2VTZWxlY3RvciB7XG4gIGNvbnN0IHVzZVJlZHV4Q29udGV4dCA9XG4gICAgY29udGV4dCA9PT0gUmVhY3RSZWR1eENvbnRleHRcbiAgICAgID8gdXNlRGVmYXVsdFJlZHV4Q29udGV4dFxuICAgICAgOiBjcmVhdGVSZWR1eENvbnRleHRIb29rKGNvbnRleHQpXG5cbiAgY29uc3QgdXNlU2VsZWN0b3IgPSA8VFN0YXRlLCBTZWxlY3RlZD4oXG4gICAgc2VsZWN0b3I6IChzdGF0ZTogVFN0YXRlKSA9PiBTZWxlY3RlZCxcbiAgICBlcXVhbGl0eUZuT3JPcHRpb25zOlxuICAgICAgfCBFcXVhbGl0eUZuPE5vSW5mZXI8U2VsZWN0ZWQ+PlxuICAgICAgfCBVc2VTZWxlY3Rvck9wdGlvbnM8Tm9JbmZlcjxTZWxlY3RlZD4+ID0ge30sXG4gICk6IFNlbGVjdGVkID0+IHtcbiAgICBjb25zdCB7IGVxdWFsaXR5Rm4gPSByZWZFcXVhbGl0eSB9ID1cbiAgICAgIHR5cGVvZiBlcXVhbGl0eUZuT3JPcHRpb25zID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8geyBlcXVhbGl0eUZuOiBlcXVhbGl0eUZuT3JPcHRpb25zIH1cbiAgICAgICAgOiBlcXVhbGl0eUZuT3JPcHRpb25zXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBZb3UgbXVzdCBwYXNzIGEgc2VsZWN0b3IgdG8gdXNlU2VsZWN0b3JgKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFlvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiBhcyBhIHNlbGVjdG9yIHRvIHVzZVNlbGVjdG9yYClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZXF1YWxpdHlGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFlvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiBhcyBhbiBlcXVhbGl0eSBmdW5jdGlvbiB0byB1c2VTZWxlY3RvcmAsXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZWR1eENvbnRleHQgPSB1c2VSZWR1eENvbnRleHQoKVxuXG4gICAgY29uc3QgeyBzdG9yZSwgc3Vic2NyaXB0aW9uLCBnZXRTZXJ2ZXJTdGF0ZSB9ID0gcmVkdXhDb250ZXh0XG5cbiAgICBjb25zdCBmaXJzdFJ1biA9IFJlYWN0LnVzZVJlZih0cnVlKVxuXG4gICAgY29uc3Qgd3JhcHBlZFNlbGVjdG9yID0gUmVhY3QudXNlQ2FsbGJhY2s8dHlwZW9mIHNlbGVjdG9yPihcbiAgICAgIHtcbiAgICAgICAgW3NlbGVjdG9yLm5hbWVdKHN0YXRlOiBUU3RhdGUpIHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHNlbGVjdG9yKHN0YXRlKVxuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldk1vZGVDaGVja3MgPSB7fSB9ID1cbiAgICAgICAgICAgICAgdHlwZW9mIGVxdWFsaXR5Rm5Pck9wdGlvbnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IHt9XG4gICAgICAgICAgICAgICAgOiBlcXVhbGl0eUZuT3JPcHRpb25zXG4gICAgICAgICAgICBjb25zdCB7IGlkZW50aXR5RnVuY3Rpb25DaGVjaywgc3RhYmlsaXR5Q2hlY2sgfSA9IHJlZHV4Q29udGV4dFxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2s6IGZpbmFsSWRlbnRpdHlGdW5jdGlvbkNoZWNrLFxuICAgICAgICAgICAgICBzdGFiaWxpdHlDaGVjazogZmluYWxTdGFiaWxpdHlDaGVjayxcbiAgICAgICAgICAgIH0gPSB7XG4gICAgICAgICAgICAgIHN0YWJpbGl0eUNoZWNrLFxuICAgICAgICAgICAgICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2ssXG4gICAgICAgICAgICAgIC4uLmRldk1vZGVDaGVja3MsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGZpbmFsU3RhYmlsaXR5Q2hlY2sgPT09ICdhbHdheXMnIHx8XG4gICAgICAgICAgICAgIChmaW5hbFN0YWJpbGl0eUNoZWNrID09PSAnb25jZScgJiYgZmlyc3RSdW4uY3VycmVudClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCB0b0NvbXBhcmUgPSBzZWxlY3RvcihzdGF0ZSlcbiAgICAgICAgICAgICAgaWYgKCFlcXVhbGl0eUZuKHNlbGVjdGVkLCB0b0NvbXBhcmUpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YWNrOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtc2VtaVxuICAgICAgICAgICAgICAgICAgOyh7IHN0YWNrIH0gPSBlIGFzIEVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAnU2VsZWN0b3IgJyArXG4gICAgICAgICAgICAgICAgICAgIChzZWxlY3Rvci5uYW1lIHx8ICd1bmtub3duJykgK1xuICAgICAgICAgICAgICAgICAgICAnIHJldHVybmVkIGEgZGlmZmVyZW50IHJlc3VsdCB3aGVuIGNhbGxlZCB3aXRoIHRoZSBzYW1lIHBhcmFtZXRlcnMuIFRoaXMgY2FuIGxlYWQgdG8gdW5uZWNlc3NhcnkgcmVyZW5kZXJzLicgK1xuICAgICAgICAgICAgICAgICAgICAnXFxuU2VsZWN0b3JzIHRoYXQgcmV0dXJuIGEgbmV3IHJlZmVyZW5jZSAoc3VjaCBhcyBhbiBvYmplY3Qgb3IgYW4gYXJyYXkpIHNob3VsZCBiZSBtZW1vaXplZDogaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdXNhZ2UvZGVyaXZpbmctZGF0YS1zZWxlY3RvcnMjb3B0aW1pemluZy1zZWxlY3RvcnMtd2l0aC1tZW1vaXphdGlvbicsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQyOiB0b0NvbXBhcmUsXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZmluYWxJZGVudGl0eUZ1bmN0aW9uQ2hlY2sgPT09ICdhbHdheXMnIHx8XG4gICAgICAgICAgICAgIChmaW5hbElkZW50aXR5RnVuY3Rpb25DaGVjayA9PT0gJ29uY2UnICYmIGZpcnN0UnVuLmN1cnJlbnQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWQgPT09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YWNrOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtc2VtaVxuICAgICAgICAgICAgICAgICAgOyh7IHN0YWNrIH0gPSBlIGFzIEVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAnU2VsZWN0b3IgJyArXG4gICAgICAgICAgICAgICAgICAgIChzZWxlY3Rvci5uYW1lIHx8ICd1bmtub3duJykgK1xuICAgICAgICAgICAgICAgICAgICAnIHJldHVybmVkIHRoZSByb290IHN0YXRlIHdoZW4gY2FsbGVkLiBUaGlzIGNhbiBsZWFkIHRvIHVubmVjZXNzYXJ5IHJlcmVuZGVycy4nICtcbiAgICAgICAgICAgICAgICAgICAgJ1xcblNlbGVjdG9ycyB0aGF0IHJldHVybiB0aGUgZW50aXJlIHN0YXRlIGFyZSBhbG1vc3QgY2VydGFpbmx5IGEgbWlzdGFrZSwgYXMgdGhleSB3aWxsIGNhdXNlIGEgcmVyZW5kZXIgd2hlbmV2ZXIgKmFueXRoaW5nKiBpbiBzdGF0ZSBjaGFuZ2VzLicsXG4gICAgICAgICAgICAgICAgICB7IHN0YWNrIH0sXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlyc3RSdW4uY3VycmVudCkgZmlyc3RSdW4uY3VycmVudCA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzZWxlY3RlZFxuICAgICAgICB9LFxuICAgICAgfVtzZWxlY3Rvci5uYW1lXSxcbiAgICAgIFtzZWxlY3Rvcl0sXG4gICAgKVxuXG4gICAgY29uc3Qgc2VsZWN0ZWRTdGF0ZSA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yKFxuICAgICAgc3Vic2NyaXB0aW9uLmFkZE5lc3RlZFN1YixcbiAgICAgIHN0b3JlLmdldFN0YXRlLFxuICAgICAgZ2V0U2VydmVyU3RhdGUgfHwgc3RvcmUuZ2V0U3RhdGUsXG4gICAgICB3cmFwcGVkU2VsZWN0b3IsXG4gICAgICBlcXVhbGl0eUZuLFxuICAgIClcblxuICAgIFJlYWN0LnVzZURlYnVnVmFsdWUoc2VsZWN0ZWRTdGF0ZSlcblxuICAgIHJldHVybiBzZWxlY3RlZFN0YXRlXG4gIH1cblxuICBPYmplY3QuYXNzaWduKHVzZVNlbGVjdG9yLCB7XG4gICAgd2l0aFR5cGVzOiAoKSA9PiB1c2VTZWxlY3RvcixcbiAgfSlcblxuICByZXR1cm4gdXNlU2VsZWN0b3IgYXMgVXNlU2VsZWN0b3Jcbn1cblxuLyoqXG4gKiBBIGhvb2sgdG8gYWNjZXNzIHRoZSByZWR1eCBzdG9yZSdzIHN0YXRlLiBUaGlzIGhvb2sgdGFrZXMgYSBzZWxlY3RvciBmdW5jdGlvblxuICogYXMgYW4gYXJndW1lbnQuIFRoZSBzZWxlY3RvciBpcyBjYWxsZWQgd2l0aCB0aGUgc3RvcmUgc3RhdGUuXG4gKlxuICogVGhpcyBob29rIHRha2VzIGFuIG9wdGlvbmFsIGVxdWFsaXR5IGNvbXBhcmlzb24gZnVuY3Rpb24gYXMgdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAqIHRoYXQgYWxsb3dzIHlvdSB0byBjdXN0b21pemUgdGhlIHdheSB0aGUgc2VsZWN0ZWQgc3RhdGUgaXMgY29tcGFyZWQgdG8gZGV0ZXJtaW5lXG4gKiB3aGV0aGVyIHRoZSBjb21wb25lbnQgbmVlZHMgdG8gYmUgcmUtcmVuZGVyZWQuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc2VsZWN0b3IgdGhlIHNlbGVjdG9yIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZXF1YWxpdHlGbiB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGVxdWFsaXR5XG4gKlxuICogQHJldHVybnMge2FueX0gdGhlIHNlbGVjdGVkIHN0YXRlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG4gKiBpbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuICpcbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICBjb25zdCBjb3VudGVyID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuY291bnRlcilcbiAqICAgcmV0dXJuIDxkaXY+e2NvdW50ZXJ9PC9kaXY+XG4gKiB9XG4gKi9cbmV4cG9ydCBjb25zdCB1c2VTZWxlY3RvciA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2VsZWN0b3JIb29rKClcbiIsImltcG9ydCBjb25uZWN0IGZyb20gJy4vY29tcG9uZW50cy9jb25uZWN0J1xuZXhwb3J0IHR5cGUge1xuICBDb25uZWN0LFxuICBDb25uZWN0UHJvcHMsXG4gIENvbm5lY3RlZFByb3BzLFxufSBmcm9tICcuL2NvbXBvbmVudHMvY29ubmVjdCdcblxuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICcuL3V0aWxzL3NoYWxsb3dFcXVhbCdcblxuaW1wb3J0IFByb3ZpZGVyIGZyb20gJy4vY29tcG9uZW50cy9Qcm92aWRlcidcbmltcG9ydCB7IGRlZmF1bHROb29wQmF0Y2ggfSBmcm9tICcuL3V0aWxzL2JhdGNoJ1xuXG5leHBvcnQgeyBSZWFjdFJlZHV4Q29udGV4dCB9IGZyb20gJy4vY29tcG9uZW50cy9Db250ZXh0J1xuZXhwb3J0IHR5cGUgeyBSZWFjdFJlZHV4Q29udGV4dFZhbHVlIH0gZnJvbSAnLi9jb21wb25lbnRzL0NvbnRleHQnXG5cbmV4cG9ydCB0eXBlIHsgUHJvdmlkZXJQcm9wcyB9IGZyb20gJy4vY29tcG9uZW50cy9Qcm92aWRlcidcblxuZXhwb3J0IHR5cGUge1xuICBNYXBEaXNwYXRjaFRvUHJvcHMsXG4gIE1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcnksXG4gIE1hcERpc3BhdGNoVG9Qcm9wc0Z1bmN0aW9uLFxuICBNYXBEaXNwYXRjaFRvUHJvcHNOb25PYmplY3QsXG4gIE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtLFxuICBNYXBTdGF0ZVRvUHJvcHMsXG4gIE1hcFN0YXRlVG9Qcm9wc0ZhY3RvcnksXG4gIE1hcFN0YXRlVG9Qcm9wc1BhcmFtLFxuICBNZXJnZVByb3BzLFxuICBTZWxlY3RvcixcbiAgU2VsZWN0b3JGYWN0b3J5LFxufSBmcm9tICcuL2Nvbm5lY3Qvc2VsZWN0b3JGYWN0b3J5J1xuXG5leHBvcnQgeyBjcmVhdGVEaXNwYXRjaEhvb2ssIHVzZURpc3BhdGNoIH0gZnJvbSAnLi9ob29rcy91c2VEaXNwYXRjaCdcbmV4cG9ydCB0eXBlIHsgVXNlRGlzcGF0Y2ggfSBmcm9tICcuL2hvb2tzL3VzZURpc3BhdGNoJ1xuXG5leHBvcnQgeyBjcmVhdGVTZWxlY3Rvckhvb2ssIHVzZVNlbGVjdG9yIH0gZnJvbSAnLi9ob29rcy91c2VTZWxlY3RvcidcbmV4cG9ydCB0eXBlIHsgVXNlU2VsZWN0b3IgfSBmcm9tICcuL2hvb2tzL3VzZVNlbGVjdG9yJ1xuXG5leHBvcnQgeyBjcmVhdGVTdG9yZUhvb2ssIHVzZVN0b3JlIH0gZnJvbSAnLi9ob29rcy91c2VTdG9yZSdcbmV4cG9ydCB0eXBlIHsgVXNlU3RvcmUgfSBmcm9tICcuL2hvb2tzL3VzZVN0b3JlJ1xuXG5leHBvcnQgdHlwZSB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vdXRpbHMvU3Vic2NyaXB0aW9uJ1xuXG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJ1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIEFzIG9mIFJlYWN0IDE4LCBiYXRjaGluZyBpcyBlbmFibGVkIGJ5IGRlZmF1bHQgZm9yIFJlYWN0RE9NIGFuZCBSZWFjdCBOYXRpdmUuXG4gKiBUaGlzIGlzIG5vdyBhIG5vLW9wIHRoYXQgaW1tZWRpYXRlbHkgcnVucyB0aGUgY2FsbGJhY2suXG4gKi9cbmNvbnN0IGJhdGNoID0gZGVmYXVsdE5vb3BCYXRjaFxuXG5leHBvcnQgeyBQcm92aWRlciwgYmF0Y2gsIGNvbm5lY3QsIHNoYWxsb3dFcXVhbCB9XG4iXSwibmFtZXMiOlsicmVhY3RSZWR1eEZvcndhcmRlZFJlZiIsIndyYXBwZXJQcm9wcyIsInN1YnNjcmlwdGlvbiIsIm5vdGlmeU5lc3RlZFN1YnMiLCJ1c2VSZWR1eENvbnRleHQiLCJ1c2VSZWR1eENvbnRleHQiLCJ1c2VTdG9yZSIsInVzZVN0b3JlIiwidXNlRGlzcGF0Y2giLCJ1c2VSZWR1eENvbnRleHQiLCJ1c2VTZWxlY3RvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSxZQUFZLFdBQVc7O0F3QkV2QixTQUFTLHdDQUF3Qzs7O0F2Qk0xQyxJQUFNLGNBQThCLGFBQUEsR0FBQSxNQUFNLCtMQUFOLENBQUEsVUFBTSxDQUFRLFVBQUEsQ0FBVyxJQUFJO0FBRXhFLElBQU0scUJBQXFDLGFBQUEsR0FBQSxPQUFPLEdBQUEsQ0FDaEQsY0FBYywrQkFBK0I7QUFFL0MsSUFBTSxvQkFBb0MsYUFBQSxHQUFBLE9BQU8sR0FBQSxDQUFJLGNBQWM7QUFDbkUsSUFBTSxzQkFBc0MsYUFBQSxHQUFBLE9BQU8sR0FBQSxDQUFJLGdCQUFnQjtBQUN2RSxJQUFNLHlCQUF5QyxhQUFBLEdBQUEsT0FBTyxHQUFBLENBQUksbUJBQW1CO0FBQzdFLElBQU0sc0JBQXNDLGFBQUEsR0FBQSxPQUFPLEdBQUEsQ0FBSSxnQkFBZ0I7QUFDdkUsSUFBTSxzQkFBc0MsYUFBQSxHQUFBLE9BQU8sR0FBQSxDQUFJLGdCQUFnQjtBQUN2RSxJQUFNLHFCQUFxQyxhQUFBLEdBQUEsT0FBTyxHQUFBLENBQUksZUFBZTtBQUNyRSxJQUFNLHlCQUF5QyxhQUFBLEdBQUEsT0FBTyxHQUFBLENBQUksbUJBQW1CO0FBQzdFLElBQU0sc0JBQXNDLGFBQUEsR0FBQSxPQUFPLEdBQUEsQ0FBSSxnQkFBZ0I7QUFDdkUsSUFBTSwyQkFBMkMsYUFBQSxHQUFBLE9BQU8sR0FBQSxDQUN0RDtBQUVGLElBQU0sa0JBQWtDLGFBQUEsR0FBQSxPQUFPLEdBQUEsQ0FBSSxZQUFZO0FBQy9ELElBQU0sa0JBQWtDLGFBQUEsR0FBQSxPQUFPLEdBQUEsQ0FBSSxZQUFZO0FBQy9ELElBQU0sdUJBQXVDLGFBQUEsR0FBQSxPQUFPLEdBQUEsQ0FBSSxpQkFBaUI7QUFDekUsSUFBTSx5QkFBeUMsYUFBQSxHQUFBLE9B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Q0FBQSxDQUFFLFNBQVMsSUFBSSxDQUFBLEVBQ2Y7WUFBQyxRQUFRO1NBQUE7UUFHWCxNQUFNLHlMQUFnQixtQ0FBQSxFQUNwQixhQUFhLFlBQUEsRUFDYixNQUFNLFFBQUEsRUFDTixrQkFBa0IsTUFBTSxRQUFBLEVBQ3hCLGlCQUNBO1FBR0YscU1BQUEsQ0FBQSxNQUFNLFVBQUEsQ0FBYyxhQUFhO1FBRWpDLE9BQU87SUFDVDtJQUVBLE9BQU8sTUFBQSxDQUFPQyxjQUFhO1FBQ3pCLFdBQVcsSUFBTUE7SUFDbkIsQ0FBQztJQUVELE9BQU9BO0FBQ1Q7QUF5Qk8sSUFBTSxjQUE0QixhQUFBLEdBQUEsbUJBQW1COztBQzdPNUQsSUFBTSxRQUFRIiwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiA3NzQ3LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL2ltbWVyL3NyYy91dGlscy9lbnYudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvaW1tZXIvc3JjL3V0aWxzL2Vycm9ycy50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9pbW1lci9zcmMvdXRpbHMvY29tbW9uLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL2ltbWVyL3NyYy91dGlscy9wbHVnaW5zLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL2ltbWVyL3NyYy9jb3JlL3Njb3BlLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL2ltbWVyL3NyYy9jb3JlL2ZpbmFsaXplLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL2ltbWVyL3NyYy9jb3JlL3Byb3h5LnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL2ltbWVyL3NyYy9jb3JlL2ltbWVyQ2xhc3MudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvaW1tZXIvc3JjL2NvcmUvY3VycmVudC50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9pbW1lci9zcmMvcGx1Z2lucy9wYXRjaGVzLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL2ltbWVyL3NyYy9wbHVnaW5zL21hcHNldC50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9pbW1lci9zcmMvaW1tZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2hvdWxkIGJlIG5vIGltcG9ydHMgaGVyZSFcblxuLyoqXG4gKiBUaGUgc2VudGluZWwgdmFsdWUgcmV0dXJuZWQgYnkgcHJvZHVjZXJzIHRvIHJlcGxhY2UgdGhlIGRyYWZ0IHdpdGggdW5kZWZpbmVkLlxuICovXG5leHBvcnQgY29uc3QgTk9USElORzogdW5pcXVlIHN5bWJvbCA9IFN5bWJvbC5mb3IoXCJpbW1lci1ub3RoaW5nXCIpXG5cbi8qKlxuICogVG8gbGV0IEltbWVyIHRyZWF0IHlvdXIgY2xhc3MgaW5zdGFuY2VzIGFzIHBsYWluIGltbXV0YWJsZSBvYmplY3RzXG4gKiAoYWxiZWl0IHdpdGggYSBjdXN0b20gcHJvdG90eXBlKSwgeW91IG11c3QgZGVmaW5lIGVpdGhlciBhbiBpbnN0YW5jZSBwcm9wZXJ0eVxuICogb3IgYSBzdGF0aWMgcHJvcGVydHkgb24gZWFjaCBvZiB5b3VyIGN1c3RvbSBjbGFzc2VzLlxuICpcbiAqIE90aGVyd2lzZSwgeW91ciBjbGFzcyBpbnN0YW5jZSB3aWxsIG5ldmVyIGJlIGRyYWZ0ZWQsIHdoaWNoIG1lYW5zIGl0IHdvbid0IGJlXG4gKiBzYWZlIHRvIG11dGF0ZSBpbiBhIHByb2R1Y2UgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCBEUkFGVEFCTEU6IHVuaXF1ZSBzeW1ib2wgPSBTeW1ib2wuZm9yKFwiaW1tZXItZHJhZnRhYmxlXCIpXG5cbmV4cG9ydCBjb25zdCBEUkFGVF9TVEFURTogdW5pcXVlIHN5bWJvbCA9IFN5bWJvbC5mb3IoXCJpbW1lci1zdGF0ZVwiKVxuIiwiZXhwb3J0IGNvbnN0IGVycm9ycyA9XG5cdHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIlxuXHRcdD8gW1xuXHRcdFx0XHQvLyBBbGwgZXJyb3IgY29kZXMsIHN0YXJ0aW5nIGJ5IDA6XG5cdFx0XHRcdGZ1bmN0aW9uKHBsdWdpbjogc3RyaW5nKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGBUaGUgcGx1Z2luIGZvciAnJHtwbHVnaW59JyBoYXMgbm90IGJlZW4gbG9hZGVkIGludG8gSW1tZXIuIFRvIGVuYWJsZSB0aGUgcGx1Z2luLCBpbXBvcnQgYW5kIGNhbGwgXFxgZW5hYmxlJHtwbHVnaW59KClcXGAgd2hlbiBpbml0aWFsaXppbmcgeW91ciBhcHBsaWNhdGlvbi5gXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGZ1bmN0aW9uKHRoaW5nOiBzdHJpbmcpIHtcblx0XHRcdFx0XHRyZXR1cm4gYHByb2R1Y2UgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIHRoaW5ncyB0aGF0IGFyZSBkcmFmdGFibGU6IHBsYWluIG9iamVjdHMsIGFycmF5cywgTWFwLCBTZXQgb3IgY2xhc3NlcyB0aGF0IGFyZSBtYXJrZWQgd2l0aCAnW2ltbWVyYWJsZV06IHRydWUnLiBHb3QgJyR7dGhpbmd9J2Bcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJUaGlzIG9iamVjdCBoYXMgYmVlbiBmcm96ZW4gYW5kIHNob3VsZCBub3QgYmUgbXV0YXRlZFwiLFxuXHRcdFx0XHRmdW5jdGlvbihkYXRhOiBhbnkpIHtcblx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0XCJDYW5ub3QgdXNlIGEgcHJveHkgdGhhdCBoYXMgYmVlbiByZXZva2VkLiBEaWQgeW91IHBhc3MgYW4gb2JqZWN0IGZyb20gaW5zaWRlIGFuIGltbWVyIGZ1bmN0aW9uIHRvIGFuIGFzeW5jIHByb2Nlc3M/IFwiICtcblx0XHRcdFx0XHRcdGRhdGFcblx0XHRcdFx0XHQpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiQW4gaW1tZXIgcHJvZHVjZXIgcmV0dXJuZWQgYSBuZXcgdmFsdWUgKmFuZCogbW9kaWZpZWQgaXRzIGRyYWZ0LiBFaXRoZXIgcmV0dXJuIGEgbmV3IHZhbHVlICpvciogbW9kaWZ5IHRoZSBkcmFmdC5cIixcblx0XHRcdFx0XCJJbW1lciBmb3JiaWRzIGNpcmN1bGFyIHJlZmVyZW5jZXNcIixcblx0XHRcdFx0XCJUaGUgZmlyc3Qgb3Igc2Vjb25kIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb25cIixcblx0XHRcdFx0XCJUaGUgdGhpcmQgYXJndW1lbnQgdG8gYHByb2R1Y2VgIG11c3QgYmUgYSBmdW5jdGlvbiBvciB1bmRlZmluZWRcIixcblx0XHRcdFx0XCJGaXJzdCBhcmd1bWVudCB0byBgY3JlYXRlRHJhZnRgIG11c3QgYmUgYSBwbGFpbiBvYmplY3QsIGFuIGFycmF5LCBvciBhbiBpbW1lcmFibGUgb2JqZWN0XCIsXG5cdFx0XHRcdFwiRmlyc3QgYXJndW1lbnQgdG8gYGZpbmlzaERyYWZ0YCBtdXN0IGJlIGEgZHJhZnQgcmV0dXJuZWQgYnkgYGNyZWF0ZURyYWZ0YFwiLFxuXHRcdFx0XHRmdW5jdGlvbih0aGluZzogc3RyaW5nKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGAnY3VycmVudCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6ICR7dGhpbmd9YFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eSgpIGNhbm5vdCBiZSB1c2VkIG9uIGFuIEltbWVyIGRyYWZ0XCIsXG5cdFx0XHRcdFwiT2JqZWN0LnNldFByb3RvdHlwZU9mKCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIixcblx0XHRcdFx0XCJJbW1lciBvbmx5IHN1cHBvcnRzIGRlbGV0aW5nIGFycmF5IGluZGljZXNcIixcblx0XHRcdFx0XCJJbW1lciBvbmx5IHN1cHBvcnRzIHNldHRpbmcgYXJyYXkgaW5kaWNlcyBhbmQgdGhlICdsZW5ndGgnIHByb3BlcnR5XCIsXG5cdFx0XHRcdGZ1bmN0aW9uKHRoaW5nOiBzdHJpbmcpIHtcblx0XHRcdFx0XHRyZXR1cm4gYCdvcmlnaW5hbCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6ICR7dGhpbmd9YFxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIE5vdGU6IGlmIG1vcmUgZXJyb3JzIGFyZSBhZGRlZCwgdGhlIGVycm9yT2Zmc2V0IGluIFBhdGNoZXMudHMgc2hvdWxkIGJlIGluY3JlYXNlZFxuXHRcdFx0XHQvLyBTZWUgUGF0Y2hlcy50cyBmb3IgYWRkaXRpb25hbCBlcnJvcnNcblx0XHQgIF1cblx0XHQ6IFtdXG5cbmV4cG9ydCBmdW5jdGlvbiBkaWUoZXJyb3I6IG51bWJlciwgLi4uYXJnczogYW55W10pOiBuZXZlciB7XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcblx0XHRjb25zdCBlID0gZXJyb3JzW2Vycm9yXVxuXHRcdGNvbnN0IG1zZyA9IHR5cGVvZiBlID09PSBcImZ1bmN0aW9uXCIgPyBlLmFwcGx5KG51bGwsIGFyZ3MgYXMgYW55KSA6IGVcblx0XHR0aHJvdyBuZXcgRXJyb3IoYFtJbW1lcl0gJHttc2d9YClcblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0YFtJbW1lcl0gbWluaWZpZWQgZXJyb3IgbnI6ICR7ZXJyb3J9LiBGdWxsIGVycm9yIGF0OiBodHRwczovL2JpdC5seS8zY1hFS1dmYFxuXHQpXG59XG4iLCJpbXBvcnQge1xuXHREUkFGVF9TVEFURSxcblx0RFJBRlRBQkxFLFxuXHRPYmplY3Rpc2gsXG5cdERyYWZ0ZWQsXG5cdEFueU9iamVjdCxcblx0QW55TWFwLFxuXHRBbnlTZXQsXG5cdEltbWVyU3RhdGUsXG5cdEFyY2hUeXBlLFxuXHRkaWUsXG5cdFN0cmljdE1vZGVcbn0gZnJvbSBcIi4uL2ludGVybmFsXCJcblxuZXhwb3J0IGNvbnN0IGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mXG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIEltbWVyIGRyYWZ0ICovXG4vKiNfX1BVUkVfXyovXG5leHBvcnQgZnVuY3Rpb24gaXNEcmFmdCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdHJldHVybiAhIXZhbHVlICYmICEhdmFsdWVbRFJBRlRfU1RBVEVdXG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGNhbiBiZSBkcmFmdGVkIGJ5IEltbWVyICovXG4vKiNfX1BVUkVfXyovXG5leHBvcnQgZnVuY3Rpb24gaXNEcmFmdGFibGUodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRpZiAoIXZhbHVlKSByZXR1cm4gZmFsc2Vcblx0cmV0dXJuIChcblx0XHRpc1BsYWluT2JqZWN0KHZhbHVlKSB8fFxuXHRcdEFycmF5LmlzQXJyYXkodmFsdWUpIHx8XG5cdFx0ISF2YWx1ZVtEUkFGVEFCTEVdIHx8XG5cdFx0ISF2YWx1ZS5jb25zdHJ1Y3Rvcj8uW0RSQUZUQUJMRV0gfHxcblx0XHRpc01hcCh2YWx1ZSkgfHxcblx0XHRpc1NldCh2YWx1ZSlcblx0KVxufVxuXG5jb25zdCBvYmplY3RDdG9yU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpXG4vKiNfX1BVUkVfXyovXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSByZXR1cm4gZmFsc2Vcblx0Y29uc3QgcHJvdG8gPSBnZXRQcm90b3R5cGVPZih2YWx1ZSlcblx0aWYgKHByb3RvID09PSBudWxsKSB7XG5cdFx0cmV0dXJuIHRydWVcblx0fVxuXHRjb25zdCBDdG9yID1cblx0XHRPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgXCJjb25zdHJ1Y3RvclwiKSAmJiBwcm90by5jb25zdHJ1Y3RvclxuXG5cdGlmIChDdG9yID09PSBPYmplY3QpIHJldHVybiB0cnVlXG5cblx0cmV0dXJuIChcblx0XHR0eXBlb2YgQ3RvciA9PSBcImZ1bmN0aW9uXCIgJiZcblx0XHRGdW5jdGlvbi50b1N0cmluZy5jYWxsKEN0b3IpID09PSBvYmplY3RDdG9yU3RyaW5nXG5cdClcbn1cblxuLyoqIEdldCB0aGUgdW5kZXJseWluZyBvYmplY3QgdGhhdCBpcyByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gZHJhZnQgKi9cbi8qI19fUFVSRV9fKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmlnaW5hbDxUPih2YWx1ZTogVCk6IFQgfCB1bmRlZmluZWRcbmV4cG9ydCBmdW5jdGlvbiBvcmlnaW5hbCh2YWx1ZTogRHJhZnRlZDxhbnk+KTogYW55IHtcblx0aWYgKCFpc0RyYWZ0KHZhbHVlKSkgZGllKDE1LCB2YWx1ZSlcblx0cmV0dXJuIHZhbHVlW0RSQUZUX1NUQVRFXS5iYXNlX1xufVxuXG4vKipcbiAqIEVhY2ggaXRlcmF0ZXMgYSBtYXAsIHNldCBvciBhcnJheS5cbiAqIE9yLCBpZiBhbnkgb3RoZXIga2luZCBvZiBvYmplY3QsIGFsbCBvZiBpdHMgb3duIHByb3BlcnRpZXMuXG4gKiBSZWdhcmRsZXNzIHdoZXRoZXIgdGhleSBhcmUgZW51bWVyYWJsZSBvciBzeW1ib2xzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWNoPFQgZXh0ZW5kcyBPYmplY3Rpc2g+KFxuXHRvYmo6IFQsXG5cdGl0ZXI6IChrZXk6IHN0cmluZyB8IG51bWJlciwgdmFsdWU6IGFueSwgc291cmNlOiBUKSA9PiB2b2lkXG4pOiB2b2lkXG5leHBvcnQgZnVuY3Rpb24gZWFjaChvYmo6IGFueSwgaXRlcjogYW55KSB7XG5cdGlmIChnZXRBcmNodHlwZShvYmopID09PSBBcmNoVHlwZS5PYmplY3QpIHtcblx0XHRSZWZsZWN0Lm93bktleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0XHRpdGVyKGtleSwgb2JqW2tleV0sIG9iailcblx0XHR9KVxuXHR9IGVsc2Uge1xuXHRcdG9iai5mb3JFYWNoKChlbnRyeTogYW55LCBpbmRleDogYW55KSA9PiBpdGVyKGluZGV4LCBlbnRyeSwgb2JqKSlcblx0fVxufVxuXG4vKiNfX1BVUkVfXyovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJjaHR5cGUodGhpbmc6IGFueSk6IEFyY2hUeXBlIHtcblx0Y29uc3Qgc3RhdGU6IHVuZGVmaW5lZCB8IEltbWVyU3RhdGUgPSB0aGluZ1tEUkFGVF9TVEFURV1cblx0cmV0dXJuIHN0YXRlXG5cdFx0PyBzdGF0ZS50eXBlX1xuXHRcdDogQXJyYXkuaXNBcnJheSh0aGluZylcblx0XHQ/IEFyY2hUeXBlLkFycmF5XG5cdFx0OiBpc01hcCh0aGluZylcblx0XHQ/IEFyY2hUeXBlLk1hcFxuXHRcdDogaXNTZXQodGhpbmcpXG5cdFx0PyBBcmNoVHlwZS5TZXRcblx0XHQ6IEFyY2hUeXBlLk9iamVjdFxufVxuXG4vKiNfX1BVUkVfXyovXG5leHBvcnQgZnVuY3Rpb24gaGFzKHRoaW5nOiBhbnksIHByb3A6IFByb3BlcnR5S2V5KTogYm9vbGVhbiB7XG5cdHJldHVybiBnZXRBcmNodHlwZSh0aGluZykgPT09IEFyY2hUeXBlLk1hcFxuXHRcdD8gdGhpbmcuaGFzKHByb3ApXG5cdFx0OiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpbmcsIHByb3ApXG59XG5cbi8qI19fUFVSRV9fKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQodGhpbmc6IEFueU1hcCB8IEFueU9iamVjdCwgcHJvcDogUHJvcGVydHlLZXkpOiBhbnkge1xuXHQvLyBAdHMtaWdub3JlXG5cdHJldHVybiBnZXRBcmNodHlwZSh0aGluZykgPT09IEFyY2hUeXBlLk1hcCA/IHRoaW5nLmdldChwcm9wKSA6IHRoaW5nW3Byb3BdXG59XG5cbi8qI19fUFVSRV9fKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQodGhpbmc6IGFueSwgcHJvcE9yT2xkVmFsdWU6IFByb3BlcnR5S2V5LCB2YWx1ZTogYW55KSB7XG5cdGNvbnN0IHQgPSBnZXRBcmNodHlwZSh0aGluZylcblx0aWYgKHQgPT09IEFyY2hUeXBlLk1hcCkgdGhpbmcuc2V0KHByb3BPck9sZFZhbHVlLCB2YWx1ZSlcblx0ZWxzZSBpZiAodCA9PT0gQXJjaFR5cGUuU2V0KSB7XG5cdFx0dGhpbmcuYWRkKHZhbHVlKVxuXHR9IGVsc2UgdGhpbmdbcHJvcE9yT2xkVmFsdWVdID0gdmFsdWVcbn1cblxuLyojX19QVVJFX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGlzKHg6IGFueSwgeTogYW55KTogYm9vbGVhbiB7XG5cdC8vIEZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvYzY5OTA0YTUxMWI5MDAyNjY5MzUxNjgyMjMwNjNkZDg3NzJkZmM0MC9wYWNrYWdlcy9mYmpzL3NyYy9jb3JlL3NoYWxsb3dFcXVhbC5qc1xuXHRpZiAoeCA9PT0geSkge1xuXHRcdHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHlcblx0fVxufVxuXG4vKiNfX1BVUkVfXyovXG5leHBvcnQgZnVuY3Rpb24gaXNNYXAodGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQW55TWFwIHtcblx0cmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIE1hcFxufVxuXG4vKiNfX1BVUkVfXyovXG5leHBvcnQgZnVuY3Rpb24gaXNTZXQodGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQW55U2V0IHtcblx0cmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIFNldFxufVxuLyojX19QVVJFX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGxhdGVzdChzdGF0ZTogSW1tZXJTdGF0ZSk6IGFueSB7XG5cdHJldHVybiBzdGF0ZS5jb3B5XyB8fCBzdGF0ZS5iYXNlX1xufVxuXG4vKiNfX1BVUkVfXyovXG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0NvcHkoYmFzZTogYW55LCBzdHJpY3Q6IFN0cmljdE1vZGUpIHtcblx0aWYgKGlzTWFwKGJhc2UpKSB7XG5cdFx0cmV0dXJuIG5ldyBNYXAoYmFzZSlcblx0fVxuXHRpZiAoaXNTZXQoYmFzZSkpIHtcblx0XHRyZXR1cm4gbmV3IFNldChiYXNlKVxuXHR9XG5cdGlmIChBcnJheS5pc0FycmF5KGJhc2UpKSByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYmFzZSlcblxuXHRjb25zdCBpc1BsYWluID0gaXNQbGFpbk9iamVjdChiYXNlKVxuXG5cdGlmIChzdHJpY3QgPT09IHRydWUgfHwgKHN0cmljdCA9PT0gXCJjbGFzc19vbmx5XCIgJiYgIWlzUGxhaW4pKSB7XG5cdFx0Ly8gUGVyZm9ybSBhIHN0cmljdCBjb3B5XG5cdFx0Y29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhiYXNlKVxuXHRcdGRlbGV0ZSBkZXNjcmlwdG9yc1tEUkFGVF9TVEFURSBhcyBhbnldXG5cdFx0bGV0IGtleXMgPSBSZWZsZWN0Lm93bktleXMoZGVzY3JpcHRvcnMpXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBrZXk6IGFueSA9IGtleXNbaV1cblx0XHRcdGNvbnN0IGRlc2MgPSBkZXNjcmlwdG9yc1trZXldXG5cdFx0XHRpZiAoZGVzYy53cml0YWJsZSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0ZGVzYy53cml0YWJsZSA9IHRydWVcblx0XHRcdFx0ZGVzYy5jb25maWd1cmFibGUgPSB0cnVlXG5cdFx0XHR9XG5cdFx0XHQvLyBsaWtlIG9iamVjdC5hc3NpZ24sIHdlIHdpbGwgcmVhZCBhbnkgX293bl8sIGdldC9zZXQgYWNjZXNzb3JzLiBUaGlzIGhlbHBzIGluIGRlYWxpbmdcblx0XHRcdC8vIHdpdGggbGlicmFyaWVzIHRoYXQgdHJhcCB2YWx1ZXMsIGxpa2UgbW9ieCBvciB2dWVcblx0XHRcdC8vIHVubGlrZSBvYmplY3QuYXNzaWduLCBub24tZW51bWVyYWJsZXMgd2lsbCBiZSBjb3BpZWQgYXMgd2VsbFxuXHRcdFx0aWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KVxuXHRcdFx0XHRkZXNjcmlwdG9yc1trZXldID0ge1xuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSwgLy8gY291bGQgbGl2ZSB3aXRoICEhZGVzYy5zZXQgYXMgd2VsbCBoZXJlLi4uXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogZGVzYy5lbnVtZXJhYmxlLFxuXHRcdFx0XHRcdHZhbHVlOiBiYXNlW2tleV1cblx0XHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gT2JqZWN0LmNyZWF0ZShnZXRQcm90b3R5cGVPZihiYXNlKSwgZGVzY3JpcHRvcnMpXG5cdH0gZWxzZSB7XG5cdFx0Ly8gcGVyZm9ybSBhIHNsb3BweSBjb3B5XG5cdFx0Y29uc3QgcHJvdG8gPSBnZXRQcm90b3R5cGVPZihiYXNlKVxuXHRcdGlmIChwcm90byAhPT0gbnVsbCAmJiBpc1BsYWluKSB7XG5cdFx0XHRyZXR1cm4gey4uLmJhc2V9IC8vIGFzc3VtcHRpb246IGJldHRlciBpbm5lciBjbGFzcyBvcHRpbWl6YXRpb24gdGhhbiB0aGUgYXNzaWduIGJlbG93XG5cdFx0fVxuXHRcdGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUocHJvdG8pXG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqLCBiYXNlKVxuXHR9XG59XG5cbi8qKlxuICogRnJlZXplcyBkcmFmdGFibGUgb2JqZWN0cy4gUmV0dXJucyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICogQnkgZGVmYXVsdCBmcmVlemVzIHNoYWxsb3dseSwgYnV0IGlmIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgYHRydWVgIGl0IHdpbGwgZnJlZXplIHJlY3Vyc2l2ZWx5LlxuICpcbiAqIEBwYXJhbSBvYmpcbiAqIEBwYXJhbSBkZWVwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcmVlemU8VD4ob2JqOiBULCBkZWVwPzogYm9vbGVhbik6IFRcbmV4cG9ydCBmdW5jdGlvbiBmcmVlemU8VD4ob2JqOiBhbnksIGRlZXA6IGJvb2xlYW4gPSBmYWxzZSk6IFQge1xuXHRpZiAoaXNGcm96ZW4ob2JqKSB8fCBpc0RyYWZ0KG9iaikgfHwgIWlzRHJhZnRhYmxlKG9iaikpIHJldHVybiBvYmpcblx0aWYgKGdldEFyY2h0eXBlKG9iaikgPiAxIC8qIE1hcCBvciBTZXQgKi8pIHtcblx0XHRvYmouc2V0ID0gb2JqLmFkZCA9IG9iai5jbGVhciA9IG9iai5kZWxldGUgPSBkb250TXV0YXRlRnJvemVuQ29sbGVjdGlvbnMgYXMgYW55XG5cdH1cblx0T2JqZWN0LmZyZWV6ZShvYmopXG5cdGlmIChkZWVwKVxuXHRcdC8vIFNlZSAjNTkwLCBkb24ndCByZWN1cnNlIGludG8gbm9uLWVudW1lcmFibGUgLyBTeW1ib2wgcHJvcGVydGllcyB3aGVuIGZyZWV6aW5nXG5cdFx0Ly8gU28gdXNlIE9iamVjdC5lbnRyaWVzIChvbmx5IHN0cmluZy1saWtlLCBlbnVtZXJhYmxlcykgaW5zdGVhZCBvZiBlYWNoKClcblx0XHRPYmplY3QuZW50cmllcyhvYmopLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gZnJlZXplKHZhbHVlLCB0cnVlKSlcblx0cmV0dXJuIG9ialxufVxuXG5mdW5jdGlvbiBkb250TXV0YXRlRnJvemVuQ29sbGVjdGlvbnMoKSB7XG5cdGRpZSgyKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGcm96ZW4ob2JqOiBhbnkpOiBib29sZWFuIHtcblx0cmV0dXJuIE9iamVjdC5pc0Zyb3plbihvYmopXG59XG4iLCJpbXBvcnQge1xuXHRJbW1lclN0YXRlLFxuXHRQYXRjaCxcblx0RHJhZnRlZCxcblx0SW1tZXJCYXNlU3RhdGUsXG5cdEFueU1hcCxcblx0QW55U2V0LFxuXHRBcmNoVHlwZSxcblx0ZGllXG59IGZyb20gXCIuLi9pbnRlcm5hbFwiXG5cbi8qKiBQbHVnaW4gdXRpbGl0aWVzICovXG5jb25zdCBwbHVnaW5zOiB7XG5cdFBhdGNoZXM/OiB7XG5cdFx0Z2VuZXJhdGVQYXRjaGVzXyhcblx0XHRcdHN0YXRlOiBJbW1lclN0YXRlLFxuXHRcdFx0YmFzZVBhdGg6IFBhdGNoUGF0aCxcblx0XHRcdHBhdGNoZXM6IFBhdGNoW10sXG5cdFx0XHRpbnZlcnNlUGF0Y2hlczogUGF0Y2hbXVxuXHRcdCk6IHZvaWRcblx0XHRnZW5lcmF0ZVJlcGxhY2VtZW50UGF0Y2hlc18oXG5cdFx0XHRiYXNlOiBhbnksXG5cdFx0XHRyZXBsYWNlbWVudDogYW55LFxuXHRcdFx0cGF0Y2hlczogUGF0Y2hbXSxcblx0XHRcdGludmVyc2VQYXRjaGVzOiBQYXRjaFtdXG5cdFx0KTogdm9pZFxuXHRcdGFwcGx5UGF0Y2hlc188VD4oZHJhZnQ6IFQsIHBhdGNoZXM6IHJlYWRvbmx5IFBhdGNoW10pOiBUXG5cdH1cblx0TWFwU2V0Pzoge1xuXHRcdHByb3h5TWFwXzxUIGV4dGVuZHMgQW55TWFwPih0YXJnZXQ6IFQsIHBhcmVudD86IEltbWVyU3RhdGUpOiBUXG5cdFx0cHJveHlTZXRfPFQgZXh0ZW5kcyBBbnlTZXQ+KHRhcmdldDogVCwgcGFyZW50PzogSW1tZXJTdGF0ZSk6IFRcblx0fVxufSA9IHt9XG5cbnR5cGUgUGx1Z2lucyA9IHR5cGVvZiBwbHVnaW5zXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQbHVnaW48SyBleHRlbmRzIGtleW9mIFBsdWdpbnM+KFxuXHRwbHVnaW5LZXk6IEtcbik6IEV4Y2x1ZGU8UGx1Z2luc1tLXSwgdW5kZWZpbmVkPiB7XG5cdGNvbnN0IHBsdWdpbiA9IHBsdWdpbnNbcGx1Z2luS2V5XVxuXHRpZiAoIXBsdWdpbikge1xuXHRcdGRpZSgwLCBwbHVnaW5LZXkpXG5cdH1cblx0Ly8gQHRzLWlnbm9yZVxuXHRyZXR1cm4gcGx1Z2luXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkUGx1Z2luPEsgZXh0ZW5kcyBrZXlvZiBQbHVnaW5zPihcblx0cGx1Z2luS2V5OiBLLFxuXHRpbXBsZW1lbnRhdGlvbjogUGx1Z2luc1tLXVxuKTogdm9pZCB7XG5cdGlmICghcGx1Z2luc1twbHVnaW5LZXldKSBwbHVnaW5zW3BsdWdpbktleV0gPSBpbXBsZW1lbnRhdGlvblxufVxuLyoqIE1hcCAvIFNldCBwbHVnaW4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBNYXBTdGF0ZSBleHRlbmRzIEltbWVyQmFzZVN0YXRlIHtcblx0dHlwZV86IEFyY2hUeXBlLk1hcFxuXHRjb3B5XzogQW55TWFwIHwgdW5kZWZpbmVkXG5cdGFzc2lnbmVkXzogTWFwPGFueSwgYm9vbGVhbj4gfCB1bmRlZmluZWRcblx0YmFzZV86IEFueU1hcFxuXHRyZXZva2VkXzogYm9vbGVhblxuXHRkcmFmdF86IERyYWZ0ZWQ8QW55TWFwLCBNYXBTdGF0ZT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXRTdGF0ZSBleHRlbmRzIEltbWVyQmFzZVN0YXRlIHtcblx0dHlwZV86IEFyY2hUeXBlLlNldFxuXHRjb3B5XzogQW55U2V0IHwgdW5kZWZpbmVkXG5cdGJhc2VfOiBBbnlTZXRcblx0ZHJhZnRzXzogTWFwPGFueSwgRHJhZnRlZD4gLy8gbWFwcyB0aGUgb3JpZ2luYWwgdmFsdWUgdG8gdGhlIGRyYWZ0IHZhbHVlIGluIHRoZSBuZXcgc2V0XG5cdHJldm9rZWRfOiBib29sZWFuXG5cdGRyYWZ0XzogRHJhZnRlZDxBbnlTZXQsIFNldFN0YXRlPlxufVxuXG4vKiogUGF0Y2hlcyBwbHVnaW4gKi9cblxuZXhwb3J0IHR5cGUgUGF0Y2hQYXRoID0gKHN0cmluZyB8IG51bWJlcilbXVxuIiwiaW1wb3J0IHtcblx0UGF0Y2gsXG5cdFBhdGNoTGlzdGVuZXIsXG5cdERyYWZ0ZWQsXG5cdEltbWVyLFxuXHREUkFGVF9TVEFURSxcblx0SW1tZXJTdGF0ZSxcblx0QXJjaFR5cGUsXG5cdGdldFBsdWdpblxufSBmcm9tIFwiLi4vaW50ZXJuYWxcIlxuXG4vKiogRWFjaCBzY29wZSByZXByZXNlbnRzIGEgYHByb2R1Y2VgIGNhbGwuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1tZXJTY29wZSB7XG5cdHBhdGNoZXNfPzogUGF0Y2hbXVxuXHRpbnZlcnNlUGF0Y2hlc18/OiBQYXRjaFtdXG5cdGNhbkF1dG9GcmVlemVfOiBib29sZWFuXG5cdGRyYWZ0c186IGFueVtdXG5cdHBhcmVudF8/OiBJbW1lclNjb3BlXG5cdHBhdGNoTGlzdGVuZXJfPzogUGF0Y2hMaXN0ZW5lclxuXHRpbW1lcl86IEltbWVyXG5cdHVuZmluYWxpemVkRHJhZnRzXzogbnVtYmVyXG59XG5cbmxldCBjdXJyZW50U2NvcGU6IEltbWVyU2NvcGUgfCB1bmRlZmluZWRcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcblx0cmV0dXJuIGN1cnJlbnRTY29wZSFcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2NvcGUoXG5cdHBhcmVudF86IEltbWVyU2NvcGUgfCB1bmRlZmluZWQsXG5cdGltbWVyXzogSW1tZXJcbik6IEltbWVyU2NvcGUge1xuXHRyZXR1cm4ge1xuXHRcdGRyYWZ0c186IFtdLFxuXHRcdHBhcmVudF8sXG5cdFx0aW1tZXJfLFxuXHRcdC8vIFdoZW5ldmVyIHRoZSBtb2RpZmllZCBkcmFmdCBjb250YWlucyBhIGRyYWZ0IGZyb20gYW5vdGhlciBzY29wZSwgd2Vcblx0XHQvLyBuZWVkIHRvIHByZXZlbnQgYXV0by1mcmVlemluZyBzbyB0aGUgdW5vd25lZCBkcmFmdCBjYW4gYmUgZmluYWxpemVkLlxuXHRcdGNhbkF1dG9GcmVlemVfOiB0cnVlLFxuXHRcdHVuZmluYWxpemVkRHJhZnRzXzogMFxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VQYXRjaGVzSW5TY29wZShcblx0c2NvcGU6IEltbWVyU2NvcGUsXG5cdHBhdGNoTGlzdGVuZXI/OiBQYXRjaExpc3RlbmVyXG4pIHtcblx0aWYgKHBhdGNoTGlzdGVuZXIpIHtcblx0XHRnZXRQbHVnaW4oXCJQYXRjaGVzXCIpIC8vIGFzc2VydCB3ZSBoYXZlIHRoZSBwbHVnaW5cblx0XHRzY29wZS5wYXRjaGVzXyA9IFtdXG5cdFx0c2NvcGUuaW52ZXJzZVBhdGNoZXNfID0gW11cblx0XHRzY29wZS5wYXRjaExpc3RlbmVyXyA9IHBhdGNoTGlzdGVuZXJcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmV2b2tlU2NvcGUoc2NvcGU6IEltbWVyU2NvcGUpIHtcblx0bGVhdmVTY29wZShzY29wZSlcblx0c2NvcGUuZHJhZnRzXy5mb3JFYWNoKHJldm9rZURyYWZ0KVxuXHQvLyBAdHMtaWdub3JlXG5cdHNjb3BlLmRyYWZ0c18gPSBudWxsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsZWF2ZVNjb3BlKHNjb3BlOiBJbW1lclNjb3BlKSB7XG5cdGlmIChzY29wZSA9PT0gY3VycmVudFNjb3BlKSB7XG5cdFx0Y3VycmVudFNjb3BlID0gc2NvcGUucGFyZW50X1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRlclNjb3BlKGltbWVyOiBJbW1lcikge1xuXHRyZXR1cm4gKGN1cnJlbnRTY29wZSA9IGNyZWF0ZVNjb3BlKGN1cnJlbnRTY29wZSwgaW1tZXIpKVxufVxuXG5mdW5jdGlvbiByZXZva2VEcmFmdChkcmFmdDogRHJhZnRlZCkge1xuXHRjb25zdCBzdGF0ZTogSW1tZXJTdGF0ZSA9IGRyYWZ0W0RSQUZUX1NUQVRFXVxuXHRpZiAoc3RhdGUudHlwZV8gPT09IEFyY2hUeXBlLk9iamVjdCB8fCBzdGF0ZS50eXBlXyA9PT0gQXJjaFR5cGUuQXJyYXkpXG5cdFx0c3RhdGUucmV2b2tlXygpXG5cdGVsc2Ugc3RhdGUucmV2b2tlZF8gPSB0cnVlXG59XG4iLCJpbXBvcnQge1xuXHRJbW1lclNjb3BlLFxuXHREUkFGVF9TVEFURSxcblx0aXNEcmFmdGFibGUsXG5cdE5PVEhJTkcsXG5cdFBhdGNoUGF0aCxcblx0ZWFjaCxcblx0aGFzLFxuXHRmcmVlemUsXG5cdEltbWVyU3RhdGUsXG5cdGlzRHJhZnQsXG5cdFNldFN0YXRlLFxuXHRzZXQsXG5cdEFyY2hUeXBlLFxuXHRnZXRQbHVnaW4sXG5cdGRpZSxcblx0cmV2b2tlU2NvcGUsXG5cdGlzRnJvemVuXG59IGZyb20gXCIuLi9pbnRlcm5hbFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzUmVzdWx0KHJlc3VsdDogYW55LCBzY29wZTogSW1tZXJTY29wZSkge1xuXHRzY29wZS51bmZpbmFsaXplZERyYWZ0c18gPSBzY29wZS5kcmFmdHNfLmxlbmd0aFxuXHRjb25zdCBiYXNlRHJhZnQgPSBzY29wZS5kcmFmdHNfIVswXVxuXHRjb25zdCBpc1JlcGxhY2VkID0gcmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0ICE9PSBiYXNlRHJhZnRcblx0aWYgKGlzUmVwbGFjZWQpIHtcblx0XHRpZiAoYmFzZURyYWZ0W0RSQUZUX1NUQVRFXS5tb2RpZmllZF8pIHtcblx0XHRcdHJldm9rZVNjb3BlKHNjb3BlKVxuXHRcdFx0ZGllKDQpXG5cdFx0fVxuXHRcdGlmIChpc0RyYWZ0YWJsZShyZXN1bHQpKSB7XG5cdFx0XHQvLyBGaW5hbGl6ZSB0aGUgcmVzdWx0IGluIGNhc2UgaXQgY29udGFpbnMgKG9yIGlzKSBhIHN1YnNldCBvZiB0aGUgZHJhZnQuXG5cdFx0XHRyZXN1bHQgPSBmaW5hbGl6ZShzY29wZSwgcmVzdWx0KVxuXHRcdFx0aWYgKCFzY29wZS5wYXJlbnRfKSBtYXliZUZyZWV6ZShzY29wZSwgcmVzdWx0KVxuXHRcdH1cblx0XHRpZiAoc2NvcGUucGF0Y2hlc18pIHtcblx0XHRcdGdldFBsdWdpbihcIlBhdGNoZXNcIikuZ2VuZXJhdGVSZXBsYWNlbWVudFBhdGNoZXNfKFxuXHRcdFx0XHRiYXNlRHJhZnRbRFJBRlRfU1RBVEVdLmJhc2VfLFxuXHRcdFx0XHRyZXN1bHQsXG5cdFx0XHRcdHNjb3BlLnBhdGNoZXNfLFxuXHRcdFx0XHRzY29wZS5pbnZlcnNlUGF0Y2hlc18hXG5cdFx0XHQpXG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIEZpbmFsaXplIHRoZSBiYXNlIGRyYWZ0LlxuXHRcdHJlc3VsdCA9IGZpbmFsaXplKHNjb3BlLCBiYXNlRHJhZnQsIFtdKVxuXHR9XG5cdHJldm9rZVNjb3BlKHNjb3BlKVxuXHRpZiAoc2NvcGUucGF0Y2hlc18pIHtcblx0XHRzY29wZS5wYXRjaExpc3RlbmVyXyEoc2NvcGUucGF0Y2hlc18sIHNjb3BlLmludmVyc2VQYXRjaGVzXyEpXG5cdH1cblx0cmV0dXJuIHJlc3VsdCAhPT0gTk9USElORyA/IHJlc3VsdCA6IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBmaW5hbGl6ZShyb290U2NvcGU6IEltbWVyU2NvcGUsIHZhbHVlOiBhbnksIHBhdGg/OiBQYXRjaFBhdGgpIHtcblx0Ly8gRG9uJ3QgcmVjdXJzZSBpbiB0aG8gcmVjdXJzaXZlIGRhdGEgc3RydWN0dXJlc1xuXHRpZiAoaXNGcm96ZW4odmFsdWUpKSByZXR1cm4gdmFsdWVcblxuXHRjb25zdCBzdGF0ZTogSW1tZXJTdGF0ZSA9IHZhbHVlW0RSQUZUX1NUQVRFXVxuXHQvLyBBIHBsYWluIG9iamVjdCwgbWlnaHQgbmVlZCBmcmVlemluZywgbWlnaHQgY29udGFpbiBkcmFmdHNcblx0aWYgKCFzdGF0ZSkge1xuXHRcdGVhY2godmFsdWUsIChrZXksIGNoaWxkVmFsdWUpID0+XG5cdFx0XHRmaW5hbGl6ZVByb3BlcnR5KHJvb3RTY29wZSwgc3RhdGUsIHZhbHVlLCBrZXksIGNoaWxkVmFsdWUsIHBhdGgpXG5cdFx0KVxuXHRcdHJldHVybiB2YWx1ZVxuXHR9XG5cdC8vIE5ldmVyIGZpbmFsaXplIGRyYWZ0cyBvd25lZCBieSBhbm90aGVyIHNjb3BlLlxuXHRpZiAoc3RhdGUuc2NvcGVfICE9PSByb290U2NvcGUpIHJldHVybiB2YWx1ZVxuXHQvLyBVbm1vZGlmaWVkIGRyYWZ0LCByZXR1cm4gdGhlIChmcm96ZW4pIG9yaWdpbmFsXG5cdGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG5cdFx0bWF5YmVGcmVlemUocm9vdFNjb3BlLCBzdGF0ZS5iYXNlXywgdHJ1ZSlcblx0XHRyZXR1cm4gc3RhdGUuYmFzZV9cblx0fVxuXHQvLyBOb3QgZmluYWxpemVkIHlldCwgbGV0J3MgZG8gdGhhdCBub3dcblx0aWYgKCFzdGF0ZS5maW5hbGl6ZWRfKSB7XG5cdFx0c3RhdGUuZmluYWxpemVkXyA9IHRydWVcblx0XHRzdGF0ZS5zY29wZV8udW5maW5hbGl6ZWREcmFmdHNfLS1cblx0XHRjb25zdCByZXN1bHQgPSBzdGF0ZS5jb3B5X1xuXHRcdC8vIEZpbmFsaXplIGFsbCBjaGlsZHJlbiBvZiB0aGUgY29weVxuXHRcdC8vIEZvciBzZXRzIHdlIGNsb25lIGJlZm9yZSBpdGVyYXRpbmcsIG90aGVyd2lzZSB3ZSBjYW4gZ2V0IGluIGVuZGxlc3MgbG9vcCBkdWUgdG8gbW9kaWZ5aW5nIGR1cmluZyBpdGVyYXRpb24sIHNlZSAjNjI4XG5cdFx0Ly8gVG8gcHJlc2VydmUgaW5zZXJ0aW9uIG9yZGVyIGluIGFsbCBjYXNlcyB3ZSB0aGVuIGNsZWFyIHRoZSBzZXRcblx0XHQvLyBBbmQgd2UgbGV0IGZpbmFsaXplUHJvcGVydHkga25vdyBpdCBuZWVkcyB0byByZS1hZGQgbm9uLWRyYWZ0IGNoaWxkcmVuIGJhY2sgdG8gdGhlIHRhcmdldFxuXHRcdGxldCByZXN1bHRFYWNoID0gcmVzdWx0XG5cdFx0bGV0IGlzU2V0ID0gZmFsc2Vcblx0XHRpZiAoc3RhdGUudHlwZV8gPT09IEFyY2hUeXBlLlNldCkge1xuXHRcdFx0cmVzdWx0RWFjaCA9IG5ldyBTZXQocmVzdWx0KVxuXHRcdFx0cmVzdWx0LmNsZWFyKClcblx0XHRcdGlzU2V0ID0gdHJ1ZVxuXHRcdH1cblx0XHRlYWNoKHJlc3VsdEVhY2gsIChrZXksIGNoaWxkVmFsdWUpID0+XG5cdFx0XHRmaW5hbGl6ZVByb3BlcnR5KHJvb3RTY29wZSwgc3RhdGUsIHJlc3VsdCwga2V5LCBjaGlsZFZhbHVlLCBwYXRoLCBpc1NldClcblx0XHQpXG5cdFx0Ly8gZXZlcnl0aGluZyBpbnNpZGUgaXMgZnJvemVuLCB3ZSBjYW4gZnJlZXplIGhlcmVcblx0XHRtYXliZUZyZWV6ZShyb290U2NvcGUsIHJlc3VsdCwgZmFsc2UpXG5cdFx0Ly8gZmlyc3QgdGltZSBmaW5hbGl6aW5nLCBsZXQncyBjcmVhdGUgdGhvc2UgcGF0Y2hlc1xuXHRcdGlmIChwYXRoICYmIHJvb3RTY29wZS5wYXRjaGVzXykge1xuXHRcdFx0Z2V0UGx1Z2luKFwiUGF0Y2hlc1wiKS5nZW5lcmF0ZVBhdGNoZXNfKFxuXHRcdFx0XHRzdGF0ZSxcblx0XHRcdFx0cGF0aCxcblx0XHRcdFx0cm9vdFNjb3BlLnBhdGNoZXNfLFxuXHRcdFx0XHRyb290U2NvcGUuaW52ZXJzZVBhdGNoZXNfIVxuXHRcdFx0KVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gc3RhdGUuY29weV9cbn1cblxuZnVuY3Rpb24gZmluYWxpemVQcm9wZXJ0eShcblx0cm9vdFNjb3BlOiBJbW1lclNjb3BlLFxuXHRwYXJlbnRTdGF0ZTogdW5kZWZpbmVkIHwgSW1tZXJTdGF0ZSxcblx0dGFyZ2V0T2JqZWN0OiBhbnksXG5cdHByb3A6IHN0cmluZyB8IG51bWJlcixcblx0Y2hpbGRWYWx1ZTogYW55LFxuXHRyb290UGF0aD86IFBhdGNoUGF0aCxcblx0dGFyZ2V0SXNTZXQ/OiBib29sZWFuXG4pIHtcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBjaGlsZFZhbHVlID09PSB0YXJnZXRPYmplY3QpXG5cdFx0ZGllKDUpXG5cdGlmIChpc0RyYWZ0KGNoaWxkVmFsdWUpKSB7XG5cdFx0Y29uc3QgcGF0aCA9XG5cdFx0XHRyb290UGF0aCAmJlxuXHRcdFx0cGFyZW50U3RhdGUgJiZcblx0XHRcdHBhcmVudFN0YXRlIS50eXBlXyAhPT0gQXJjaFR5cGUuU2V0ICYmIC8vIFNldCBvYmplY3RzIGFyZSBhdG9taWMgc2luY2UgdGhleSBoYXZlIG5vIGtleXMuXG5cdFx0XHQhaGFzKChwYXJlbnRTdGF0ZSBhcyBFeGNsdWRlPEltbWVyU3RhdGUsIFNldFN0YXRlPikuYXNzaWduZWRfISwgcHJvcCkgLy8gU2tpcCBkZWVwIHBhdGNoZXMgZm9yIGFzc2lnbmVkIGtleXMuXG5cdFx0XHRcdD8gcm9vdFBhdGghLmNvbmNhdChwcm9wKVxuXHRcdFx0XHQ6IHVuZGVmaW5lZFxuXHRcdC8vIERyYWZ0cyBvd25lZCBieSBgc2NvcGVgIGFyZSBmaW5hbGl6ZWQgaGVyZS5cblx0XHRjb25zdCByZXMgPSBmaW5hbGl6ZShyb290U2NvcGUsIGNoaWxkVmFsdWUsIHBhdGgpXG5cdFx0c2V0KHRhcmdldE9iamVjdCwgcHJvcCwgcmVzKVxuXHRcdC8vIERyYWZ0cyBmcm9tIGFub3RoZXIgc2NvcGUgbXVzdCBwcmV2ZW50ZWQgdG8gYmUgZnJvemVuXG5cdFx0Ly8gaWYgd2UgZ290IGEgZHJhZnQgYmFjayBmcm9tIGZpbmFsaXplLCB3ZSdyZSBpbiBhIG5lc3RlZCBwcm9kdWNlIGFuZCBzaG91bGRuJ3QgZnJlZXplXG5cdFx0aWYgKGlzRHJhZnQocmVzKSkge1xuXHRcdFx0cm9vdFNjb3BlLmNhbkF1dG9GcmVlemVfID0gZmFsc2Vcblx0XHR9IGVsc2UgcmV0dXJuXG5cdH0gZWxzZSBpZiAodGFyZ2V0SXNTZXQpIHtcblx0XHR0YXJnZXRPYmplY3QuYWRkKGNoaWxkVmFsdWUpXG5cdH1cblx0Ly8gU2VhcmNoIG5ldyBvYmplY3RzIGZvciB1bmZpbmFsaXplZCBkcmFmdHMuIEZyb3plbiBvYmplY3RzIHNob3VsZCBuZXZlciBjb250YWluIGRyYWZ0cy5cblx0aWYgKGlzRHJhZnRhYmxlKGNoaWxkVmFsdWUpICYmICFpc0Zyb3plbihjaGlsZFZhbHVlKSkge1xuXHRcdGlmICghcm9vdFNjb3BlLmltbWVyXy5hdXRvRnJlZXplXyAmJiByb290U2NvcGUudW5maW5hbGl6ZWREcmFmdHNfIDwgMSkge1xuXHRcdFx0Ly8gb3B0aW1pemF0aW9uOiBpZiBhbiBvYmplY3QgaXMgbm90IGEgZHJhZnQsIGFuZCB3ZSBkb24ndCBoYXZlIHRvXG5cdFx0XHQvLyBkZWVwZnJlZXplIGV2ZXJ5dGhpbmcsIGFuZCB3ZSBhcmUgc3VyZSB0aGF0IG5vIGRyYWZ0cyBhcmUgbGVmdCBpbiB0aGUgcmVtYWluaW5nIG9iamVjdFxuXHRcdFx0Ly8gY2F1c2Ugd2Ugc2F3IGFuZCBmaW5hbGl6ZWQgYWxsIGRyYWZ0cyBhbHJlYWR5OyB3ZSBjYW4gc3RvcCB2aXNpdGluZyB0aGUgcmVzdCBvZiB0aGUgdHJlZS5cblx0XHRcdC8vIFRoaXMgYmVuZWZpdHMgZXNwZWNpYWxseSBhZGRpbmcgbGFyZ2UgZGF0YSB0cmVlJ3Mgd2l0aG91dCBmdXJ0aGVyIHByb2Nlc3NpbmcuXG5cdFx0XHQvLyBTZWUgYWRkLWRhdGEuanMgcGVyZiB0ZXN0XG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cdFx0ZmluYWxpemUocm9vdFNjb3BlLCBjaGlsZFZhbHVlKVxuXHRcdC8vIEltbWVyIGRlZXAgZnJlZXplcyBwbGFpbiBvYmplY3RzLCBzbyBpZiB0aGVyZSBpcyBubyBwYXJlbnQgc3RhdGUsIHdlIGZyZWV6ZSBhcyB3ZWxsXG5cdFx0Ly8gUGVyICM1OTAsIHdlIG5ldmVyIGZyZWV6ZSBzeW1ib2xpYyBwcm9wZXJ0aWVzLiBKdXN0IHRvIG1ha2Ugc3VyZSBkb24ndCBhY2NpZGVudGFsbHkgaW50ZXJmZXJlXG5cdFx0Ly8gd2l0aCBvdGhlciBmcmFtZXdvcmtzLlxuXHRcdGlmIChcblx0XHRcdCghcGFyZW50U3RhdGUgfHwgIXBhcmVudFN0YXRlLnNjb3BlXy5wYXJlbnRfKSAmJlxuXHRcdFx0dHlwZW9mIHByb3AgIT09IFwic3ltYm9sXCIgJiZcblx0XHRcdE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0YXJnZXRPYmplY3QsIHByb3ApXG5cdFx0KVxuXHRcdFx0bWF5YmVGcmVlemUocm9vdFNjb3BlLCBjaGlsZFZhbHVlKVxuXHR9XG59XG5cbmZ1bmN0aW9uIG1heWJlRnJlZXplKHNjb3BlOiBJbW1lclNjb3BlLCB2YWx1ZTogYW55LCBkZWVwID0gZmFsc2UpIHtcblx0Ly8gd2UgbmV2ZXIgZnJlZXplIGZvciBhIG5vbi1yb290IHNjb3BlOyBhcyBpdCB3b3VsZCBwcmV2ZW50IHBydW5pbmcgZm9yIGRyYWZ0cyBpbnNpZGUgd3JhcHBpbmcgb2JqZWN0c1xuXHRpZiAoIXNjb3BlLnBhcmVudF8gJiYgc2NvcGUuaW1tZXJfLmF1dG9GcmVlemVfICYmIHNjb3BlLmNhbkF1dG9GcmVlemVfKSB7XG5cdFx0ZnJlZXplKHZhbHVlLCBkZWVwKVxuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRlYWNoLFxuXHRoYXMsXG5cdGlzLFxuXHRpc0RyYWZ0YWJsZSxcblx0c2hhbGxvd0NvcHksXG5cdGxhdGVzdCxcblx0SW1tZXJCYXNlU3RhdGUsXG5cdEltbWVyU3RhdGUsXG5cdERyYWZ0ZWQsXG5cdEFueU9iamVjdCxcblx0QW55QXJyYXksXG5cdE9iamVjdGlzaCxcblx0Z2V0Q3VycmVudFNjb3BlLFxuXHRnZXRQcm90b3R5cGVPZixcblx0RFJBRlRfU1RBVEUsXG5cdGRpZSxcblx0Y3JlYXRlUHJveHksXG5cdEFyY2hUeXBlLFxuXHRJbW1lclNjb3BlXG59IGZyb20gXCIuLi9pbnRlcm5hbFwiXG5cbmludGVyZmFjZSBQcm94eUJhc2VTdGF0ZSBleHRlbmRzIEltbWVyQmFzZVN0YXRlIHtcblx0YXNzaWduZWRfOiB7XG5cdFx0W3Byb3BlcnR5OiBzdHJpbmddOiBib29sZWFuXG5cdH1cblx0cGFyZW50Xz86IEltbWVyU3RhdGVcblx0cmV2b2tlXygpOiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJveHlPYmplY3RTdGF0ZSBleHRlbmRzIFByb3h5QmFzZVN0YXRlIHtcblx0dHlwZV86IEFyY2hUeXBlLk9iamVjdFxuXHRiYXNlXzogYW55XG5cdGNvcHlfOiBhbnlcblx0ZHJhZnRfOiBEcmFmdGVkPEFueU9iamVjdCwgUHJveHlPYmplY3RTdGF0ZT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm94eUFycmF5U3RhdGUgZXh0ZW5kcyBQcm94eUJhc2VTdGF0ZSB7XG5cdHR5cGVfOiBBcmNoVHlwZS5BcnJheVxuXHRiYXNlXzogQW55QXJyYXlcblx0Y29weV86IEFueUFycmF5IHwgbnVsbFxuXHRkcmFmdF86IERyYWZ0ZWQ8QW55QXJyYXksIFByb3h5QXJyYXlTdGF0ZT5cbn1cblxudHlwZSBQcm94eVN0YXRlID0gUHJveHlPYmplY3RTdGF0ZSB8IFByb3h5QXJyYXlTdGF0ZVxuXG4vKipcbiAqIFJldHVybnMgYSBuZXcgZHJhZnQgb2YgdGhlIGBiYXNlYCBvYmplY3QuXG4gKlxuICogVGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgcGFyZW50IGRyYWZ0LXN0YXRlICh1c2VkIGludGVybmFsbHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJveHlQcm94eTxUIGV4dGVuZHMgT2JqZWN0aXNoPihcblx0YmFzZTogVCxcblx0cGFyZW50PzogSW1tZXJTdGF0ZVxuKTogRHJhZnRlZDxULCBQcm94eVN0YXRlPiB7XG5cdGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGJhc2UpXG5cdGNvbnN0IHN0YXRlOiBQcm94eVN0YXRlID0ge1xuXHRcdHR5cGVfOiBpc0FycmF5ID8gQXJjaFR5cGUuQXJyYXkgOiAoQXJjaFR5cGUuT2JqZWN0IGFzIGFueSksXG5cdFx0Ly8gVHJhY2sgd2hpY2ggcHJvZHVjZSBjYWxsIHRoaXMgaXMgYXNzb2NpYXRlZCB3aXRoLlxuXHRcdHNjb3BlXzogcGFyZW50ID8gcGFyZW50LnNjb3BlXyA6IGdldEN1cnJlbnRTY29wZSgpISxcblx0XHQvLyBUcnVlIGZvciBib3RoIHNoYWxsb3cgYW5kIGRlZXAgY2hhbmdlcy5cblx0XHRtb2RpZmllZF86IGZhbHNlLFxuXHRcdC8vIFVzZWQgZHVyaW5nIGZpbmFsaXphdGlvbi5cblx0XHRmaW5hbGl6ZWRfOiBmYWxzZSxcblx0XHQvLyBUcmFjayB3aGljaCBwcm9wZXJ0aWVzIGhhdmUgYmVlbiBhc3NpZ25lZCAodHJ1ZSkgb3IgZGVsZXRlZCAoZmFsc2UpLlxuXHRcdGFzc2lnbmVkXzoge30sXG5cdFx0Ly8gVGhlIHBhcmVudCBkcmFmdCBzdGF0ZS5cblx0XHRwYXJlbnRfOiBwYXJlbnQsXG5cdFx0Ly8gVGhlIGJhc2Ugc3RhdGUuXG5cdFx0YmFzZV86IGJhc2UsXG5cdFx0Ly8gVGhlIGJhc2UgcHJveHkuXG5cdFx0ZHJhZnRfOiBudWxsIGFzIGFueSwgLy8gc2V0IGJlbG93XG5cdFx0Ly8gVGhlIGJhc2UgY29weSB3aXRoIGFueSB1cGRhdGVkIHZhbHVlcy5cblx0XHRjb3B5XzogbnVsbCxcblx0XHQvLyBDYWxsZWQgYnkgdGhlIGBwcm9kdWNlYCBmdW5jdGlvbi5cblx0XHRyZXZva2VfOiBudWxsIGFzIGFueSxcblx0XHRpc01hbnVhbF86IGZhbHNlXG5cdH1cblxuXHQvLyB0aGUgdHJhcHMgbXVzdCB0YXJnZXQgc29tZXRoaW5nLCBhIGJpdCBsaWtlIHRoZSAncmVhbCcgYmFzZS5cblx0Ly8gYnV0IGFsc28sIHdlIG5lZWQgdG8gYmUgYWJsZSB0byBkZXRlcm1pbmUgZnJvbSB0aGUgdGFyZ2V0IHdoYXQgdGhlIHJlbGV2YW50IHN0YXRlIGlzXG5cdC8vICh0byBhdm9pZCBjcmVhdGluZyB0cmFwcyBwZXIgaW5zdGFuY2UgdG8gY2FwdHVyZSB0aGUgc3RhdGUgaW4gY2xvc3VyZSxcblx0Ly8gYW5kIHRvIGF2b2lkIGNyZWF0aW5nIHdlaXJkIGhpZGRlbiBwcm9wZXJ0aWVzIGFzIHdlbGwpXG5cdC8vIFNvIHRoZSB0cmljayBpcyB0byB1c2UgJ3N0YXRlJyBhcyB0aGUgYWN0dWFsICd0YXJnZXQnISAoYW5kIG1ha2Ugc3VyZSB3ZSBpbnRlcmNlcHQgZXZlcnl0aGluZylcblx0Ly8gTm90ZSB0aGF0IGluIHRoZSBjYXNlIG9mIGFuIGFycmF5LCB3ZSBwdXQgdGhlIHN0YXRlIGluIGFuIGFycmF5IHRvIGhhdmUgYmV0dGVyIFJlZmxlY3QgZGVmYXVsdHMgb290YlxuXHRsZXQgdGFyZ2V0OiBUID0gc3RhdGUgYXMgYW55XG5cdGxldCB0cmFwczogUHJveHlIYW5kbGVyPG9iamVjdCB8IEFycmF5PGFueT4+ID0gb2JqZWN0VHJhcHNcblx0aWYgKGlzQXJyYXkpIHtcblx0XHR0YXJnZXQgPSBbc3RhdGVdIGFzIGFueVxuXHRcdHRyYXBzID0gYXJyYXlUcmFwc1xuXHR9XG5cblx0Y29uc3Qge3Jldm9rZSwgcHJveHl9ID0gUHJveHkucmV2b2NhYmxlKHRhcmdldCwgdHJhcHMpXG5cdHN0YXRlLmRyYWZ0XyA9IHByb3h5IGFzIGFueVxuXHRzdGF0ZS5yZXZva2VfID0gcmV2b2tlXG5cdHJldHVybiBwcm94eSBhcyBhbnlcbn1cblxuLyoqXG4gKiBPYmplY3QgZHJhZnRzXG4gKi9cbmV4cG9ydCBjb25zdCBvYmplY3RUcmFwczogUHJveHlIYW5kbGVyPFByb3h5U3RhdGU+ID0ge1xuXHRnZXQoc3RhdGUsIHByb3ApIHtcblx0XHRpZiAocHJvcCA9PT0gRFJBRlRfU1RBVEUpIHJldHVybiBzdGF0ZVxuXG5cdFx0Y29uc3Qgc291cmNlID0gbGF0ZXN0KHN0YXRlKVxuXHRcdGlmICghaGFzKHNvdXJjZSwgcHJvcCkpIHtcblx0XHRcdC8vIG5vbi1leGlzdGluZyBvciBub24tb3duIHByb3BlcnR5Li4uXG5cdFx0XHRyZXR1cm4gcmVhZFByb3BGcm9tUHJvdG8oc3RhdGUsIHNvdXJjZSwgcHJvcClcblx0XHR9XG5cdFx0Y29uc3QgdmFsdWUgPSBzb3VyY2VbcHJvcF1cblx0XHRpZiAoc3RhdGUuZmluYWxpemVkXyB8fCAhaXNEcmFmdGFibGUodmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWVcblx0XHR9XG5cdFx0Ly8gQ2hlY2sgZm9yIGV4aXN0aW5nIGRyYWZ0IGluIG1vZGlmaWVkIHN0YXRlLlxuXHRcdC8vIEFzc2lnbmVkIHZhbHVlcyBhcmUgbmV2ZXIgZHJhZnRlZC4gVGhpcyBjYXRjaGVzIGFueSBkcmFmdHMgd2UgY3JlYXRlZCwgdG9vLlxuXHRcdGlmICh2YWx1ZSA9PT0gcGVlayhzdGF0ZS5iYXNlXywgcHJvcCkpIHtcblx0XHRcdHByZXBhcmVDb3B5KHN0YXRlKVxuXHRcdFx0cmV0dXJuIChzdGF0ZS5jb3B5XyFbcHJvcCBhcyBhbnldID0gY3JlYXRlUHJveHkodmFsdWUsIHN0YXRlKSlcblx0XHR9XG5cdFx0cmV0dXJuIHZhbHVlXG5cdH0sXG5cdGhhcyhzdGF0ZSwgcHJvcCkge1xuXHRcdHJldHVybiBwcm9wIGluIGxhdGVzdChzdGF0ZSlcblx0fSxcblx0b3duS2V5cyhzdGF0ZSkge1xuXHRcdHJldHVybiBSZWZsZWN0Lm93bktleXMobGF0ZXN0KHN0YXRlKSlcblx0fSxcblx0c2V0KFxuXHRcdHN0YXRlOiBQcm94eU9iamVjdFN0YXRlLFxuXHRcdHByb3A6IHN0cmluZyAvKiBzdHJpY3RseSBub3QsIGJ1dCBoZWxwcyBUUyAqLyxcblx0XHR2YWx1ZVxuXHQpIHtcblx0XHRjb25zdCBkZXNjID0gZ2V0RGVzY3JpcHRvckZyb21Qcm90byhsYXRlc3Qoc3RhdGUpLCBwcm9wKVxuXHRcdGlmIChkZXNjPy5zZXQpIHtcblx0XHRcdC8vIHNwZWNpYWwgY2FzZTogaWYgdGhpcyB3cml0ZSBpcyBjYXB0dXJlZCBieSBhIHNldHRlciwgd2UgaGF2ZVxuXHRcdFx0Ly8gdG8gdHJpZ2dlciBpdCB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcblx0XHRcdGRlc2Muc2V0LmNhbGwoc3RhdGUuZHJhZnRfLCB2YWx1ZSlcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXHRcdGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG5cdFx0XHQvLyB0aGUgbGFzdCBjaGVjayBpcyBiZWNhdXNlIHdlIG5lZWQgdG8gYmUgYWJsZSB0byBkaXN0aW5ndWlzaCBzZXR0aW5nIGEgbm9uLWV4aXN0aW5nIHRvIHVuZGVmaW5lZCAod2hpY2ggaXMgYSBjaGFuZ2UpXG5cdFx0XHQvLyBmcm9tIHNldHRpbmcgYW4gZXhpc3RpbmcgcHJvcGVydHkgd2l0aCB2YWx1ZSB1bmRlZmluZWQgdG8gdW5kZWZpbmVkICh3aGljaCBpcyBub3QgYSBjaGFuZ2UpXG5cdFx0XHRjb25zdCBjdXJyZW50ID0gcGVlayhsYXRlc3Qoc3RhdGUpLCBwcm9wKVxuXHRcdFx0Ly8gc3BlY2lhbCBjYXNlLCBpZiB3ZSBhc3NpZ25pbmcgdGhlIG9yaWdpbmFsIHZhbHVlIHRvIGEgZHJhZnQsIHdlIGNhbiBpZ25vcmUgdGhlIGFzc2lnbm1lbnRcblx0XHRcdGNvbnN0IGN1cnJlbnRTdGF0ZTogUHJveHlPYmplY3RTdGF0ZSA9IGN1cnJlbnQ/LltEUkFGVF9TVEFURV1cblx0XHRcdGlmIChjdXJyZW50U3RhdGUgJiYgY3VycmVudFN0YXRlLmJhc2VfID09PSB2YWx1ZSkge1xuXHRcdFx0XHRzdGF0ZS5jb3B5XyFbcHJvcF0gPSB2YWx1ZVxuXHRcdFx0XHRzdGF0ZS5hc3NpZ25lZF9bcHJvcF0gPSBmYWxzZVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0fVxuXHRcdFx0aWYgKGlzKHZhbHVlLCBjdXJyZW50KSAmJiAodmFsdWUgIT09IHVuZGVmaW5lZCB8fCBoYXMoc3RhdGUuYmFzZV8sIHByb3ApKSlcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdHByZXBhcmVDb3B5KHN0YXRlKVxuXHRcdFx0bWFya0NoYW5nZWQoc3RhdGUpXG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0KHN0YXRlLmNvcHlfIVtwcm9wXSA9PT0gdmFsdWUgJiZcblx0XHRcdFx0Ly8gc3BlY2lhbCBjYXNlOiBoYW5kbGUgbmV3IHByb3BzIHdpdGggdmFsdWUgJ3VuZGVmaW5lZCdcblx0XHRcdFx0KHZhbHVlICE9PSB1bmRlZmluZWQgfHwgcHJvcCBpbiBzdGF0ZS5jb3B5XykpIHx8XG5cdFx0XHQvLyBzcGVjaWFsIGNhc2U6IE5hTlxuXHRcdFx0KE51bWJlci5pc05hTih2YWx1ZSkgJiYgTnVtYmVyLmlzTmFOKHN0YXRlLmNvcHlfIVtwcm9wXSkpXG5cdFx0KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRzdGF0ZS5jb3B5XyFbcHJvcF0gPSB2YWx1ZVxuXHRcdHN0YXRlLmFzc2lnbmVkX1twcm9wXSA9IHRydWVcblx0XHRyZXR1cm4gdHJ1ZVxuXHR9LFxuXHRkZWxldGVQcm9wZXJ0eShzdGF0ZSwgcHJvcDogc3RyaW5nKSB7XG5cdFx0Ly8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cblx0XHRpZiAocGVlayhzdGF0ZS5iYXNlXywgcHJvcCkgIT09IHVuZGVmaW5lZCB8fCBwcm9wIGluIHN0YXRlLmJhc2VfKSB7XG5cdFx0XHRzdGF0ZS5hc3NpZ25lZF9bcHJvcF0gPSBmYWxzZVxuXHRcdFx0cHJlcGFyZUNvcHkoc3RhdGUpXG5cdFx0XHRtYXJrQ2hhbmdlZChzdGF0ZSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaWYgYW4gb3JpZ2luYWxseSBub3QgYXNzaWduZWQgcHJvcGVydHkgd2FzIGRlbGV0ZWRcblx0XHRcdGRlbGV0ZSBzdGF0ZS5hc3NpZ25lZF9bcHJvcF1cblx0XHR9XG5cdFx0aWYgKHN0YXRlLmNvcHlfKSB7XG5cdFx0XHRkZWxldGUgc3RhdGUuY29weV9bcHJvcF1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWVcblx0fSxcblx0Ly8gTm90ZTogV2UgbmV2ZXIgY29lcmNlIGBkZXNjLnZhbHVlYCBpbnRvIGFuIEltbWVyIGRyYWZ0LCBiZWNhdXNlIHdlIGNhbid0IG1ha2Vcblx0Ly8gdGhlIHNhbWUgZ3VhcmFudGVlIGluIEVTNSBtb2RlLlxuXHRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3RhdGUsIHByb3ApIHtcblx0XHRjb25zdCBvd25lciA9IGxhdGVzdChzdGF0ZSlcblx0XHRjb25zdCBkZXNjID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3duZXIsIHByb3ApXG5cdFx0aWYgKCFkZXNjKSByZXR1cm4gZGVzY1xuXHRcdHJldHVybiB7XG5cdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogc3RhdGUudHlwZV8gIT09IEFyY2hUeXBlLkFycmF5IHx8IHByb3AgIT09IFwibGVuZ3RoXCIsXG5cdFx0XHRlbnVtZXJhYmxlOiBkZXNjLmVudW1lcmFibGUsXG5cdFx0XHR2YWx1ZTogb3duZXJbcHJvcF1cblx0XHR9XG5cdH0sXG5cdGRlZmluZVByb3BlcnR5KCkge1xuXHRcdGRpZSgxMSlcblx0fSxcblx0Z2V0UHJvdG90eXBlT2Yoc3RhdGUpIHtcblx0XHRyZXR1cm4gZ2V0UHJvdG90eXBlT2Yoc3RhdGUuYmFzZV8pXG5cdH0sXG5cdHNldFByb3RvdHlwZU9mKCkge1xuXHRcdGRpZSgxMilcblx0fVxufVxuXG4vKipcbiAqIEFycmF5IGRyYWZ0c1xuICovXG5cbmNvbnN0IGFycmF5VHJhcHM6IFByb3h5SGFuZGxlcjxbUHJveHlBcnJheVN0YXRlXT4gPSB7fVxuZWFjaChvYmplY3RUcmFwcywgKGtleSwgZm4pID0+IHtcblx0Ly8gQHRzLWlnbm9yZVxuXHRhcnJheVRyYXBzW2tleV0gPSBmdW5jdGlvbigpIHtcblx0XHRhcmd1bWVudHNbMF0gPSBhcmd1bWVudHNbMF1bMF1cblx0XHRyZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHR9XG59KVxuYXJyYXlUcmFwcy5kZWxldGVQcm9wZXJ0eSA9IGZ1bmN0aW9uKHN0YXRlLCBwcm9wKSB7XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgaXNOYU4ocGFyc2VJbnQocHJvcCBhcyBhbnkpKSlcblx0XHRkaWUoMTMpXG5cdC8vIEB0cy1pZ25vcmVcblx0cmV0dXJuIGFycmF5VHJhcHMuc2V0IS5jYWxsKHRoaXMsIHN0YXRlLCBwcm9wLCB1bmRlZmluZWQpXG59XG5hcnJheVRyYXBzLnNldCA9IGZ1bmN0aW9uKHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuXHRpZiAoXG5cdFx0cHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmXG5cdFx0cHJvcCAhPT0gXCJsZW5ndGhcIiAmJlxuXHRcdGlzTmFOKHBhcnNlSW50KHByb3AgYXMgYW55KSlcblx0KVxuXHRcdGRpZSgxNClcblx0cmV0dXJuIG9iamVjdFRyYXBzLnNldCEuY2FsbCh0aGlzLCBzdGF0ZVswXSwgcHJvcCwgdmFsdWUsIHN0YXRlWzBdKVxufVxuXG4vLyBBY2Nlc3MgYSBwcm9wZXJ0eSB3aXRob3V0IGNyZWF0aW5nIGFuIEltbWVyIGRyYWZ0LlxuZnVuY3Rpb24gcGVlayhkcmFmdDogRHJhZnRlZCwgcHJvcDogUHJvcGVydHlLZXkpIHtcblx0Y29uc3Qgc3RhdGUgPSBkcmFmdFtEUkFGVF9TVEFURV1cblx0Y29uc3Qgc291cmNlID0gc3RhdGUgPyBsYXRlc3Qoc3RhdGUpIDogZHJhZnRcblx0cmV0dXJuIHNvdXJjZVtwcm9wXVxufVxuXG5mdW5jdGlvbiByZWFkUHJvcEZyb21Qcm90byhzdGF0ZTogSW1tZXJTdGF0ZSwgc291cmNlOiBhbnksIHByb3A6IFByb3BlcnR5S2V5KSB7XG5cdGNvbnN0IGRlc2MgPSBnZXREZXNjcmlwdG9yRnJvbVByb3RvKHNvdXJjZSwgcHJvcClcblx0cmV0dXJuIGRlc2Ncblx0XHQ/IGB2YWx1ZWAgaW4gZGVzY1xuXHRcdFx0PyBkZXNjLnZhbHVlXG5cdFx0XHQ6IC8vIFRoaXMgaXMgYSB2ZXJ5IHNwZWNpYWwgY2FzZSwgaWYgdGhlIHByb3AgaXMgYSBnZXR0ZXIgZGVmaW5lZCBieSB0aGVcblx0XHRcdCAgLy8gcHJvdG90eXBlLCB3ZSBzaG91bGQgaW52b2tlIGl0IHdpdGggdGhlIGRyYWZ0IGFzIGNvbnRleHQhXG5cdFx0XHQgIGRlc2MuZ2V0Py5jYWxsKHN0YXRlLmRyYWZ0Xylcblx0XHQ6IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBnZXREZXNjcmlwdG9yRnJvbVByb3RvKFxuXHRzb3VyY2U6IGFueSxcblx0cHJvcDogUHJvcGVydHlLZXlcbik6IFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZCB7XG5cdC8vICdpbicgY2hlY2tzIHByb3RvIVxuXHRpZiAoIShwcm9wIGluIHNvdXJjZSkpIHJldHVybiB1bmRlZmluZWRcblx0bGV0IHByb3RvID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlKVxuXHR3aGlsZSAocHJvdG8pIHtcblx0XHRjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgcHJvcClcblx0XHRpZiAoZGVzYykgcmV0dXJuIGRlc2Ncblx0XHRwcm90byA9IGdldFByb3RvdHlwZU9mKHByb3RvKVxuXHR9XG5cdHJldHVybiB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcmtDaGFuZ2VkKHN0YXRlOiBJbW1lclN0YXRlKSB7XG5cdGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG5cdFx0c3RhdGUubW9kaWZpZWRfID0gdHJ1ZVxuXHRcdGlmIChzdGF0ZS5wYXJlbnRfKSB7XG5cdFx0XHRtYXJrQ2hhbmdlZChzdGF0ZS5wYXJlbnRfKVxuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUNvcHkoc3RhdGU6IHtcblx0YmFzZV86IGFueVxuXHRjb3B5XzogYW55XG5cdHNjb3BlXzogSW1tZXJTY29wZVxufSkge1xuXHRpZiAoIXN0YXRlLmNvcHlfKSB7XG5cdFx0c3RhdGUuY29weV8gPSBzaGFsbG93Q29weShcblx0XHRcdHN0YXRlLmJhc2VfLFxuXHRcdFx0c3RhdGUuc2NvcGVfLmltbWVyXy51c2VTdHJpY3RTaGFsbG93Q29weV9cblx0XHQpXG5cdH1cbn1cbiIsImltcG9ydCB7XG5cdElQcm9kdWNlV2l0aFBhdGNoZXMsXG5cdElQcm9kdWNlLFxuXHRJbW1lclN0YXRlLFxuXHREcmFmdGVkLFxuXHRpc0RyYWZ0YWJsZSxcblx0cHJvY2Vzc1Jlc3VsdCxcblx0UGF0Y2gsXG5cdE9iamVjdGlzaCxcblx0RFJBRlRfU1RBVEUsXG5cdERyYWZ0LFxuXHRQYXRjaExpc3RlbmVyLFxuXHRpc0RyYWZ0LFxuXHRpc01hcCxcblx0aXNTZXQsXG5cdGNyZWF0ZVByb3h5UHJveHksXG5cdGdldFBsdWdpbixcblx0ZGllLFxuXHRlbnRlclNjb3BlLFxuXHRyZXZva2VTY29wZSxcblx0bGVhdmVTY29wZSxcblx0dXNlUGF0Y2hlc0luU2NvcGUsXG5cdGdldEN1cnJlbnRTY29wZSxcblx0Tk9USElORyxcblx0ZnJlZXplLFxuXHRjdXJyZW50XG59IGZyb20gXCIuLi9pbnRlcm5hbFwiXG5cbmludGVyZmFjZSBQcm9kdWNlcnNGbnMge1xuXHRwcm9kdWNlOiBJUHJvZHVjZVxuXHRwcm9kdWNlV2l0aFBhdGNoZXM6IElQcm9kdWNlV2l0aFBhdGNoZXNcbn1cblxuZXhwb3J0IHR5cGUgU3RyaWN0TW9kZSA9IGJvb2xlYW4gfCBcImNsYXNzX29ubHlcIjtcblxuZXhwb3J0IGNsYXNzIEltbWVyIGltcGxlbWVudHMgUHJvZHVjZXJzRm5zIHtcblx0YXV0b0ZyZWV6ZV86IGJvb2xlYW4gPSB0cnVlXG5cdHVzZVN0cmljdFNoYWxsb3dDb3B5XzogU3RyaWN0TW9kZSA9IGZhbHNlXG5cblx0Y29uc3RydWN0b3IoY29uZmlnPzoge1xuXHRcdGF1dG9GcmVlemU/OiBib29sZWFuXG5cdFx0dXNlU3RyaWN0U2hhbGxvd0NvcHk/OiBTdHJpY3RNb2RlXG5cdH0pIHtcblx0XHRpZiAodHlwZW9mIGNvbmZpZz8uYXV0b0ZyZWV6ZSA9PT0gXCJib29sZWFuXCIpXG5cdFx0XHR0aGlzLnNldEF1dG9GcmVlemUoY29uZmlnIS5hdXRvRnJlZXplKVxuXHRcdGlmICh0eXBlb2YgY29uZmlnPy51c2VTdHJpY3RTaGFsbG93Q29weSA9PT0gXCJib29sZWFuXCIpXG5cdFx0XHR0aGlzLnNldFVzZVN0cmljdFNoYWxsb3dDb3B5KGNvbmZpZyEudXNlU3RyaWN0U2hhbGxvd0NvcHkpXG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwcm9kdWNlYCBmdW5jdGlvbiB0YWtlcyBhIHZhbHVlIGFuZCBhIFwicmVjaXBlIGZ1bmN0aW9uXCIgKHdob3NlXG5cdCAqIHJldHVybiB2YWx1ZSBvZnRlbiBkZXBlbmRzIG9uIHRoZSBiYXNlIHN0YXRlKS4gVGhlIHJlY2lwZSBmdW5jdGlvbiBpc1xuXHQgKiBmcmVlIHRvIG11dGF0ZSBpdHMgZmlyc3QgYXJndW1lbnQgaG93ZXZlciBpdCB3YW50cy4gQWxsIG11dGF0aW9ucyBhcmVcblx0ICogb25seSBldmVyIGFwcGxpZWQgdG8gYSBfX2NvcHlfXyBvZiB0aGUgYmFzZSBzdGF0ZS5cblx0ICpcblx0ICogUGFzcyBvbmx5IGEgZnVuY3Rpb24gdG8gY3JlYXRlIGEgXCJjdXJyaWVkIHByb2R1Y2VyXCIgd2hpY2ggcmVsaWV2ZXMgeW91XG5cdCAqIGZyb20gcGFzc2luZyB0aGUgcmVjaXBlIGZ1bmN0aW9uIGV2ZXJ5IHRpbWUuXG5cdCAqXG5cdCAqIE9ubHkgcGxhaW4gb2JqZWN0cyBhbmQgYXJyYXlzIGFyZSBtYWRlIG11dGFibGUuIEFsbCBvdGhlciBvYmplY3RzIGFyZVxuXHQgKiBjb25zaWRlcmVkIHVuY29weWFibGUuXG5cdCAqXG5cdCAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gaXMgX19ib3VuZF9fIHRvIGl0cyBgSW1tZXJgIGluc3RhbmNlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge2FueX0gYmFzZSAtIHRoZSBpbml0aWFsIHN0YXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHJlY2lwZSAtIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSBwcm94eSBvZiB0aGUgYmFzZSBzdGF0ZSBhcyBmaXJzdCBhcmd1bWVudCBhbmQgd2hpY2ggY2FuIGJlIGZyZWVseSBtb2RpZmllZFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXRjaExpc3RlbmVyIC0gb3B0aW9uYWwgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aXRoIGFsbCB0aGUgcGF0Y2hlcyBwcm9kdWNlZCBoZXJlXG5cdCAqIEByZXR1cm5zIHthbnl9IGEgbmV3IHN0YXRlLCBvciB0aGUgaW5pdGlhbCBzdGF0ZSBpZiBub3RoaW5nIHdhcyBtb2RpZmllZFxuXHQgKi9cblx0cHJvZHVjZTogSVByb2R1Y2UgPSAoYmFzZTogYW55LCByZWNpcGU/OiBhbnksIHBhdGNoTGlzdGVuZXI/OiBhbnkpID0+IHtcblx0XHQvLyBjdXJyaWVkIGludm9jYXRpb25cblx0XHRpZiAodHlwZW9mIGJhc2UgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgcmVjaXBlICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdGNvbnN0IGRlZmF1bHRCYXNlID0gcmVjaXBlXG5cdFx0XHRyZWNpcGUgPSBiYXNlXG5cblx0XHRcdGNvbnN0IHNlbGYgPSB0aGlzXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gY3VycmllZFByb2R1Y2UoXG5cdFx0XHRcdHRoaXM6IGFueSxcblx0XHRcdFx0YmFzZSA9IGRlZmF1bHRCYXNlLFxuXHRcdFx0XHQuLi5hcmdzOiBhbnlbXVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiBzZWxmLnByb2R1Y2UoYmFzZSwgKGRyYWZ0OiBEcmFmdGVkKSA9PiByZWNpcGUuY2FsbCh0aGlzLCBkcmFmdCwgLi4uYXJncykpIC8vIHByZXR0aWVyLWlnbm9yZVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgcmVjaXBlICE9PSBcImZ1bmN0aW9uXCIpIGRpZSg2KVxuXHRcdGlmIChwYXRjaExpc3RlbmVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHBhdGNoTGlzdGVuZXIgIT09IFwiZnVuY3Rpb25cIilcblx0XHRcdGRpZSg3KVxuXG5cdFx0bGV0IHJlc3VsdFxuXG5cdFx0Ly8gT25seSBwbGFpbiBvYmplY3RzLCBhcnJheXMsIGFuZCBcImltbWVyYWJsZSBjbGFzc2VzXCIgYXJlIGRyYWZ0ZWQuXG5cdFx0aWYgKGlzRHJhZnRhYmxlKGJhc2UpKSB7XG5cdFx0XHRjb25zdCBzY29wZSA9IGVudGVyU2NvcGUodGhpcylcblx0XHRcdGNvbnN0IHByb3h5ID0gY3JlYXRlUHJveHkoYmFzZSwgdW5kZWZpbmVkKVxuXHRcdFx0bGV0IGhhc0Vycm9yID0gdHJ1ZVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmVzdWx0ID0gcmVjaXBlKHByb3h5KVxuXHRcdFx0XHRoYXNFcnJvciA9IGZhbHNlXG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHQvLyBmaW5hbGx5IGluc3RlYWQgb2YgY2F0Y2ggKyByZXRocm93IGJldHRlciBwcmVzZXJ2ZXMgb3JpZ2luYWwgc3RhY2tcblx0XHRcdFx0aWYgKGhhc0Vycm9yKSByZXZva2VTY29wZShzY29wZSlcblx0XHRcdFx0ZWxzZSBsZWF2ZVNjb3BlKHNjb3BlKVxuXHRcdFx0fVxuXHRcdFx0dXNlUGF0Y2hlc0luU2NvcGUoc2NvcGUsIHBhdGNoTGlzdGVuZXIpXG5cdFx0XHRyZXR1cm4gcHJvY2Vzc1Jlc3VsdChyZXN1bHQsIHNjb3BlKVxuXHRcdH0gZWxzZSBpZiAoIWJhc2UgfHwgdHlwZW9mIGJhc2UgIT09IFwib2JqZWN0XCIpIHtcblx0XHRcdHJlc3VsdCA9IHJlY2lwZShiYXNlKVxuXHRcdFx0aWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSByZXN1bHQgPSBiYXNlXG5cdFx0XHRpZiAocmVzdWx0ID09PSBOT1RISU5HKSByZXN1bHQgPSB1bmRlZmluZWRcblx0XHRcdGlmICh0aGlzLmF1dG9GcmVlemVfKSBmcmVlemUocmVzdWx0LCB0cnVlKVxuXHRcdFx0aWYgKHBhdGNoTGlzdGVuZXIpIHtcblx0XHRcdFx0Y29uc3QgcDogUGF0Y2hbXSA9IFtdXG5cdFx0XHRcdGNvbnN0IGlwOiBQYXRjaFtdID0gW11cblx0XHRcdFx0Z2V0UGx1Z2luKFwiUGF0Y2hlc1wiKS5nZW5lcmF0ZVJlcGxhY2VtZW50UGF0Y2hlc18oYmFzZSwgcmVzdWx0LCBwLCBpcClcblx0XHRcdFx0cGF0Y2hMaXN0ZW5lcihwLCBpcClcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHRcblx0XHR9IGVsc2UgZGllKDEsIGJhc2UpXG5cdH1cblxuXHRwcm9kdWNlV2l0aFBhdGNoZXM6IElQcm9kdWNlV2l0aFBhdGNoZXMgPSAoYmFzZTogYW55LCByZWNpcGU/OiBhbnkpOiBhbnkgPT4ge1xuXHRcdC8vIGN1cnJpZWQgaW52b2NhdGlvblxuXHRcdGlmICh0eXBlb2YgYmFzZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRyZXR1cm4gKHN0YXRlOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PlxuXHRcdFx0XHR0aGlzLnByb2R1Y2VXaXRoUGF0Y2hlcyhzdGF0ZSwgKGRyYWZ0OiBhbnkpID0+IGJhc2UoZHJhZnQsIC4uLmFyZ3MpKVxuXHRcdH1cblxuXHRcdGxldCBwYXRjaGVzOiBQYXRjaFtdLCBpbnZlcnNlUGF0Y2hlczogUGF0Y2hbXVxuXHRcdGNvbnN0IHJlc3VsdCA9IHRoaXMucHJvZHVjZShiYXNlLCByZWNpcGUsIChwOiBQYXRjaFtdLCBpcDogUGF0Y2hbXSkgPT4ge1xuXHRcdFx0cGF0Y2hlcyA9IHBcblx0XHRcdGludmVyc2VQYXRjaGVzID0gaXBcblx0XHR9KVxuXHRcdHJldHVybiBbcmVzdWx0LCBwYXRjaGVzISwgaW52ZXJzZVBhdGNoZXMhXVxuXHR9XG5cblx0Y3JlYXRlRHJhZnQ8VCBleHRlbmRzIE9iamVjdGlzaD4oYmFzZTogVCk6IERyYWZ0PFQ+IHtcblx0XHRpZiAoIWlzRHJhZnRhYmxlKGJhc2UpKSBkaWUoOClcblx0XHRpZiAoaXNEcmFmdChiYXNlKSkgYmFzZSA9IGN1cnJlbnQoYmFzZSlcblx0XHRjb25zdCBzY29wZSA9IGVudGVyU2NvcGUodGhpcylcblx0XHRjb25zdCBwcm94eSA9IGNyZWF0ZVByb3h5KGJhc2UsIHVuZGVmaW5lZClcblx0XHRwcm94eVtEUkFGVF9TVEFURV0uaXNNYW51YWxfID0gdHJ1ZVxuXHRcdGxlYXZlU2NvcGUoc2NvcGUpXG5cdFx0cmV0dXJuIHByb3h5IGFzIGFueVxuXHR9XG5cblx0ZmluaXNoRHJhZnQ8RCBleHRlbmRzIERyYWZ0PGFueT4+KFxuXHRcdGRyYWZ0OiBELFxuXHRcdHBhdGNoTGlzdGVuZXI/OiBQYXRjaExpc3RlbmVyXG5cdCk6IEQgZXh0ZW5kcyBEcmFmdDxpbmZlciBUPiA/IFQgOiBuZXZlciB7XG5cdFx0Y29uc3Qgc3RhdGU6IEltbWVyU3RhdGUgPSBkcmFmdCAmJiAoZHJhZnQgYXMgYW55KVtEUkFGVF9TVEFURV1cblx0XHRpZiAoIXN0YXRlIHx8ICFzdGF0ZS5pc01hbnVhbF8pIGRpZSg5KVxuXHRcdGNvbnN0IHtzY29wZV86IHNjb3BlfSA9IHN0YXRlXG5cdFx0dXNlUGF0Y2hlc0luU2NvcGUoc2NvcGUsIHBhdGNoTGlzdGVuZXIpXG5cdFx0cmV0dXJuIHByb2Nlc3NSZXN1bHQodW5kZWZpbmVkLCBzY29wZSlcblx0fVxuXG5cdC8qKlxuXHQgKiBQYXNzIHRydWUgdG8gYXV0b21hdGljYWxseSBmcmVlemUgYWxsIGNvcGllcyBjcmVhdGVkIGJ5IEltbWVyLlxuXHQgKlxuXHQgKiBCeSBkZWZhdWx0LCBhdXRvLWZyZWV6aW5nIGlzIGVuYWJsZWQuXG5cdCAqL1xuXHRzZXRBdXRvRnJlZXplKHZhbHVlOiBib29sZWFuKSB7XG5cdFx0dGhpcy5hdXRvRnJlZXplXyA9IHZhbHVlXG5cdH1cblxuXHQvKipcblx0ICogUGFzcyB0cnVlIHRvIGVuYWJsZSBzdHJpY3Qgc2hhbGxvdyBjb3B5LlxuXHQgKlxuXHQgKiBCeSBkZWZhdWx0LCBpbW1lciBkb2VzIG5vdCBjb3B5IHRoZSBvYmplY3QgZGVzY3JpcHRvcnMgc3VjaCBhcyBnZXR0ZXIsIHNldHRlciBhbmQgbm9uLWVudW1yYWJsZSBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c2V0VXNlU3RyaWN0U2hhbGxvd0NvcHkodmFsdWU6IFN0cmljdE1vZGUpIHtcblx0XHR0aGlzLnVzZVN0cmljdFNoYWxsb3dDb3B5XyA9IHZhbHVlXG5cdH1cblxuXHRhcHBseVBhdGNoZXM8VCBleHRlbmRzIE9iamVjdGlzaD4oYmFzZTogVCwgcGF0Y2hlczogcmVhZG9ubHkgUGF0Y2hbXSk6IFQge1xuXHRcdC8vIElmIGEgcGF0Y2ggcmVwbGFjZXMgdGhlIGVudGlyZSBzdGF0ZSwgdGFrZSB0aGF0IHJlcGxhY2VtZW50IGFzIGJhc2Vcblx0XHQvLyBiZWZvcmUgYXBwbHlpbmcgcGF0Y2hlc1xuXHRcdGxldCBpOiBudW1iZXJcblx0XHRmb3IgKGkgPSBwYXRjaGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRjb25zdCBwYXRjaCA9IHBhdGNoZXNbaV1cblx0XHRcdGlmIChwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMCAmJiBwYXRjaC5vcCA9PT0gXCJyZXBsYWNlXCIpIHtcblx0XHRcdFx0YmFzZSA9IHBhdGNoLnZhbHVlXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIElmIHRoZXJlIHdhcyBhIHBhdGNoIHRoYXQgcmVwbGFjZWQgdGhlIGVudGlyZSBzdGF0ZSwgc3RhcnQgZnJvbSB0aGVcblx0XHQvLyBwYXRjaCBhZnRlciB0aGF0LlxuXHRcdGlmIChpID4gLTEpIHtcblx0XHRcdHBhdGNoZXMgPSBwYXRjaGVzLnNsaWNlKGkgKyAxKVxuXHRcdH1cblxuXHRcdGNvbnN0IGFwcGx5UGF0Y2hlc0ltcGwgPSBnZXRQbHVnaW4oXCJQYXRjaGVzXCIpLmFwcGx5UGF0Y2hlc19cblx0XHRpZiAoaXNEcmFmdChiYXNlKSkge1xuXHRcdFx0Ly8gTi5COiBuZXZlciBoaXRzIGlmIHNvbWUgcGF0Y2ggYSByZXBsYWNlbWVudCwgcGF0Y2hlcyBhcmUgbmV2ZXIgZHJhZnRzXG5cdFx0XHRyZXR1cm4gYXBwbHlQYXRjaGVzSW1wbChiYXNlLCBwYXRjaGVzKVxuXHRcdH1cblx0XHQvLyBPdGhlcndpc2UsIHByb2R1Y2UgYSBjb3B5IG9mIHRoZSBiYXNlIHN0YXRlLlxuXHRcdHJldHVybiB0aGlzLnByb2R1Y2UoYmFzZSwgKGRyYWZ0OiBEcmFmdGVkKSA9PlxuXHRcdFx0YXBwbHlQYXRjaGVzSW1wbChkcmFmdCwgcGF0Y2hlcylcblx0XHQpXG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3h5PFQgZXh0ZW5kcyBPYmplY3Rpc2g+KFxuXHR2YWx1ZTogVCxcblx0cGFyZW50PzogSW1tZXJTdGF0ZVxuKTogRHJhZnRlZDxULCBJbW1lclN0YXRlPiB7XG5cdC8vIHByZWNvbmRpdGlvbjogY3JlYXRlUHJveHkgc2hvdWxkIGJlIGd1YXJkZWQgYnkgaXNEcmFmdGFibGUsIHNvIHdlIGtub3cgd2UgY2FuIHNhZmVseSBkcmFmdFxuXHRjb25zdCBkcmFmdDogRHJhZnRlZCA9IGlzTWFwKHZhbHVlKVxuXHRcdD8gZ2V0UGx1Z2luKFwiTWFwU2V0XCIpLnByb3h5TWFwXyh2YWx1ZSwgcGFyZW50KVxuXHRcdDogaXNTZXQodmFsdWUpXG5cdFx0PyBnZXRQbHVnaW4oXCJNYXBTZXRcIikucHJveHlTZXRfKHZhbHVlLCBwYXJlbnQpXG5cdFx0OiBjcmVhdGVQcm94eVByb3h5KHZhbHVlLCBwYXJlbnQpXG5cblx0Y29uc3Qgc2NvcGUgPSBwYXJlbnQgPyBwYXJlbnQuc2NvcGVfIDogZ2V0Q3VycmVudFNjb3BlKClcblx0c2NvcGUuZHJhZnRzXy5wdXNoKGRyYWZ0KVxuXHRyZXR1cm4gZHJhZnRcbn1cbiIsImltcG9ydCB7XG5cdGRpZSxcblx0aXNEcmFmdCxcblx0c2hhbGxvd0NvcHksXG5cdGVhY2gsXG5cdERSQUZUX1NUQVRFLFxuXHRzZXQsXG5cdEltbWVyU3RhdGUsXG5cdGlzRHJhZnRhYmxlLFxuXHRpc0Zyb3plblxufSBmcm9tIFwiLi4vaW50ZXJuYWxcIlxuXG4vKiogVGFrZXMgYSBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIGRyYWZ0IGFuZCBmaW5hbGl6ZXMgaXQgKGJ1dCB3aXRob3V0IGZyZWV6aW5nKS4gVGhpcyBpcyBhIGdyZWF0IHV0aWxpdHkgdG8gcHJpbnQgdGhlIGN1cnJlbnQgc3RhdGUgZHVyaW5nIGRlYnVnZ2luZyAobm8gUHJveGllcyBpbiB0aGUgd2F5KS4gVGhlIG91dHB1dCBvZiBjdXJyZW50IGNhbiBhbHNvIGJlIHNhZmVseSBsZWFrZWQgb3V0c2lkZSB0aGUgcHJvZHVjZXIuICovXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudDxUPih2YWx1ZTogVCk6IFRcbmV4cG9ydCBmdW5jdGlvbiBjdXJyZW50KHZhbHVlOiBhbnkpOiBhbnkge1xuXHRpZiAoIWlzRHJhZnQodmFsdWUpKSBkaWUoMTAsIHZhbHVlKVxuXHRyZXR1cm4gY3VycmVudEltcGwodmFsdWUpXG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRJbXBsKHZhbHVlOiBhbnkpOiBhbnkge1xuXHRpZiAoIWlzRHJhZnRhYmxlKHZhbHVlKSB8fCBpc0Zyb3plbih2YWx1ZSkpIHJldHVybiB2YWx1ZVxuXHRjb25zdCBzdGF0ZTogSW1tZXJTdGF0ZSB8IHVuZGVmaW5lZCA9IHZhbHVlW0RSQUZUX1NUQVRFXVxuXHRsZXQgY29weTogYW55XG5cdGlmIChzdGF0ZSkge1xuXHRcdGlmICghc3RhdGUubW9kaWZpZWRfKSByZXR1cm4gc3RhdGUuYmFzZV9cblx0XHQvLyBPcHRpbWl6YXRpb246IGF2b2lkIGdlbmVyYXRpbmcgbmV3IGRyYWZ0cyBkdXJpbmcgY29weWluZ1xuXHRcdHN0YXRlLmZpbmFsaXplZF8gPSB0cnVlXG5cdFx0Y29weSA9IHNoYWxsb3dDb3B5KHZhbHVlLCBzdGF0ZS5zY29wZV8uaW1tZXJfLnVzZVN0cmljdFNoYWxsb3dDb3B5Xylcblx0fSBlbHNlIHtcblx0XHRjb3B5ID0gc2hhbGxvd0NvcHkodmFsdWUsIHRydWUpXG5cdH1cblx0Ly8gcmVjdXJzZVxuXHRlYWNoKGNvcHksIChrZXksIGNoaWxkVmFsdWUpID0+IHtcblx0XHRzZXQoY29weSwga2V5LCBjdXJyZW50SW1wbChjaGlsZFZhbHVlKSlcblx0fSlcblx0aWYgKHN0YXRlKSB7XG5cdFx0c3RhdGUuZmluYWxpemVkXyA9IGZhbHNlXG5cdH1cblx0cmV0dXJuIGNvcHlcbn1cbiIsImltcG9ydCB7aW1tZXJhYmxlfSBmcm9tIFwiLi4vaW1tZXJcIlxuaW1wb3J0IHtcblx0SW1tZXJTdGF0ZSxcblx0UGF0Y2gsXG5cdFNldFN0YXRlLFxuXHRQcm94eUFycmF5U3RhdGUsXG5cdE1hcFN0YXRlLFxuXHRQcm94eU9iamVjdFN0YXRlLFxuXHRQYXRjaFBhdGgsXG5cdGdldCxcblx0ZWFjaCxcblx0aGFzLFxuXHRnZXRBcmNodHlwZSxcblx0Z2V0UHJvdG90eXBlT2YsXG5cdGlzU2V0LFxuXHRpc01hcCxcblx0bG9hZFBsdWdpbixcblx0QXJjaFR5cGUsXG5cdGRpZSxcblx0aXNEcmFmdCxcblx0aXNEcmFmdGFibGUsXG5cdE5PVEhJTkcsXG5cdGVycm9yc1xufSBmcm9tIFwiLi4vaW50ZXJuYWxcIlxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlUGF0Y2hlcygpIHtcblx0Y29uc3QgZXJyb3JPZmZzZXQgPSAxNlxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG5cdFx0ZXJyb3JzLnB1c2goXG5cdFx0XHQnU2V0cyBjYW5ub3QgaGF2ZSBcInJlcGxhY2VcIiBwYXRjaGVzLicsXG5cdFx0XHRmdW5jdGlvbihvcDogc3RyaW5nKSB7XG5cdFx0XHRcdHJldHVybiBcIlVuc3VwcG9ydGVkIHBhdGNoIG9wZXJhdGlvbjogXCIgKyBvcFxuXHRcdFx0fSxcblx0XHRcdGZ1bmN0aW9uKHBhdGg6IHN0cmluZykge1xuXHRcdFx0XHRyZXR1cm4gXCJDYW5ub3QgYXBwbHkgcGF0Y2gsIHBhdGggZG9lc24ndCByZXNvbHZlOiBcIiArIHBhdGhcblx0XHRcdH0sXG5cdFx0XHRcIlBhdGNoaW5nIHJlc2VydmVkIGF0dHJpYnV0ZXMgbGlrZSBfX3Byb3RvX18sIHByb3RvdHlwZSBhbmQgY29uc3RydWN0b3IgaXMgbm90IGFsbG93ZWRcIlxuXHRcdClcblx0fVxuXG5cdGNvbnN0IFJFUExBQ0UgPSBcInJlcGxhY2VcIlxuXHRjb25zdCBBREQgPSBcImFkZFwiXG5cdGNvbnN0IFJFTU9WRSA9IFwicmVtb3ZlXCJcblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVBhdGNoZXNfKFxuXHRcdHN0YXRlOiBJbW1lclN0YXRlLFxuXHRcdGJhc2VQYXRoOiBQYXRjaFBhdGgsXG5cdFx0cGF0Y2hlczogUGF0Y2hbXSxcblx0XHRpbnZlcnNlUGF0Y2hlczogUGF0Y2hbXVxuXHQpOiB2b2lkIHtcblx0XHRzd2l0Y2ggKHN0YXRlLnR5cGVfKSB7XG5cdFx0XHRjYXNlIEFyY2hUeXBlLk9iamVjdDpcblx0XHRcdGNhc2UgQXJjaFR5cGUuTWFwOlxuXHRcdFx0XHRyZXR1cm4gZ2VuZXJhdGVQYXRjaGVzRnJvbUFzc2lnbmVkKFxuXHRcdFx0XHRcdHN0YXRlLFxuXHRcdFx0XHRcdGJhc2VQYXRoLFxuXHRcdFx0XHRcdHBhdGNoZXMsXG5cdFx0XHRcdFx0aW52ZXJzZVBhdGNoZXNcblx0XHRcdFx0KVxuXHRcdFx0Y2FzZSBBcmNoVHlwZS5BcnJheTpcblx0XHRcdFx0cmV0dXJuIGdlbmVyYXRlQXJyYXlQYXRjaGVzKHN0YXRlLCBiYXNlUGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpXG5cdFx0XHRjYXNlIEFyY2hUeXBlLlNldDpcblx0XHRcdFx0cmV0dXJuIGdlbmVyYXRlU2V0UGF0Y2hlcyhcblx0XHRcdFx0XHQoc3RhdGUgYXMgYW55KSBhcyBTZXRTdGF0ZSxcblx0XHRcdFx0XHRiYXNlUGF0aCxcblx0XHRcdFx0XHRwYXRjaGVzLFxuXHRcdFx0XHRcdGludmVyc2VQYXRjaGVzXG5cdFx0XHRcdClcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZUFycmF5UGF0Y2hlcyhcblx0XHRzdGF0ZTogUHJveHlBcnJheVN0YXRlLFxuXHRcdGJhc2VQYXRoOiBQYXRjaFBhdGgsXG5cdFx0cGF0Y2hlczogUGF0Y2hbXSxcblx0XHRpbnZlcnNlUGF0Y2hlczogUGF0Y2hbXVxuXHQpIHtcblx0XHRsZXQge2Jhc2VfLCBhc3NpZ25lZF99ID0gc3RhdGVcblx0XHRsZXQgY29weV8gPSBzdGF0ZS5jb3B5XyFcblxuXHRcdC8vIFJlZHVjZSBjb21wbGV4aXR5IGJ5IGVuc3VyaW5nIGBiYXNlYCBpcyBuZXZlciBsb25nZXIuXG5cdFx0aWYgKGNvcHlfLmxlbmd0aCA8IGJhc2VfLmxlbmd0aCkge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0O1tiYXNlXywgY29weV9dID0gW2NvcHlfLCBiYXNlX11cblx0XHRcdDtbcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXNdID0gW2ludmVyc2VQYXRjaGVzLCBwYXRjaGVzXVxuXHRcdH1cblxuXHRcdC8vIFByb2Nlc3MgcmVwbGFjZWQgaW5kaWNlcy5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGJhc2VfLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoYXNzaWduZWRfW2ldICYmIGNvcHlfW2ldICE9PSBiYXNlX1tpXSkge1xuXHRcdFx0XHRjb25zdCBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSlcblx0XHRcdFx0cGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0XHRvcDogUkVQTEFDRSxcblx0XHRcdFx0XHRwYXRoLFxuXHRcdFx0XHRcdC8vIE5lZWQgdG8gbWF5YmUgY2xvbmUgaXQsIGFzIGl0IGNhbiBpbiBmYWN0IGJlIHRoZSBvcmlnaW5hbCB2YWx1ZVxuXHRcdFx0XHRcdC8vIGR1ZSB0byB0aGUgYmFzZS9jb3B5IGludmVyc2lvbiBhdCB0aGUgc3RhcnQgb2YgdGhpcyBmdW5jdGlvblxuXHRcdFx0XHRcdHZhbHVlOiBjbG9uZVBhdGNoVmFsdWVJZk5lZWRlZChjb3B5X1tpXSlcblx0XHRcdFx0fSlcblx0XHRcdFx0aW52ZXJzZVBhdGNoZXMucHVzaCh7XG5cdFx0XHRcdFx0b3A6IFJFUExBQ0UsXG5cdFx0XHRcdFx0cGF0aCxcblx0XHRcdFx0XHR2YWx1ZTogY2xvbmVQYXRjaFZhbHVlSWZOZWVkZWQoYmFzZV9baV0pXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJvY2VzcyBhZGRlZCBpbmRpY2VzLlxuXHRcdGZvciAobGV0IGkgPSBiYXNlXy5sZW5ndGg7IGkgPCBjb3B5Xy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgcGF0aCA9IGJhc2VQYXRoLmNvbmNhdChbaV0pXG5cdFx0XHRwYXRjaGVzLnB1c2goe1xuXHRcdFx0XHRvcDogQURELFxuXHRcdFx0XHRwYXRoLFxuXHRcdFx0XHQvLyBOZWVkIHRvIG1heWJlIGNsb25lIGl0LCBhcyBpdCBjYW4gaW4gZmFjdCBiZSB0aGUgb3JpZ2luYWwgdmFsdWVcblx0XHRcdFx0Ly8gZHVlIHRvIHRoZSBiYXNlL2NvcHkgaW52ZXJzaW9uIGF0IHRoZSBzdGFydCBvZiB0aGlzIGZ1bmN0aW9uXG5cdFx0XHRcdHZhbHVlOiBjbG9uZVBhdGNoVmFsdWVJZk5lZWRlZChjb3B5X1tpXSlcblx0XHRcdH0pXG5cdFx0fVxuXHRcdGZvciAobGV0IGkgPSBjb3B5Xy5sZW5ndGggLSAxOyBiYXNlXy5sZW5ndGggPD0gaTsgLS1pKSB7XG5cdFx0XHRjb25zdCBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSlcblx0XHRcdGludmVyc2VQYXRjaGVzLnB1c2goe1xuXHRcdFx0XHRvcDogUkVNT1ZFLFxuXHRcdFx0XHRwYXRoXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXG5cdC8vIFRoaXMgaXMgdXNlZCBmb3IgYm90aCBNYXAgb2JqZWN0cyBhbmQgbm9ybWFsIG9iamVjdHMuXG5cdGZ1bmN0aW9uIGdlbmVyYXRlUGF0Y2hlc0Zyb21Bc3NpZ25lZChcblx0XHRzdGF0ZTogTWFwU3RhdGUgfCBQcm94eU9iamVjdFN0YXRlLFxuXHRcdGJhc2VQYXRoOiBQYXRjaFBhdGgsXG5cdFx0cGF0Y2hlczogUGF0Y2hbXSxcblx0XHRpbnZlcnNlUGF0Y2hlczogUGF0Y2hbXVxuXHQpIHtcblx0XHRjb25zdCB7YmFzZV8sIGNvcHlffSA9IHN0YXRlXG5cdFx0ZWFjaChzdGF0ZS5hc3NpZ25lZF8hLCAoa2V5LCBhc3NpZ25lZFZhbHVlKSA9PiB7XG5cdFx0XHRjb25zdCBvcmlnVmFsdWUgPSBnZXQoYmFzZV8sIGtleSlcblx0XHRcdGNvbnN0IHZhbHVlID0gZ2V0KGNvcHlfISwga2V5KVxuXHRcdFx0Y29uc3Qgb3AgPSAhYXNzaWduZWRWYWx1ZSA/IFJFTU9WRSA6IGhhcyhiYXNlXywga2V5KSA/IFJFUExBQ0UgOiBBRERcblx0XHRcdGlmIChvcmlnVmFsdWUgPT09IHZhbHVlICYmIG9wID09PSBSRVBMQUNFKSByZXR1cm5cblx0XHRcdGNvbnN0IHBhdGggPSBiYXNlUGF0aC5jb25jYXQoa2V5IGFzIGFueSlcblx0XHRcdHBhdGNoZXMucHVzaChvcCA9PT0gUkVNT1ZFID8ge29wLCBwYXRofSA6IHtvcCwgcGF0aCwgdmFsdWV9KVxuXHRcdFx0aW52ZXJzZVBhdGNoZXMucHVzaChcblx0XHRcdFx0b3AgPT09IEFERFxuXHRcdFx0XHRcdD8ge29wOiBSRU1PVkUsIHBhdGh9XG5cdFx0XHRcdFx0OiBvcCA9PT0gUkVNT1ZFXG5cdFx0XHRcdFx0PyB7b3A6IEFERCwgcGF0aCwgdmFsdWU6IGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkKG9yaWdWYWx1ZSl9XG5cdFx0XHRcdFx0OiB7b3A6IFJFUExBQ0UsIHBhdGgsIHZhbHVlOiBjbG9uZVBhdGNoVmFsdWVJZk5lZWRlZChvcmlnVmFsdWUpfVxuXHRcdFx0KVxuXHRcdH0pXG5cdH1cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVNldFBhdGNoZXMoXG5cdFx0c3RhdGU6IFNldFN0YXRlLFxuXHRcdGJhc2VQYXRoOiBQYXRjaFBhdGgsXG5cdFx0cGF0Y2hlczogUGF0Y2hbXSxcblx0XHRpbnZlcnNlUGF0Y2hlczogUGF0Y2hbXVxuXHQpIHtcblx0XHRsZXQge2Jhc2VfLCBjb3B5X30gPSBzdGF0ZVxuXG5cdFx0bGV0IGkgPSAwXG5cdFx0YmFzZV8uZm9yRWFjaCgodmFsdWU6IGFueSkgPT4ge1xuXHRcdFx0aWYgKCFjb3B5XyEuaGFzKHZhbHVlKSkge1xuXHRcdFx0XHRjb25zdCBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSlcblx0XHRcdFx0cGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0XHRvcDogUkVNT1ZFLFxuXHRcdFx0XHRcdHBhdGgsXG5cdFx0XHRcdFx0dmFsdWVcblx0XHRcdFx0fSlcblx0XHRcdFx0aW52ZXJzZVBhdGNoZXMudW5zaGlmdCh7XG5cdFx0XHRcdFx0b3A6IEFERCxcblx0XHRcdFx0XHRwYXRoLFxuXHRcdFx0XHRcdHZhbHVlXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0XHRpKytcblx0XHR9KVxuXHRcdGkgPSAwXG5cdFx0Y29weV8hLmZvckVhY2goKHZhbHVlOiBhbnkpID0+IHtcblx0XHRcdGlmICghYmFzZV8uaGFzKHZhbHVlKSkge1xuXHRcdFx0XHRjb25zdCBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSlcblx0XHRcdFx0cGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0XHRvcDogQURELFxuXHRcdFx0XHRcdHBhdGgsXG5cdFx0XHRcdFx0dmFsdWVcblx0XHRcdFx0fSlcblx0XHRcdFx0aW52ZXJzZVBhdGNoZXMudW5zaGlmdCh7XG5cdFx0XHRcdFx0b3A6IFJFTU9WRSxcblx0XHRcdFx0XHRwYXRoLFxuXHRcdFx0XHRcdHZhbHVlXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0XHRpKytcblx0XHR9KVxuXHR9XG5cblx0ZnVuY3Rpb24gZ2VuZXJhdGVSZXBsYWNlbWVudFBhdGNoZXNfKFxuXHRcdGJhc2VWYWx1ZTogYW55LFxuXHRcdHJlcGxhY2VtZW50OiBhbnksXG5cdFx0cGF0Y2hlczogUGF0Y2hbXSxcblx0XHRpbnZlcnNlUGF0Y2hlczogUGF0Y2hbXVxuXHQpOiB2b2lkIHtcblx0XHRwYXRjaGVzLnB1c2goe1xuXHRcdFx0b3A6IFJFUExBQ0UsXG5cdFx0XHRwYXRoOiBbXSxcblx0XHRcdHZhbHVlOiByZXBsYWNlbWVudCA9PT0gTk9USElORyA/IHVuZGVmaW5lZCA6IHJlcGxhY2VtZW50XG5cdFx0fSlcblx0XHRpbnZlcnNlUGF0Y2hlcy5wdXNoKHtcblx0XHRcdG9wOiBSRVBMQUNFLFxuXHRcdFx0cGF0aDogW10sXG5cdFx0XHR2YWx1ZTogYmFzZVZhbHVlXG5cdFx0fSlcblx0fVxuXG5cdGZ1bmN0aW9uIGFwcGx5UGF0Y2hlc188VD4oZHJhZnQ6IFQsIHBhdGNoZXM6IHJlYWRvbmx5IFBhdGNoW10pOiBUIHtcblx0XHRwYXRjaGVzLmZvckVhY2gocGF0Y2ggPT4ge1xuXHRcdFx0Y29uc3Qge3BhdGgsIG9wfSA9IHBhdGNoXG5cblx0XHRcdGxldCBiYXNlOiBhbnkgPSBkcmFmdFxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdFx0XHRjb25zdCBwYXJlbnRUeXBlID0gZ2V0QXJjaHR5cGUoYmFzZSlcblx0XHRcdFx0bGV0IHAgPSBwYXRoW2ldXG5cdFx0XHRcdGlmICh0eXBlb2YgcCAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgcCAhPT0gXCJudW1iZXJcIikge1xuXHRcdFx0XHRcdHAgPSBcIlwiICsgcFxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2VlICM3MzgsIGF2b2lkIHByb3RvdHlwZSBwb2xsdXRpb25cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdChwYXJlbnRUeXBlID09PSBBcmNoVHlwZS5PYmplY3QgfHwgcGFyZW50VHlwZSA9PT0gQXJjaFR5cGUuQXJyYXkpICYmXG5cdFx0XHRcdFx0KHAgPT09IFwiX19wcm90b19fXCIgfHwgcCA9PT0gXCJjb25zdHJ1Y3RvclwiKVxuXHRcdFx0XHQpXG5cdFx0XHRcdFx0ZGllKGVycm9yT2Zmc2V0ICsgMylcblx0XHRcdFx0aWYgKHR5cGVvZiBiYXNlID09PSBcImZ1bmN0aW9uXCIgJiYgcCA9PT0gXCJwcm90b3R5cGVcIilcblx0XHRcdFx0XHRkaWUoZXJyb3JPZmZzZXQgKyAzKVxuXHRcdFx0XHRiYXNlID0gZ2V0KGJhc2UsIHApXG5cdFx0XHRcdGlmICh0eXBlb2YgYmFzZSAhPT0gXCJvYmplY3RcIikgZGllKGVycm9yT2Zmc2V0ICsgMiwgcGF0aC5qb2luKFwiL1wiKSlcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgdHlwZSA9IGdldEFyY2h0eXBlKGJhc2UpXG5cdFx0XHRjb25zdCB2YWx1ZSA9IGRlZXBDbG9uZVBhdGNoVmFsdWUocGF0Y2gudmFsdWUpIC8vIHVzZWQgdG8gY2xvbmUgcGF0Y2ggdG8gZW5zdXJlIG9yaWdpbmFsIHBhdGNoIGlzIG5vdCBtb2RpZmllZCwgc2VlICM0MTFcblx0XHRcdGNvbnN0IGtleSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXVxuXHRcdFx0c3dpdGNoIChvcCkge1xuXHRcdFx0XHRjYXNlIFJFUExBQ0U6XG5cdFx0XHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdFx0XHRjYXNlIEFyY2hUeXBlLk1hcDpcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGJhc2Uuc2V0KGtleSwgdmFsdWUpXG5cdFx0XHRcdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHRcdFx0XHRcdFx0Y2FzZSBBcmNoVHlwZS5TZXQ6XG5cdFx0XHRcdFx0XHRcdGRpZShlcnJvck9mZnNldClcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdC8vIGlmIHZhbHVlIGlzIGFuIG9iamVjdCwgdGhlbiBpdCdzIGFzc2lnbmVkIGJ5IHJlZmVyZW5jZVxuXHRcdFx0XHRcdFx0XHQvLyBpbiB0aGUgZm9sbG93aW5nIGFkZCBvciByZW1vdmUgb3BzLCB0aGUgdmFsdWUgZmllbGQgaW5zaWRlIHRoZSBwYXRjaCB3aWxsIGFsc28gYmUgbW9kaWZ5ZWRcblx0XHRcdFx0XHRcdFx0Ly8gc28gd2UgdXNlIHZhbHVlIGZyb20gdGhlIGNsb25lZCBwYXRjaFxuXHRcdFx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0XHRcdHJldHVybiAoYmFzZVtrZXldID0gdmFsdWUpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRjYXNlIEFERDpcblx0XHRcdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0XHRcdGNhc2UgQXJjaFR5cGUuQXJyYXk6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBrZXkgPT09IFwiLVwiXG5cdFx0XHRcdFx0XHRcdFx0PyBiYXNlLnB1c2godmFsdWUpXG5cdFx0XHRcdFx0XHRcdFx0OiBiYXNlLnNwbGljZShrZXkgYXMgYW55LCAwLCB2YWx1ZSlcblx0XHRcdFx0XHRcdGNhc2UgQXJjaFR5cGUuTWFwOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYmFzZS5zZXQoa2V5LCB2YWx1ZSlcblx0XHRcdFx0XHRcdGNhc2UgQXJjaFR5cGUuU2V0OlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYmFzZS5hZGQodmFsdWUpXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gKGJhc2Vba2V5XSA9IHZhbHVlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0Y2FzZSBSRU1PVkU6XG5cdFx0XHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdFx0XHRjYXNlIEFyY2hUeXBlLkFycmF5OlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYmFzZS5zcGxpY2Uoa2V5IGFzIGFueSwgMSlcblx0XHRcdFx0XHRcdGNhc2UgQXJjaFR5cGUuTWFwOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYmFzZS5kZWxldGUoa2V5KVxuXHRcdFx0XHRcdFx0Y2FzZSBBcmNoVHlwZS5TZXQ6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBiYXNlLmRlbGV0ZShwYXRjaC52YWx1ZSlcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBkZWxldGUgYmFzZVtrZXldXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGRpZShlcnJvck9mZnNldCArIDEsIG9wKVxuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRyZXR1cm4gZHJhZnRcblx0fVxuXG5cdC8vIG9wdGltaXplOiB0aGlzIGlzIHF1aXRlIGEgcGVyZm9ybWFuY2UgaGl0LCBjYW4gd2UgZGV0ZWN0IGludGVsbGlnZW50bHkgd2hlbiBpdCBpcyBuZWVkZWQ/XG5cdC8vIEUuZy4gYXV0by1kcmFmdCB3aGVuIG5ldyBvYmplY3RzIGZyb20gb3V0c2lkZSBhcmUgYXNzaWduZWQgYW5kIG1vZGlmaWVkP1xuXHQvLyAoU2VlIGZhaWxpbmcgdGVzdCB3aGVuIGRlZXBDbG9uZSBqdXN0IHJldHVybnMgb2JqKVxuXHRmdW5jdGlvbiBkZWVwQ2xvbmVQYXRjaFZhbHVlPFQ+KG9iajogVCk6IFRcblx0ZnVuY3Rpb24gZGVlcENsb25lUGF0Y2hWYWx1ZShvYmo6IGFueSkge1xuXHRcdGlmICghaXNEcmFmdGFibGUob2JqKSkgcmV0dXJuIG9ialxuXHRcdGlmIChBcnJheS5pc0FycmF5KG9iaikpIHJldHVybiBvYmoubWFwKGRlZXBDbG9uZVBhdGNoVmFsdWUpXG5cdFx0aWYgKGlzTWFwKG9iaikpXG5cdFx0XHRyZXR1cm4gbmV3IE1hcChcblx0XHRcdFx0QXJyYXkuZnJvbShvYmouZW50cmllcygpKS5tYXAoKFtrLCB2XSkgPT4gW2ssIGRlZXBDbG9uZVBhdGNoVmFsdWUodildKVxuXHRcdFx0KVxuXHRcdGlmIChpc1NldChvYmopKSByZXR1cm4gbmV3IFNldChBcnJheS5mcm9tKG9iaikubWFwKGRlZXBDbG9uZVBhdGNoVmFsdWUpKVxuXHRcdGNvbnN0IGNsb25lZCA9IE9iamVjdC5jcmVhdGUoZ2V0UHJvdG90eXBlT2Yob2JqKSlcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBvYmopIGNsb25lZFtrZXldID0gZGVlcENsb25lUGF0Y2hWYWx1ZShvYmpba2V5XSlcblx0XHRpZiAoaGFzKG9iaiwgaW1tZXJhYmxlKSkgY2xvbmVkW2ltbWVyYWJsZV0gPSBvYmpbaW1tZXJhYmxlXVxuXHRcdHJldHVybiBjbG9uZWRcblx0fVxuXG5cdGZ1bmN0aW9uIGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkPFQ+KG9iajogVCk6IFQge1xuXHRcdGlmIChpc0RyYWZ0KG9iaikpIHtcblx0XHRcdHJldHVybiBkZWVwQ2xvbmVQYXRjaFZhbHVlKG9iailcblx0XHR9IGVsc2UgcmV0dXJuIG9ialxuXHR9XG5cblx0bG9hZFBsdWdpbihcIlBhdGNoZXNcIiwge1xuXHRcdGFwcGx5UGF0Y2hlc18sXG5cdFx0Z2VuZXJhdGVQYXRjaGVzXyxcblx0XHRnZW5lcmF0ZVJlcGxhY2VtZW50UGF0Y2hlc19cblx0fSlcbn1cbiIsIi8vIHR5cGVzIG9ubHkhXG5pbXBvcnQge1xuXHRJbW1lclN0YXRlLFxuXHRBbnlNYXAsXG5cdEFueVNldCxcblx0TWFwU3RhdGUsXG5cdFNldFN0YXRlLFxuXHREUkFGVF9TVEFURSxcblx0Z2V0Q3VycmVudFNjb3BlLFxuXHRsYXRlc3QsXG5cdGlzRHJhZnRhYmxlLFxuXHRjcmVhdGVQcm94eSxcblx0bG9hZFBsdWdpbixcblx0bWFya0NoYW5nZWQsXG5cdGRpZSxcblx0QXJjaFR5cGUsXG5cdGVhY2hcbn0gZnJvbSBcIi4uL2ludGVybmFsXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZU1hcFNldCgpIHtcblx0Y2xhc3MgRHJhZnRNYXAgZXh0ZW5kcyBNYXAge1xuXHRcdFtEUkFGVF9TVEFURV06IE1hcFN0YXRlXG5cblx0XHRjb25zdHJ1Y3Rvcih0YXJnZXQ6IEFueU1hcCwgcGFyZW50PzogSW1tZXJTdGF0ZSkge1xuXHRcdFx0c3VwZXIoKVxuXHRcdFx0dGhpc1tEUkFGVF9TVEFURV0gPSB7XG5cdFx0XHRcdHR5cGVfOiBBcmNoVHlwZS5NYXAsXG5cdFx0XHRcdHBhcmVudF86IHBhcmVudCxcblx0XHRcdFx0c2NvcGVfOiBwYXJlbnQgPyBwYXJlbnQuc2NvcGVfIDogZ2V0Q3VycmVudFNjb3BlKCkhLFxuXHRcdFx0XHRtb2RpZmllZF86IGZhbHNlLFxuXHRcdFx0XHRmaW5hbGl6ZWRfOiBmYWxzZSxcblx0XHRcdFx0Y29weV86IHVuZGVmaW5lZCxcblx0XHRcdFx0YXNzaWduZWRfOiB1bmRlZmluZWQsXG5cdFx0XHRcdGJhc2VfOiB0YXJnZXQsXG5cdFx0XHRcdGRyYWZ0XzogdGhpcyBhcyBhbnksXG5cdFx0XHRcdGlzTWFudWFsXzogZmFsc2UsXG5cdFx0XHRcdHJldm9rZWRfOiBmYWxzZVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGdldCBzaXplKCk6IG51bWJlciB7XG5cdFx0XHRyZXR1cm4gbGF0ZXN0KHRoaXNbRFJBRlRfU1RBVEVdKS5zaXplXG5cdFx0fVxuXG5cdFx0aGFzKGtleTogYW55KTogYm9vbGVhbiB7XG5cdFx0XHRyZXR1cm4gbGF0ZXN0KHRoaXNbRFJBRlRfU1RBVEVdKS5oYXMoa2V5KVxuXHRcdH1cblxuXHRcdHNldChrZXk6IGFueSwgdmFsdWU6IGFueSkge1xuXHRcdFx0Y29uc3Qgc3RhdGU6IE1hcFN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV1cblx0XHRcdGFzc2VydFVucmV2b2tlZChzdGF0ZSlcblx0XHRcdGlmICghbGF0ZXN0KHN0YXRlKS5oYXMoa2V5KSB8fCBsYXRlc3Qoc3RhdGUpLmdldChrZXkpICE9PSB2YWx1ZSkge1xuXHRcdFx0XHRwcmVwYXJlTWFwQ29weShzdGF0ZSlcblx0XHRcdFx0bWFya0NoYW5nZWQoc3RhdGUpXG5cdFx0XHRcdHN0YXRlLmFzc2lnbmVkXyEuc2V0KGtleSwgdHJ1ZSlcblx0XHRcdFx0c3RhdGUuY29weV8hLnNldChrZXksIHZhbHVlKVxuXHRcdFx0XHRzdGF0ZS5hc3NpZ25lZF8hLnNldChrZXksIHRydWUpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpc1xuXHRcdH1cblxuXHRcdGRlbGV0ZShrZXk6IGFueSk6IGJvb2xlYW4ge1xuXHRcdFx0aWYgKCF0aGlzLmhhcyhrZXkpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzdGF0ZTogTWFwU3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXVxuXHRcdFx0YXNzZXJ0VW5yZXZva2VkKHN0YXRlKVxuXHRcdFx0cHJlcGFyZU1hcENvcHkoc3RhdGUpXG5cdFx0XHRtYXJrQ2hhbmdlZChzdGF0ZSlcblx0XHRcdGlmIChzdGF0ZS5iYXNlXy5oYXMoa2V5KSkge1xuXHRcdFx0XHRzdGF0ZS5hc3NpZ25lZF8hLnNldChrZXksIGZhbHNlKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RhdGUuYXNzaWduZWRfIS5kZWxldGUoa2V5KVxuXHRcdFx0fVxuXHRcdFx0c3RhdGUuY29weV8hLmRlbGV0ZShrZXkpXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdH1cblxuXHRcdGNsZWFyKCkge1xuXHRcdFx0Y29uc3Qgc3RhdGU6IE1hcFN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV1cblx0XHRcdGFzc2VydFVucmV2b2tlZChzdGF0ZSlcblx0XHRcdGlmIChsYXRlc3Qoc3RhdGUpLnNpemUpIHtcblx0XHRcdFx0cHJlcGFyZU1hcENvcHkoc3RhdGUpXG5cdFx0XHRcdG1hcmtDaGFuZ2VkKHN0YXRlKVxuXHRcdFx0XHRzdGF0ZS5hc3NpZ25lZF8gPSBuZXcgTWFwKClcblx0XHRcdFx0ZWFjaChzdGF0ZS5iYXNlXywga2V5ID0+IHtcblx0XHRcdFx0XHRzdGF0ZS5hc3NpZ25lZF8hLnNldChrZXksIGZhbHNlKVxuXHRcdFx0XHR9KVxuXHRcdFx0XHRzdGF0ZS5jb3B5XyEuY2xlYXIoKVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvckVhY2goY2I6ICh2YWx1ZTogYW55LCBrZXk6IGFueSwgc2VsZjogYW55KSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KSB7XG5cdFx0XHRjb25zdCBzdGF0ZTogTWFwU3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXVxuXHRcdFx0bGF0ZXN0KHN0YXRlKS5mb3JFYWNoKChfdmFsdWU6IGFueSwga2V5OiBhbnksIF9tYXA6IGFueSkgPT4ge1xuXHRcdFx0XHRjYi5jYWxsKHRoaXNBcmcsIHRoaXMuZ2V0KGtleSksIGtleSwgdGhpcylcblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0Z2V0KGtleTogYW55KTogYW55IHtcblx0XHRcdGNvbnN0IHN0YXRlOiBNYXBTdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdXG5cdFx0XHRhc3NlcnRVbnJldm9rZWQoc3RhdGUpXG5cdFx0XHRjb25zdCB2YWx1ZSA9IGxhdGVzdChzdGF0ZSkuZ2V0KGtleSlcblx0XHRcdGlmIChzdGF0ZS5maW5hbGl6ZWRfIHx8ICFpc0RyYWZ0YWJsZSh2YWx1ZSkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlXG5cdFx0XHR9XG5cdFx0XHRpZiAodmFsdWUgIT09IHN0YXRlLmJhc2VfLmdldChrZXkpKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAvLyBlaXRoZXIgYWxyZWFkeSBkcmFmdGVkIG9yIHJlYXNzaWduZWRcblx0XHRcdH1cblx0XHRcdC8vIGRlc3BpdGUgd2hhdCBpdCBsb29rcywgdGhpcyBjcmVhdGVzIGEgZHJhZnQgb25seSBvbmNlLCBzZWUgYWJvdmUgY29uZGl0aW9uXG5cdFx0XHRjb25zdCBkcmFmdCA9IGNyZWF0ZVByb3h5KHZhbHVlLCBzdGF0ZSlcblx0XHRcdHByZXBhcmVNYXBDb3B5KHN0YXRlKVxuXHRcdFx0c3RhdGUuY29weV8hLnNldChrZXksIGRyYWZ0KVxuXHRcdFx0cmV0dXJuIGRyYWZ0XG5cdFx0fVxuXG5cdFx0a2V5cygpOiBJdGVyYWJsZUl0ZXJhdG9yPGFueT4ge1xuXHRcdFx0cmV0dXJuIGxhdGVzdCh0aGlzW0RSQUZUX1NUQVRFXSkua2V5cygpXG5cdFx0fVxuXG5cdFx0dmFsdWVzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8YW55PiB7XG5cdFx0XHRjb25zdCBpdGVyYXRvciA9IHRoaXMua2V5cygpXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gdGhpcy52YWx1ZXMoKSxcblx0XHRcdFx0bmV4dDogKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHIgPSBpdGVyYXRvci5uZXh0KClcblx0XHRcdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHRcdFx0XHRcdGlmIChyLmRvbmUpIHJldHVybiByXG5cdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmdldChyLnZhbHVlKVxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRkb25lOiBmYWxzZSxcblx0XHRcdFx0XHRcdHZhbHVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGFzIGFueVxuXHRcdH1cblxuXHRcdGVudHJpZXMoKTogSXRlcmFibGVJdGVyYXRvcjxbYW55LCBhbnldPiB7XG5cdFx0XHRjb25zdCBpdGVyYXRvciA9IHRoaXMua2V5cygpXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gdGhpcy5lbnRyaWVzKCksXG5cdFx0XHRcdG5leHQ6ICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCByID0gaXRlcmF0b3IubmV4dCgpXG5cdFx0XHRcdFx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0XHRcdFx0XHRpZiAoci5kb25lKSByZXR1cm4gclxuXHRcdFx0XHRcdGNvbnN0IHZhbHVlID0gdGhpcy5nZXQoci52YWx1ZSlcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0ZG9uZTogZmFsc2UsXG5cdFx0XHRcdFx0XHR2YWx1ZTogW3IudmFsdWUsIHZhbHVlXVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBhcyBhbnlcblx0XHR9XG5cblx0XHRbU3ltYm9sLml0ZXJhdG9yXSgpIHtcblx0XHRcdHJldHVybiB0aGlzLmVudHJpZXMoKVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHByb3h5TWFwXzxUIGV4dGVuZHMgQW55TWFwPih0YXJnZXQ6IFQsIHBhcmVudD86IEltbWVyU3RhdGUpOiBUIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIG5ldyBEcmFmdE1hcCh0YXJnZXQsIHBhcmVudClcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVNYXBDb3B5KHN0YXRlOiBNYXBTdGF0ZSkge1xuXHRcdGlmICghc3RhdGUuY29weV8pIHtcblx0XHRcdHN0YXRlLmFzc2lnbmVkXyA9IG5ldyBNYXAoKVxuXHRcdFx0c3RhdGUuY29weV8gPSBuZXcgTWFwKHN0YXRlLmJhc2VfKVxuXHRcdH1cblx0fVxuXG5cdGNsYXNzIERyYWZ0U2V0IGV4dGVuZHMgU2V0IHtcblx0XHRbRFJBRlRfU1RBVEVdOiBTZXRTdGF0ZVxuXHRcdGNvbnN0cnVjdG9yKHRhcmdldDogQW55U2V0LCBwYXJlbnQ/OiBJbW1lclN0YXRlKSB7XG5cdFx0XHRzdXBlcigpXG5cdFx0XHR0aGlzW0RSQUZUX1NUQVRFXSA9IHtcblx0XHRcdFx0dHlwZV86IEFyY2hUeXBlLlNldCxcblx0XHRcdFx0cGFyZW50XzogcGFyZW50LFxuXHRcdFx0XHRzY29wZV86IHBhcmVudCA/IHBhcmVudC5zY29wZV8gOiBnZXRDdXJyZW50U2NvcGUoKSEsXG5cdFx0XHRcdG1vZGlmaWVkXzogZmFsc2UsXG5cdFx0XHRcdGZpbmFsaXplZF86IGZhbHNlLFxuXHRcdFx0XHRjb3B5XzogdW5kZWZpbmVkLFxuXHRcdFx0XHRiYXNlXzogdGFyZ2V0LFxuXHRcdFx0XHRkcmFmdF86IHRoaXMsXG5cdFx0XHRcdGRyYWZ0c186IG5ldyBNYXAoKSxcblx0XHRcdFx0cmV2b2tlZF86IGZhbHNlLFxuXHRcdFx0XHRpc01hbnVhbF86IGZhbHNlXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Z2V0IHNpemUoKTogbnVtYmVyIHtcblx0XHRcdHJldHVybiBsYXRlc3QodGhpc1tEUkFGVF9TVEFURV0pLnNpemVcblx0XHR9XG5cblx0XHRoYXModmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRcdFx0Y29uc3Qgc3RhdGU6IFNldFN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV1cblx0XHRcdGFzc2VydFVucmV2b2tlZChzdGF0ZSlcblx0XHRcdC8vIGJpdCBvZiB0cmlja2VyeSBoZXJlLCB0byBiZSBhYmxlIHRvIHJlY29nbml6ZSBib3RoIHRoZSB2YWx1ZSwgYW5kIHRoZSBkcmFmdCBvZiBpdHMgdmFsdWVcblx0XHRcdGlmICghc3RhdGUuY29weV8pIHtcblx0XHRcdFx0cmV0dXJuIHN0YXRlLmJhc2VfLmhhcyh2YWx1ZSlcblx0XHRcdH1cblx0XHRcdGlmIChzdGF0ZS5jb3B5Xy5oYXModmFsdWUpKSByZXR1cm4gdHJ1ZVxuXHRcdFx0aWYgKHN0YXRlLmRyYWZ0c18uaGFzKHZhbHVlKSAmJiBzdGF0ZS5jb3B5Xy5oYXMoc3RhdGUuZHJhZnRzXy5nZXQodmFsdWUpKSlcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdGFkZCh2YWx1ZTogYW55KTogYW55IHtcblx0XHRcdGNvbnN0IHN0YXRlOiBTZXRTdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdXG5cdFx0XHRhc3NlcnRVbnJldm9rZWQoc3RhdGUpXG5cdFx0XHRpZiAoIXRoaXMuaGFzKHZhbHVlKSkge1xuXHRcdFx0XHRwcmVwYXJlU2V0Q29weShzdGF0ZSlcblx0XHRcdFx0bWFya0NoYW5nZWQoc3RhdGUpXG5cdFx0XHRcdHN0YXRlLmNvcHlfIS5hZGQodmFsdWUpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpc1xuXHRcdH1cblxuXHRcdGRlbGV0ZSh2YWx1ZTogYW55KTogYW55IHtcblx0XHRcdGlmICghdGhpcy5oYXModmFsdWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzdGF0ZTogU2V0U3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXVxuXHRcdFx0YXNzZXJ0VW5yZXZva2VkKHN0YXRlKVxuXHRcdFx0cHJlcGFyZVNldENvcHkoc3RhdGUpXG5cdFx0XHRtYXJrQ2hhbmdlZChzdGF0ZSlcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdHN0YXRlLmNvcHlfIS5kZWxldGUodmFsdWUpIHx8XG5cdFx0XHRcdChzdGF0ZS5kcmFmdHNfLmhhcyh2YWx1ZSlcblx0XHRcdFx0XHQ/IHN0YXRlLmNvcHlfIS5kZWxldGUoc3RhdGUuZHJhZnRzXy5nZXQodmFsdWUpKVxuXHRcdFx0XHRcdDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZmFsc2UpXG5cdFx0XHQpXG5cdFx0fVxuXG5cdFx0Y2xlYXIoKSB7XG5cdFx0XHRjb25zdCBzdGF0ZTogU2V0U3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXVxuXHRcdFx0YXNzZXJ0VW5yZXZva2VkKHN0YXRlKVxuXHRcdFx0aWYgKGxhdGVzdChzdGF0ZSkuc2l6ZSkge1xuXHRcdFx0XHRwcmVwYXJlU2V0Q29weShzdGF0ZSlcblx0XHRcdFx0bWFya0NoYW5nZWQoc3RhdGUpXG5cdFx0XHRcdHN0YXRlLmNvcHlfIS5jbGVhcigpXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFsdWVzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8YW55PiB7XG5cdFx0XHRjb25zdCBzdGF0ZTogU2V0U3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXVxuXHRcdFx0YXNzZXJ0VW5yZXZva2VkKHN0YXRlKVxuXHRcdFx0cHJlcGFyZVNldENvcHkoc3RhdGUpXG5cdFx0XHRyZXR1cm4gc3RhdGUuY29weV8hLnZhbHVlcygpXG5cdFx0fVxuXG5cdFx0ZW50cmllcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFthbnksIGFueV0+IHtcblx0XHRcdGNvbnN0IHN0YXRlOiBTZXRTdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdXG5cdFx0XHRhc3NlcnRVbnJldm9rZWQoc3RhdGUpXG5cdFx0XHRwcmVwYXJlU2V0Q29weShzdGF0ZSlcblx0XHRcdHJldHVybiBzdGF0ZS5jb3B5XyEuZW50cmllcygpXG5cdFx0fVxuXG5cdFx0a2V5cygpOiBJdGVyYWJsZUl0ZXJhdG9yPGFueT4ge1xuXHRcdFx0cmV0dXJuIHRoaXMudmFsdWVzKClcblx0XHR9XG5cblx0XHRbU3ltYm9sLml0ZXJhdG9yXSgpIHtcblx0XHRcdHJldHVybiB0aGlzLnZhbHVlcygpXG5cdFx0fVxuXG5cdFx0Zm9yRWFjaChjYjogYW55LCB0aGlzQXJnPzogYW55KSB7XG5cdFx0XHRjb25zdCBpdGVyYXRvciA9IHRoaXMudmFsdWVzKClcblx0XHRcdGxldCByZXN1bHQgPSBpdGVyYXRvci5uZXh0KClcblx0XHRcdHdoaWxlICghcmVzdWx0LmRvbmUpIHtcblx0XHRcdFx0Y2IuY2FsbCh0aGlzQXJnLCByZXN1bHQudmFsdWUsIHJlc3VsdC52YWx1ZSwgdGhpcylcblx0XHRcdFx0cmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIHByb3h5U2V0XzxUIGV4dGVuZHMgQW55U2V0Pih0YXJnZXQ6IFQsIHBhcmVudD86IEltbWVyU3RhdGUpOiBUIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIG5ldyBEcmFmdFNldCh0YXJnZXQsIHBhcmVudClcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVTZXRDb3B5KHN0YXRlOiBTZXRTdGF0ZSkge1xuXHRcdGlmICghc3RhdGUuY29weV8pIHtcblx0XHRcdC8vIGNyZWF0ZSBkcmFmdHMgZm9yIGFsbCBlbnRyaWVzIHRvIHByZXNlcnZlIGluc2VydGlvbiBvcmRlclxuXHRcdFx0c3RhdGUuY29weV8gPSBuZXcgU2V0KClcblx0XHRcdHN0YXRlLmJhc2VfLmZvckVhY2godmFsdWUgPT4ge1xuXHRcdFx0XHRpZiAoaXNEcmFmdGFibGUodmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29uc3QgZHJhZnQgPSBjcmVhdGVQcm94eSh2YWx1ZSwgc3RhdGUpXG5cdFx0XHRcdFx0c3RhdGUuZHJhZnRzXy5zZXQodmFsdWUsIGRyYWZ0KVxuXHRcdFx0XHRcdHN0YXRlLmNvcHlfIS5hZGQoZHJhZnQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdGUuY29weV8hLmFkZCh2YWx1ZSlcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBhc3NlcnRVbnJldm9rZWQoc3RhdGU6IGFueSAvKkVTNVN0YXRlIHwgTWFwU3RhdGUgfCBTZXRTdGF0ZSovKSB7XG5cdFx0aWYgKHN0YXRlLnJldm9rZWRfKSBkaWUoMywgSlNPTi5zdHJpbmdpZnkobGF0ZXN0KHN0YXRlKSkpXG5cdH1cblxuXHRsb2FkUGx1Z2luKFwiTWFwU2V0XCIsIHtwcm94eU1hcF8sIHByb3h5U2V0X30pXG59XG4iLCJpbXBvcnQge1xuXHRJUHJvZHVjZSxcblx0SVByb2R1Y2VXaXRoUGF0Y2hlcyxcblx0SW1tZXIsXG5cdERyYWZ0LFxuXHRJbW11dGFibGVcbn0gZnJvbSBcIi4vaW50ZXJuYWxcIlxuXG5leHBvcnQge1xuXHREcmFmdCxcblx0V3JpdGFibGVEcmFmdCxcblx0SW1tdXRhYmxlLFxuXHRQYXRjaCxcblx0UGF0Y2hMaXN0ZW5lcixcblx0UHJvZHVjZXIsXG5cdG9yaWdpbmFsLFxuXHRjdXJyZW50LFxuXHRpc0RyYWZ0LFxuXHRpc0RyYWZ0YWJsZSxcblx0Tk9USElORyBhcyBub3RoaW5nLFxuXHREUkFGVEFCTEUgYXMgaW1tZXJhYmxlLFxuXHRmcmVlemUsXG5cdE9iamVjdGlzaCxcblx0U3RyaWN0TW9kZVxufSBmcm9tIFwiLi9pbnRlcm5hbFwiXG5cbmNvbnN0IGltbWVyID0gbmV3IEltbWVyKClcblxuLyoqXG4gKiBUaGUgYHByb2R1Y2VgIGZ1bmN0aW9uIHRha2VzIGEgdmFsdWUgYW5kIGEgXCJyZWNpcGUgZnVuY3Rpb25cIiAod2hvc2VcbiAqIHJldHVybiB2YWx1ZSBvZnRlbiBkZXBlbmRzIG9uIHRoZSBiYXNlIHN0YXRlKS4gVGhlIHJlY2lwZSBmdW5jdGlvbiBpc1xuICogZnJlZSB0byBtdXRhdGUgaXRzIGZpcnN0IGFyZ3VtZW50IGhvd2V2ZXIgaXQgd2FudHMuIEFsbCBtdXRhdGlvbnMgYXJlXG4gKiBvbmx5IGV2ZXIgYXBwbGllZCB0byBhIF9fY29weV9fIG9mIHRoZSBiYXNlIHN0YXRlLlxuICpcbiAqIFBhc3Mgb25seSBhIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIFwiY3VycmllZCBwcm9kdWNlclwiIHdoaWNoIHJlbGlldmVzIHlvdVxuICogZnJvbSBwYXNzaW5nIHRoZSByZWNpcGUgZnVuY3Rpb24gZXZlcnkgdGltZS5cbiAqXG4gKiBPbmx5IHBsYWluIG9iamVjdHMgYW5kIGFycmF5cyBhcmUgbWFkZSBtdXRhYmxlLiBBbGwgb3RoZXIgb2JqZWN0cyBhcmVcbiAqIGNvbnNpZGVyZWQgdW5jb3B5YWJsZS5cbiAqXG4gKiBOb3RlOiBUaGlzIGZ1bmN0aW9uIGlzIF9fYm91bmRfXyB0byBpdHMgYEltbWVyYCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gYmFzZSAtIHRoZSBpbml0aWFsIHN0YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9kdWNlciAtIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSBwcm94eSBvZiB0aGUgYmFzZSBzdGF0ZSBhcyBmaXJzdCBhcmd1bWVudCBhbmQgd2hpY2ggY2FuIGJlIGZyZWVseSBtb2RpZmllZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGF0Y2hMaXN0ZW5lciAtIG9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbGwgdGhlIHBhdGNoZXMgcHJvZHVjZWQgaGVyZVxuICogQHJldHVybnMge2FueX0gYSBuZXcgc3RhdGUsIG9yIHRoZSBpbml0aWFsIHN0YXRlIGlmIG5vdGhpbmcgd2FzIG1vZGlmaWVkXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9kdWNlOiBJUHJvZHVjZSA9IGltbWVyLnByb2R1Y2VcblxuLyoqXG4gKiBMaWtlIGBwcm9kdWNlYCwgYnV0IGBwcm9kdWNlV2l0aFBhdGNoZXNgIGFsd2F5cyByZXR1cm5zIGEgdHVwbGVcbiAqIFtuZXh0U3RhdGUsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzXSAoaW5zdGVhZCBvZiBqdXN0IHRoZSBuZXh0IHN0YXRlKVxuICovXG5leHBvcnQgY29uc3QgcHJvZHVjZVdpdGhQYXRjaGVzOiBJUHJvZHVjZVdpdGhQYXRjaGVzID0gaW1tZXIucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQoXG5cdGltbWVyXG4pXG5cbi8qKlxuICogUGFzcyB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgZnJlZXplIGFsbCBjb3BpZXMgY3JlYXRlZCBieSBJbW1lci5cbiAqXG4gKiBBbHdheXMgZnJlZXplIGJ5IGRlZmF1bHQsIGV2ZW4gaW4gcHJvZHVjdGlvbiBtb2RlXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRBdXRvRnJlZXplID0gaW1tZXIuc2V0QXV0b0ZyZWV6ZS5iaW5kKGltbWVyKVxuXG4vKipcbiAqIFBhc3MgdHJ1ZSB0byBlbmFibGUgc3RyaWN0IHNoYWxsb3cgY29weS5cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbW1lciBkb2VzIG5vdCBjb3B5IHRoZSBvYmplY3QgZGVzY3JpcHRvcnMgc3VjaCBhcyBnZXR0ZXIsIHNldHRlciBhbmQgbm9uLWVudW1yYWJsZSBwcm9wZXJ0aWVzLlxuICovXG5leHBvcnQgY29uc3Qgc2V0VXNlU3RyaWN0U2hhbGxvd0NvcHkgPSBpbW1lci5zZXRVc2VTdHJpY3RTaGFsbG93Q29weS5iaW5kKGltbWVyKVxuXG4vKipcbiAqIEFwcGx5IGFuIGFycmF5IG9mIEltbWVyIHBhdGNoZXMgdG8gdGhlIGZpcnN0IGFyZ3VtZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYSBwcm9kdWNlciwgd2hpY2ggbWVhbnMgY29weS1vbi13cml0ZSBpcyBpbiBlZmZlY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBhcHBseVBhdGNoZXMgPSBpbW1lci5hcHBseVBhdGNoZXMuYmluZChpbW1lcilcblxuLyoqXG4gKiBDcmVhdGUgYW4gSW1tZXIgZHJhZnQgZnJvbSB0aGUgZ2l2ZW4gYmFzZSBzdGF0ZSwgd2hpY2ggbWF5IGJlIGEgZHJhZnQgaXRzZWxmLlxuICogVGhlIGRyYWZ0IGNhbiBiZSBtb2RpZmllZCB1bnRpbCB5b3UgZmluYWxpemUgaXQgd2l0aCB0aGUgYGZpbmlzaERyYWZ0YCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZURyYWZ0ID0gaW1tZXIuY3JlYXRlRHJhZnQuYmluZChpbW1lcilcblxuLyoqXG4gKiBGaW5hbGl6ZSBhbiBJbW1lciBkcmFmdCBmcm9tIGEgYGNyZWF0ZURyYWZ0YCBjYWxsLCByZXR1cm5pbmcgdGhlIGJhc2Ugc3RhdGVcbiAqIChpZiBubyBjaGFuZ2VzIHdlcmUgbWFkZSkgb3IgYSBtb2RpZmllZCBjb3B5LiBUaGUgZHJhZnQgbXVzdCAqbm90KiBiZVxuICogbXV0YXRlZCBhZnRlcndhcmRzLlxuICpcbiAqIFBhc3MgYSBmdW5jdGlvbiBhcyB0aGUgMm5kIGFyZ3VtZW50IHRvIGdlbmVyYXRlIEltbWVyIHBhdGNoZXMgYmFzZWQgb24gdGhlXG4gKiBjaGFuZ2VzIHRoYXQgd2VyZSBtYWRlLlxuICovXG5leHBvcnQgY29uc3QgZmluaXNoRHJhZnQgPSBpbW1lci5maW5pc2hEcmFmdC5iaW5kKGltbWVyKVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYWN0dWFsbHkgYSBuby1vcCwgYnV0IGNhbiBiZSB1c2VkIHRvIGNhc3QgYW4gaW1tdXRhYmxlIHR5cGVcbiAqIHRvIGFuIGRyYWZ0IHR5cGUgYW5kIG1ha2UgVHlwZVNjcmlwdCBoYXBweVxuICpcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FzdERyYWZ0PFQ+KHZhbHVlOiBUKTogRHJhZnQ8VD4ge1xuXHRyZXR1cm4gdmFsdWUgYXMgYW55XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhY3R1YWxseSBhIG5vLW9wLCBidXQgY2FuIGJlIHVzZWQgdG8gY2FzdCBhIG11dGFibGUgdHlwZVxuICogdG8gYW4gaW1tdXRhYmxlIHR5cGUgYW5kIG1ha2UgVHlwZVNjcmlwdCBoYXBweVxuICogQHBhcmFtIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXN0SW1tdXRhYmxlPFQ+KHZhbHVlOiBUKTogSW1tdXRhYmxlPFQ+IHtcblx0cmV0dXJuIHZhbHVlIGFzIGFueVxufVxuXG5leHBvcnQge0ltbWVyfVxuXG5leHBvcnQge2VuYWJsZVBhdGNoZXN9IGZyb20gXCIuL3BsdWdpbnMvcGF0Y2hlc1wiXG5leHBvcnQge2VuYWJsZU1hcFNldH0gZnJvbSBcIi4vcGx1Z2lucy9tYXBzZXRcIlxuIl0sIm5hbWVzIjpbImltbWVyIiwiaXNTZXQiLCJjdXJyZW50IiwiSW1tZXIiLCJiYXNlIiwiSW1tZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLTyxJQUFNLFVBQXlCLE9BQU8sR0FBQSxDQUFJLGVBQWU7QUFVekQsSUFBTSxZQUEyQixPQUFPLEdBQUEsQ0FBSSxpQkFBaUI7QUFFN0QsSUFBTSxjQUE2QixPQUFPLEdBQUEsQ0FBSSxhQUFhOztBQ2pCM0QsSUFBTSxTQUNaLFFBQVEsSUFBSSxhQUFhLGNBQ3RCO0lBQUEsa0NB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QUFNLFFBQUEsRUFBVSxJQUFJLEdBQUcsS0FBSyxTQUFBLENBQVUsT0FBTyxLQUFLLENBQUMsQ0FBQztJQUN6RDtJQUVBLFdBQVcsVUFBVTtRQUFDO1FBQVc7SUFBUyxDQUFDO0FBQzVDOztBQ3JSQSxJQUFNLFFBQVEsSUFBSUMsT0FBTTtBQXFCakIsSUFBTSxVQUFvQixNQUFNLE9BQUE7QUFNaEMsSUFBTSxxQkFBMEMsTUFBTSxrQkFBQSxDQUFtQixJQUFBLENBQy9FO0FBUU0sSUFBTSxnQkFBZ0IsTUFBTSxhQUFBLENBQWMsSUFBQSxDQUFLLEtBQUs7QUFPcEQsSUFBTSwwQkFBMEIsTUFBTSx1QkFBQSxDQUF3QixJQUFBLENBQUssS0FBSztBQU94RSxJQUFNLGVBQWUsTUFBTSxZQUFBLENBQWEsSUFBQSxDQUFLLEtBQUs7QUFNbEQsSUFBTSxjQUFjLE1BQU0sV0FBQSxDQUFZLElBQUEsQ0FBSyxLQUFLO0FBVWhELElBQU0sY0FBYyxNQUFNLFdBQUEsQ0FBWSxJQUFBLENBQUssS0FBSztBQVFoRCxTQUFTLFVBQWEsS0FBQSxFQUFvQjtJQUNoRCxPQUFPO0FBQ1I7QUFPTyxTQUFTLGNBQWlCLEtBQUEsRUFBd0I7SUFDeEQsT0FBTztBQUNSIiwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiA4OTE3LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L3NyYy9kZXZNb2RlQ2hlY2tzL2lkZW50aXR5RnVuY3Rpb25DaGVjay50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZXNlbGVjdC9zcmMvZGV2TW9kZUNoZWNrcy9pbnB1dFN0YWJpbGl0eUNoZWNrLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L3NyYy9kZXZNb2RlQ2hlY2tzL3NldEdsb2JhbERldk1vZGVDaGVja3MudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVzZWxlY3Qvc3JjL3V0aWxzLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L3NyYy9hdXRvdHJhY2tNZW1vaXplL2F1dG90cmFja2luZy50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZXNlbGVjdC9zcmMvYXV0b3RyYWNrTWVtb2l6ZS90cmFja2luZy50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZXNlbGVjdC9zcmMvYXV0b3RyYWNrTWVtb2l6ZS9wcm94eS50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZXNlbGVjdC9zcmMvbHJ1TWVtb2l6ZS50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZXNlbGVjdC9zcmMvYXV0b3RyYWNrTWVtb2l6ZS9hdXRvdHJhY2tNZW1vaXplLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L3NyYy93ZWFrTWFwTWVtb2l6ZS50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZXNlbGVjdC9zcmMvY3JlYXRlU2VsZWN0b3JDcmVhdG9yLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L3NyYy9jcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBbnlGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJ1xyXG5cclxuLyoqXHJcbiAqIFJ1bnMgYSBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGhlIGdpdmVuIHJlc3VsdCBmdW5jdGlvbiBiZWhhdmVzIGFzIGFuXHJcbiAqIGlkZW50aXR5IGZ1bmN0aW9uLiBBbiBpZGVudGl0eSBmdW5jdGlvbiBpcyBvbmUgdGhhdCByZXR1cm5zIGl0c1xyXG4gKiBpbnB1dCB1bmNoYW5nZWQsIGZvciBleGFtcGxlLCBgeCA9PiB4YC4gVGhpcyBjaGVjayBoZWxwcyBlbnN1cmVcclxuICogZWZmaWNpZW50IG1lbW9pemF0aW9uIGFuZCBwcmV2ZW50IHVubmVjZXNzYXJ5IHJlLXJlbmRlcnMgYnkgZW5jb3VyYWdpbmdcclxuICogcHJvcGVyIHVzZSBvZiB0cmFuc2Zvcm1hdGlvbiBsb2dpYyBpbiByZXN1bHQgZnVuY3Rpb25zIGFuZFxyXG4gKiBleHRyYWN0aW9uIGxvZ2ljIGluIGlucHV0IHNlbGVjdG9ycy5cclxuICpcclxuICogQHBhcmFtIHJlc3VsdEZ1bmMgLSBUaGUgcmVzdWx0IGZ1bmN0aW9uIHRvIGJlIGNoZWNrZWQuXHJcbiAqIEBwYXJhbSBpbnB1dFNlbGVjdG9yc1Jlc3VsdHMgLSBUaGUgcmVzdWx0cyBvZiB0aGUgaW5wdXQgc2VsZWN0b3JzLlxyXG4gKiBAcGFyYW0gb3V0cHV0U2VsZWN0b3JSZXN1bHQgLSBUaGUgcmVzdWx0IG9mIHRoZSBvdXRwdXQgc2VsZWN0b3IuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9kZXZlbG9wbWVudC1vbmx5LXN0YWJpbGl0eS1jaGVja3MjaWRlbnRpdHlmdW5jdGlvbmNoZWNrIGBpZGVudGl0eUZ1bmN0aW9uQ2hlY2tgfVxyXG4gKlxyXG4gKiBAc2luY2UgNS4wLjBcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcnVuSWRlbnRpdHlGdW5jdGlvbkNoZWNrID0gKFxyXG4gIHJlc3VsdEZ1bmM6IEFueUZ1bmN0aW9uLFxyXG4gIGlucHV0U2VsZWN0b3JzUmVzdWx0czogdW5rbm93bltdLFxyXG4gIG91dHB1dFNlbGVjdG9yUmVzdWx0OiB1bmtub3duXHJcbikgPT4ge1xyXG4gIGlmIChcclxuICAgIGlucHV0U2VsZWN0b3JzUmVzdWx0cy5sZW5ndGggPT09IDEgJiZcclxuICAgIGlucHV0U2VsZWN0b3JzUmVzdWx0c1swXSA9PT0gb3V0cHV0U2VsZWN0b3JSZXN1bHRcclxuICApIHtcclxuICAgIGxldCBpc0lucHV0U2FtZUFzT3V0cHV0ID0gZmFsc2VcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGVtcHR5T2JqZWN0ID0ge31cclxuICAgICAgaWYgKHJlc3VsdEZ1bmMoZW1wdHlPYmplY3QpID09PSBlbXB0eU9iamVjdCkgaXNJbnB1dFNhbWVBc091dHB1dCA9IHRydWVcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICAvLyBEbyBub3RoaW5nXHJcbiAgICB9XHJcbiAgICBpZiAoaXNJbnB1dFNhbWVBc091dHB1dCkge1xyXG4gICAgICBsZXQgc3RhY2s6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpXHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhLXNlbWksIG5vLWV4dHJhLXNlbWlcclxuICAgICAgICA7KHsgc3RhY2sgfSA9IGUgYXMgRXJyb3IpXHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICdUaGUgcmVzdWx0IGZ1bmN0aW9uIHJldHVybmVkIGl0cyBvd24gaW5wdXRzIHdpdGhvdXQgbW9kaWZpY2F0aW9uLiBlLmcnICtcclxuICAgICAgICAgICdcXG5gY3JlYXRlU2VsZWN0b3IoW3N0YXRlID0+IHN0YXRlLnRvZG9zXSwgdG9kb3MgPT4gdG9kb3MpYCcgK1xyXG4gICAgICAgICAgJ1xcblRoaXMgY291bGQgbGVhZCB0byBpbmVmZmljaWVudCBtZW1vaXphdGlvbiBhbmQgdW5uZWNlc3NhcnkgcmUtcmVuZGVycy4nICtcclxuICAgICAgICAgICdcXG5FbnN1cmUgdHJhbnNmb3JtYXRpb24gbG9naWMgaXMgaW4gdGhlIHJlc3VsdCBmdW5jdGlvbiwgYW5kIGV4dHJhY3Rpb24gbG9naWMgaXMgaW4gdGhlIGlucHV0IHNlbGVjdG9ycy4nLFxyXG4gICAgICAgIHsgc3RhY2sgfVxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB0eXBlIHsgQ3JlYXRlU2VsZWN0b3JPcHRpb25zLCBVbmtub3duTWVtb2l6ZXIgfSBmcm9tICcuLi90eXBlcydcclxuXHJcbi8qKlxyXG4gKiBSdW5zIGEgc3RhYmlsaXR5IGNoZWNrIHRvIGVuc3VyZSB0aGUgaW5wdXQgc2VsZWN0b3IgcmVzdWx0cyByZW1haW4gc3RhYmxlXHJcbiAqIHdoZW4gcHJvdmlkZWQgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMuIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gZGV0ZWN0XHJcbiAqIGNoYW5nZXMgaW4gdGhlIG91dHB1dCBvZiBpbnB1dCBzZWxlY3RvcnMsIHdoaWNoIGNhbiBpbXBhY3QgdGhlIHBlcmZvcm1hbmNlIG9mIG1lbW9pemVkIHNlbGVjdG9ycy5cclxuICpcclxuICogQHBhcmFtIGlucHV0U2VsZWN0b3JSZXN1bHRzT2JqZWN0IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdHdvIGFycmF5czogYGlucHV0U2VsZWN0b3JSZXN1bHRzYCBhbmQgYGlucHV0U2VsZWN0b3JSZXN1bHRzQ29weWAsIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0cyBvZiBpbnB1dCBzZWxlY3RvcnMuXHJcbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBvYmplY3QgY29uc2lzdGluZyBvZiBhIGBtZW1vaXplYCBmdW5jdGlvbiBhbmQgYSBgbWVtb2l6ZU9wdGlvbnNgIG9iamVjdC5cclxuICogQHBhcmFtIGlucHV0U2VsZWN0b3JBcmdzIC0gTGlzdCBvZiBhcmd1bWVudHMgYmVpbmcgcGFzc2VkIHRvIHRoZSBpbnB1dCBzZWxlY3RvcnMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9kZXZlbG9wbWVudC1vbmx5LXN0YWJpbGl0eS1jaGVja3MvI2lucHV0c3RhYmlsaXR5Y2hlY2sgYGlucHV0U3RhYmlsaXR5Q2hlY2tgfVxyXG4gKlxyXG4gKiBAc2luY2UgNS4wLjBcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcnVuSW5wdXRTdGFiaWxpdHlDaGVjayA9IChcclxuICBpbnB1dFNlbGVjdG9yUmVzdWx0c09iamVjdDoge1xyXG4gICAgaW5wdXRTZWxlY3RvclJlc3VsdHM6IHVua25vd25bXVxyXG4gICAgaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5OiB1bmtub3duW11cclxuICB9LFxyXG4gIG9wdGlvbnM6IFJlcXVpcmVkPFxyXG4gICAgUGljazxcclxuICAgICAgQ3JlYXRlU2VsZWN0b3JPcHRpb25zPFVua25vd25NZW1vaXplciwgVW5rbm93bk1lbW9pemVyPixcclxuICAgICAgJ21lbW9pemUnIHwgJ21lbW9pemVPcHRpb25zJ1xyXG4gICAgPlxyXG4gID4sXHJcbiAgaW5wdXRTZWxlY3RvckFyZ3M6IHVua25vd25bXSB8IElBcmd1bWVudHNcclxuKSA9PiB7XHJcbiAgY29uc3QgeyBtZW1vaXplLCBtZW1vaXplT3B0aW9ucyB9ID0gb3B0aW9uc1xyXG4gIGNvbnN0IHsgaW5wdXRTZWxlY3RvclJlc3VsdHMsIGlucHV0U2VsZWN0b3JSZXN1bHRzQ29weSB9ID1cclxuICAgIGlucHV0U2VsZWN0b3JSZXN1bHRzT2JqZWN0XHJcbiAgY29uc3QgY3JlYXRlQW5FbXB0eU9iamVjdCA9IG1lbW9pemUoKCkgPT4gKHt9KSwgLi4ubWVtb2l6ZU9wdGlvbnMpXHJcbiAgLy8gaWYgdGhlIG1lbW9pemUgbWV0aG9kIHRoaW5rcyB0aGUgcGFyYW1ldGVycyBhcmUgZXF1YWwsIHRoZXNlICpzaG91bGQqIGJlIHRoZSBzYW1lIHJlZmVyZW5jZVxyXG4gIGNvbnN0IGFyZUlucHV0U2VsZWN0b3JSZXN1bHRzRXF1YWwgPVxyXG4gICAgY3JlYXRlQW5FbXB0eU9iamVjdC5hcHBseShudWxsLCBpbnB1dFNlbGVjdG9yUmVzdWx0cykgPT09XHJcbiAgICBjcmVhdGVBbkVtcHR5T2JqZWN0LmFwcGx5KG51bGwsIGlucHV0U2VsZWN0b3JSZXN1bHRzQ29weSlcclxuICBpZiAoIWFyZUlucHV0U2VsZWN0b3JSZXN1bHRzRXF1YWwpIHtcclxuICAgIGxldCBzdGFjazogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXHJcbiAgICB0cnkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhLXNlbWksIG5vLWV4dHJhLXNlbWlcclxuICAgICAgOyh7IHN0YWNrIH0gPSBlIGFzIEVycm9yKVxyXG4gICAgfVxyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICAnQW4gaW5wdXQgc2VsZWN0b3IgcmV0dXJuZWQgYSBkaWZmZXJlbnQgcmVzdWx0IHdoZW4gcGFzc2VkIHNhbWUgYXJndW1lbnRzLicgK1xyXG4gICAgICAgICdcXG5UaGlzIG1lYW5zIHlvdXIgb3V0cHV0IHNlbGVjdG9yIHdpbGwgbGlrZWx5IHJ1biBtb3JlIGZyZXF1ZW50bHkgdGhhbiBpbnRlbmRlZC4nICtcclxuICAgICAgICAnXFxuQXZvaWQgcmV0dXJuaW5nIGEgbmV3IHJlZmVyZW5jZSBpbnNpZGUgeW91ciBpbnB1dCBzZWxlY3RvciwgZS5nLicgK1xyXG4gICAgICAgICdcXG5gY3JlYXRlU2VsZWN0b3IoW3N0YXRlID0+IHN0YXRlLnRvZG9zLm1hcCh0b2RvID0+IHRvZG8uaWQpXSwgdG9kb0lkcyA9PiB0b2RvSWRzLmxlbmd0aClgJyxcclxuICAgICAge1xyXG4gICAgICAgIGFyZ3VtZW50czogaW5wdXRTZWxlY3RvckFyZ3MsXHJcbiAgICAgICAgZmlyc3RJbnB1dHM6IGlucHV0U2VsZWN0b3JSZXN1bHRzLFxyXG4gICAgICAgIHNlY29uZElucHV0czogaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5LFxyXG4gICAgICAgIHN0YWNrXHJcbiAgICAgIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBEZXZNb2RlQ2hlY2tzIH0gZnJvbSAnLi4vdHlwZXMnXHJcblxyXG4vKipcclxuICogR2xvYmFsIGNvbmZpZ3VyYXRpb24gZm9yIGRldmVsb3BtZW50IG1vZGUgY2hlY2tzLiBUaGlzIHNwZWNpZmllcyB0aGUgZGVmYXVsdFxyXG4gKiBmcmVxdWVuY3kgYXQgd2hpY2ggZWFjaCBkZXZlbG9wbWVudCBtb2RlIGNoZWNrIHNob3VsZCBiZSBwZXJmb3JtZWQuXHJcbiAqXHJcbiAqIEBzaW5jZSA1LjAuMFxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmV4cG9ydCBjb25zdCBnbG9iYWxEZXZNb2RlQ2hlY2tzOiBEZXZNb2RlQ2hlY2tzID0ge1xyXG4gIGlucHV0U3RhYmlsaXR5Q2hlY2s6ICdvbmNlJyxcclxuICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2s6ICdvbmNlJ1xyXG59XHJcblxyXG4vKipcclxuICogT3ZlcnJpZGVzIHRoZSBkZXZlbG9wbWVudCBtb2RlIGNoZWNrcyBzZXR0aW5ncyBmb3IgYWxsIHNlbGVjdG9ycy5cclxuICpcclxuICogUmVzZWxlY3QgcGVyZm9ybXMgYWRkaXRpb25hbCBjaGVja3MgaW4gZGV2ZWxvcG1lbnQgbW9kZSB0byBoZWxwIGlkZW50aWZ5IGFuZFxyXG4gKiB3YXJuIGFib3V0IHBvdGVudGlhbCBpc3N1ZXMgaW4gc2VsZWN0b3IgYmVoYXZpb3IuIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0b1xyXG4gKiBjdXN0b21pemUgdGhlIGJlaGF2aW9yIG9mIHRoZXNlIGNoZWNrcyBhY3Jvc3MgYWxsIHNlbGVjdG9ycyBpbiB5b3VyIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gKiAqKk5vdGUqKjogVGhpcyBzZXR0aW5nIGNhbiBzdGlsbCBiZSBvdmVycmlkZGVuIHBlciBzZWxlY3RvciBpbnNpZGUgYGNyZWF0ZVNlbGVjdG9yYCdzIGBvcHRpb25zYCBvYmplY3QuXHJcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JlZHV4anMvcmVzZWxlY3QjMi1wZXItc2VsZWN0b3ItYnktcGFzc2luZy1hbi1pZGVudGl0eWZ1bmN0aW9uY2hlY2stb3B0aW9uLWRpcmVjdGx5LXRvLWNyZWF0ZXNlbGVjdG9yIHBlci1zZWxlY3Rvci1jb25maWd1cmF0aW9ufVxyXG4gKiBhbmQge0BsaW5rY29kZSBDcmVhdGVTZWxlY3Rvck9wdGlvbnMuaWRlbnRpdHlGdW5jdGlvbkNoZWNrIGlkZW50aXR5RnVuY3Rpb25DaGVja30gZm9yIG1vcmUgZGV0YWlscy5cclxuICpcclxuICogX1RoZSBkZXZlbG9wbWVudCBtb2RlIGNoZWNrcyBkbyBub3QgcnVuIGluIHByb2R1Y3Rpb24gYnVpbGRzLl9cclxuICpcclxuICogQHBhcmFtIGRldk1vZGVDaGVja3MgLSBBbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgZGVzaXJlZCBzZXR0aW5ncyBmb3IgZGV2ZWxvcG1lbnQgbW9kZSBjaGVja3MuIFlvdSBjYW4gcHJvdmlkZSBwYXJ0aWFsIG92ZXJyaWRlcy4gVW5zcGVjaWZpZWQgc2V0dGluZ3Mgd2lsbCByZXRhaW4gdGhlaXIgY3VycmVudCB2YWx1ZXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzXHJcbiAqIGltcG9ydCB7IHNldEdsb2JhbERldk1vZGVDaGVja3MgfSBmcm9tICdyZXNlbGVjdCdcclxuICogaW1wb3J0IHsgRGV2TW9kZUNoZWNrcyB9IGZyb20gJy4uL3R5cGVzJ1xyXG4gKlxyXG4gKiAvLyBSdW4gb25seSB0aGUgZmlyc3QgdGltZSB0aGUgc2VsZWN0b3IgaXMgY2FsbGVkLiAoZGVmYXVsdClcclxuICogc2V0R2xvYmFsRGV2TW9kZUNoZWNrcyh7IGlucHV0U3RhYmlsaXR5Q2hlY2s6ICdvbmNlJyB9KVxyXG4gKlxyXG4gKiAvLyBSdW4gZXZlcnkgdGltZSB0aGUgc2VsZWN0b3IgaXMgY2FsbGVkLlxyXG4gKiBzZXRHbG9iYWxEZXZNb2RlQ2hlY2tzKHsgaW5wdXRTdGFiaWxpdHlDaGVjazogJ2Fsd2F5cycgfSlcclxuICpcclxuICogLy8gTmV2ZXIgcnVuIHRoZSBpbnB1dCBzdGFiaWxpdHkgY2hlY2suXHJcbiAqIHNldEdsb2JhbERldk1vZGVDaGVja3MoeyBpbnB1dFN0YWJpbGl0eUNoZWNrOiAnbmV2ZXInIH0pXHJcbiAqXHJcbiAqIC8vIFJ1biBvbmx5IHRoZSBmaXJzdCB0aW1lIHRoZSBzZWxlY3RvciBpcyBjYWxsZWQuIChkZWZhdWx0KVxyXG4gKiBzZXRHbG9iYWxEZXZNb2RlQ2hlY2tzKHsgaWRlbnRpdHlGdW5jdGlvbkNoZWNrOiAnb25jZScgfSlcclxuICpcclxuICogLy8gUnVuIGV2ZXJ5IHRpbWUgdGhlIHNlbGVjdG9yIGlzIGNhbGxlZC5cclxuICogc2V0R2xvYmFsRGV2TW9kZUNoZWNrcyh7IGlkZW50aXR5RnVuY3Rpb25DaGVjazogJ2Fsd2F5cycgfSlcclxuICpcclxuICogLy8gTmV2ZXIgcnVuIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBjaGVjay5cclxuICogc2V0R2xvYmFsRGV2TW9kZUNoZWNrcyh7IGlkZW50aXR5RnVuY3Rpb25DaGVjazogJ25ldmVyJyB9KVxyXG4gKiBgYGBcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2RldmVsb3BtZW50LW9ubHktc3RhYmlsaXR5LWNoZWNrcyBEZXZlbG9wbWVudC1Pbmx5IFN0YWJpbGl0eSBDaGVja3N9XHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9kZXZlbG9wbWVudC1vbmx5LXN0YWJpbGl0eS1jaGVja3MjMS1nbG9iYWxseS10aHJvdWdoLXNldGdsb2JhbGRldm1vZGVjaGVja3MgZ2xvYmFsLWNvbmZpZ3VyYXRpb259XHJcbiAqXHJcbiAqIEBzaW5jZSA1LjAuMFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2V0R2xvYmFsRGV2TW9kZUNoZWNrcyA9IChcclxuICBkZXZNb2RlQ2hlY2tzOiBQYXJ0aWFsPERldk1vZGVDaGVja3M+XHJcbikgPT4ge1xyXG4gIE9iamVjdC5hc3NpZ24oZ2xvYmFsRGV2TW9kZUNoZWNrcywgZGV2TW9kZUNoZWNrcylcclxufVxyXG4iLCJpbXBvcnQgeyBydW5JZGVudGl0eUZ1bmN0aW9uQ2hlY2sgfSBmcm9tICcuL2Rldk1vZGVDaGVja3MvaWRlbnRpdHlGdW5jdGlvbkNoZWNrJ1xyXG5pbXBvcnQgeyBydW5JbnB1dFN0YWJpbGl0eUNoZWNrIH0gZnJvbSAnLi9kZXZNb2RlQ2hlY2tzL2lucHV0U3RhYmlsaXR5Q2hlY2snXHJcbmltcG9ydCB7IGdsb2JhbERldk1vZGVDaGVja3MgfSBmcm9tICcuL2Rldk1vZGVDaGVja3Mvc2V0R2xvYmFsRGV2TW9kZUNoZWNrcydcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtaW1wb3J0c1xyXG5pbXBvcnQgdHlwZSB7XHJcbiAgRGV2TW9kZUNoZWNrcyxcclxuICBTZWxlY3RvcixcclxuICBTZWxlY3RvckFycmF5LFxyXG4gIERldk1vZGVDaGVja3NFeGVjdXRpb25JbmZvXHJcbn0gZnJvbSAnLi90eXBlcydcclxuXHJcbmV4cG9ydCBjb25zdCBOT1RfRk9VTkQgPSAvKiBAX19QVVJFX18gKi8gU3ltYm9sKCdOT1RfRk9VTkQnKVxyXG5leHBvcnQgdHlwZSBOT1RfRk9VTkRfVFlQRSA9IHR5cGVvZiBOT1RfRk9VTkRcclxuXHJcbi8qKlxyXG4gKiBBc3NlcnQgdGhhdCB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgYSBmdW5jdGlvbi4gSWYgdGhlIGFzc2VydGlvbiBmYWlscyxcclxuICogYSBgVHlwZUVycm9yYCBpcyB0aHJvd24gd2l0aCBhbiBvcHRpb25hbCBjdXN0b20gZXJyb3IgbWVzc2FnZS5cclxuICpcclxuICogQHBhcmFtIGZ1bmMgLSBUaGUgdmFsdWUgdG8gYmUgY2hlY2tlZC5cclxuICogQHBhcmFtICBlcnJvck1lc3NhZ2UgLSBBbiBvcHRpb25hbCBjdXN0b20gZXJyb3IgbWVzc2FnZSB0byB1c2UgaWYgdGhlIGFzc2VydGlvbiBmYWlscy5cclxuICogQHRocm93cyBBIGBUeXBlRXJyb3JgIGlmIHRoZSBhc3NlcnRpb24gZmFpbHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXNGdW5jdGlvbjxGdW5jdGlvblR5cGUgZXh0ZW5kcyBGdW5jdGlvbj4oXHJcbiAgZnVuYzogdW5rbm93bixcclxuICBlcnJvck1lc3NhZ2UgPSBgZXhwZWN0ZWQgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCAke3R5cGVvZiBmdW5jfWBcclxuKTogYXNzZXJ0cyBmdW5jIGlzIEZ1bmN0aW9uVHlwZSB7XHJcbiAgaWYgKHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGVycm9yTWVzc2FnZSlcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBc3NlcnQgdGhhdCB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgYW4gb2JqZWN0LiBJZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLFxyXG4gKiBhIGBUeXBlRXJyb3JgIGlzIHRocm93biB3aXRoIGFuIG9wdGlvbmFsIGN1c3RvbSBlcnJvciBtZXNzYWdlLlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqZWN0IC0gVGhlIHZhbHVlIHRvIGJlIGNoZWNrZWQuXHJcbiAqIEBwYXJhbSAgZXJyb3JNZXNzYWdlIC0gQW4gb3B0aW9uYWwgY3VzdG9tIGVycm9yIG1lc3NhZ2UgdG8gdXNlIGlmIHRoZSBhc3NlcnRpb24gZmFpbHMuXHJcbiAqIEB0aHJvd3MgQSBgVHlwZUVycm9yYCBpZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydElzT2JqZWN0PE9iamVjdFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oXHJcbiAgb2JqZWN0OiB1bmtub3duLFxyXG4gIGVycm9yTWVzc2FnZSA9IGBleHBlY3RlZCBhbiBvYmplY3QsIGluc3RlYWQgcmVjZWl2ZWQgJHt0eXBlb2Ygb2JqZWN0fWBcclxuKTogYXNzZXJ0cyBvYmplY3QgaXMgT2JqZWN0VHlwZSB7XHJcbiAgaWYgKHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGVycm9yTWVzc2FnZSlcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBc3NlcnQgdGhhdCB0aGUgcHJvdmlkZWQgYXJyYXkgaXMgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLiBJZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLFxyXG4gKiBhIGBUeXBlRXJyb3JgIGlzIHRocm93biB3aXRoIGFuIG9wdGlvbmFsIGN1c3RvbSBlcnJvciBtZXNzYWdlLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgLSBUaGUgYXJyYXkgdG8gYmUgY2hlY2tlZC5cclxuICogQHBhcmFtICBlcnJvck1lc3NhZ2UgLSBBbiBvcHRpb25hbCBjdXN0b20gZXJyb3IgbWVzc2FnZSB0byB1c2UgaWYgdGhlIGFzc2VydGlvbiBmYWlscy5cclxuICogQHRocm93cyBBIGBUeXBlRXJyb3JgIGlmIHRoZSBhc3NlcnRpb24gZmFpbHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXNBcnJheU9mRnVuY3Rpb25zPEZ1bmN0aW9uVHlwZSBleHRlbmRzIEZ1bmN0aW9uPihcclxuICBhcnJheTogdW5rbm93bltdLFxyXG4gIGVycm9yTWVzc2FnZSA9IGBleHBlY3RlZCBhbGwgaXRlbXMgdG8gYmUgZnVuY3Rpb25zLCBpbnN0ZWFkIHJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgdHlwZXM6IGBcclxuKTogYXNzZXJ0cyBhcnJheSBpcyBGdW5jdGlvblR5cGVbXSB7XHJcbiAgaWYgKFxyXG4gICAgIWFycmF5LmV2ZXJ5KChpdGVtKTogaXRlbSBpcyBGdW5jdGlvblR5cGUgPT4gdHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpXHJcbiAgKSB7XHJcbiAgICBjb25zdCBpdGVtVHlwZXMgPSBhcnJheVxyXG4gICAgICAubWFwKGl0ZW0gPT5cclxuICAgICAgICB0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgPyBgZnVuY3Rpb24gJHtpdGVtLm5hbWUgfHwgJ3VubmFtZWQnfSgpYFxyXG4gICAgICAgICAgOiB0eXBlb2YgaXRlbVxyXG4gICAgICApXHJcbiAgICAgIC5qb2luKCcsICcpXHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2Vycm9yTWVzc2FnZX1bJHtpdGVtVHlwZXN9XWApXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRW5zdXJlIHRoYXQgdGhlIGlucHV0IGlzIGFuIGFycmF5LiBJZiBpdCdzIGFscmVhZHkgYW4gYXJyYXksIGl0J3MgcmV0dXJuZWQgYXMgaXMuXHJcbiAqIElmIGl0J3Mgbm90IGFuIGFycmF5LCBpdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSBuZXcgYXJyYXkuXHJcbiAqXHJcbiAqIEBwYXJhbSBpdGVtIC0gVGhlIGl0ZW0gdG8gYmUgY2hlY2tlZC5cclxuICogQHJldHVybnMgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgaW5wdXQgaXRlbS4gSWYgdGhlIGlucHV0IGlzIGFscmVhZHkgYW4gYXJyYXksIGl0J3MgcmV0dXJuZWQgd2l0aG91dCBtb2RpZmljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW5zdXJlSXNBcnJheSA9IChpdGVtOiB1bmtub3duKSA9PiB7XHJcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaXRlbSkgPyBpdGVtIDogW2l0ZW1dXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFeHRyYWN0cyB0aGUgXCJkZXBlbmRlbmNpZXNcIiAvIFwiaW5wdXQgc2VsZWN0b3JzXCIgZnJvbSB0aGUgYXJndW1lbnRzIG9mIGBjcmVhdGVTZWxlY3RvcmAuXHJcbiAqXHJcbiAqIEBwYXJhbSBjcmVhdGVTZWxlY3RvckFyZ3MgLSBBcmd1bWVudHMgcGFzc2VkIHRvIGBjcmVhdGVTZWxlY3RvcmAgYXMgYW4gYXJyYXkuXHJcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIFwiaW5wdXQgc2VsZWN0b3JzXCIgLyBcImRlcGVuZGVuY2llc1wiLlxyXG4gKiBAdGhyb3dzIEEgYFR5cGVFcnJvcmAgaWYgYW55IG9mIHRoZSBpbnB1dCBzZWxlY3RvcnMgaXMgbm90IGZ1bmN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlcGVuZGVuY2llcyhjcmVhdGVTZWxlY3RvckFyZ3M6IHVua25vd25bXSkge1xyXG4gIGNvbnN0IGRlcGVuZGVuY2llcyA9IEFycmF5LmlzQXJyYXkoY3JlYXRlU2VsZWN0b3JBcmdzWzBdKVxyXG4gICAgPyBjcmVhdGVTZWxlY3RvckFyZ3NbMF1cclxuICAgIDogY3JlYXRlU2VsZWN0b3JBcmdzXHJcblxyXG4gIGFzc2VydElzQXJyYXlPZkZ1bmN0aW9uczxTZWxlY3Rvcj4oXHJcbiAgICBkZXBlbmRlbmNpZXMsXHJcbiAgICBgY3JlYXRlU2VsZWN0b3IgZXhwZWN0cyBhbGwgaW5wdXQtc2VsZWN0b3JzIHRvIGJlIGZ1bmN0aW9ucywgYnV0IHJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgdHlwZXM6IGBcclxuICApXHJcblxyXG4gIHJldHVybiBkZXBlbmRlbmNpZXMgYXMgU2VsZWN0b3JBcnJheVxyXG59XHJcblxyXG4vKipcclxuICogUnVucyBlYWNoIGlucHV0IHNlbGVjdG9yIGFuZCByZXR1cm5zIHRoZWlyIGNvbGxlY3RpdmUgcmVzdWx0cyBhcyBhbiBhcnJheS5cclxuICpcclxuICogQHBhcmFtIGRlcGVuZGVuY2llcyAtIEFuIGFycmF5IG9mIFwiZGVwZW5kZW5jaWVzXCIgb3IgXCJpbnB1dCBzZWxlY3RvcnNcIi5cclxuICogQHBhcmFtIGlucHV0U2VsZWN0b3JBcmdzIC0gQW4gYXJyYXkgb2YgYXJndW1lbnRzIGJlaW5nIHBhc3NlZCB0byB0aGUgaW5wdXQgc2VsZWN0b3JzLlxyXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBpbnB1dCBzZWxlY3RvciByZXN1bHRzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RJbnB1dFNlbGVjdG9yUmVzdWx0cyhcclxuICBkZXBlbmRlbmNpZXM6IFNlbGVjdG9yQXJyYXksXHJcbiAgaW5wdXRTZWxlY3RvckFyZ3M6IHVua25vd25bXSB8IElBcmd1bWVudHNcclxuKSB7XHJcbiAgY29uc3QgaW5wdXRTZWxlY3RvclJlc3VsdHMgPSBbXVxyXG4gIGNvbnN0IHsgbGVuZ3RoIH0gPSBkZXBlbmRlbmNpZXNcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgYW5kIG11dGF0ZSBhIGxvY2FsIGxpc3Qgb2YgcGFyYW1zIGZvciBwZXJmb3JtYW5jZS5cclxuICAgIGlucHV0U2VsZWN0b3JSZXN1bHRzLnB1c2goZGVwZW5kZW5jaWVzW2ldLmFwcGx5KG51bGwsIGlucHV0U2VsZWN0b3JBcmdzKSlcclxuICB9XHJcbiAgcmV0dXJuIGlucHV0U2VsZWN0b3JSZXN1bHRzXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXRyaWV2ZXMgZXhlY3V0aW9uIGluZm9ybWF0aW9uIGZvciBkZXZlbG9wbWVudCBtb2RlIGNoZWNrcy5cclxuICpcclxuICogQHBhcmFtIGRldk1vZGVDaGVja3MgLSBDdXN0b20gU2V0dGluZ3MgZm9yIGRldmVsb3BtZW50IG1vZGUgY2hlY2tzLiBUaGVzZSBzZXR0aW5ncyB3aWxsIG92ZXJyaWRlIHRoZSBnbG9iYWwgZGVmYXVsdHMuXHJcbiAqIEBwYXJhbSBmaXJzdFJ1biAtIEluZGljYXRlcyB3aGV0aGVyIGl0IGlzIHRoZSBmaXJzdCB0aW1lIHRoZSBzZWxlY3RvciBoYXMgcnVuLlxyXG4gKiBAcmV0dXJucyAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGV4ZWN1dGlvbiBpbmZvcm1hdGlvbiBmb3IgZWFjaCBkZXZlbG9wbWVudCBtb2RlIGNoZWNrLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldERldk1vZGVDaGVja3NFeGVjdXRpb25JbmZvID0gKFxyXG4gIGZpcnN0UnVuOiBib29sZWFuLFxyXG4gIGRldk1vZGVDaGVja3M6IFBhcnRpYWw8RGV2TW9kZUNoZWNrcz5cclxuKSA9PiB7XHJcbiAgY29uc3QgeyBpZGVudGl0eUZ1bmN0aW9uQ2hlY2ssIGlucHV0U3RhYmlsaXR5Q2hlY2sgfSA9IHtcclxuICAgIC4uLmdsb2JhbERldk1vZGVDaGVja3MsXHJcbiAgICAuLi5kZXZNb2RlQ2hlY2tzXHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2s6IHtcclxuICAgICAgc2hvdWxkUnVuOlxyXG4gICAgICAgIGlkZW50aXR5RnVuY3Rpb25DaGVjayA9PT0gJ2Fsd2F5cycgfHxcclxuICAgICAgICAoaWRlbnRpdHlGdW5jdGlvbkNoZWNrID09PSAnb25jZScgJiYgZmlyc3RSdW4pLFxyXG4gICAgICBydW46IHJ1bklkZW50aXR5RnVuY3Rpb25DaGVja1xyXG4gICAgfSxcclxuICAgIGlucHV0U3RhYmlsaXR5Q2hlY2s6IHtcclxuICAgICAgc2hvdWxkUnVuOlxyXG4gICAgICAgIGlucHV0U3RhYmlsaXR5Q2hlY2sgPT09ICdhbHdheXMnIHx8XHJcbiAgICAgICAgKGlucHV0U3RhYmlsaXR5Q2hlY2sgPT09ICdvbmNlJyAmJiBmaXJzdFJ1biksXHJcbiAgICAgIHJ1bjogcnVuSW5wdXRTdGFiaWxpdHlDaGVja1xyXG4gICAgfVxyXG4gIH0gc2F0aXNmaWVzIERldk1vZGVDaGVja3NFeGVjdXRpb25JbmZvXHJcbn1cclxuIiwiLy8gT3JpZ2luYWwgYXV0b3RyYWNraW5nIGltcGxlbWVudGF0aW9uIHNvdXJjZTpcclxuLy8gLSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9wenVyYXEvNzliZjg2MmUwZjhjZDk1MjFiNzljNGI2ZWNjZGM0ZjlcclxuLy8gQWRkaXRpb25hbCByZWZlcmVuY2VzOlxyXG4vLyAtIGh0dHBzOi8vd3d3LnB6dXJhcS5jb20vYmxvZy9ob3ctYXV0b3RyYWNraW5nLXdvcmtzXHJcbi8vIC0gaHR0cHM6Ly92NS5jaHJpc2tyeWNoby5jb20vam91cm5hbC9hdXRvdHJhY2tpbmctZWxlZ2FudC1keC12aWEtY3V0dGluZy1lZGdlLWNzL1xyXG5pbXBvcnQgdHlwZSB7IEVxdWFsaXR5Rm4gfSBmcm9tICcuLi90eXBlcydcclxuaW1wb3J0IHsgYXNzZXJ0SXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJ1xyXG5cclxuLy8gVGhlIGdsb2JhbCByZXZpc2lvbiBjbG9jay4gRXZlcnkgdGltZSBzdGF0ZSBjaGFuZ2VzLCB0aGUgY2xvY2sgaW5jcmVtZW50cy5cclxuZXhwb3J0IGxldCAkUkVWSVNJT04gPSAwXHJcblxyXG4vLyBUaGUgY3VycmVudCBkZXBlbmRlbmN5IHRyYWNrZXIuIFdoZW5ldmVyIHdlIGNvbXB1dGUgYSBjYWNoZSwgd2UgY3JlYXRlIGEgU2V0XHJcbi8vIHRvIHRyYWNrIGFueSBkZXBlbmRlbmNpZXMgdGhhdCBhcmUgdXNlZCB3aGlsZSBjb21wdXRpbmcuIElmIG5vIGNhY2hlIGlzXHJcbi8vIGNvbXB1dGluZywgdGhlbiB0aGUgdHJhY2tlciBpcyBudWxsLlxyXG5sZXQgQ1VSUkVOVF9UUkFDS0VSOiBTZXQ8Q2VsbDxhbnk+IHwgVHJhY2tpbmdDYWNoZT4gfCBudWxsID0gbnVsbFxyXG5cclxuLy8gU3RvcmFnZSByZXByZXNlbnRzIGEgcm9vdCB2YWx1ZSBpbiB0aGUgc3lzdGVtIC0gdGhlIGFjdHVhbCBzdGF0ZSBvZiBvdXIgYXBwLlxyXG5leHBvcnQgY2xhc3MgQ2VsbDxUPiB7XHJcbiAgcmV2aXNpb24gPSAkUkVWSVNJT05cclxuXHJcbiAgX3ZhbHVlOiBUXHJcbiAgX2xhc3RWYWx1ZTogVFxyXG4gIF9pc0VxdWFsOiBFcXVhbGl0eUZuID0gdHJpcGxlRXFcclxuXHJcbiAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlOiBULCBpc0VxdWFsOiBFcXVhbGl0eUZuID0gdHJpcGxlRXEpIHtcclxuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fbGFzdFZhbHVlID0gaW5pdGlhbFZhbHVlXHJcbiAgICB0aGlzLl9pc0VxdWFsID0gaXNFcXVhbFxyXG4gIH1cclxuXHJcbiAgLy8gV2hlbmV2ZXIgYSBzdG9yYWdlIHZhbHVlIGlzIHJlYWQsIGl0J2xsIGFkZCBpdHNlbGYgdG8gdGhlIGN1cnJlbnQgdHJhY2tlciBpZlxyXG4gIC8vIG9uZSBleGlzdHMsIGVudGFuZ2xpbmcgaXRzIHN0YXRlIHdpdGggdGhhdCBjYWNoZS5cclxuICBnZXQgdmFsdWUoKSB7XHJcbiAgICBDVVJSRU5UX1RSQUNLRVI/LmFkZCh0aGlzKVxyXG5cclxuICAgIHJldHVybiB0aGlzLl92YWx1ZVxyXG4gIH1cclxuXHJcbiAgLy8gV2hlbmV2ZXIgYSBzdG9yYWdlIHZhbHVlIGlzIHVwZGF0ZWQsIHdlIGJ1bXAgdGhlIGdsb2JhbCByZXZpc2lvbiBjbG9jayxcclxuICAvLyBhc3NpZ24gdGhlIHJldmlzaW9uIGZvciB0aGlzIHN0b3JhZ2UgdG8gdGhlIG5ldyB2YWx1ZSwgX2FuZF8gd2Ugc2NoZWR1bGUgYVxyXG4gIC8vIHJlcmVuZGVyLiBUaGlzIGlzIGltcG9ydGFudCwgYW5kIGl0J3Mgd2hhdCBtYWtlcyBhdXRvdHJhY2tpbmcgIF9wdWxsX1xyXG4gIC8vIGJhc2VkLiBXZSBkb24ndCBhY3RpdmVseSB0ZWxsIHRoZSBjYWNoZXMgd2hpY2ggZGVwZW5kIG9uIHRoZSBzdG9yYWdlIHRoYXRcclxuICAvLyBhbnl0aGluZyBoYXMgaGFwcGVuZWQuIEluc3RlYWQsIHdlIHJlY29tcHV0ZSB0aGUgY2FjaGVzIHdoZW4gbmVlZGVkLlxyXG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xyXG4gICAgaWYgKHRoaXMudmFsdWUgPT09IG5ld1ZhbHVlKSByZXR1cm5cclxuXHJcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlXHJcbiAgICB0aGlzLnJldmlzaW9uID0gKyskUkVWSVNJT05cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyaXBsZUVxKGE6IHVua25vd24sIGI6IHVua25vd24pIHtcclxuICByZXR1cm4gYSA9PT0gYlxyXG59XHJcblxyXG4vLyBDYWNoZXMgcmVwcmVzZW50IGRlcml2ZWQgc3RhdGUgaW4gdGhlIHN5c3RlbS4gVGhleSBhcmUgdWx0aW1hdGVseSBmdW5jdGlvbnNcclxuLy8gdGhhdCBhcmUgbWVtb2l6ZWQgYmFzZWQgb24gd2hhdCBzdGF0ZSB0aGV5IHVzZSB0byBwcm9kdWNlIHRoZWlyIG91dHB1dCxcclxuLy8gbWVhbmluZyB0aGV5IHdpbGwgb25seSByZXJ1biBJRkYgYSBzdG9yYWdlIHZhbHVlIHRoYXQgY291bGQgYWZmZWN0IHRoZSBvdXRwdXRcclxuLy8gaGFzIGNoYW5nZWQuIE90aGVyd2lzZSwgdGhleSdsbCByZXR1cm4gdGhlIGNhY2hlZCB2YWx1ZS5cclxuZXhwb3J0IGNsYXNzIFRyYWNraW5nQ2FjaGUge1xyXG4gIF9jYWNoZWRWYWx1ZTogYW55XHJcbiAgX2NhY2hlZFJldmlzaW9uID0gLTFcclxuICBfZGVwczogYW55W10gPSBbXVxyXG4gIGhpdHMgPSAwXHJcblxyXG4gIGZuOiAoKSA9PiBhbnlcclxuXHJcbiAgY29uc3RydWN0b3IoZm46ICgpID0+IGFueSkge1xyXG4gICAgdGhpcy5mbiA9IGZuXHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuX2NhY2hlZFZhbHVlID0gdW5kZWZpbmVkXHJcbiAgICB0aGlzLl9jYWNoZWRSZXZpc2lvbiA9IC0xXHJcbiAgICB0aGlzLl9kZXBzID0gW11cclxuICAgIHRoaXMuaGl0cyA9IDBcclxuICB9XHJcblxyXG4gIGdldCB2YWx1ZSgpIHtcclxuICAgIC8vIFdoZW4gZ2V0dGluZyB0aGUgdmFsdWUgZm9yIGEgQ2FjaGUsIGZpcnN0IHdlIGNoZWNrIGFsbCB0aGUgZGVwZW5kZW5jaWVzIG9mXHJcbiAgICAvLyB0aGUgY2FjaGUgdG8gc2VlIHdoYXQgdGhlaXIgY3VycmVudCByZXZpc2lvbiBpcy4gSWYgdGhlIGN1cnJlbnQgcmV2aXNpb24gaXNcclxuICAgIC8vIGdyZWF0ZXIgdGhhbiB0aGUgY2FjaGVkIHJldmlzaW9uLCB0aGVuIHNvbWV0aGluZyBoYXMgY2hhbmdlZC5cclxuICAgIGlmICh0aGlzLnJldmlzaW9uID4gdGhpcy5fY2FjaGVkUmV2aXNpb24pIHtcclxuICAgICAgY29uc3QgeyBmbiB9ID0gdGhpc1xyXG5cclxuICAgICAgLy8gV2UgY3JlYXRlIGEgbmV3IGRlcGVuZGVuY3kgdHJhY2tlciBmb3IgdGhpcyBjYWNoZS4gQXMgdGhlIGNhY2hlIHJ1bnNcclxuICAgICAgLy8gaXRzIGZ1bmN0aW9uLCBhbnkgU3RvcmFnZSBvciBDYWNoZSBpbnN0YW5jZXMgd2hpY2ggYXJlIHVzZWQgd2hpbGVcclxuICAgICAgLy8gY29tcHV0aW5nIHdpbGwgYmUgYWRkZWQgdG8gdGhpcyB0cmFja2VyLiBJbiB0aGUgZW5kLCBpdCB3aWxsIGJlIHRoZVxyXG4gICAgICAvLyBmdWxsIGxpc3Qgb2YgZGVwZW5kZW5jaWVzIHRoYXQgdGhpcyBDYWNoZSBkZXBlbmRzIG9uLlxyXG4gICAgICBjb25zdCBjdXJyZW50VHJhY2tlciA9IG5ldyBTZXQ8Q2VsbDxhbnk+PigpXHJcbiAgICAgIGNvbnN0IHByZXZUcmFja2VyID0gQ1VSUkVOVF9UUkFDS0VSXHJcblxyXG4gICAgICBDVVJSRU5UX1RSQUNLRVIgPSBjdXJyZW50VHJhY2tlclxyXG5cclxuICAgICAgLy8gdHJ5IHtcclxuICAgICAgdGhpcy5fY2FjaGVkVmFsdWUgPSBmbigpXHJcbiAgICAgIC8vIH0gZmluYWxseSB7XHJcbiAgICAgIENVUlJFTlRfVFJBQ0tFUiA9IHByZXZUcmFja2VyXHJcbiAgICAgIHRoaXMuaGl0cysrXHJcbiAgICAgIHRoaXMuX2RlcHMgPSBBcnJheS5mcm9tKGN1cnJlbnRUcmFja2VyKVxyXG5cclxuICAgICAgLy8gU2V0IHRoZSBjYWNoZWQgcmV2aXNpb24uIFRoaXMgaXMgdGhlIGN1cnJlbnQgY2xvY2sgY291bnQgb2YgYWxsIHRoZVxyXG4gICAgICAvLyBkZXBlbmRlbmNpZXMuIElmIGFueSBkZXBlbmRlbmN5IGNoYW5nZXMsIHRoaXMgbnVtYmVyIHdpbGwgYmUgbGVzc1xyXG4gICAgICAvLyB0aGFuIHRoZSBuZXcgcmV2aXNpb24uXHJcbiAgICAgIHRoaXMuX2NhY2hlZFJldmlzaW9uID0gdGhpcy5yZXZpc2lvblxyXG4gICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlcmUgaXMgYSBjdXJyZW50IHRyYWNrZXIsIGl0IG1lYW5zIGFub3RoZXIgQ2FjaGUgaXMgY29tcHV0aW5nIGFuZFxyXG4gICAgLy8gdXNpbmcgdGhpcyBvbmUsIHNvIHdlIGFkZCB0aGlzIG9uZSB0byB0aGUgdHJhY2tlci5cclxuICAgIENVUlJFTlRfVFJBQ0tFUj8uYWRkKHRoaXMpXHJcblxyXG4gICAgLy8gQWx3YXlzIHJldHVybiB0aGUgY2FjaGVkIHZhbHVlLlxyXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlZFZhbHVlXHJcbiAgfVxyXG5cclxuICBnZXQgcmV2aXNpb24oKSB7XHJcbiAgICAvLyBUaGUgY3VycmVudCByZXZpc2lvbiBpcyB0aGUgbWF4IG9mIGFsbCB0aGUgZGVwZW5kZW5jaWVzJyByZXZpc2lvbnMuXHJcbiAgICByZXR1cm4gTWF0aC5tYXgoLi4udGhpcy5fZGVwcy5tYXAoZCA9PiBkLnJldmlzaW9uKSwgMClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZTxUPihjZWxsOiBDZWxsPFQ+KTogVCB7XHJcbiAgaWYgKCEoY2VsbCBpbnN0YW5jZW9mIENlbGwpKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ05vdCBhIHZhbGlkIGNlbGwhICcsIGNlbGwpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2VsbC52YWx1ZVxyXG59XHJcblxyXG50eXBlIENlbGxWYWx1ZTxUIGV4dGVuZHMgQ2VsbDx1bmtub3duPj4gPSBUIGV4dGVuZHMgQ2VsbDxpbmZlciBVPiA/IFUgOiBuZXZlclxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFZhbHVlPFQgZXh0ZW5kcyBDZWxsPHVua25vd24+PihcclxuICBzdG9yYWdlOiBULFxyXG4gIHZhbHVlOiBDZWxsVmFsdWU8VD5cclxuKTogdm9pZCB7XHJcbiAgaWYgKCEoc3RvcmFnZSBpbnN0YW5jZW9mIENlbGwpKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG4gICAgICAnc2V0VmFsdWUgbXVzdCBiZSBwYXNzZWQgYSB0cmFja2VkIHN0b3JlIGNyZWF0ZWQgd2l0aCBgY3JlYXRlU3RvcmFnZWAuJ1xyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgc3RvcmFnZS52YWx1ZSA9IHN0b3JhZ2UuX2xhc3RWYWx1ZSA9IHZhbHVlXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZWxsPFQgPSB1bmtub3duPihcclxuICBpbml0aWFsVmFsdWU6IFQsXHJcbiAgaXNFcXVhbDogRXF1YWxpdHlGbiA9IHRyaXBsZUVxXHJcbik6IENlbGw8VD4ge1xyXG4gIHJldHVybiBuZXcgQ2VsbChpbml0aWFsVmFsdWUsIGlzRXF1YWwpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYWNoZTxUID0gdW5rbm93bj4oZm46ICgpID0+IFQpOiBUcmFja2luZ0NhY2hlIHtcclxuICBhc3NlcnRJc0Z1bmN0aW9uKFxyXG4gICAgZm4sXHJcbiAgICAndGhlIGZpcnN0IHBhcmFtZXRlciB0byBgY3JlYXRlQ2FjaGVgIG11c3QgYmUgYSBmdW5jdGlvbidcclxuICApXHJcblxyXG4gIHJldHVybiBuZXcgVHJhY2tpbmdDYWNoZShmbilcclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7IENlbGwgfSBmcm9tICcuL2F1dG90cmFja2luZydcclxuaW1wb3J0IHtcclxuICBnZXRWYWx1ZSBhcyBjb25zdW1lVGFnLFxyXG4gIGNyZWF0ZUNlbGwgYXMgY3JlYXRlU3RvcmFnZSxcclxuICBzZXRWYWx1ZVxyXG59IGZyb20gJy4vYXV0b3RyYWNraW5nJ1xyXG5cclxuZXhwb3J0IHR5cGUgVGFnID0gQ2VsbDx1bmtub3duPlxyXG5cclxuY29uc3QgbmV2ZXJFcSA9IChhOiBhbnksIGI6IGFueSk6IGJvb2xlYW4gPT4gZmFsc2VcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUYWcoKTogVGFnIHtcclxuICByZXR1cm4gY3JlYXRlU3RvcmFnZShudWxsLCBuZXZlckVxKVxyXG59XHJcbmV4cG9ydCB7IGNvbnN1bWVUYWcgfVxyXG5leHBvcnQgZnVuY3Rpb24gZGlydHlUYWcodGFnOiBUYWcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuICBzZXRWYWx1ZSh0YWcsIHZhbHVlKVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5vZGU8XHJcbiAgVCBleHRlbmRzIEFycmF5PHVua25vd24+IHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPVxyXG4gICAgfCBBcnJheTx1bmtub3duPlxyXG4gICAgfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxyXG4+IHtcclxuICBjb2xsZWN0aW9uVGFnOiBUYWcgfCBudWxsXHJcbiAgdGFnOiBUYWcgfCBudWxsXHJcbiAgdGFnczogUmVjb3JkPHN0cmluZywgVGFnPlxyXG4gIGNoaWxkcmVuOiBSZWNvcmQ8c3RyaW5nLCBOb2RlPlxyXG4gIHByb3h5OiBUXHJcbiAgdmFsdWU6IFRcclxuICBpZDogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb25zdW1lQ29sbGVjdGlvbiA9IChub2RlOiBOb2RlKTogdm9pZCA9PiB7XHJcbiAgbGV0IHRhZyA9IG5vZGUuY29sbGVjdGlvblRhZ1xyXG5cclxuICBpZiAodGFnID09PSBudWxsKSB7XHJcbiAgICB0YWcgPSBub2RlLmNvbGxlY3Rpb25UYWcgPSBjcmVhdGVUYWcoKVxyXG4gIH1cclxuXHJcbiAgY29uc3VtZVRhZyh0YWcpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkaXJ0eUNvbGxlY3Rpb24gPSAobm9kZTogTm9kZSk6IHZvaWQgPT4ge1xyXG4gIGNvbnN0IHRhZyA9IG5vZGUuY29sbGVjdGlvblRhZ1xyXG5cclxuICBpZiAodGFnICE9PSBudWxsKSB7XHJcbiAgICBkaXJ0eVRhZyh0YWcsIG51bGwpXHJcbiAgfVxyXG59XHJcbiIsIi8vIE9yaWdpbmFsIHNvdXJjZTpcclxuLy8gLSBodHRwczovL2dpdGh1Yi5jb20vc2ltb25paG1pZy90cmFja2VkLXJlZHV4L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3RyYWNrZWQtcmVkdXgvc3JjLy1wcml2YXRlL3Byb3h5LnRzXHJcblxyXG5pbXBvcnQgdHlwZSB7IE5vZGUsIFRhZyB9IGZyb20gJy4vdHJhY2tpbmcnXHJcbmltcG9ydCB7XHJcbiAgY29uc3VtZUNvbGxlY3Rpb24sXHJcbiAgY29uc3VtZVRhZyxcclxuICBjcmVhdGVUYWcsXHJcbiAgZGlydHlDb2xsZWN0aW9uLFxyXG4gIGRpcnR5VGFnXHJcbn0gZnJvbSAnLi90cmFja2luZydcclxuXHJcbmV4cG9ydCBjb25zdCBSRURVWF9QUk9YWV9MQUJFTCA9IFN5bWJvbCgpXHJcblxyXG5sZXQgbmV4dElkID0gMFxyXG5cclxuY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pXHJcblxyXG5jbGFzcyBPYmplY3RUcmVlTm9kZTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+IGltcGxlbWVudHMgTm9kZTxUPiB7XHJcbiAgcHJveHk6IFQgPSBuZXcgUHJveHkodGhpcywgb2JqZWN0UHJveHlIYW5kbGVyKSBhcyB1bmtub3duIGFzIFRcclxuICB0YWcgPSBjcmVhdGVUYWcoKVxyXG4gIHRhZ3MgPSB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBUYWc+XHJcbiAgY2hpbGRyZW4gPSB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBOb2RlPlxyXG4gIGNvbGxlY3Rpb25UYWcgPSBudWxsXHJcbiAgaWQgPSBuZXh0SWQrK1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IFQpIHtcclxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxyXG4gICAgdGhpcy50YWcudmFsdWUgPSB2YWx1ZVxyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgb2JqZWN0UHJveHlIYW5kbGVyID0ge1xyXG4gIGdldChub2RlOiBOb2RlLCBrZXk6IHN0cmluZyB8IHN5bWJvbCk6IHVua25vd24ge1xyXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlUmVzdWx0KCkge1xyXG4gICAgICBjb25zdCB7IHZhbHVlIH0gPSBub2RlXHJcblxyXG4gICAgICBjb25zdCBjaGlsZFZhbHVlID0gUmVmbGVjdC5nZXQodmFsdWUsIGtleSlcclxuXHJcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3ltYm9sJykge1xyXG4gICAgICAgIHJldHVybiBjaGlsZFZhbHVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChrZXkgaW4gcHJvdG8pIHtcclxuICAgICAgICByZXR1cm4gY2hpbGRWYWx1ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNoaWxkVmFsdWUgPT09ICdvYmplY3QnICYmIGNoaWxkVmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICBsZXQgY2hpbGROb2RlID0gbm9kZS5jaGlsZHJlbltrZXldXHJcblxyXG4gICAgICAgIGlmIChjaGlsZE5vZGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgY2hpbGROb2RlID0gbm9kZS5jaGlsZHJlbltrZXldID0gY3JlYXRlTm9kZShjaGlsZFZhbHVlKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoaWxkTm9kZS50YWcpIHtcclxuICAgICAgICAgIGNvbnN1bWVUYWcoY2hpbGROb2RlLnRhZylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjaGlsZE5vZGUucHJveHlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgdGFnID0gbm9kZS50YWdzW2tleV1cclxuXHJcbiAgICAgICAgaWYgKHRhZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICB0YWcgPSBub2RlLnRhZ3Nba2V5XSA9IGNyZWF0ZVRhZygpXHJcbiAgICAgICAgICB0YWcudmFsdWUgPSBjaGlsZFZhbHVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdW1lVGFnKHRhZylcclxuXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkVmFsdWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzID0gY2FsY3VsYXRlUmVzdWx0KClcclxuICAgIHJldHVybiByZXNcclxuICB9LFxyXG5cclxuICBvd25LZXlzKG5vZGU6IE5vZGUpOiBBcnJheUxpa2U8c3RyaW5nIHwgc3ltYm9sPiB7XHJcbiAgICBjb25zdW1lQ29sbGVjdGlvbihub2RlKVxyXG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyhub2RlLnZhbHVlKVxyXG4gIH0sXHJcblxyXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihcclxuICAgIG5vZGU6IE5vZGUsXHJcbiAgICBwcm9wOiBzdHJpbmcgfCBzeW1ib2xcclxuICApOiBQcm9wZXJ0eURlc2NyaXB0b3IgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5vZGUudmFsdWUsIHByb3ApXHJcbiAgfSxcclxuXHJcbiAgaGFzKG5vZGU6IE5vZGUsIHByb3A6IHN0cmluZyB8IHN5bWJvbCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIFJlZmxlY3QuaGFzKG5vZGUudmFsdWUsIHByb3ApXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBBcnJheVRyZWVOb2RlPFQgZXh0ZW5kcyBBcnJheTx1bmtub3duPj4gaW1wbGVtZW50cyBOb2RlPFQ+IHtcclxuICBwcm94eTogVCA9IG5ldyBQcm94eShbdGhpc10sIGFycmF5UHJveHlIYW5kbGVyKSBhcyB1bmtub3duIGFzIFRcclxuICB0YWcgPSBjcmVhdGVUYWcoKVxyXG4gIHRhZ3MgPSB7fVxyXG4gIGNoaWxkcmVuID0ge31cclxuICBjb2xsZWN0aW9uVGFnID0gbnVsbFxyXG4gIGlkID0gbmV4dElkKytcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBUKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWVcclxuICAgIHRoaXMudGFnLnZhbHVlID0gdmFsdWVcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGFycmF5UHJveHlIYW5kbGVyID0ge1xyXG4gIGdldChbbm9kZV06IFtOb2RlXSwga2V5OiBzdHJpbmcgfCBzeW1ib2wpOiB1bmtub3duIHtcclxuICAgIGlmIChrZXkgPT09ICdsZW5ndGgnKSB7XHJcbiAgICAgIGNvbnN1bWVDb2xsZWN0aW9uKG5vZGUpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9iamVjdFByb3h5SGFuZGxlci5nZXQobm9kZSwga2V5KVxyXG4gIH0sXHJcblxyXG4gIG93bktleXMoW25vZGVdOiBbTm9kZV0pOiBBcnJheUxpa2U8c3RyaW5nIHwgc3ltYm9sPiB7XHJcbiAgICByZXR1cm4gb2JqZWN0UHJveHlIYW5kbGVyLm93bktleXMobm9kZSlcclxuICB9LFxyXG5cclxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXHJcbiAgICBbbm9kZV06IFtOb2RlXSxcclxuICAgIHByb3A6IHN0cmluZyB8IHN5bWJvbFxyXG4gICk6IFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gb2JqZWN0UHJveHlIYW5kbGVyLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihub2RlLCBwcm9wKVxyXG4gIH0sXHJcblxyXG4gIGhhcyhbbm9kZV06IFtOb2RlXSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gb2JqZWN0UHJveHlIYW5kbGVyLmhhcyhub2RlLCBwcm9wKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vZGU8VCBleHRlbmRzIEFycmF5PHVua25vd24+IHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KFxyXG4gIHZhbHVlOiBUXHJcbik6IE5vZGU8VD4ge1xyXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgcmV0dXJuIG5ldyBBcnJheVRyZWVOb2RlKHZhbHVlKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBPYmplY3RUcmVlTm9kZSh2YWx1ZSkgYXMgTm9kZTxUPlxyXG59XHJcblxyXG5jb25zdCBrZXlzTWFwID0gbmV3IFdlYWtNYXA8XHJcbiAgQXJyYXk8dW5rbm93bj4gfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcclxuICBTZXQ8c3RyaW5nPlxyXG4+KClcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVOb2RlPFQgZXh0ZW5kcyBBcnJheTx1bmtub3duPiB8IFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcclxuICBub2RlOiBOb2RlPFQ+LFxyXG4gIG5ld1ZhbHVlOiBUXHJcbik6IHZvaWQge1xyXG4gIGNvbnN0IHsgdmFsdWUsIHRhZ3MsIGNoaWxkcmVuIH0gPSBub2RlXHJcblxyXG4gIG5vZGUudmFsdWUgPSBuZXdWYWx1ZVxyXG5cclxuICBpZiAoXHJcbiAgICBBcnJheS5pc0FycmF5KHZhbHVlKSAmJlxyXG4gICAgQXJyYXkuaXNBcnJheShuZXdWYWx1ZSkgJiZcclxuICAgIHZhbHVlLmxlbmd0aCAhPT0gbmV3VmFsdWUubGVuZ3RoXHJcbiAgKSB7XHJcbiAgICBkaXJ0eUNvbGxlY3Rpb24obm9kZSlcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKHZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICBsZXQgb2xkS2V5c1NpemUgPSAwXHJcbiAgICAgIGxldCBuZXdLZXlzU2l6ZSA9IDBcclxuICAgICAgbGV0IGFueUtleXNBZGRlZCA9IGZhbHNlXHJcblxyXG4gICAgICBmb3IgKGNvbnN0IF9rZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICBvbGRLZXlzU2l6ZSsrXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgbmV3S2V5c1NpemUrK1xyXG4gICAgICAgIGlmICghKGtleSBpbiB2YWx1ZSkpIHtcclxuICAgICAgICAgIGFueUtleXNBZGRlZCA9IHRydWVcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBpc0RpZmZlcmVudCA9IGFueUtleXNBZGRlZCB8fCBvbGRLZXlzU2l6ZSAhPT0gbmV3S2V5c1NpemVcclxuXHJcbiAgICAgIGlmIChpc0RpZmZlcmVudCkge1xyXG4gICAgICAgIGRpcnR5Q29sbGVjdGlvbihub2RlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IGtleSBpbiB0YWdzKSB7XHJcbiAgICBjb25zdCBjaGlsZFZhbHVlID0gKHZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtrZXldXHJcbiAgICBjb25zdCBuZXdDaGlsZFZhbHVlID0gKG5ld1ZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtrZXldXHJcblxyXG4gICAgaWYgKGNoaWxkVmFsdWUgIT09IG5ld0NoaWxkVmFsdWUpIHtcclxuICAgICAgZGlydHlDb2xsZWN0aW9uKG5vZGUpXHJcbiAgICAgIGRpcnR5VGFnKHRhZ3Nba2V5XSwgbmV3Q2hpbGRWYWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkVmFsdWUgPT09ICdvYmplY3QnICYmIG5ld0NoaWxkVmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgZGVsZXRlIHRhZ3Nba2V5XVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZm9yIChjb25zdCBrZXkgaW4gY2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IGNoaWxkTm9kZSA9IGNoaWxkcmVuW2tleV1cclxuICAgIGNvbnN0IG5ld0NoaWxkVmFsdWUgPSAobmV3VmFsdWUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleV1cclxuXHJcbiAgICBjb25zdCBjaGlsZFZhbHVlID0gY2hpbGROb2RlLnZhbHVlXHJcblxyXG4gICAgaWYgKGNoaWxkVmFsdWUgPT09IG5ld0NoaWxkVmFsdWUpIHtcclxuICAgICAgY29udGludWVcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG5ld0NoaWxkVmFsdWUgPT09ICdvYmplY3QnICYmIG5ld0NoaWxkVmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgdXBkYXRlTm9kZShjaGlsZE5vZGUsIG5ld0NoaWxkVmFsdWUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkZWxldGVOb2RlKGNoaWxkTm9kZSlcclxuICAgICAgZGVsZXRlIGNoaWxkcmVuW2tleV1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZU5vZGUobm9kZTogTm9kZSk6IHZvaWQge1xyXG4gIGlmIChub2RlLnRhZykge1xyXG4gICAgZGlydHlUYWcobm9kZS50YWcsIG51bGwpXHJcbiAgfVxyXG4gIGRpcnR5Q29sbGVjdGlvbihub2RlKVxyXG4gIGZvciAoY29uc3Qga2V5IGluIG5vZGUudGFncykge1xyXG4gICAgZGlydHlUYWcobm9kZS50YWdzW2tleV0sIG51bGwpXHJcbiAgfVxyXG4gIGZvciAoY29uc3Qga2V5IGluIG5vZGUuY2hpbGRyZW4pIHtcclxuICAgIGRlbGV0ZU5vZGUobm9kZS5jaGlsZHJlbltrZXldKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7XHJcbiAgQW55RnVuY3Rpb24sXHJcbiAgRGVmYXVsdE1lbW9pemVGaWVsZHMsXHJcbiAgRXF1YWxpdHlGbixcclxuICBTaW1wbGlmeVxyXG59IGZyb20gJy4vdHlwZXMnXHJcblxyXG5pbXBvcnQgdHlwZSB7IE5PVF9GT1VORF9UWVBFIH0gZnJvbSAnLi91dGlscydcclxuaW1wb3J0IHsgTk9UX0ZPVU5EIH0gZnJvbSAnLi91dGlscydcclxuXHJcbi8vIENhY2hlIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIEVyaWsgUmFzbXVzc2VuJ3MgYGxydS1tZW1vaXplYDpcclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2VyaWtyYXMvbHJ1LW1lbW9pemVcclxuXHJcbmludGVyZmFjZSBFbnRyeSB7XHJcbiAga2V5OiB1bmtub3duXHJcbiAgdmFsdWU6IHVua25vd25cclxufVxyXG5cclxuaW50ZXJmYWNlIENhY2hlIHtcclxuICBnZXQoa2V5OiB1bmtub3duKTogdW5rbm93biB8IE5PVF9GT1VORF9UWVBFXHJcbiAgcHV0KGtleTogdW5rbm93biwgdmFsdWU6IHVua25vd24pOiB2b2lkXHJcbiAgZ2V0RW50cmllcygpOiBFbnRyeVtdXHJcbiAgY2xlYXIoKTogdm9pZFxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTaW5nbGV0b25DYWNoZShlcXVhbHM6IEVxdWFsaXR5Rm4pOiBDYWNoZSB7XHJcbiAgbGV0IGVudHJ5OiBFbnRyeSB8IHVuZGVmaW5lZFxyXG4gIHJldHVybiB7XHJcbiAgICBnZXQoa2V5OiB1bmtub3duKSB7XHJcbiAgICAgIGlmIChlbnRyeSAmJiBlcXVhbHMoZW50cnkua2V5LCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBOT1RfRk9VTkRcclxuICAgIH0sXHJcblxyXG4gICAgcHV0KGtleTogdW5rbm93biwgdmFsdWU6IHVua25vd24pIHtcclxuICAgICAgZW50cnkgPSB7IGtleSwgdmFsdWUgfVxyXG4gICAgfSxcclxuXHJcbiAgICBnZXRFbnRyaWVzKCkge1xyXG4gICAgICByZXR1cm4gZW50cnkgPyBbZW50cnldIDogW11cclxuICAgIH0sXHJcblxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgIGVudHJ5ID0gdW5kZWZpbmVkXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVMcnVDYWNoZShtYXhTaXplOiBudW1iZXIsIGVxdWFsczogRXF1YWxpdHlGbik6IENhY2hlIHtcclxuICBsZXQgZW50cmllczogRW50cnlbXSA9IFtdXHJcblxyXG4gIGZ1bmN0aW9uIGdldChrZXk6IHVua25vd24pIHtcclxuICAgIGNvbnN0IGNhY2hlSW5kZXggPSBlbnRyaWVzLmZpbmRJbmRleChlbnRyeSA9PiBlcXVhbHMoa2V5LCBlbnRyeS5rZXkpKVxyXG5cclxuICAgIC8vIFdlIGZvdW5kIGEgY2FjaGVkIGVudHJ5XHJcbiAgICBpZiAoY2FjaGVJbmRleCA+IC0xKSB7XHJcbiAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1tjYWNoZUluZGV4XVxyXG5cclxuICAgICAgLy8gQ2FjaGVkIGVudHJ5IG5vdCBhdCB0b3Agb2YgY2FjaGUsIG1vdmUgaXQgdG8gdGhlIHRvcFxyXG4gICAgICBpZiAoY2FjaGVJbmRleCA+IDApIHtcclxuICAgICAgICBlbnRyaWVzLnNwbGljZShjYWNoZUluZGV4LCAxKVxyXG4gICAgICAgIGVudHJpZXMudW5zaGlmdChlbnRyeSlcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gZW50cnkgZm91bmQgaW4gY2FjaGUsIHJldHVybiBzZW50aW5lbFxyXG4gICAgcmV0dXJuIE5PVF9GT1VORFxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcHV0KGtleTogdW5rbm93biwgdmFsdWU6IHVua25vd24pIHtcclxuICAgIGlmIChnZXQoa2V5KSA9PT0gTk9UX0ZPVU5EKSB7XHJcbiAgICAgIC8vIFRPRE8gSXMgdW5zaGlmdCBzbG93P1xyXG4gICAgICBlbnRyaWVzLnVuc2hpZnQoeyBrZXksIHZhbHVlIH0pXHJcbiAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IG1heFNpemUpIHtcclxuICAgICAgICBlbnRyaWVzLnBvcCgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEVudHJpZXMoKSB7XHJcbiAgICByZXR1cm4gZW50cmllc1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICBlbnRyaWVzID0gW11cclxuICB9XHJcblxyXG4gIHJldHVybiB7IGdldCwgcHV0LCBnZXRFbnRyaWVzLCBjbGVhciB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSdW5zIGEgc2ltcGxlIHJlZmVyZW5jZSBlcXVhbGl0eSBjaGVjay5cclxuICogV2hhdCB7QGxpbmtjb2RlIGxydU1lbW9pemUgbHJ1TWVtb2l6ZX0gdXNlcyBieSBkZWZhdWx0LlxyXG4gKlxyXG4gKiAqKk5vdGUqKjogVGhpcyBmdW5jdGlvbiB3YXMgcHJldmlvdXNseSBrbm93biBhcyBgZGVmYXVsdEVxdWFsaXR5Q2hlY2tgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcmVmZXJlbmNlRXF1YWxpdHlDaGVjazogRXF1YWxpdHlGbiA9IChhLCBiKSA9PiBhID09PSBiXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FjaGVLZXlDb21wYXJhdG9yKGVxdWFsaXR5Q2hlY2s6IEVxdWFsaXR5Rm4pIHtcclxuICByZXR1cm4gZnVuY3Rpb24gYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwoXHJcbiAgICBwcmV2OiB1bmtub3duW10gfCBJQXJndW1lbnRzIHwgbnVsbCxcclxuICAgIG5leHQ6IHVua25vd25bXSB8IElBcmd1bWVudHMgfCBudWxsXHJcbiAgKTogYm9vbGVhbiB7XHJcbiAgICBpZiAocHJldiA9PT0gbnVsbCB8fCBuZXh0ID09PSBudWxsIHx8IHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICAvLyBEbyB0aGlzIGluIGEgZm9yIGxvb3AgKGFuZCBub3QgYSBgZm9yRWFjaGAgb3IgYW4gYGV2ZXJ5YCkgc28gd2UgY2FuIGRldGVybWluZSBlcXVhbGl0eSBhcyBmYXN0IGFzIHBvc3NpYmxlLlxyXG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHByZXZcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCFlcXVhbGl0eUNoZWNrKHByZXZbaV0sIG5leHRbaV0pKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIHRoZSBiZWhhdmlvciBvZiBhIGZ1bmN0aW9uIG1lbW9pemVkIHdpdGhcclxuICogTFJVIChMZWFzdCBSZWNlbnRseSBVc2VkKSBjYWNoaW5nLlxyXG4gKlxyXG4gKiBAdGVtcGxhdGUgUmVzdWx0IC0gVGhlIHR5cGUgb2YgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTHJ1TWVtb2l6ZU9wdGlvbnM8UmVzdWx0ID0gYW55PiB7XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdXNlZCB0byBjb21wYXJlIHRoZSBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvZiB0aGVcclxuICAgKiBwcm92aWRlZCBjYWxjdWxhdGlvbiBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IHJlZmVyZW5jZUVxdWFsaXR5Q2hlY2tcclxuICAgKi9cclxuICBlcXVhbGl0eUNoZWNrPzogRXF1YWxpdHlGblxyXG5cclxuICAvKipcclxuICAgKiBJZiBwcm92aWRlZCwgdXNlZCB0byBjb21wYXJlIGEgbmV3bHkgZ2VuZXJhdGVkIG91dHB1dCB2YWx1ZSBhZ2FpbnN0XHJcbiAgICogcHJldmlvdXMgdmFsdWVzIGluIHRoZSBjYWNoZS4gSWYgYSBtYXRjaCBpcyBmb3VuZCxcclxuICAgKiB0aGUgb2xkIHZhbHVlIGlzIHJldHVybmVkLiBUaGlzIGFkZHJlc3NlcyB0aGUgY29tbW9uXHJcbiAgICogYGBgdHNcclxuICAgKiB0b2Rvcy5tYXAodG9kbyA9PiB0b2RvLmlkKVxyXG4gICAqIGBgYFxyXG4gICAqIHVzZSBjYXNlLCB3aGVyZSBhbiB1cGRhdGUgdG8gYW5vdGhlciBmaWVsZCBpbiB0aGUgb3JpZ2luYWwgZGF0YSBjYXVzZXNcclxuICAgKiBhIHJlY2FsY3VsYXRpb24gZHVlIHRvIGNoYW5nZWQgcmVmZXJlbmNlcywgYnV0IHRoZSBvdXRwdXQgaXMgc3RpbGxcclxuICAgKiBlZmZlY3RpdmVseSB0aGUgc2FtZS5cclxuICAgKlxyXG4gICAqIEBzaW5jZSA0LjEuMFxyXG4gICAqL1xyXG4gIHJlc3VsdEVxdWFsaXR5Q2hlY2s/OiBFcXVhbGl0eUZuPFJlc3VsdD5cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gc2l6ZSBvZiB0aGUgY2FjaGUgdXNlZCBieSB0aGUgc2VsZWN0b3IuXHJcbiAgICogQSBzaXplIGdyZWF0ZXIgdGhhbiAxIG1lYW5zIHRoZSBzZWxlY3RvciB3aWxsIHVzZSBhblxyXG4gICAqIExSVSAoTGVhc3QgUmVjZW50bHkgVXNlZCkgY2FjaGUsIGFsbG93aW5nIGZvciB0aGUgY2FjaGluZyBvZiBtdWx0aXBsZVxyXG4gICAqIHJlc3VsdHMgYmFzZWQgb24gZGlmZmVyZW50IHNldHMgb2YgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgMVxyXG4gICAqL1xyXG4gIG1heFNpemU/OiBudW1iZXJcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtZW1vaXplZCB2ZXJzaW9uIG9mIGEgZnVuY3Rpb24gd2l0aCBhbiBvcHRpb25hbFxyXG4gKiBMUlUgKExlYXN0IFJlY2VudGx5IFVzZWQpIGNhY2hlLiBUaGUgbWVtb2l6ZWQgZnVuY3Rpb24gdXNlcyBhIGNhY2hlIHRvXHJcbiAqIHN0b3JlIGNvbXB1dGVkIHZhbHVlcy4gRGVwZW5kaW5nIG9uIHRoZSBgbWF4U2l6ZWAgb3B0aW9uLCBpdCB3aWxsIHVzZVxyXG4gKiBlaXRoZXIgYSBzaW5nbGV0b24gY2FjaGUgKGZvciBhIHNpbmdsZSBlbnRyeSkgb3IgYW5cclxuICogTFJVIGNhY2hlIChmb3IgbXVsdGlwbGUgZW50cmllcykuXHJcbiAqXHJcbiAqICoqTm90ZSoqOiBUaGlzIGZ1bmN0aW9uIHdhcyBwcmV2aW91c2x5IGtub3duIGFzIGBkZWZhdWx0TWVtb2l6ZWAuXHJcbiAqXHJcbiAqIEBwYXJhbSBmdW5jIC0gVGhlIGZ1bmN0aW9uIHRvIGJlIG1lbW9pemVkLlxyXG4gKiBAcGFyYW0gZXF1YWxpdHlDaGVja09yT3B0aW9ucyAtIEVpdGhlciBhbiBlcXVhbGl0eSBjaGVjayBmdW5jdGlvbiBvciBhbiBvcHRpb25zIG9iamVjdC5cclxuICogQHJldHVybnMgQSBtZW1vaXplZCBmdW5jdGlvbiB3aXRoIGEgYC5jbGVhckNhY2hlKClgIG1ldGhvZCBhdHRhY2hlZC5cclxuICpcclxuICogQHRlbXBsYXRlIEZ1bmMgLSBUaGUgdHlwZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBpcyBtZW1vaXplZC5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2xydU1lbW9pemUgYGxydU1lbW9pemVgfVxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbHJ1TWVtb2l6ZTxGdW5jIGV4dGVuZHMgQW55RnVuY3Rpb24+KFxyXG4gIGZ1bmM6IEZ1bmMsXHJcbiAgZXF1YWxpdHlDaGVja09yT3B0aW9ucz86IEVxdWFsaXR5Rm4gfCBMcnVNZW1vaXplT3B0aW9uczxSZXR1cm5UeXBlPEZ1bmM+PlxyXG4pIHtcclxuICBjb25zdCBwcm92aWRlZE9wdGlvbnMgPVxyXG4gICAgdHlwZW9mIGVxdWFsaXR5Q2hlY2tPck9wdGlvbnMgPT09ICdvYmplY3QnXHJcbiAgICAgID8gZXF1YWxpdHlDaGVja09yT3B0aW9uc1xyXG4gICAgICA6IHsgZXF1YWxpdHlDaGVjazogZXF1YWxpdHlDaGVja09yT3B0aW9ucyB9XHJcblxyXG4gIGNvbnN0IHtcclxuICAgIGVxdWFsaXR5Q2hlY2sgPSByZWZlcmVuY2VFcXVhbGl0eUNoZWNrLFxyXG4gICAgbWF4U2l6ZSA9IDEsXHJcbiAgICByZXN1bHRFcXVhbGl0eUNoZWNrXHJcbiAgfSA9IHByb3ZpZGVkT3B0aW9uc1xyXG5cclxuICBjb25zdCBjb21wYXJhdG9yID0gY3JlYXRlQ2FjaGVLZXlDb21wYXJhdG9yKGVxdWFsaXR5Q2hlY2spXHJcblxyXG4gIGxldCByZXN1bHRzQ291bnQgPSAwXHJcblxyXG4gIGNvbnN0IGNhY2hlID1cclxuICAgIG1heFNpemUgPD0gMVxyXG4gICAgICA/IGNyZWF0ZVNpbmdsZXRvbkNhY2hlKGNvbXBhcmF0b3IpXHJcbiAgICAgIDogY3JlYXRlTHJ1Q2FjaGUobWF4U2l6ZSwgY29tcGFyYXRvcilcclxuXHJcbiAgZnVuY3Rpb24gbWVtb2l6ZWQoKSB7XHJcbiAgICBsZXQgdmFsdWUgPSBjYWNoZS5nZXQoYXJndW1lbnRzKSBhcyBSZXR1cm5UeXBlPEZ1bmM+XHJcbiAgICBpZiAodmFsdWUgPT09IE5PVF9GT1VORCkge1xyXG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxyXG4gICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgIHZhbHVlID0gZnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMpIGFzIFJldHVyblR5cGU8RnVuYz5cclxuICAgICAgcmVzdWx0c0NvdW50KytcclxuXHJcbiAgICAgIGlmIChyZXN1bHRFcXVhbGl0eUNoZWNrKSB7XHJcbiAgICAgICAgY29uc3QgZW50cmllcyA9IGNhY2hlLmdldEVudHJpZXMoKVxyXG4gICAgICAgIGNvbnN0IG1hdGNoaW5nRW50cnkgPSBlbnRyaWVzLmZpbmQoZW50cnkgPT5cclxuICAgICAgICAgIHJlc3VsdEVxdWFsaXR5Q2hlY2soZW50cnkudmFsdWUgYXMgUmV0dXJuVHlwZTxGdW5jPiwgdmFsdWUpXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpZiAobWF0Y2hpbmdFbnRyeSkge1xyXG4gICAgICAgICAgdmFsdWUgPSBtYXRjaGluZ0VudHJ5LnZhbHVlIGFzIFJldHVyblR5cGU8RnVuYz5cclxuICAgICAgICAgIHJlc3VsdHNDb3VudCAhPT0gMCAmJiByZXN1bHRzQ291bnQtLVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY2FjaGUucHV0KGFyZ3VtZW50cywgdmFsdWUpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWVcclxuICB9XHJcblxyXG4gIG1lbW9pemVkLmNsZWFyQ2FjaGUgPSAoKSA9PiB7XHJcbiAgICBjYWNoZS5jbGVhcigpXHJcbiAgICBtZW1vaXplZC5yZXNldFJlc3VsdHNDb3VudCgpXHJcbiAgfVxyXG5cclxuICBtZW1vaXplZC5yZXN1bHRzQ291bnQgPSAoKSA9PiByZXN1bHRzQ291bnRcclxuXHJcbiAgbWVtb2l6ZWQucmVzZXRSZXN1bHRzQ291bnQgPSAoKSA9PiB7XHJcbiAgICByZXN1bHRzQ291bnQgPSAwXHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWVtb2l6ZWQgYXMgRnVuYyAmIFNpbXBsaWZ5PERlZmF1bHRNZW1vaXplRmllbGRzPlxyXG59XHJcbiIsImltcG9ydCB7IGNyZWF0ZU5vZGUsIHVwZGF0ZU5vZGUgfSBmcm9tICcuL3Byb3h5J1xyXG5pbXBvcnQgdHlwZSB7IE5vZGUgfSBmcm9tICcuL3RyYWNraW5nJ1xyXG5cclxuaW1wb3J0IHsgY3JlYXRlQ2FjaGVLZXlDb21wYXJhdG9yLCByZWZlcmVuY2VFcXVhbGl0eUNoZWNrIH0gZnJvbSAnLi4vbHJ1TWVtb2l6ZSdcclxuaW1wb3J0IHR5cGUgeyBBbnlGdW5jdGlvbiwgRGVmYXVsdE1lbW9pemVGaWVsZHMsIFNpbXBsaWZ5IH0gZnJvbSAnLi4vdHlwZXMnXHJcbmltcG9ydCB7IGNyZWF0ZUNhY2hlIH0gZnJvbSAnLi9hdXRvdHJhY2tpbmcnXHJcblxyXG4vKipcclxuICogVXNlcyBhbiBcImF1dG8tdHJhY2tpbmdcIiBhcHByb2FjaCBpbnNwaXJlZCBieSB0aGUgd29yayBvZiB0aGUgRW1iZXIgR2xpbW1lciB0ZWFtLlxyXG4gKiBJdCB1c2VzIGEgUHJveHkgdG8gd3JhcCBhcmd1bWVudHMgYW5kIHRyYWNrIGFjY2Vzc2VzIHRvIG5lc3RlZCBmaWVsZHNcclxuICogaW4geW91ciBzZWxlY3RvciBvbiBmaXJzdCByZWFkLiBMYXRlciwgd2hlbiB0aGUgc2VsZWN0b3IgaXMgY2FsbGVkIHdpdGhcclxuICogbmV3IGFyZ3VtZW50cywgaXQgaWRlbnRpZmllcyB3aGljaCBhY2Nlc3NlZCBmaWVsZHMgaGF2ZSBjaGFuZ2VkIGFuZFxyXG4gKiBvbmx5IHJlY2FsY3VsYXRlcyB0aGUgcmVzdWx0IGlmIG9uZSBvciBtb3JlIG9mIHRob3NlIGFjY2Vzc2VkIGZpZWxkcyBoYXZlIGNoYW5nZWQuXHJcbiAqIFRoaXMgYWxsb3dzIGl0IHRvIGJlIG1vcmUgcHJlY2lzZSB0aGFuIHRoZSBzaGFsbG93IGVxdWFsaXR5IGNoZWNrcyBpbiBgbHJ1TWVtb2l6ZWAuXHJcbiAqXHJcbiAqIF9fRGVzaWduIFRyYWRlb2ZmcyBmb3IgYGF1dG90cmFja01lbW9pemVgOl9fXHJcbiAqIC0gUHJvczpcclxuICogICAgLSBJdCBpcyBsaWtlbHkgdG8gYXZvaWQgZXhjZXNzIGNhbGN1bGF0aW9ucyBhbmQgcmVjYWxjdWxhdGUgZmV3ZXIgdGltZXMgdGhhbiBgbHJ1TWVtb2l6ZWAgd2lsbCxcclxuICogICAgd2hpY2ggbWF5IGFsc28gcmVzdWx0IGluIGZld2VyIGNvbXBvbmVudCByZS1yZW5kZXJzLlxyXG4gKiAtIENvbnM6XHJcbiAqICAgIC0gSXQgb25seSBoYXMgYSBjYWNoZSBzaXplIG9mIDEuXHJcbiAqICAgIC0gSXQgaXMgc2xvd2VyIHRoYW4gYGxydU1lbW9pemVgLCBiZWNhdXNlIGl0IGhhcyB0byBkbyBtb3JlIHdvcmsuIChIb3cgbXVjaCBzbG93ZXIgaXMgZGVwZW5kZW50IG9uIHRoZSBudW1iZXIgb2YgYWNjZXNzZWQgZmllbGRzIGluIGEgc2VsZWN0b3IsIG51bWJlciBvZiBjYWxscywgZnJlcXVlbmN5IG9mIGlucHV0IGNoYW5nZXMsIGV0YylcclxuICogICAgLSBJdCBjYW4gaGF2ZSBzb21lIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIEJlY2F1c2UgaXQgdHJhY2tzIG5lc3RlZCBmaWVsZCBhY2Nlc3NlcyxcclxuICogICAgY2FzZXMgd2hlcmUgeW91IGRvbid0IGFjY2VzcyBhIGZpZWxkIHdpbGwgbm90IHJlY2FsY3VsYXRlIHByb3Blcmx5LlxyXG4gKiAgICBGb3IgZXhhbXBsZSwgYSBiYWRseS13cml0dGVuIHNlbGVjdG9yIGxpa2U6XHJcbiAqICAgICAgYGBgdHNcclxuICogICAgICBjcmVhdGVTZWxlY3Rvcihbc3RhdGUgPT4gc3RhdGUudG9kb3NdLCB0b2RvcyA9PiB0b2RvcylcclxuICogICAgICBgYGBcclxuICogICAgICB0aGF0IGp1c3QgaW1tZWRpYXRlbHkgcmV0dXJucyB0aGUgZXh0cmFjdGVkIHZhbHVlIHdpbGwgbmV2ZXIgdXBkYXRlLCBiZWNhdXNlIGl0IGRvZXNuJ3Qgc2VlIGFueSBmaWVsZCBhY2Nlc3NlcyB0byBjaGVjay5cclxuICpcclxuICogX19Vc2UgQ2FzZXMgZm9yIGBhdXRvdHJhY2tNZW1vaXplYDpfX1xyXG4gKiAtIEl0IGlzIGxpa2VseSBiZXN0IHVzZWQgZm9yIGNhc2VzIHdoZXJlIHlvdSBuZWVkIHRvIGFjY2VzcyBzcGVjaWZpYyBuZXN0ZWQgZmllbGRzXHJcbiAqIGluIGRhdGEsIGFuZCBhdm9pZCByZWNhbGN1bGF0aW5nIGlmIG90aGVyIGZpZWxkcyBpbiB0aGUgc2FtZSBkYXRhIG9iamVjdHMgYXJlIGltbXV0YWJseSB1cGRhdGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gZnVuYyAtIFRoZSBmdW5jdGlvbiB0byBiZSBtZW1vaXplZC5cclxuICogQHJldHVybnMgQSBtZW1vaXplZCBmdW5jdGlvbiB3aXRoIGEgYC5jbGVhckNhY2hlKClgIG1ldGhvZCBhdHRhY2hlZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogPGNhcHRpb24+VXNpbmcgYGNyZWF0ZVNlbGVjdG9yYDwvY2FwdGlvbj5cclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgdW5zdGFibGVfYXV0b3RyYWNrTWVtb2l6ZSBhcyBhdXRvdHJhY2tNZW1vaXplLCBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gKlxyXG4gKiBjb25zdCBzZWxlY3RUb2RvSWRzID0gY3JlYXRlU2VsZWN0b3IoXHJcbiAqICAgWyhzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS50b2Rvc10sXHJcbiAqICAgKHRvZG9zKSA9PiB0b2Rvcy5tYXAodG9kbyA9PiB0b2RvLmlkKSxcclxuICogICB7IG1lbW9pemU6IGF1dG90cmFja01lbW9pemUgfVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8Y2FwdGlvbj5Vc2luZyBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYDwvY2FwdGlvbj5cclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgdW5zdGFibGVfYXV0b3RyYWNrTWVtb2l6ZSBhcyBhdXRvdHJhY2tNZW1vaXplLCBjcmVhdGVTZWxlY3RvckNyZWF0b3IgfSBmcm9tICdyZXNlbGVjdCdcclxuICpcclxuICogY29uc3QgY3JlYXRlU2VsZWN0b3JBdXRvdHJhY2sgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3IoeyBtZW1vaXplOiBhdXRvdHJhY2tNZW1vaXplIH0pXHJcbiAqXHJcbiAqIGNvbnN0IHNlbGVjdFRvZG9JZHMgPSBjcmVhdGVTZWxlY3RvckF1dG90cmFjayhcclxuICogICBbKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnRvZG9zXSxcclxuICogICAodG9kb3MpID0+IHRvZG9zLm1hcCh0b2RvID0+IHRvZG8uaWQpXHJcbiAqIClcclxuICogYGBgXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBGdW5jIC0gVGhlIHR5cGUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgbWVtb2l6ZWQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS91bnN0YWJsZV9hdXRvdHJhY2tNZW1vaXplIGF1dG90cmFja01lbW9pemV9XHJcbiAqXHJcbiAqIEBzaW5jZSA1LjAuMFxyXG4gKiBAcHVibGljXHJcbiAqIEBleHBlcmltZW50YWxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhdXRvdHJhY2tNZW1vaXplPEZ1bmMgZXh0ZW5kcyBBbnlGdW5jdGlvbj4oZnVuYzogRnVuYykge1xyXG4gIC8vIHdlIHJlZmVyZW5jZSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgdGhlbSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xyXG5cclxuICBjb25zdCBub2RlOiBOb2RlPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiA9IGNyZWF0ZU5vZGUoXHJcbiAgICBbXSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+XHJcbiAgKVxyXG5cclxuICBsZXQgbGFzdEFyZ3M6IElBcmd1bWVudHMgfCBudWxsID0gbnVsbFxyXG5cclxuICBjb25zdCBzaGFsbG93RXF1YWwgPSBjcmVhdGVDYWNoZUtleUNvbXBhcmF0b3IocmVmZXJlbmNlRXF1YWxpdHlDaGVjaylcclxuXHJcbiAgY29uc3QgY2FjaGUgPSBjcmVhdGVDYWNoZSgoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBmdW5jLmFwcGx5KG51bGwsIG5vZGUucHJveHkgYXMgdW5rbm93biBhcyBhbnlbXSlcclxuICAgIHJldHVybiByZXNcclxuICB9KVxyXG5cclxuICBmdW5jdGlvbiBtZW1vaXplZCgpIHtcclxuICAgIGlmICghc2hhbGxvd0VxdWFsKGxhc3RBcmdzLCBhcmd1bWVudHMpKSB7XHJcbiAgICAgIHVwZGF0ZU5vZGUobm9kZSwgYXJndW1lbnRzIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pXHJcbiAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzXHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2FjaGUudmFsdWVcclxuICB9XHJcblxyXG4gIG1lbW9pemVkLmNsZWFyQ2FjaGUgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gY2FjaGUuY2xlYXIoKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG1lbW9pemVkIGFzIEZ1bmMgJiBTaW1wbGlmeTxEZWZhdWx0TWVtb2l6ZUZpZWxkcz5cclxufVxyXG4iLCIvLyBPcmlnaW5hbCBzb3VyY2U6XHJcbi8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvMGI5NzQ0MThjOWE1NmY2YzU2MDI5ODU2MDI2NWRjZjRiNjU3ODRiYy9wYWNrYWdlcy9yZWFjdC9zcmMvUmVhY3RDYWNoZS5qc1xyXG5cclxuaW1wb3J0IHR5cGUge1xyXG4gIEFueUZ1bmN0aW9uLFxyXG4gIERlZmF1bHRNZW1vaXplRmllbGRzLFxyXG4gIEVxdWFsaXR5Rm4sXHJcbiAgU2ltcGxpZnlcclxufSBmcm9tICcuL3R5cGVzJ1xyXG5cclxuY2xhc3MgU3Ryb25nUmVmPFQ+IHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZhbHVlOiBUKSB7fVxyXG4gIGRlcmVmKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFJlZiA9XHJcbiAgdHlwZW9mIFdlYWtSZWYgIT09ICd1bmRlZmluZWQnXHJcbiAgICA/IFdlYWtSZWZcclxuICAgIDogKFN0cm9uZ1JlZiBhcyB1bmtub3duIGFzIHR5cGVvZiBXZWFrUmVmKVxyXG5cclxuY29uc3QgVU5URVJNSU5BVEVEID0gMFxyXG5jb25zdCBURVJNSU5BVEVEID0gMVxyXG5cclxuaW50ZXJmYWNlIFVudGVybWluYXRlZENhY2hlTm9kZTxUPiB7XHJcbiAgLyoqXHJcbiAgICogU3RhdHVzLCByZXByZXNlbnRzIHdoZXRoZXIgdGhlIGNhY2hlZCBjb21wdXRhdGlvbiByZXR1cm5lZCBhIHZhbHVlIG9yIHRocmV3IGFuIGVycm9yLlxyXG4gICAqL1xyXG4gIHM6IDBcclxuICAvKipcclxuICAgKiBWYWx1ZSwgZWl0aGVyIHRoZSBjYWNoZWQgcmVzdWx0IG9yIGFuIGVycm9yLCBkZXBlbmRpbmcgb24gc3RhdHVzLlxyXG4gICAqL1xyXG4gIHY6IHZvaWRcclxuICAvKipcclxuICAgKiBPYmplY3QgY2FjaGUsIGEgYFdlYWtNYXBgIHdoZXJlIG5vbi1wcmltaXRpdmUgYXJndW1lbnRzIGFyZSBzdG9yZWQuXHJcbiAgICovXHJcbiAgbzogbnVsbCB8IFdlYWtNYXA8RnVuY3Rpb24gfCBPYmplY3QsIENhY2hlTm9kZTxUPj5cclxuICAvKipcclxuICAgKiBQcmltaXRpdmUgY2FjaGUsIGEgcmVndWxhciBNYXAgd2hlcmUgcHJpbWl0aXZlIGFyZ3VtZW50cyBhcmUgc3RvcmVkLlxyXG4gICAqL1xyXG4gIHA6IG51bGwgfCBNYXA8c3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHZvaWQgfCBzeW1ib2wgfCBib29sZWFuLCBDYWNoZU5vZGU8VD4+XHJcbn1cclxuXHJcbmludGVyZmFjZSBUZXJtaW5hdGVkQ2FjaGVOb2RlPFQ+IHtcclxuICAvKipcclxuICAgKiBTdGF0dXMsIHJlcHJlc2VudHMgd2hldGhlciB0aGUgY2FjaGVkIGNvbXB1dGF0aW9uIHJldHVybmVkIGEgdmFsdWUgb3IgdGhyZXcgYW4gZXJyb3IuXHJcbiAgICovXHJcbiAgczogMVxyXG4gIC8qKlxyXG4gICAqIFZhbHVlLCBlaXRoZXIgdGhlIGNhY2hlZCByZXN1bHQgb3IgYW4gZXJyb3IsIGRlcGVuZGluZyBvbiBzdGF0dXMuXHJcbiAgICovXHJcbiAgdjogVFxyXG4gIC8qKlxyXG4gICAqIE9iamVjdCBjYWNoZSwgYSBgV2Vha01hcGAgd2hlcmUgbm9uLXByaW1pdGl2ZSBhcmd1bWVudHMgYXJlIHN0b3JlZC5cclxuICAgKi9cclxuICBvOiBudWxsIHwgV2Vha01hcDxGdW5jdGlvbiB8IE9iamVjdCwgQ2FjaGVOb2RlPFQ+PlxyXG4gIC8qKlxyXG4gICAqIFByaW1pdGl2ZSBjYWNoZSwgYSByZWd1bGFyIGBNYXBgIHdoZXJlIHByaW1pdGl2ZSBhcmd1bWVudHMgYXJlIHN0b3JlZC5cclxuICAgKi9cclxuICBwOiBudWxsIHwgTWFwPHN0cmluZyB8IG51bWJlciB8IG51bGwgfCB2b2lkIHwgc3ltYm9sIHwgYm9vbGVhbiwgQ2FjaGVOb2RlPFQ+PlxyXG59XHJcblxyXG50eXBlIENhY2hlTm9kZTxUPiA9IFRlcm1pbmF0ZWRDYWNoZU5vZGU8VD4gfCBVbnRlcm1pbmF0ZWRDYWNoZU5vZGU8VD5cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlTm9kZTxUPigpOiBDYWNoZU5vZGU8VD4ge1xyXG4gIHJldHVybiB7XHJcbiAgICBzOiBVTlRFUk1JTkFURUQsXHJcbiAgICB2OiB1bmRlZmluZWQsXHJcbiAgICBvOiBudWxsLFxyXG4gICAgcDogbnVsbFxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgYSBtZW1vaXphdGlvbiBmdW5jdGlvbiB1dGlsaXppbmcgYFdlYWtNYXBgIGZvclxyXG4gKiBpdHMgY2FjaGluZyBtZWNoYW5pc20uXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBSZXN1bHQgLSBUaGUgdHlwZSBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cclxuICpcclxuICogQHNpbmNlIDUuMC4wXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgV2Vha01hcE1lbW9pemVPcHRpb25zPFJlc3VsdCA9IGFueT4ge1xyXG4gIC8qKlxyXG4gICAqIElmIHByb3ZpZGVkLCB1c2VkIHRvIGNvbXBhcmUgYSBuZXdseSBnZW5lcmF0ZWQgb3V0cHV0IHZhbHVlIGFnYWluc3QgcHJldmlvdXMgdmFsdWVzIGluIHRoZSBjYWNoZS5cclxuICAgKiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb2xkIHZhbHVlIGlzIHJldHVybmVkLiBUaGlzIGFkZHJlc3NlcyB0aGUgY29tbW9uXHJcbiAgICogYGBgdHNcclxuICAgKiB0b2Rvcy5tYXAodG9kbyA9PiB0b2RvLmlkKVxyXG4gICAqIGBgYFxyXG4gICAqIHVzZSBjYXNlLCB3aGVyZSBhbiB1cGRhdGUgdG8gYW5vdGhlciBmaWVsZCBpbiB0aGUgb3JpZ2luYWwgZGF0YSBjYXVzZXMgYSByZWNhbGN1bGF0aW9uXHJcbiAgICogZHVlIHRvIGNoYW5nZWQgcmVmZXJlbmNlcywgYnV0IHRoZSBvdXRwdXQgaXMgc3RpbGwgZWZmZWN0aXZlbHkgdGhlIHNhbWUuXHJcbiAgICpcclxuICAgKiBAc2luY2UgNS4wLjBcclxuICAgKi9cclxuICByZXN1bHRFcXVhbGl0eUNoZWNrPzogRXF1YWxpdHlGbjxSZXN1bHQ+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgdHJlZSBvZiBgV2Vha01hcGAtYmFzZWQgY2FjaGUgbm9kZXMgYmFzZWQgb24gdGhlIGlkZW50aXR5IG9mIHRoZVxyXG4gKiBhcmd1bWVudHMgaXQncyBiZWVuIGNhbGxlZCB3aXRoIChpbiB0aGlzIGNhc2UsIHRoZSBleHRyYWN0ZWQgdmFsdWVzIGZyb20geW91ciBpbnB1dCBzZWxlY3RvcnMpLlxyXG4gKiBUaGlzIGFsbG93cyBgd2Vha01hcE1lbW9pemVgIHRvIGhhdmUgYW4gZWZmZWN0aXZlbHkgaW5maW5pdGUgY2FjaGUgc2l6ZS5cclxuICogQ2FjaGUgcmVzdWx0cyB3aWxsIGJlIGtlcHQgaW4gbWVtb3J5IGFzIGxvbmcgYXMgcmVmZXJlbmNlcyB0byB0aGUgYXJndW1lbnRzIHN0aWxsIGV4aXN0LFxyXG4gKiBhbmQgdGhlbiBjbGVhcmVkIG91dCBhcyB0aGUgYXJndW1lbnRzIGFyZSBnYXJiYWdlLWNvbGxlY3RlZC5cclxuICpcclxuICogX19EZXNpZ24gVHJhZGVvZmZzIGZvciBgd2Vha01hcE1lbW9pemVgOl9fXHJcbiAqIC0gUHJvczpcclxuICogICAtIEl0IGhhcyBhbiBlZmZlY3RpdmVseSBpbmZpbml0ZSBjYWNoZSBzaXplLCBidXQgeW91IGhhdmUgbm8gY29udHJvbCBvdmVyXHJcbiAqICAgaG93IGxvbmcgdmFsdWVzIGFyZSBrZXB0IGluIGNhY2hlIGFzIGl0J3MgYmFzZWQgb24gZ2FyYmFnZSBjb2xsZWN0aW9uIGFuZCBgV2Vha01hcGBzLlxyXG4gKiAtIENvbnM6XHJcbiAqICAgLSBUaGVyZSdzIGN1cnJlbnRseSBubyB3YXkgdG8gYWx0ZXIgdGhlIGFyZ3VtZW50IGNvbXBhcmlzb25zLlxyXG4gKiAgIFRoZXkncmUgYmFzZWQgb24gc3RyaWN0IHJlZmVyZW5jZSBlcXVhbGl0eS5cclxuICogICAtIEl0J3Mgcm91Z2hseSB0aGUgc2FtZSBzcGVlZCBhcyBgbHJ1TWVtb2l6ZWAsIGFsdGhvdWdoIGxpa2VseSBhIGZyYWN0aW9uIHNsb3dlci5cclxuICpcclxuICogX19Vc2UgQ2FzZXMgZm9yIGB3ZWFrTWFwTWVtb2l6ZWA6X19cclxuICogLSBUaGlzIG1lbW9pemVyIGlzIGxpa2VseSBiZXN0IHVzZWQgZm9yIGNhc2VzIHdoZXJlIHlvdSBuZWVkIHRvIGNhbGwgdGhlXHJcbiAqIHNhbWUgc2VsZWN0b3IgaW5zdGFuY2Ugd2l0aCBtYW55IGRpZmZlcmVudCBhcmd1bWVudHMsIHN1Y2ggYXMgYSBzaW5nbGVcclxuICogc2VsZWN0b3IgaW5zdGFuY2UgdGhhdCBpcyB1c2VkIGluIGEgbGlzdCBpdGVtIGNvbXBvbmVudCBhbmQgY2FsbGVkIHdpdGhcclxuICogaXRlbSBJRHMgbGlrZTpcclxuICogICBgYGB0c1xyXG4gKiAgIHVzZVNlbGVjdG9yKHN0YXRlID0+IHNlbGVjdFNvbWVEYXRhKHN0YXRlLCBwcm9wcy5jYXRlZ29yeSkpXHJcbiAqICAgYGBgXHJcbiAqIEBwYXJhbSBmdW5jIC0gVGhlIGZ1bmN0aW9uIHRvIGJlIG1lbW9pemVkLlxyXG4gKiBAcmV0dXJucyBBIG1lbW9pemVkIGZ1bmN0aW9uIHdpdGggYSBgLmNsZWFyQ2FjaGUoKWAgbWV0aG9kIGF0dGFjaGVkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8Y2FwdGlvbj5Vc2luZyBgY3JlYXRlU2VsZWN0b3JgPC9jYXB0aW9uPlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQgeyBjcmVhdGVTZWxlY3Rvciwgd2Vha01hcE1lbW9pemUgfSBmcm9tICdyZXNlbGVjdCdcclxuICpcclxuICogaW50ZXJmYWNlIFJvb3RTdGF0ZSB7XHJcbiAqICAgaXRlbXM6IHsgaWQ6IG51bWJlcjsgY2F0ZWdvcnk6IHN0cmluZzsgbmFtZTogc3RyaW5nIH1bXVxyXG4gKiB9XHJcbiAqXHJcbiAqIGNvbnN0IHNlbGVjdEl0ZW1zQnlDYXRlZ29yeSA9IGNyZWF0ZVNlbGVjdG9yKFxyXG4gKiAgIFtcclxuICogICAgIChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5pdGVtcyxcclxuICogICAgIChzdGF0ZTogUm9vdFN0YXRlLCBjYXRlZ29yeTogc3RyaW5nKSA9PiBjYXRlZ29yeVxyXG4gKiAgIF0sXHJcbiAqICAgKGl0ZW1zLCBjYXRlZ29yeSkgPT4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpLFxyXG4gKiAgIHtcclxuICogICAgIG1lbW9pemU6IHdlYWtNYXBNZW1vaXplLFxyXG4gKiAgICAgYXJnc01lbW9pemU6IHdlYWtNYXBNZW1vaXplXHJcbiAqICAgfVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8Y2FwdGlvbj5Vc2luZyBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYDwvY2FwdGlvbj5cclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3JDcmVhdG9yLCB3ZWFrTWFwTWVtb2l6ZSB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gKlxyXG4gKiBjb25zdCBjcmVhdGVTZWxlY3RvcldlYWtNYXAgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3IoeyBtZW1vaXplOiB3ZWFrTWFwTWVtb2l6ZSwgYXJnc01lbW9pemU6IHdlYWtNYXBNZW1vaXplIH0pXHJcbiAqXHJcbiAqIGNvbnN0IHNlbGVjdEl0ZW1zQnlDYXRlZ29yeSA9IGNyZWF0ZVNlbGVjdG9yV2Vha01hcChcclxuICogICBbXHJcbiAqICAgICAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuaXRlbXMsXHJcbiAqICAgICAoc3RhdGU6IFJvb3RTdGF0ZSwgY2F0ZWdvcnk6IHN0cmluZykgPT4gY2F0ZWdvcnlcclxuICogICBdLFxyXG4gKiAgIChpdGVtcywgY2F0ZWdvcnkpID0+IGl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uY2F0ZWdvcnkgPT09IGNhdGVnb3J5KVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAdGVtcGxhdGUgRnVuYyAtIFRoZSB0eXBlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGlzIG1lbW9pemVkLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvd2Vha01hcE1lbW9pemUgYHdlYWtNYXBNZW1vaXplYH1cclxuICpcclxuICogQHNpbmNlIDUuMC4wXHJcbiAqIEBwdWJsaWNcclxuICogQGV4cGVyaW1lbnRhbFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdlYWtNYXBNZW1vaXplPEZ1bmMgZXh0ZW5kcyBBbnlGdW5jdGlvbj4oXHJcbiAgZnVuYzogRnVuYyxcclxuICBvcHRpb25zOiBXZWFrTWFwTWVtb2l6ZU9wdGlvbnM8UmV0dXJuVHlwZTxGdW5jPj4gPSB7fVxyXG4pIHtcclxuICBsZXQgZm5Ob2RlID0gY3JlYXRlQ2FjaGVOb2RlKClcclxuICBjb25zdCB7IHJlc3VsdEVxdWFsaXR5Q2hlY2sgfSA9IG9wdGlvbnNcclxuXHJcbiAgbGV0IGxhc3RSZXN1bHQ6IFdlYWtSZWY8b2JqZWN0PiB8IHVuZGVmaW5lZFxyXG5cclxuICBsZXQgcmVzdWx0c0NvdW50ID0gMFxyXG5cclxuICBmdW5jdGlvbiBtZW1vaXplZCgpIHtcclxuICAgIGxldCBjYWNoZU5vZGUgPSBmbk5vZGVcclxuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBhcmd1bWVudHNcclxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGFyZyA9IGFyZ3VtZW50c1tpXVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJyB8fFxyXG4gICAgICAgICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGwpXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIE9iamVjdHMgZ28gaW50byBhIFdlYWtNYXBcclxuICAgICAgICBsZXQgb2JqZWN0Q2FjaGUgPSBjYWNoZU5vZGUub1xyXG4gICAgICAgIGlmIChvYmplY3RDYWNoZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgY2FjaGVOb2RlLm8gPSBvYmplY3RDYWNoZSA9IG5ldyBXZWFrTWFwKClcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0Tm9kZSA9IG9iamVjdENhY2hlLmdldChhcmcpXHJcbiAgICAgICAgaWYgKG9iamVjdE5vZGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgY2FjaGVOb2RlID0gY3JlYXRlQ2FjaGVOb2RlKClcclxuICAgICAgICAgIG9iamVjdENhY2hlLnNldChhcmcsIGNhY2hlTm9kZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2FjaGVOb2RlID0gb2JqZWN0Tm9kZVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBQcmltaXRpdmVzIGdvIGludG8gYSByZWd1bGFyIE1hcFxyXG4gICAgICAgIGxldCBwcmltaXRpdmVDYWNoZSA9IGNhY2hlTm9kZS5wXHJcbiAgICAgICAgaWYgKHByaW1pdGl2ZUNhY2hlID09PSBudWxsKSB7XHJcbiAgICAgICAgICBjYWNoZU5vZGUucCA9IHByaW1pdGl2ZUNhY2hlID0gbmV3IE1hcCgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByaW1pdGl2ZU5vZGUgPSBwcmltaXRpdmVDYWNoZS5nZXQoYXJnKVxyXG4gICAgICAgIGlmIChwcmltaXRpdmVOb2RlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNhY2hlTm9kZSA9IGNyZWF0ZUNhY2hlTm9kZSgpXHJcbiAgICAgICAgICBwcmltaXRpdmVDYWNoZS5zZXQoYXJnLCBjYWNoZU5vZGUpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNhY2hlTm9kZSA9IHByaW1pdGl2ZU5vZGVcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZXJtaW5hdGVkTm9kZSA9IGNhY2hlTm9kZSBhcyB1bmtub3duIGFzIFRlcm1pbmF0ZWRDYWNoZU5vZGU8YW55PlxyXG5cclxuICAgIGxldCByZXN1bHRcclxuXHJcbiAgICBpZiAoY2FjaGVOb2RlLnMgPT09IFRFUk1JTkFURUQpIHtcclxuICAgICAgcmVzdWx0ID0gY2FjaGVOb2RlLnZcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEFsbG93IGVycm9ycyB0byBwcm9wYWdhdGVcclxuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMgYXMgdW5rbm93biBhcyBhbnlbXSlcclxuICAgICAgcmVzdWx0c0NvdW50KytcclxuXHJcbiAgICAgIGlmIChyZXN1bHRFcXVhbGl0eUNoZWNrKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdFJlc3VsdFZhbHVlID0gbGFzdFJlc3VsdD8uZGVyZWY/LigpID8/IGxhc3RSZXN1bHRcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgbGFzdFJlc3VsdFZhbHVlICE9IG51bGwgJiZcclxuICAgICAgICAgIHJlc3VsdEVxdWFsaXR5Q2hlY2sobGFzdFJlc3VsdFZhbHVlIGFzIFJldHVyblR5cGU8RnVuYz4sIHJlc3VsdClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJlc3VsdCA9IGxhc3RSZXN1bHRWYWx1ZVxyXG5cclxuICAgICAgICAgIHJlc3VsdHNDb3VudCAhPT0gMCAmJiByZXN1bHRzQ291bnQtLVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbmVlZHNXZWFrUmVmID1cclxuICAgICAgICAgICh0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiByZXN1bHQgIT09IG51bGwpIHx8XHJcbiAgICAgICAgICB0eXBlb2YgcmVzdWx0ID09PSAnZnVuY3Rpb24nXHJcblxyXG4gICAgICAgIGxhc3RSZXN1bHQgPSBuZWVkc1dlYWtSZWYgPyBuZXcgUmVmKHJlc3VsdCkgOiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRlcm1pbmF0ZWROb2RlLnMgPSBURVJNSU5BVEVEXHJcblxyXG4gICAgdGVybWluYXRlZE5vZGUudiA9IHJlc3VsdFxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgbWVtb2l6ZWQuY2xlYXJDYWNoZSA9ICgpID0+IHtcclxuICAgIGZuTm9kZSA9IGNyZWF0ZUNhY2hlTm9kZSgpXHJcbiAgICBtZW1vaXplZC5yZXNldFJlc3VsdHNDb3VudCgpXHJcbiAgfVxyXG5cclxuICBtZW1vaXplZC5yZXN1bHRzQ291bnQgPSAoKSA9PiByZXN1bHRzQ291bnRcclxuXHJcbiAgbWVtb2l6ZWQucmVzZXRSZXN1bHRzQ291bnQgPSAoKSA9PiB7XHJcbiAgICByZXN1bHRzQ291bnQgPSAwXHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWVtb2l6ZWQgYXMgRnVuYyAmIFNpbXBsaWZ5PERlZmF1bHRNZW1vaXplRmllbGRzPlxyXG59XHJcbiIsImltcG9ydCB7IHdlYWtNYXBNZW1vaXplIH0gZnJvbSAnLi93ZWFrTWFwTWVtb2l6ZSdcclxuXHJcbmltcG9ydCB0eXBlIHtcclxuICBDb21iaW5lcixcclxuICBDcmVhdGVTZWxlY3Rvck9wdGlvbnMsXHJcbiAgRHJvcEZpcnN0UGFyYW1ldGVyLFxyXG4gIEV4dHJhY3RNZW1vaXplckZpZWxkcyxcclxuICBHZXRQYXJhbXNGcm9tU2VsZWN0b3JzLFxyXG4gIEdldFN0YXRlRnJvbVNlbGVjdG9ycyxcclxuICBJbnRlcnJ1cHRSZWN1cnNpb24sXHJcbiAgT3V0cHV0U2VsZWN0b3IsXHJcbiAgU2VsZWN0b3IsXHJcbiAgU2VsZWN0b3JBcnJheSxcclxuICBTZXRSZXF1aXJlZCxcclxuICBTaW1wbGlmeSxcclxuICBVbmtub3duTWVtb2l6ZXJcclxufSBmcm9tICcuL3R5cGVzJ1xyXG5cclxuaW1wb3J0IHtcclxuICBhc3NlcnRJc0Z1bmN0aW9uLFxyXG4gIGNvbGxlY3RJbnB1dFNlbGVjdG9yUmVzdWx0cyxcclxuICBlbnN1cmVJc0FycmF5LFxyXG4gIGdldERlcGVuZGVuY2llcyxcclxuICBnZXREZXZNb2RlQ2hlY2tzRXhlY3V0aW9uSW5mb1xyXG59IGZyb20gJy4vdXRpbHMnXHJcblxyXG4vKipcclxuICogQW4gaW5zdGFuY2Ugb2YgYGNyZWF0ZVNlbGVjdG9yYCwgY3VzdG9taXplZCB3aXRoIGEgZ2l2ZW4gbWVtb2l6ZSBpbXBsZW1lbnRhdGlvbi5cclxuICpcclxuICogQHRlbXBsYXRlIE1lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBtZW1vaXplIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBtZW1vaXplIHRoZSBgcmVzdWx0RnVuY2AgaW5zaWRlIGBjcmVhdGVTZWxlY3RvcmAgKGUuZy4sIGBscnVNZW1vaXplYCBvciBgd2Vha01hcE1lbW9pemVgKS5cclxuICogQHRlbXBsYXRlIEFyZ3NNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgb3B0aW9uYWwgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWVtb2l6ZSB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIHRoZSBvdXRwdXQgc2VsZWN0b3IgZ2VuZXJhdGVkIGJ5IGBjcmVhdGVTZWxlY3RvcmAgKGUuZy4sIGBscnVNZW1vaXplYCBvciBgd2Vha01hcE1lbW9pemVgKS4gSWYgbm9uZSBpcyBleHBsaWNpdGx5IHByb3ZpZGVkLCBgd2Vha01hcE1lbW9pemVgIHdpbGwgYmUgdXNlZC5cclxuICogQHRlbXBsYXRlIFN0YXRlVHlwZSAtIFRoZSB0eXBlIG9mIHN0YXRlIHRoYXQgdGhlIHNlbGVjdG9ycyBjcmVhdGVkIHdpdGggdGhpcyBzZWxlY3RvciBjcmVhdG9yIHdpbGwgb3BlcmF0ZSBvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPFxyXG4gIE1lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IHR5cGVvZiB3ZWFrTWFwTWVtb2l6ZSxcclxuICBBcmdzTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gdHlwZW9mIHdlYWtNYXBNZW1vaXplLFxyXG4gIFN0YXRlVHlwZSA9IGFueVxyXG4+IHtcclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbWVtb2l6ZWQgc2VsZWN0b3IgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gY3JlYXRlU2VsZWN0b3JBcmdzIC0gQW4gYXJiaXRyYXJ5IG51bWJlciBvZiBpbnB1dCBzZWxlY3RvcnMgYXMgc2VwYXJhdGUgaW5saW5lIGFyZ3VtZW50cyBhbmQgYSBgY29tYmluZXJgIGZ1bmN0aW9uLlxyXG4gICAqIEByZXR1cm5zIEEgbWVtb2l6ZWQgb3V0cHV0IHNlbGVjdG9yLlxyXG4gICAqXHJcbiAgICogQHRlbXBsYXRlIElucHV0U2VsZWN0b3JzIC0gVGhlIHR5cGUgb2YgdGhlIGlucHV0IHNlbGVjdG9ycyBhcyBhbiBhcnJheS5cclxuICAgKiBAdGVtcGxhdGUgUmVzdWx0IC0gVGhlIHJldHVybiB0eXBlIG9mIHRoZSBgY29tYmluZXJgIGFzIHdlbGwgYXMgdGhlIG91dHB1dCBzZWxlY3Rvci5cclxuICAgKiBAdGVtcGxhdGUgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgb3B0aW9uYWwgYG1lbW9pemVgIGZ1bmN0aW9uIHRoYXQgY291bGQgYmUgcGFzc2VkIGludG8gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvcmlnaW5hbCBgbWVtb2l6ZWAgZnVuY3Rpb24gdGhhdCB3YXMgaW5pdGlhbGx5IHBhc3NlZCBpbnRvIGBjcmVhdGVTZWxlY3RvckNyZWF0b3JgLlxyXG4gICAqIEB0ZW1wbGF0ZSBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgb3B0aW9uYWwgYGFyZ3NNZW1vaXplYCBmdW5jdGlvbiB0aGF0IGNvdWxkIGJlIHBhc3NlZCBpbnRvIHRoZSBvcHRpb25zIG9iamVjdCB0byBvdmVycmlkZSB0aGUgb3JpZ2luYWwgYGFyZ3NNZW1vaXplYCBmdW5jdGlvbiB0aGF0IHdhcyBpbml0aWFsbHkgcGFzc2VkIGludG8gYGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcmAuXHJcbiAgICpcclxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvY3JlYXRlc2VsZWN0b3IgYGNyZWF0ZVNlbGVjdG9yYH1cclxuICAgKi9cclxuICA8SW5wdXRTZWxlY3RvcnMgZXh0ZW5kcyBTZWxlY3RvckFycmF5PFN0YXRlVHlwZT4sIFJlc3VsdD4oXHJcbiAgICAuLi5jcmVhdGVTZWxlY3RvckFyZ3M6IFtcclxuICAgICAgLi4uaW5wdXRTZWxlY3RvcnM6IElucHV0U2VsZWN0b3JzLFxyXG4gICAgICBjb21iaW5lcjogQ29tYmluZXI8SW5wdXRTZWxlY3RvcnMsIFJlc3VsdD5cclxuICAgIF1cclxuICApOiBPdXRwdXRTZWxlY3RvcjxcclxuICAgIElucHV0U2VsZWN0b3JzLFxyXG4gICAgUmVzdWx0LFxyXG4gICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgQXJnc01lbW9pemVGdW5jdGlvblxyXG4gID4gJlxyXG4gICAgSW50ZXJydXB0UmVjdXJzaW9uXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBtZW1vaXplZCBzZWxlY3RvciBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBjcmVhdGVTZWxlY3RvckFyZ3MgLSBBbiBhcmJpdHJhcnkgbnVtYmVyIG9mIGlucHV0IHNlbGVjdG9ycyBhcyBzZXBhcmF0ZSBpbmxpbmUgYXJndW1lbnRzLCBhIGBjb21iaW5lcmAgZnVuY3Rpb24gYW5kIGFuIGBvcHRpb25zYCBvYmplY3QuXHJcbiAgICogQHJldHVybnMgQSBtZW1vaXplZCBvdXRwdXQgc2VsZWN0b3IuXHJcbiAgICpcclxuICAgKiBAdGVtcGxhdGUgSW5wdXRTZWxlY3RvcnMgLSBUaGUgdHlwZSBvZiB0aGUgaW5wdXQgc2VsZWN0b3JzIGFzIGFuIGFycmF5LlxyXG4gICAqIEB0ZW1wbGF0ZSBSZXN1bHQgLSBUaGUgcmV0dXJuIHR5cGUgb2YgdGhlIGBjb21iaW5lcmAgYXMgd2VsbCBhcyB0aGUgb3V0cHV0IHNlbGVjdG9yLlxyXG4gICAqIEB0ZW1wbGF0ZSBPdmVycmlkZU1lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvcHRpb25hbCBgbWVtb2l6ZWAgZnVuY3Rpb24gdGhhdCBjb3VsZCBiZSBwYXNzZWQgaW50byB0aGUgb3B0aW9ucyBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIG9yaWdpbmFsIGBtZW1vaXplYCBmdW5jdGlvbiB0aGF0IHdhcyBpbml0aWFsbHkgcGFzc2VkIGludG8gYGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcmAuXHJcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvcHRpb25hbCBgYXJnc01lbW9pemVgIGZ1bmN0aW9uIHRoYXQgY291bGQgYmUgcGFzc2VkIGludG8gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvcmlnaW5hbCBgYXJnc01lbW9pemVgIGZ1bmN0aW9uIHRoYXQgd2FzIGluaXRpYWxseSBwYXNzZWQgaW50byBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYC5cclxuICAgKlxyXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVzZWxlY3RvciBgY3JlYXRlU2VsZWN0b3JgfVxyXG4gICAqL1xyXG4gIDxcclxuICAgIElucHV0U2VsZWN0b3JzIGV4dGVuZHMgU2VsZWN0b3JBcnJheTxTdGF0ZVR5cGU+LFxyXG4gICAgUmVzdWx0LFxyXG4gICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgPihcclxuICAgIC4uLmNyZWF0ZVNlbGVjdG9yQXJnczogW1xyXG4gICAgICAuLi5pbnB1dFNlbGVjdG9yczogSW5wdXRTZWxlY3RvcnMsXHJcbiAgICAgIGNvbWJpbmVyOiBDb21iaW5lcjxJbnB1dFNlbGVjdG9ycywgUmVzdWx0PixcclxuICAgICAgY3JlYXRlU2VsZWN0b3JPcHRpb25zOiBTaW1wbGlmeTxcclxuICAgICAgICBDcmVhdGVTZWxlY3Rvck9wdGlvbnM8XHJcbiAgICAgICAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgICBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICAgICAgICA+XHJcbiAgICAgID5cclxuICAgIF1cclxuICApOiBPdXRwdXRTZWxlY3RvcjxcclxuICAgIElucHV0U2VsZWN0b3JzLFxyXG4gICAgUmVzdWx0LFxyXG4gICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24sXHJcbiAgICBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICA+ICZcclxuICAgIEludGVycnVwdFJlY3Vyc2lvblxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbWVtb2l6ZWQgc2VsZWN0b3IgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaW5wdXRTZWxlY3RvcnMgLSBBbiBhcnJheSBvZiBpbnB1dCBzZWxlY3RvcnMuXHJcbiAgICogQHBhcmFtIGNvbWJpbmVyIC0gQSBmdW5jdGlvbiB0aGF0IENvbWJpbmVzIHRoZSBpbnB1dCBzZWxlY3RvcnMgYW5kIHJldHVybnMgYW4gb3V0cHV0IHNlbGVjdG9yLiBPdGhlcndpc2Uga25vd24gYXMgdGhlIHJlc3VsdCBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0gY3JlYXRlU2VsZWN0b3JPcHRpb25zIC0gQW4gb3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbGxvd3MgZm9yIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBwZXIgc2VsZWN0b3IuXHJcbiAgICogQHJldHVybnMgQSBtZW1vaXplZCBvdXRwdXQgc2VsZWN0b3IuXHJcbiAgICpcclxuICAgKiBAdGVtcGxhdGUgSW5wdXRTZWxlY3RvcnMgLSBUaGUgdHlwZSBvZiB0aGUgaW5wdXQgc2VsZWN0b3JzIGFycmF5LlxyXG4gICAqIEB0ZW1wbGF0ZSBSZXN1bHQgLSBUaGUgcmV0dXJuIHR5cGUgb2YgdGhlIGBjb21iaW5lcmAgYXMgd2VsbCBhcyB0aGUgb3V0cHV0IHNlbGVjdG9yLlxyXG4gICAqIEB0ZW1wbGF0ZSBPdmVycmlkZU1lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvcHRpb25hbCBgbWVtb2l6ZWAgZnVuY3Rpb24gdGhhdCBjb3VsZCBiZSBwYXNzZWQgaW50byB0aGUgb3B0aW9ucyBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIG9yaWdpbmFsIGBtZW1vaXplYCBmdW5jdGlvbiB0aGF0IHdhcyBpbml0aWFsbHkgcGFzc2VkIGludG8gYGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcmAuXHJcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvcHRpb25hbCBgYXJnc01lbW9pemVgIGZ1bmN0aW9uIHRoYXQgY291bGQgYmUgcGFzc2VkIGludG8gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvcmlnaW5hbCBgYXJnc01lbW9pemVgIGZ1bmN0aW9uIHRoYXQgd2FzIGluaXRpYWxseSBwYXNzZWQgaW50byBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYC5cclxuICAgKlxyXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVzZWxlY3RvciBgY3JlYXRlU2VsZWN0b3JgfVxyXG4gICAqL1xyXG4gIDxcclxuICAgIElucHV0U2VsZWN0b3JzIGV4dGVuZHMgU2VsZWN0b3JBcnJheTxTdGF0ZVR5cGU+LFxyXG4gICAgUmVzdWx0LFxyXG4gICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgPihcclxuICAgIGlucHV0U2VsZWN0b3JzOiBbLi4uSW5wdXRTZWxlY3RvcnNdLFxyXG4gICAgY29tYmluZXI6IENvbWJpbmVyPElucHV0U2VsZWN0b3JzLCBSZXN1bHQ+LFxyXG4gICAgY3JlYXRlU2VsZWN0b3JPcHRpb25zPzogU2ltcGxpZnk8XHJcbiAgICAgIENyZWF0ZVNlbGVjdG9yT3B0aW9uczxcclxuICAgICAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgQXJnc01lbW9pemVGdW5jdGlvbixcclxuICAgICAgICBPdmVycmlkZU1lbW9pemVGdW5jdGlvbixcclxuICAgICAgICBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICAgICAgPlxyXG4gICAgPlxyXG4gICk6IE91dHB1dFNlbGVjdG9yPFxyXG4gICAgSW5wdXRTZWxlY3RvcnMsXHJcbiAgICBSZXN1bHQsXHJcbiAgICBPdmVycmlkZU1lbW9pemVGdW5jdGlvbixcclxuICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvblxyXG4gID4gJlxyXG4gICAgSW50ZXJydXB0UmVjdXJzaW9uXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBcInByZS10eXBlZFwiIHZlcnNpb24gb2Yge0BsaW5rY29kZSBjcmVhdGVTZWxlY3RvciBjcmVhdGVTZWxlY3Rvcn1cclxuICAgKiB3aGVyZSB0aGUgYHN0YXRlYCB0eXBlIGlzIHByZWRlZmluZWQuXHJcbiAgICpcclxuICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gc2V0IHRoZSBgc3RhdGVgIHR5cGUgb25jZSwgZWxpbWluYXRpbmcgdGhlIG5lZWQgdG9cclxuICAgKiBzcGVjaWZ5IGl0IHdpdGggZXZlcnkge0BsaW5rY29kZSBjcmVhdGVTZWxlY3RvciBjcmVhdGVTZWxlY3Rvcn0gY2FsbC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIEEgcHJlLXR5cGVkIGBjcmVhdGVTZWxlY3RvcmAgd2l0aCB0aGUgc3RhdGUgdHlwZSBhbHJlYWR5IGRlZmluZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGBgYHRzXHJcbiAgICogaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCdcclxuICAgKlxyXG4gICAqIGV4cG9ydCBpbnRlcmZhY2UgUm9vdFN0YXRlIHtcclxuICAgKiAgIHRvZG9zOiB7IGlkOiBudW1iZXI7IGNvbXBsZXRlZDogYm9vbGVhbiB9W11cclxuICAgKiAgIGFsZXJ0czogeyBpZDogbnVtYmVyOyByZWFkOiBib29sZWFuIH1bXVxyXG4gICAqIH1cclxuICAgKlxyXG4gICAqIGV4cG9ydCBjb25zdCBjcmVhdGVBcHBTZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yLndpdGhUeXBlczxSb290U3RhdGU+KClcclxuICAgKlxyXG4gICAqIGNvbnN0IHNlbGVjdFRvZG9JZHMgPSBjcmVhdGVBcHBTZWxlY3RvcihcclxuICAgKiAgIFtcclxuICAgKiAgICAgLy8gVHlwZSBvZiBgc3RhdGVgIGlzIHNldCB0byBgUm9vdFN0YXRlYCwgbm8gbmVlZCB0byBtYW51YWxseSBzZXQgdGhlIHR5cGVcclxuICAgKiAgICAgc3RhdGUgPT4gc3RhdGUudG9kb3NcclxuICAgKiAgIF0sXHJcbiAgICogICB0b2RvcyA9PiB0b2Rvcy5tYXAoKHsgaWQgfSkgPT4gaWQpXHJcbiAgICogKVxyXG4gICAqIGBgYFxyXG4gICAqIEB0ZW1wbGF0ZSBPdmVycmlkZVN0YXRlVHlwZSAtIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHN0YXRlIHVzZWQgYnkgYWxsIHNlbGVjdG9ycyBjcmVhdGVkIHdpdGggdGhpcyBzZWxlY3RvciBjcmVhdG9yLlxyXG4gICAqXHJcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZXNlbGVjdG9yI2RlZmluaW5nLWEtcHJlLXR5cGVkLWNyZWF0ZXNlbGVjdG9yIGBjcmVhdGVTZWxlY3Rvci53aXRoVHlwZXNgfVxyXG4gICAqXHJcbiAgICogQHNpbmNlIDUuMS4wXHJcbiAgICovXHJcbiAgd2l0aFR5cGVzOiA8T3ZlcnJpZGVTdGF0ZVR5cGUgZXh0ZW5kcyBTdGF0ZVR5cGU+KCkgPT4gQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbjxcclxuICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgIEFyZ3NNZW1vaXplRnVuY3Rpb24sXHJcbiAgICBPdmVycmlkZVN0YXRlVHlwZVxyXG4gID5cclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBzZWxlY3RvciBjcmVhdG9yIGZ1bmN0aW9uIHdpdGggdGhlIHNwZWNpZmllZCBtZW1vaXphdGlvbiBmdW5jdGlvblxyXG4gKiBhbmQgb3B0aW9ucyBmb3IgY3VzdG9taXppbmcgbWVtb2l6YXRpb24gYmVoYXZpb3IuXHJcbiAqXHJcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9ucyBvYmplY3QgY29udGFpbmluZyB0aGUgYG1lbW9pemVgIGZ1bmN0aW9uIHJlc3BvbnNpYmxlIGZvciBtZW1vaXppbmcgdGhlIGByZXN1bHRGdW5jYCBpbnNpZGUgYGNyZWF0ZVNlbGVjdG9yYCAoZS5nLiwgYGxydU1lbW9pemVgIG9yIGB3ZWFrTWFwTWVtb2l6ZWApLiBJdCBhbHNvIHByb3ZpZGVzIGFkZGl0aW9uYWwgb3B0aW9ucyBmb3IgY3VzdG9taXppbmcgbWVtb2l6YXRpb24uIFdoaWxlIHRoZSBgbWVtb2l6ZWAgcHJvcGVydHkgaXMgbWFuZGF0b3J5LCB0aGUgcmVzdCBhcmUgb3B0aW9uYWwuXHJcbiAqIEByZXR1cm5zIEEgY3VzdG9taXplZCBgY3JlYXRlU2VsZWN0b3JgIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGB0c1xyXG4gKiBjb25zdCBjdXN0b21DcmVhdGVTZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcih7XHJcbiAqICAgbWVtb2l6ZTogY3VzdG9tTWVtb2l6ZSwgLy8gRnVuY3Rpb24gdG8gYmUgdXNlZCB0byBtZW1vaXplIGByZXN1bHRGdW5jYFxyXG4gKiAgIG1lbW9pemVPcHRpb25zOiBbbWVtb2l6ZU9wdGlvbjEsIG1lbW9pemVPcHRpb24yXSwgLy8gT3B0aW9ucyBwYXNzZWQgdG8gYGN1c3RvbU1lbW9pemVgIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgb253YXJkc1xyXG4gKiAgIGFyZ3NNZW1vaXplOiBjdXN0b21BcmdzTWVtb2l6ZSwgLy8gRnVuY3Rpb24gdG8gYmUgdXNlZCB0byBtZW1vaXplIHRoZSBzZWxlY3RvcidzIGFyZ3VtZW50c1xyXG4gKiAgIGFyZ3NNZW1vaXplT3B0aW9uczogW2FyZ3NNZW1vaXplT3B0aW9uMSwgYXJnc01lbW9pemVPcHRpb24yXSAvLyBPcHRpb25zIHBhc3NlZCB0byBgY3VzdG9tQXJnc01lbW9pemVgIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgb253YXJkc1xyXG4gKiB9KVxyXG4gKlxyXG4gKiBjb25zdCBjdXN0b21TZWxlY3RvciA9IGN1c3RvbUNyZWF0ZVNlbGVjdG9yKFxyXG4gKiAgIFtpbnB1dFNlbGVjdG9yMSwgaW5wdXRTZWxlY3RvcjJdLFxyXG4gKiAgIHJlc3VsdEZ1bmMgLy8gYHJlc3VsdEZ1bmNgIHdpbGwgYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgY3VzdG9tTWVtb2l6ZWBcclxuICogKVxyXG4gKlxyXG4gKiBjdXN0b21TZWxlY3RvcihcclxuICogICAuLi5zZWxlY3RvckFyZ3MgLy8gV2lsbCBiZSBtZW1vaXplZCBieSBgY3VzdG9tQXJnc01lbW9pemVgXHJcbiAqIClcclxuICogYGBgXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWVtb2l6ZSB0aGUgYHJlc3VsdEZ1bmNgIGluc2lkZSBgY3JlYXRlU2VsZWN0b3JgIChlLmcuLCBgbHJ1TWVtb2l6ZWAgb3IgYHdlYWtNYXBNZW1vaXplYCkuXHJcbiAqIEB0ZW1wbGF0ZSBBcmdzTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG9wdGlvbmFsIG1lbW9pemUgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIG1lbW9pemUgdGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50byB0aGUgb3V0cHV0IHNlbGVjdG9yIGdlbmVyYXRlZCBieSBgY3JlYXRlU2VsZWN0b3JgIChlLmcuLCBgbHJ1TWVtb2l6ZWAgb3IgYHdlYWtNYXBNZW1vaXplYCkuIElmIG5vbmUgaXMgZXhwbGljaXRseSBwcm92aWRlZCwgYHdlYWtNYXBNZW1vaXplYCB3aWxsIGJlIHVzZWQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVTZWxlY3RvckNyZWF0b3IjdXNpbmctb3B0aW9ucy1zaW5jZS01MDAgYGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcmB9XHJcbiAqXHJcbiAqIEBzaW5jZSA1LjAuMFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yPFxyXG4gIE1lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplcixcclxuICBBcmdzTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gdHlwZW9mIHdlYWtNYXBNZW1vaXplXHJcbj4oXHJcbiAgb3B0aW9uczogU2ltcGxpZnk8XHJcbiAgICBTZXRSZXF1aXJlZDxcclxuICAgICAgQ3JlYXRlU2VsZWN0b3JPcHRpb25zPFxyXG4gICAgICAgIHR5cGVvZiB3ZWFrTWFwTWVtb2l6ZSxcclxuICAgICAgICB0eXBlb2Ygd2Vha01hcE1lbW9pemUsXHJcbiAgICAgICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgIEFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICAgICAgPixcclxuICAgICAgJ21lbW9pemUnXHJcbiAgICA+XHJcbiAgPlxyXG4pOiBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPE1lbW9pemVGdW5jdGlvbiwgQXJnc01lbW9pemVGdW5jdGlvbj5cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgc2VsZWN0b3IgY3JlYXRvciBmdW5jdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgbWVtb2l6YXRpb24gZnVuY3Rpb25cclxuICogYW5kIG9wdGlvbnMgZm9yIGN1c3RvbWl6aW5nIG1lbW9pemF0aW9uIGJlaGF2aW9yLlxyXG4gKlxyXG4gKiBAcGFyYW0gbWVtb2l6ZSAtIFRoZSBgbWVtb2l6ZWAgZnVuY3Rpb24gcmVzcG9uc2libGUgZm9yIG1lbW9pemluZyB0aGUgYHJlc3VsdEZ1bmNgIGluc2lkZSBgY3JlYXRlU2VsZWN0b3JgIChlLmcuLCBgbHJ1TWVtb2l6ZWAgb3IgYHdlYWtNYXBNZW1vaXplYCkuXHJcbiAqIEBwYXJhbSBtZW1vaXplT3B0aW9uc0Zyb21BcmdzIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgbWVtb2l6YXRpb24gZnVuY3Rpb24uIFRoZXNlIG9wdGlvbnMgYXJlIHRoZW4gcGFzc2VkIHRvIHRoZSBtZW1vaXplIGZ1bmN0aW9uIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgb253YXJkcy5cclxuICogQHJldHVybnMgQSBjdXN0b21pemVkIGBjcmVhdGVTZWxlY3RvcmAgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzXHJcbiAqIGNvbnN0IGN1c3RvbUNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKGN1c3RvbU1lbW9pemUsIC8vIEZ1bmN0aW9uIHRvIGJlIHVzZWQgdG8gbWVtb2l6ZSBgcmVzdWx0RnVuY2BcclxuICogICBvcHRpb24xLCAvLyBXaWxsIGJlIHBhc3NlZCBhcyBzZWNvbmQgYXJndW1lbnQgdG8gYGN1c3RvbU1lbW9pemVgXHJcbiAqICAgb3B0aW9uMiwgLy8gV2lsbCBiZSBwYXNzZWQgYXMgdGhpcmQgYXJndW1lbnQgdG8gYGN1c3RvbU1lbW9pemVgXHJcbiAqICAgb3B0aW9uMyAvLyBXaWxsIGJlIHBhc3NlZCBhcyBmb3VydGggYXJndW1lbnQgdG8gYGN1c3RvbU1lbW9pemVgXHJcbiAqIClcclxuICpcclxuICogY29uc3QgY3VzdG9tU2VsZWN0b3IgPSBjdXN0b21DcmVhdGVTZWxlY3RvcihcclxuICogICBbaW5wdXRTZWxlY3RvcjEsIGlucHV0U2VsZWN0b3IyXSxcclxuICogICByZXN1bHRGdW5jIC8vIGByZXN1bHRGdW5jYCB3aWxsIGJlIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gYGN1c3RvbU1lbW9pemVgXHJcbiAqIClcclxuICogYGBgXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWVtb2l6ZSB0aGUgYHJlc3VsdEZ1bmNgIGluc2lkZSBgY3JlYXRlU2VsZWN0b3JgIChlLmcuLCBgbHJ1TWVtb2l6ZWAgb3IgYHdlYWtNYXBNZW1vaXplYCkuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVTZWxlY3RvckNyZWF0b3IjdXNpbmctbWVtb2l6ZS1hbmQtbWVtb2l6ZW9wdGlvbnMgYGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcmB9XHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZWxlY3RvckNyZWF0b3I8TWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyPihcclxuICBtZW1vaXplOiBNZW1vaXplRnVuY3Rpb24sXHJcbiAgLi4ubWVtb2l6ZU9wdGlvbnNGcm9tQXJnczogRHJvcEZpcnN0UGFyYW1ldGVyPE1lbW9pemVGdW5jdGlvbj5cclxuKTogQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbjxNZW1vaXplRnVuY3Rpb24+XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHNlbGVjdG9yIGNyZWF0b3IgZnVuY3Rpb24gd2l0aCB0aGUgc3BlY2lmaWVkIG1lbW9pemF0aW9uXHJcbiAqIGZ1bmN0aW9uIGFuZCBvcHRpb25zIGZvciBjdXN0b21pemluZyBtZW1vaXphdGlvbiBiZWhhdmlvci5cclxuICpcclxuICogQHBhcmFtIG1lbW9pemVPck9wdGlvbnMgLSBFaXRoZXIgQSBgbWVtb2l6ZWAgZnVuY3Rpb24gb3IgYW4gYG9wdGlvbnNgIG9iamVjdCBjb250YWluaW5nIHRoZSBgbWVtb2l6ZWAgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSBtZW1vaXplT3B0aW9uc0Zyb21BcmdzIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgbWVtb2l6YXRpb24gZnVuY3Rpb24uIFRoZXNlIG9wdGlvbnMgYXJlIHRoZW4gcGFzc2VkIHRvIHRoZSBtZW1vaXplIGZ1bmN0aW9uIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgb253YXJkcy5cclxuICogQHJldHVybnMgQSBjdXN0b21pemVkIGBjcmVhdGVTZWxlY3RvcmAgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWVtb2l6ZSB0aGUgYHJlc3VsdEZ1bmNgIGluc2lkZSBgY3JlYXRlU2VsZWN0b3JgIChlLmcuLCBgbHJ1TWVtb2l6ZWAgb3IgYHdlYWtNYXBNZW1vaXplYCkuXHJcbiAqIEB0ZW1wbGF0ZSBBcmdzTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG9wdGlvbmFsIG1lbW9pemUgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIG1lbW9pemUgdGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50byB0aGUgb3V0cHV0IHNlbGVjdG9yIGdlbmVyYXRlZCBieSBgY3JlYXRlU2VsZWN0b3JgIChlLmcuLCBgbHJ1TWVtb2l6ZWAgb3IgYHdlYWtNYXBNZW1vaXplYCkuIElmIG5vbmUgaXMgZXhwbGljaXRseSBwcm92aWRlZCwgYHdlYWtNYXBNZW1vaXplYCB3aWxsIGJlIHVzZWQuXHJcbiAqIEB0ZW1wbGF0ZSBNZW1vaXplT3JPcHRpb25zIC0gVGhlIHR5cGUgb2YgdGhlIGZpcnN0IGFyZ3VtZW50LiBJdCBjYW4gZWl0aGVyIGJlIGEgYG1lbW9pemVgIGZ1bmN0aW9uIG9yIGFuIGBvcHRpb25zYCBvYmplY3QgY29udGFpbmluZyB0aGUgYG1lbW9pemVgIGZ1bmN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcjxcclxuICBNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIsXHJcbiAgQXJnc01lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplcixcclxuICBNZW1vaXplT3JPcHRpb25zIGV4dGVuZHNcclxuICAgIHwgTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgICB8IFNldFJlcXVpcmVkPFxyXG4gICAgICAgIENyZWF0ZVNlbGVjdG9yT3B0aW9uczxNZW1vaXplRnVuY3Rpb24sIEFyZ3NNZW1vaXplRnVuY3Rpb24+LFxyXG4gICAgICAgICdtZW1vaXplJ1xyXG4gICAgICA+XHJcbj4oXHJcbiAgbWVtb2l6ZU9yT3B0aW9uczogTWVtb2l6ZU9yT3B0aW9ucyxcclxuICAuLi5tZW1vaXplT3B0aW9uc0Zyb21BcmdzOiBNZW1vaXplT3JPcHRpb25zIGV4dGVuZHMgU2V0UmVxdWlyZWQ8XHJcbiAgICBDcmVhdGVTZWxlY3Rvck9wdGlvbnM8TWVtb2l6ZUZ1bmN0aW9uLCBBcmdzTWVtb2l6ZUZ1bmN0aW9uPixcclxuICAgICdtZW1vaXplJ1xyXG4gID5cclxuICAgID8gbmV2ZXJcclxuICAgIDogRHJvcEZpcnN0UGFyYW1ldGVyPE1lbW9pemVGdW5jdGlvbj5cclxuKSB7XHJcbiAgLyoqIG9wdGlvbnMgaW5pdGlhbGx5IHBhc3NlZCBpbnRvIGBjcmVhdGVTZWxlY3RvckNyZWF0b3JgLiAqL1xyXG4gIGNvbnN0IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvck9wdGlvbnM6IFNldFJlcXVpcmVkPFxyXG4gICAgQ3JlYXRlU2VsZWN0b3JPcHRpb25zPE1lbW9pemVGdW5jdGlvbiwgQXJnc01lbW9pemVGdW5jdGlvbj4sXHJcbiAgICAnbWVtb2l6ZSdcclxuICA+ID0gdHlwZW9mIG1lbW9pemVPck9wdGlvbnMgPT09ICdmdW5jdGlvbidcclxuICAgID8ge1xyXG4gICAgICAgIG1lbW9pemU6IG1lbW9pemVPck9wdGlvbnMgYXMgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgIG1lbW9pemVPcHRpb25zOiBtZW1vaXplT3B0aW9uc0Zyb21BcmdzXHJcbiAgICAgIH1cclxuICAgIDogbWVtb2l6ZU9yT3B0aW9uc1xyXG5cclxuICBjb25zdCBjcmVhdGVTZWxlY3RvciA9IDxcclxuICAgIElucHV0U2VsZWN0b3JzIGV4dGVuZHMgU2VsZWN0b3JBcnJheSxcclxuICAgIFJlc3VsdCxcclxuICAgIE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgT3ZlcnJpZGVBcmdzTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gQXJnc01lbW9pemVGdW5jdGlvblxyXG4gID4oXHJcbiAgICAuLi5jcmVhdGVTZWxlY3RvckFyZ3M6IFtcclxuICAgICAgLi4uaW5wdXRTZWxlY3RvcnM6IFsuLi5JbnB1dFNlbGVjdG9yc10sXHJcbiAgICAgIGNvbWJpbmVyOiBDb21iaW5lcjxJbnB1dFNlbGVjdG9ycywgUmVzdWx0PixcclxuICAgICAgY3JlYXRlU2VsZWN0b3JPcHRpb25zPzogQ3JlYXRlU2VsZWN0b3JPcHRpb25zPFxyXG4gICAgICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgIE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvblxyXG4gICAgICA+XHJcbiAgICBdXHJcbiAgKSA9PiB7XHJcbiAgICBsZXQgcmVjb21wdXRhdGlvbnMgPSAwXHJcbiAgICBsZXQgZGVwZW5kZW5jeVJlY29tcHV0YXRpb25zID0gMFxyXG4gICAgbGV0IGxhc3RSZXN1bHQ6IFJlc3VsdFxyXG5cclxuICAgIC8vIER1ZSB0byB0aGUgaW50cmljYWNpZXMgb2YgcmVzdCBwYXJhbXMsIHdlIGNhbid0IGRvIGFuIG9wdGlvbmFsIGFyZyBhZnRlciBgLi4uY3JlYXRlU2VsZWN0b3JBcmdzYC5cclxuICAgIC8vIFNvLCBzdGFydCBieSBkZWNsYXJpbmcgdGhlIGRlZmF1bHQgdmFsdWUgaGVyZS5cclxuICAgIC8vIChBbmQgeWVzLCB0aGUgd29yZHMgJ21lbW9pemUnIGFuZCAnb3B0aW9ucycgYXBwZWFyIHRvbyBtYW55IHRpbWVzIGluIHRoaXMgbmV4dCBzZXF1ZW5jZS4pXHJcbiAgICBsZXQgZGlyZWN0bHlQYXNzZWRPcHRpb25zOiBDcmVhdGVTZWxlY3Rvck9wdGlvbnM8XHJcbiAgICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgICAgQXJnc01lbW9pemVGdW5jdGlvbixcclxuICAgICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvblxyXG4gICAgPiA9IHt9XHJcblxyXG4gICAgLy8gTm9ybWFsbHksIHRoZSByZXN1bHQgZnVuYyBvciBcImNvbWJpbmVyXCIgaXMgdGhlIGxhc3QgYXJnXHJcbiAgICBsZXQgcmVzdWx0RnVuYyA9IGNyZWF0ZVNlbGVjdG9yQXJncy5wb3AoKSBhc1xyXG4gICAgICB8IENvbWJpbmVyPElucHV0U2VsZWN0b3JzLCBSZXN1bHQ+XHJcbiAgICAgIHwgQ3JlYXRlU2VsZWN0b3JPcHRpb25zPFxyXG4gICAgICAgICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgICAgQXJnc01lbW9pemVGdW5jdGlvbixcclxuICAgICAgICAgIE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgICAgT3ZlcnJpZGVBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgICAgICAgPlxyXG5cclxuICAgIC8vIElmIHRoZSByZXN1bHQgZnVuYyBpcyBhY3R1YWxseSBhbiBfb2JqZWN0XywgYXNzdW1lIGl0J3Mgb3VyIG9wdGlvbnMgb2JqZWN0XHJcbiAgICBpZiAodHlwZW9mIHJlc3VsdEZ1bmMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGRpcmVjdGx5UGFzc2VkT3B0aW9ucyA9IHJlc3VsdEZ1bmNcclxuICAgICAgLy8gYW5kIHBvcCB0aGUgcmVhbCByZXN1bHQgZnVuYyBvZmZcclxuICAgICAgcmVzdWx0RnVuYyA9IGNyZWF0ZVNlbGVjdG9yQXJncy5wb3AoKSBhcyBDb21iaW5lcjxJbnB1dFNlbGVjdG9ycywgUmVzdWx0PlxyXG4gICAgfVxyXG5cclxuICAgIGFzc2VydElzRnVuY3Rpb24oXHJcbiAgICAgIHJlc3VsdEZ1bmMsXHJcbiAgICAgIGBjcmVhdGVTZWxlY3RvciBleHBlY3RzIGFuIG91dHB1dCBmdW5jdGlvbiBhZnRlciB0aGUgaW5wdXRzLCBidXQgcmVjZWl2ZWQ6IFske3R5cGVvZiByZXN1bHRGdW5jfV1gXHJcbiAgICApXHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNldCBvZiBvcHRpb25zIHdlJ3JlIHVzaW5nLiBQcmVmZXIgb3B0aW9ucyBwYXNzZWQgZGlyZWN0bHksXHJcbiAgICAvLyBidXQgZmFsbCBiYWNrIHRvIG9wdGlvbnMgZ2l2ZW4gdG8gYGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcmAuXHJcbiAgICBjb25zdCBjb21iaW5lZE9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLmNyZWF0ZVNlbGVjdG9yQ3JlYXRvck9wdGlvbnMsXHJcbiAgICAgIC4uLmRpcmVjdGx5UGFzc2VkT3B0aW9uc1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgbWVtb2l6ZSxcclxuICAgICAgbWVtb2l6ZU9wdGlvbnMgPSBbXSxcclxuICAgICAgYXJnc01lbW9pemUgPSB3ZWFrTWFwTWVtb2l6ZSxcclxuICAgICAgYXJnc01lbW9pemVPcHRpb25zID0gW10sXHJcbiAgICAgIGRldk1vZGVDaGVja3MgPSB7fVxyXG4gICAgfSA9IGNvbWJpbmVkT3B0aW9uc1xyXG5cclxuICAgIC8vIFNpbXBsaWZ5aW5nIGFzc3VtcHRpb246IGl0J3MgdW5saWtlbHkgdGhhdCB0aGUgZmlyc3Qgb3B0aW9ucyBhcmcgb2YgdGhlIHByb3ZpZGVkIG1lbW9pemVyXHJcbiAgICAvLyBpcyBhbiBhcnJheS4gSW4gbW9zdCBsaWJzIEkndmUgbG9va2VkIGF0LCBpdCdzIGFuIGVxdWFsaXR5IGZ1bmN0aW9uIG9yIG9wdGlvbnMgb2JqZWN0LlxyXG4gICAgLy8gQmFzZWQgb24gdGhhdCwgaWYgYG1lbW9pemVPcHRpb25zYCBfaXNfIGFuIGFycmF5LCB3ZSBhc3N1bWUgaXQncyBhIGZ1bGxcclxuICAgIC8vIHVzZXItcHJvdmlkZWQgYXJyYXkgb2Ygb3B0aW9ucy4gT3RoZXJ3aXNlLCBpdCBtdXN0IGJlIGp1c3QgdGhlIF9maXJzdF8gYXJnLCBhbmQgc29cclxuICAgIC8vIHdlIHdyYXAgaXQgaW4gYW4gYXJyYXkgc28gd2UgY2FuIGFwcGx5IGl0LlxyXG4gICAgY29uc3QgZmluYWxNZW1vaXplT3B0aW9ucyA9IGVuc3VyZUlzQXJyYXkobWVtb2l6ZU9wdGlvbnMpXHJcbiAgICBjb25zdCBmaW5hbEFyZ3NNZW1vaXplT3B0aW9ucyA9IGVuc3VyZUlzQXJyYXkoYXJnc01lbW9pemVPcHRpb25zKVxyXG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGNyZWF0ZVNlbGVjdG9yQXJncykgYXMgSW5wdXRTZWxlY3RvcnNcclxuXHJcbiAgICBjb25zdCBtZW1vaXplZFJlc3VsdEZ1bmMgPSBtZW1vaXplKGZ1bmN0aW9uIHJlY29tcHV0YXRpb25XcmFwcGVyKCkge1xyXG4gICAgICByZWNvbXB1dGF0aW9ucysrXHJcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXHJcbiAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgcmV0dXJuIChyZXN1bHRGdW5jIGFzIENvbWJpbmVyPElucHV0U2VsZWN0b3JzLCBSZXN1bHQ+KS5hcHBseShcclxuICAgICAgICBudWxsLFxyXG4gICAgICAgIGFyZ3VtZW50cyBhcyB1bmtub3duIGFzIFBhcmFtZXRlcnM8Q29tYmluZXI8SW5wdXRTZWxlY3RvcnMsIFJlc3VsdD4+XHJcbiAgICAgIClcclxuICAgIH0sIC4uLmZpbmFsTWVtb2l6ZU9wdGlvbnMpIGFzIENvbWJpbmVyPElucHV0U2VsZWN0b3JzLCBSZXN1bHQ+ICZcclxuICAgICAgRXh0cmFjdE1lbW9pemVyRmllbGRzPE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uPlxyXG5cclxuICAgIGxldCBmaXJzdFJ1biA9IHRydWVcclxuXHJcbiAgICAvLyBJZiBhIHNlbGVjdG9yIGlzIGNhbGxlZCB3aXRoIHRoZSBleGFjdCBzYW1lIGFyZ3VtZW50cyB3ZSBkb24ndCBuZWVkIHRvIHRyYXZlcnNlIG91ciBkZXBlbmRlbmNpZXMgYWdhaW4uXHJcbiAgICBjb25zdCBzZWxlY3RvciA9IGFyZ3NNZW1vaXplKGZ1bmN0aW9uIGRlcGVuZGVuY2llc0NoZWNrZXIoKSB7XHJcbiAgICAgIGRlcGVuZGVuY3lSZWNvbXB1dGF0aW9ucysrXHJcbiAgICAgIC8qKiBSZXR1cm4gdmFsdWVzIG9mIGlucHV0IHNlbGVjdG9ycyB3aGljaCB0aGUgYHJlc3VsdEZ1bmNgIHRha2VzIGFzIGFyZ3VtZW50cy4gKi9cclxuICAgICAgY29uc3QgaW5wdXRTZWxlY3RvclJlc3VsdHMgPSBjb2xsZWN0SW5wdXRTZWxlY3RvclJlc3VsdHMoXHJcbiAgICAgICAgZGVwZW5kZW5jaWVzLFxyXG4gICAgICAgIGFyZ3VtZW50c1xyXG4gICAgICApXHJcblxyXG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxyXG4gICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgIGxhc3RSZXN1bHQgPSBtZW1vaXplZFJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgaW5wdXRTZWxlY3RvclJlc3VsdHMpXHJcblxyXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIGNvbnN0IHsgaWRlbnRpdHlGdW5jdGlvbkNoZWNrLCBpbnB1dFN0YWJpbGl0eUNoZWNrIH0gPVxyXG4gICAgICAgICAgZ2V0RGV2TW9kZUNoZWNrc0V4ZWN1dGlvbkluZm8oZmlyc3RSdW4sIGRldk1vZGVDaGVja3MpXHJcbiAgICAgICAgaWYgKGlkZW50aXR5RnVuY3Rpb25DaGVjay5zaG91bGRSdW4pIHtcclxuICAgICAgICAgIGlkZW50aXR5RnVuY3Rpb25DaGVjay5ydW4oXHJcbiAgICAgICAgICAgIHJlc3VsdEZ1bmMgYXMgQ29tYmluZXI8SW5wdXRTZWxlY3RvcnMsIFJlc3VsdD4sXHJcbiAgICAgICAgICAgIGlucHV0U2VsZWN0b3JSZXN1bHRzLFxyXG4gICAgICAgICAgICBsYXN0UmVzdWx0XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5wdXRTdGFiaWxpdHlDaGVjay5zaG91bGRSdW4pIHtcclxuICAgICAgICAgIC8vIG1ha2UgYSBzZWNvbmQgY29weSBvZiB0aGUgcGFyYW1zLCB0byBjaGVjayBpZiB3ZSBnb3QgdGhlIHNhbWUgcmVzdWx0c1xyXG4gICAgICAgICAgY29uc3QgaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5ID0gY29sbGVjdElucHV0U2VsZWN0b3JSZXN1bHRzKFxyXG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMsXHJcbiAgICAgICAgICAgIGFyZ3VtZW50c1xyXG4gICAgICAgICAgKVxyXG5cclxuICAgICAgICAgIGlucHV0U3RhYmlsaXR5Q2hlY2sucnVuKFxyXG4gICAgICAgICAgICB7IGlucHV0U2VsZWN0b3JSZXN1bHRzLCBpbnB1dFNlbGVjdG9yUmVzdWx0c0NvcHkgfSxcclxuICAgICAgICAgICAgeyBtZW1vaXplLCBtZW1vaXplT3B0aW9uczogZmluYWxNZW1vaXplT3B0aW9ucyB9LFxyXG4gICAgICAgICAgICBhcmd1bWVudHNcclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmaXJzdFJ1bikgZmlyc3RSdW4gPSBmYWxzZVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbGFzdFJlc3VsdFxyXG4gICAgfSwgLi4uZmluYWxBcmdzTWVtb2l6ZU9wdGlvbnMpIGFzIHVua25vd24gYXMgU2VsZWN0b3I8XHJcbiAgICAgIEdldFN0YXRlRnJvbVNlbGVjdG9yczxJbnB1dFNlbGVjdG9ycz4sXHJcbiAgICAgIFJlc3VsdCxcclxuICAgICAgR2V0UGFyYW1zRnJvbVNlbGVjdG9yczxJbnB1dFNlbGVjdG9ycz5cclxuICAgID4gJlxyXG4gICAgICBFeHRyYWN0TWVtb2l6ZXJGaWVsZHM8T3ZlcnJpZGVBcmdzTWVtb2l6ZUZ1bmN0aW9uPlxyXG5cclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHNlbGVjdG9yLCB7XHJcbiAgICAgIHJlc3VsdEZ1bmMsXHJcbiAgICAgIG1lbW9pemVkUmVzdWx0RnVuYyxcclxuICAgICAgZGVwZW5kZW5jaWVzLFxyXG4gICAgICBkZXBlbmRlbmN5UmVjb21wdXRhdGlvbnM6ICgpID0+IGRlcGVuZGVuY3lSZWNvbXB1dGF0aW9ucyxcclxuICAgICAgcmVzZXREZXBlbmRlbmN5UmVjb21wdXRhdGlvbnM6ICgpID0+IHtcclxuICAgICAgICBkZXBlbmRlbmN5UmVjb21wdXRhdGlvbnMgPSAwXHJcbiAgICAgIH0sXHJcbiAgICAgIGxhc3RSZXN1bHQ6ICgpID0+IGxhc3RSZXN1bHQsXHJcbiAgICAgIHJlY29tcHV0YXRpb25zOiAoKSA9PiByZWNvbXB1dGF0aW9ucyxcclxuICAgICAgcmVzZXRSZWNvbXB1dGF0aW9uczogKCkgPT4ge1xyXG4gICAgICAgIHJlY29tcHV0YXRpb25zID0gMFxyXG4gICAgICB9LFxyXG4gICAgICBtZW1vaXplLFxyXG4gICAgICBhcmdzTWVtb2l6ZVxyXG4gICAgfSkgYXMgT3V0cHV0U2VsZWN0b3I8XHJcbiAgICAgIElucHV0U2VsZWN0b3JzLFxyXG4gICAgICBSZXN1bHQsXHJcbiAgICAgIE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICAgID5cclxuICB9XHJcblxyXG4gIE9iamVjdC5hc3NpZ24oY3JlYXRlU2VsZWN0b3IsIHtcclxuICAgIHdpdGhUeXBlczogKCkgPT4gY3JlYXRlU2VsZWN0b3JcclxuICB9KVxyXG5cclxuICByZXR1cm4gY3JlYXRlU2VsZWN0b3IgYXMgQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbjxcclxuICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgIEFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICA+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBY2NlcHRzIG9uZSBvciBtb3JlIFwiaW5wdXQgc2VsZWN0b3JzXCIgKGVpdGhlciBhcyBzZXBhcmF0ZSBhcmd1bWVudHMgb3IgYSBzaW5nbGUgYXJyYXkpLFxyXG4gKiBhIHNpbmdsZSBcInJlc3VsdCBmdW5jdGlvblwiIC8gXCJjb21iaW5lclwiLCBhbmQgYW4gb3B0aW9uYWwgb3B0aW9ucyBvYmplY3QsIGFuZFxyXG4gKiBnZW5lcmF0ZXMgYSBtZW1vaXplZCBzZWxlY3RvciBmdW5jdGlvbi5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZVNlbGVjdG9yIGBjcmVhdGVTZWxlY3RvcmB9XHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTZWxlY3RvciA9XHJcbiAgLyogI19fUFVSRV9fICovIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcih3ZWFrTWFwTWVtb2l6ZSlcclxuIiwiaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICcuL2NyZWF0ZVNlbGVjdG9yQ3JlYXRvcidcclxuXHJcbmltcG9ydCB0eXBlIHsgQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbiB9IGZyb20gJy4vY3JlYXRlU2VsZWN0b3JDcmVhdG9yJ1xyXG5pbXBvcnQgdHlwZSB7XHJcbiAgSW50ZXJydXB0UmVjdXJzaW9uLFxyXG4gIE9iamVjdFZhbHVlc1RvVHVwbGUsXHJcbiAgT3V0cHV0U2VsZWN0b3IsXHJcbiAgU2VsZWN0b3IsXHJcbiAgU2ltcGxpZnksXHJcbiAgVW5rbm93bk1lbW9pemVyXHJcbn0gZnJvbSAnLi90eXBlcydcclxuaW1wb3J0IHsgYXNzZXJ0SXNPYmplY3QgfSBmcm9tICcuL3V0aWxzJ1xyXG5pbXBvcnQgdHlwZSB7IHdlYWtNYXBNZW1vaXplIH0gZnJvbSAnLi93ZWFrTWFwTWVtb2l6ZSdcclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgbWFwcGluZyBvZiBzZWxlY3RvcnMgdG8gdGhlaXIgcmV0dXJuIHR5cGVzLlxyXG4gKlxyXG4gKiBAdGVtcGxhdGUgVE9iamVjdCAtIEFuIG9iamVjdCB0eXBlIHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciBmdW5jdGlvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgU2VsZWN0b3JSZXN1bHRzTWFwPFRPYmplY3QgZXh0ZW5kcyBTZWxlY3RvcnNPYmplY3Q+ID0ge1xyXG4gIFtLZXkgaW4ga2V5b2YgVE9iamVjdF06IFJldHVyblR5cGU8VE9iamVjdFtLZXldPlxyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIG1hcHBpbmcgb2Ygc2VsZWN0b3JzIGZvciBlYWNoIGtleSBpbiBhIGdpdmVuIHJvb3Qgc3RhdGUuXHJcbiAqXHJcbiAqIFRoaXMgdHlwZSBpcyBhIHV0aWxpdHkgdGhhdCB0YWtlcyBhIHJvb3Qgc3RhdGUgb2JqZWN0IHR5cGUgYW5kXHJcbiAqIGdlbmVyYXRlcyBhIGNvcnJlc3BvbmRpbmcgc2V0IG9mIHNlbGVjdG9ycy4gRWFjaCBzZWxlY3RvciBpcyBhc3NvY2lhdGVkXHJcbiAqIHdpdGggYSBrZXkgaW4gdGhlIHJvb3Qgc3RhdGUsIGFsbG93aW5nIGZvciB0aGUgc2VsZWN0aW9uXHJcbiAqIG9mIHNwZWNpZmljIHBhcnRzIG9mIHRoZSBzdGF0ZS5cclxuICpcclxuICogQHRlbXBsYXRlIFJvb3RTdGF0ZSAtIFRoZSB0eXBlIG9mIHRoZSByb290IHN0YXRlIG9iamVjdC5cclxuICpcclxuICogQHNpbmNlIDUuMC4wXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIFJvb3RTdGF0ZVNlbGVjdG9yczxSb290U3RhdGUgPSBhbnk+ID0ge1xyXG4gIFtLZXkgaW4ga2V5b2YgUm9vdFN0YXRlXTogU2VsZWN0b3I8Um9vdFN0YXRlLCBSb290U3RhdGVbS2V5XSwgW10+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGlua2NvZGUgU3RydWN0dXJlZFNlbGVjdG9yQ3JlYXRvci53aXRoVHlwZXMgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yLndpdGhUeXBlczxSb290U3RhdGU+KCl9IGluc3RlYWQuIFRoaXMgdHlwZSB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5cclxuICogQHRlbXBsYXRlIFJvb3RTdGF0ZSAtIFRoZSB0eXBlIG9mIHRoZSByb290IHN0YXRlIG9iamVjdC5cclxuICpcclxuICogQHNpbmNlIDUuMC4wXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIFR5cGVkU3RydWN0dXJlZFNlbGVjdG9yQ3JlYXRvcjxSb290U3RhdGUgPSBhbnk+ID1cclxuICAvKipcclxuICAgKiBBIGNvbnZlbmllbmNlIGZ1bmN0aW9uIHRoYXQgc2ltcGxpZmllcyByZXR1cm5pbmcgYW4gb2JqZWN0XHJcbiAgICogbWFkZSB1cCBvZiBzZWxlY3RvciByZXN1bHRzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGlucHV0U2VsZWN0b3JzT2JqZWN0IC0gQSBrZXkgdmFsdWUgcGFpciBjb25zaXN0aW5nIG9mIGlucHV0IHNlbGVjdG9ycy5cclxuICAgKiBAcGFyYW0gc2VsZWN0b3JDcmVhdG9yIC0gQSBjdXN0b20gc2VsZWN0b3IgY3JlYXRvciBmdW5jdGlvbi4gSXQgZGVmYXVsdHMgdG8gYGNyZWF0ZVNlbGVjdG9yYC5cclxuICAgKiBAcmV0dXJucyBBIG1lbW9pemVkIHN0cnVjdHVyZWQgc2VsZWN0b3IuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIDxjYXB0aW9uPk1vZGVybiBVc2UgQ2FzZTwvY2FwdGlvbj5cclxuICAgKiBgYGB0c1xyXG4gICAqIGltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yLCBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCdcclxuICAgKlxyXG4gICAqIGludGVyZmFjZSBSb290U3RhdGUge1xyXG4gICAqICAgdG9kb3M6IHtcclxuICAgKiAgICAgaWQ6IG51bWJlclxyXG4gICAqICAgICBjb21wbGV0ZWQ6IGJvb2xlYW5cclxuICAgKiAgICAgdGl0bGU6IHN0cmluZ1xyXG4gICAqICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICogICB9W11cclxuICAgKiAgIGFsZXJ0czogeyBpZDogbnVtYmVyOyByZWFkOiBib29sZWFuIH1bXVxyXG4gICAqIH1cclxuICAgKlxyXG4gICAqIC8vIFRoaXM6XHJcbiAgICogY29uc3Qgc3RydWN0dXJlZFNlbGVjdG9yID0gY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yKFxyXG4gICAqICAge1xyXG4gICAqICAgICB0b2RvczogKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnRvZG9zLFxyXG4gICAqICAgICBhbGVydHM6IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5hbGVydHMsXHJcbiAgICogICAgIHRvZG9CeUlkOiAoc3RhdGU6IFJvb3RTdGF0ZSwgaWQ6IG51bWJlcikgPT4gc3RhdGUudG9kb3NbaWRdXHJcbiAgICogICB9LFxyXG4gICAqICAgY3JlYXRlU2VsZWN0b3JcclxuICAgKiApXHJcbiAgICpcclxuICAgKiAvLyBJcyBlc3NlbnRpYWxseSB0aGUgc2FtZSBhcyB0aGlzOlxyXG4gICAqIGNvbnN0IHNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3IoXHJcbiAgICogICBbXHJcbiAgICogICAgIChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS50b2RvcyxcclxuICAgKiAgICAgKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmFsZXJ0cyxcclxuICAgKiAgICAgKHN0YXRlOiBSb290U3RhdGUsIGlkOiBudW1iZXIpID0+IHN0YXRlLnRvZG9zW2lkXVxyXG4gICAqICAgXSxcclxuICAgKiAgICh0b2RvcywgYWxlcnRzLCB0b2RvQnlJZCkgPT4ge1xyXG4gICAqICAgICByZXR1cm4ge1xyXG4gICAqICAgICAgIHRvZG9zLFxyXG4gICAqICAgICAgIGFsZXJ0cyxcclxuICAgKiAgICAgICB0b2RvQnlJZFxyXG4gICAqICAgICB9XHJcbiAgICogICB9XHJcbiAgICogKVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiA8Y2FwdGlvbj5JbiB5b3VyIGNvbXBvbmVudDo8L2NhcHRpb24+XHJcbiAgICogYGBgdHN4XHJcbiAgICogaW1wb3J0IHR5cGUgeyBSb290U3RhdGUgfSBmcm9tICdjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IvbW9kZXJuVXNlQ2FzZSdcclxuICAgKiBpbXBvcnQgeyBzdHJ1Y3R1cmVkU2VsZWN0b3IgfSBmcm9tICdjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IvbW9kZXJuVXNlQ2FzZSdcclxuICAgKiBpbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSAncmVhY3QnXHJcbiAgICogaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCdcclxuICAgKlxyXG4gICAqIGludGVyZmFjZSBQcm9wcyB7XHJcbiAgICogICBpZDogbnVtYmVyXHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogY29uc3QgTXlDb21wb25lbnQ6IEZDPFByb3BzPiA9ICh7IGlkIH0pID0+IHtcclxuICAgKiAgIGNvbnN0IHsgdG9kb3MsIGFsZXJ0cywgdG9kb0J5SWQgfSA9IHVzZVNlbGVjdG9yKChzdGF0ZTogUm9vdFN0YXRlKSA9PlxyXG4gICAqICAgICBzdHJ1Y3R1cmVkU2VsZWN0b3Ioc3RhdGUsIGlkKVxyXG4gICAqICAgKVxyXG4gICAqXHJcbiAgICogICByZXR1cm4gKFxyXG4gICAqICAgICA8ZGl2PlxyXG4gICAqICAgICAgIE5leHQgdG8gZG8gaXM6XHJcbiAgICogICAgICAgPGgyPnt0b2RvQnlJZC50aXRsZX08L2gyPlxyXG4gICAqICAgICAgIDxwPkRlc2NyaXB0aW9uOiB7dG9kb0J5SWQuZGVzY3JpcHRpb259PC9wPlxyXG4gICAqICAgICAgIDx1bD5cclxuICAgKiAgICAgICAgIDxoMz5BbGwgb3RoZXIgdG8gZG9zOjwvaDM+XHJcbiAgICogICAgICAgICB7dG9kb3MubWFwKHRvZG8gPT4gKFxyXG4gICAqICAgICAgICAgICA8bGkga2V5PXt0b2RvLmlkfT57dG9kby50aXRsZX08L2xpPlxyXG4gICAqICAgICAgICAgKSl9XHJcbiAgICogICAgICAgPC91bD5cclxuICAgKiAgICAgPC9kaXY+XHJcbiAgICogICApXHJcbiAgICogfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiA8Y2FwdGlvbj5TaW1wbGUgVXNlIENhc2U8L2NhcHRpb24+XHJcbiAgICogYGBgdHNcclxuICAgKiBjb25zdCBzZWxlY3RBID0gc3RhdGUgPT4gc3RhdGUuYVxyXG4gICAqIGNvbnN0IHNlbGVjdEIgPSBzdGF0ZSA9PiBzdGF0ZS5iXHJcbiAgICpcclxuICAgKiAvLyBUaGUgcmVzdWx0IGZ1bmN0aW9uIGluIHRoZSBmb2xsb3dpbmcgc2VsZWN0b3JcclxuICAgKiAvLyBpcyBzaW1wbHkgYnVpbGRpbmcgYW4gb2JqZWN0IGZyb20gdGhlIGlucHV0IHNlbGVjdG9yc1xyXG4gICAqIGNvbnN0IHN0cnVjdHVyZWRTZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yKHNlbGVjdEEsIHNlbGVjdEIsIChhLCBiKSA9PiAoe1xyXG4gICAqICAgYSxcclxuICAgKiAgIGJcclxuICAgKiB9KSlcclxuICAgKlxyXG4gICAqIGNvbnN0IHJlc3VsdCA9IHN0cnVjdHVyZWRTZWxlY3Rvcih7IGE6IDEsIGI6IDIgfSkgLy8gd2lsbCBwcm9kdWNlIHsgeDogMSwgeTogMiB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAdGVtcGxhdGUgSW5wdXRTZWxlY3RvcnNPYmplY3QgLSBUaGUgc2hhcGUgb2YgdGhlIGlucHV0IHNlbGVjdG9ycyBvYmplY3QuXHJcbiAgICogQHRlbXBsYXRlIE1lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBtZW1vaXplIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBjcmVhdGUgdGhlIHN0cnVjdHVyZWQgc2VsZWN0b3IuIEl0IGRlZmF1bHRzIHRvIGB3ZWFrTWFwTWVtb2l6ZWAuXHJcbiAgICogQHRlbXBsYXRlIEFyZ3NNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgb2YgdGhlIG1lbW9pemUgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIG1lbW9pemUgdGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50byB0aGUgZ2VuZXJhdGVkIHN0cnVjdHVyZWQgc2VsZWN0b3IuIEl0IGRlZmF1bHRzIHRvIGB3ZWFrTWFwTWVtb2l6ZWAuXHJcbiAgICpcclxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3JgfVxyXG4gICAqL1xyXG4gIDxcclxuICAgIElucHV0U2VsZWN0b3JzT2JqZWN0IGV4dGVuZHMgUm9vdFN0YXRlU2VsZWN0b3JzPFJvb3RTdGF0ZT4gPSBSb290U3RhdGVTZWxlY3RvcnM8Um9vdFN0YXRlPixcclxuICAgIE1lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IHR5cGVvZiB3ZWFrTWFwTWVtb2l6ZSxcclxuICAgIEFyZ3NNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSB0eXBlb2Ygd2Vha01hcE1lbW9pemVcclxuICA+KFxyXG4gICAgaW5wdXRTZWxlY3RvcnNPYmplY3Q6IElucHV0U2VsZWN0b3JzT2JqZWN0LFxyXG4gICAgc2VsZWN0b3JDcmVhdG9yPzogQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbjxcclxuICAgICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgICA+XHJcbiAgKSA9PiBPdXRwdXRTZWxlY3RvcjxcclxuICAgIE9iamVjdFZhbHVlc1RvVHVwbGU8SW5wdXRTZWxlY3RvcnNPYmplY3Q+LFxyXG4gICAgU2ltcGxpZnk8U2VsZWN0b3JSZXN1bHRzTWFwPElucHV0U2VsZWN0b3JzT2JqZWN0Pj4sXHJcbiAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgPiAmXHJcbiAgICBJbnRlcnJ1cHRSZWN1cnNpb25cclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGFuIG9iamVjdCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIGEgc2VsZWN0b3IgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBTdGF0ZVR5cGUgLSBUaGUgdHlwZSBvZiBzdGF0ZSB0aGF0IGFsbCB0aGUgc2VsZWN0b3JzIG9wZXJhdGUgb24uXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCB0eXBlIFNlbGVjdG9yc09iamVjdDxTdGF0ZVR5cGUgPSBhbnk+ID0gUmVjb3JkPFxyXG4gIHN0cmluZyxcclxuICBTZWxlY3RvcjxTdGF0ZVR5cGU+XHJcbj5cclxuXHJcbi8qKlxyXG4gKiBJdCBwcm92aWRlcyBhIHdheSB0byBjcmVhdGUgc3RydWN0dXJlZCBzZWxlY3RvcnMuXHJcbiAqIFRoZSBzdHJ1Y3R1cmVkIHNlbGVjdG9yIGNhbiB0YWtlIG11bHRpcGxlIGlucHV0IHNlbGVjdG9yc1xyXG4gKiBhbmQgbWFwIHRoZWlyIG91dHB1dCB0byBhbiBvYmplY3Qgd2l0aCBzcGVjaWZpYyBrZXlzLlxyXG4gKlxyXG4gKiBAdGVtcGxhdGUgU3RhdGVUeXBlIC0gVGhlIHR5cGUgb2Ygc3RhdGUgdGhhdCB0aGUgc3RydWN0dXJlZCBzZWxlY3RvcnMgY3JlYXRlZCB3aXRoIHRoaXMgc3RydWN0dXJlZCBzZWxlY3RvciBjcmVhdG9yIHdpbGwgb3BlcmF0ZSBvbi5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yYH1cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3R1cmVkU2VsZWN0b3JDcmVhdG9yPFN0YXRlVHlwZSA9IGFueT4ge1xyXG4gIC8qKlxyXG4gICAqIEEgY29udmVuaWVuY2UgZnVuY3Rpb24gdGhhdCBzaW1wbGlmaWVzIHJldHVybmluZyBhbiBvYmplY3RcclxuICAgKiBtYWRlIHVwIG9mIHNlbGVjdG9yIHJlc3VsdHMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaW5wdXRTZWxlY3RvcnNPYmplY3QgLSBBIGtleSB2YWx1ZSBwYWlyIGNvbnNpc3Rpbmcgb2YgaW5wdXQgc2VsZWN0b3JzLlxyXG4gICAqIEBwYXJhbSBzZWxlY3RvckNyZWF0b3IgLSBBIGN1c3RvbSBzZWxlY3RvciBjcmVhdG9yIGZ1bmN0aW9uLiBJdCBkZWZhdWx0cyB0byBgY3JlYXRlU2VsZWN0b3JgLlxyXG4gICAqIEByZXR1cm5zIEEgbWVtb2l6ZWQgc3RydWN0dXJlZCBzZWxlY3Rvci5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogPGNhcHRpb24+TW9kZXJuIFVzZSBDYXNlPC9jYXB0aW9uPlxyXG4gICAqIGBgYHRzXHJcbiAgICogaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IsIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gICAqXHJcbiAgICogaW50ZXJmYWNlIFJvb3RTdGF0ZSB7XHJcbiAgICogICB0b2Rvczoge1xyXG4gICAqICAgICBpZDogbnVtYmVyXHJcbiAgICogICAgIGNvbXBsZXRlZDogYm9vbGVhblxyXG4gICAqICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICogICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgKiAgIH1bXVxyXG4gICAqICAgYWxlcnRzOiB7IGlkOiBudW1iZXI7IHJlYWQ6IGJvb2xlYW4gfVtdXHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogLy8gVGhpczpcclxuICAgKiBjb25zdCBzdHJ1Y3R1cmVkU2VsZWN0b3IgPSBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IoXHJcbiAgICogICB7XHJcbiAgICogICAgIHRvZG9zOiAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUudG9kb3MsXHJcbiAgICogICAgIGFsZXJ0czogKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmFsZXJ0cyxcclxuICAgKiAgICAgdG9kb0J5SWQ6IChzdGF0ZTogUm9vdFN0YXRlLCBpZDogbnVtYmVyKSA9PiBzdGF0ZS50b2Rvc1tpZF1cclxuICAgKiAgIH0sXHJcbiAgICogICBjcmVhdGVTZWxlY3RvclxyXG4gICAqIClcclxuICAgKlxyXG4gICAqIC8vIElzIGVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIHRoaXM6XHJcbiAgICogY29uc3Qgc2VsZWN0b3IgPSBjcmVhdGVTZWxlY3RvcihcclxuICAgKiAgIFtcclxuICAgKiAgICAgKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnRvZG9zLFxyXG4gICAqICAgICAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuYWxlcnRzLFxyXG4gICAqICAgICAoc3RhdGU6IFJvb3RTdGF0ZSwgaWQ6IG51bWJlcikgPT4gc3RhdGUudG9kb3NbaWRdXHJcbiAgICogICBdLFxyXG4gICAqICAgKHRvZG9zLCBhbGVydHMsIHRvZG9CeUlkKSA9PiB7XHJcbiAgICogICAgIHJldHVybiB7XHJcbiAgICogICAgICAgdG9kb3MsXHJcbiAgICogICAgICAgYWxlcnRzLFxyXG4gICAqICAgICAgIHRvZG9CeUlkXHJcbiAgICogICAgIH1cclxuICAgKiAgIH1cclxuICAgKiApXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIDxjYXB0aW9uPkluIHlvdXIgY29tcG9uZW50OjwvY2FwdGlvbj5cclxuICAgKiBgYGB0c3hcclxuICAgKiBpbXBvcnQgdHlwZSB7IFJvb3RTdGF0ZSB9IGZyb20gJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3Rvci9tb2Rlcm5Vc2VDYXNlJ1xyXG4gICAqIGltcG9ydCB7IHN0cnVjdHVyZWRTZWxlY3RvciB9IGZyb20gJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3Rvci9tb2Rlcm5Vc2VDYXNlJ1xyXG4gICAqIGltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCdcclxuICAgKiBpbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4J1xyXG4gICAqXHJcbiAgICogaW50ZXJmYWNlIFByb3BzIHtcclxuICAgKiAgIGlkOiBudW1iZXJcclxuICAgKiB9XHJcbiAgICpcclxuICAgKiBjb25zdCBNeUNvbXBvbmVudDogRkM8UHJvcHM+ID0gKHsgaWQgfSkgPT4ge1xyXG4gICAqICAgY29uc3QgeyB0b2RvcywgYWxlcnRzLCB0b2RvQnlJZCB9ID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSb290U3RhdGUpID0+XHJcbiAgICogICAgIHN0cnVjdHVyZWRTZWxlY3RvcihzdGF0ZSwgaWQpXHJcbiAgICogICApXHJcbiAgICpcclxuICAgKiAgIHJldHVybiAoXHJcbiAgICogICAgIDxkaXY+XHJcbiAgICogICAgICAgTmV4dCB0byBkbyBpczpcclxuICAgKiAgICAgICA8aDI+e3RvZG9CeUlkLnRpdGxlfTwvaDI+XHJcbiAgICogICAgICAgPHA+RGVzY3JpcHRpb246IHt0b2RvQnlJZC5kZXNjcmlwdGlvbn08L3A+XHJcbiAgICogICAgICAgPHVsPlxyXG4gICAqICAgICAgICAgPGgzPkFsbCBvdGhlciB0byBkb3M6PC9oMz5cclxuICAgKiAgICAgICAgIHt0b2Rvcy5tYXAodG9kbyA9PiAoXHJcbiAgICogICAgICAgICAgIDxsaSBrZXk9e3RvZG8uaWR9Pnt0b2RvLnRpdGxlfTwvbGk+XHJcbiAgICogICAgICAgICApKX1cclxuICAgKiAgICAgICA8L3VsPlxyXG4gICAqICAgICA8L2Rpdj5cclxuICAgKiAgIClcclxuICAgKiB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIDxjYXB0aW9uPlNpbXBsZSBVc2UgQ2FzZTwvY2FwdGlvbj5cclxuICAgKiBgYGB0c1xyXG4gICAqIGNvbnN0IHNlbGVjdEEgPSBzdGF0ZSA9PiBzdGF0ZS5hXHJcbiAgICogY29uc3Qgc2VsZWN0QiA9IHN0YXRlID0+IHN0YXRlLmJcclxuICAgKlxyXG4gICAqIC8vIFRoZSByZXN1bHQgZnVuY3Rpb24gaW4gdGhlIGZvbGxvd2luZyBzZWxlY3RvclxyXG4gICAqIC8vIGlzIHNpbXBseSBidWlsZGluZyBhbiBvYmplY3QgZnJvbSB0aGUgaW5wdXQgc2VsZWN0b3JzXHJcbiAgICogY29uc3Qgc3RydWN0dXJlZFNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3Ioc2VsZWN0QSwgc2VsZWN0QiwgKGEsIGIpID0+ICh7XHJcbiAgICogICBhLFxyXG4gICAqICAgYlxyXG4gICAqIH0pKVxyXG4gICAqXHJcbiAgICogY29uc3QgcmVzdWx0ID0gc3RydWN0dXJlZFNlbGVjdG9yKHsgYTogMSwgYjogMiB9KSAvLyB3aWxsIHByb2R1Y2UgeyB4OiAxLCB5OiAyIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEB0ZW1wbGF0ZSBJbnB1dFNlbGVjdG9yc09iamVjdCAtIFRoZSBzaGFwZSBvZiB0aGUgaW5wdXQgc2VsZWN0b3JzIG9iamVjdC5cclxuICAgKiBAdGVtcGxhdGUgTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG1lbW9pemUgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RydWN0dXJlZCBzZWxlY3Rvci4gSXQgZGVmYXVsdHMgdG8gYHdlYWtNYXBNZW1vaXplYC5cclxuICAgKiBAdGVtcGxhdGUgQXJnc01lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvZiB0aGUgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWVtb2l6ZSB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIHRoZSBnZW5lcmF0ZWQgc3RydWN0dXJlZCBzZWxlY3Rvci4gSXQgZGVmYXVsdHMgdG8gYHdlYWtNYXBNZW1vaXplYC5cclxuICAgKlxyXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgYGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcmB9XHJcbiAgICovXHJcbiAgPFxyXG4gICAgSW5wdXRTZWxlY3RvcnNPYmplY3QgZXh0ZW5kcyBTZWxlY3RvcnNPYmplY3Q8U3RhdGVUeXBlPixcclxuICAgIE1lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IHR5cGVvZiB3ZWFrTWFwTWVtb2l6ZSxcclxuICAgIEFyZ3NNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSB0eXBlb2Ygd2Vha01hcE1lbW9pemVcclxuICA+KFxyXG4gICAgaW5wdXRTZWxlY3RvcnNPYmplY3Q6IElucHV0U2VsZWN0b3JzT2JqZWN0LFxyXG4gICAgc2VsZWN0b3JDcmVhdG9yPzogQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbjxcclxuICAgICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgICA+XHJcbiAgKTogT3V0cHV0U2VsZWN0b3I8XHJcbiAgICBPYmplY3RWYWx1ZXNUb1R1cGxlPElucHV0U2VsZWN0b3JzT2JqZWN0PixcclxuICAgIFNpbXBsaWZ5PFNlbGVjdG9yUmVzdWx0c01hcDxJbnB1dFNlbGVjdG9yc09iamVjdD4+LFxyXG4gICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgQXJnc01lbW9pemVGdW5jdGlvblxyXG4gID4gJlxyXG4gICAgSW50ZXJydXB0UmVjdXJzaW9uXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBcInByZS10eXBlZFwiIHZlcnNpb24gb2ZcclxuICAgKiB7QGxpbmtjb2RlIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3J9XHJcbiAgICogd2hlcmUgdGhlIGBzdGF0ZWAgdHlwZSBpcyBwcmVkZWZpbmVkLlxyXG4gICAqXHJcbiAgICogVGhpcyBhbGxvd3MgeW91IHRvIHNldCB0aGUgYHN0YXRlYCB0eXBlIG9uY2UsIGVsaW1pbmF0aW5nIHRoZSBuZWVkIHRvXHJcbiAgICogc3BlY2lmeSBpdCB3aXRoIGV2ZXJ5XHJcbiAgICoge0BsaW5rY29kZSBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yfSBjYWxsLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMgQSBwcmUtdHlwZWQgYGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcmAgd2l0aCB0aGUgc3RhdGUgdHlwZSBhbHJlYWR5IGRlZmluZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGBgYHRzXHJcbiAgICogaW1wb3J0IHsgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnXHJcbiAgICpcclxuICAgKiBleHBvcnQgaW50ZXJmYWNlIFJvb3RTdGF0ZSB7XHJcbiAgICogICB0b2RvczogeyBpZDogbnVtYmVyOyBjb21wbGV0ZWQ6IGJvb2xlYW4gfVtdXHJcbiAgICogICBhbGVydHM6IHsgaWQ6IG51bWJlcjsgcmVhZDogYm9vbGVhbiB9W11cclxuICAgKiB9XHJcbiAgICpcclxuICAgKiBleHBvcnQgY29uc3QgY3JlYXRlU3RydWN0dXJlZEFwcFNlbGVjdG9yID1cclxuICAgKiAgIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3Rvci53aXRoVHlwZXM8Um9vdFN0YXRlPigpXHJcbiAgICpcclxuICAgKiBjb25zdCBzdHJ1Y3R1cmVkQXBwU2VsZWN0b3IgPSBjcmVhdGVTdHJ1Y3R1cmVkQXBwU2VsZWN0b3Ioe1xyXG4gICAqICAgLy8gVHlwZSBvZiBgc3RhdGVgIGlzIHNldCB0byBgUm9vdFN0YXRlYCwgbm8gbmVlZCB0byBtYW51YWxseSBzZXQgdGhlIHR5cGVcclxuICAgKiAgIHRvZG9zOiBzdGF0ZSA9PiBzdGF0ZS50b2RvcyxcclxuICAgKiAgIGFsZXJ0czogc3RhdGUgPT4gc3RhdGUuYWxlcnRzLFxyXG4gICAqICAgdG9kb0J5SWQ6IChzdGF0ZSwgaWQ6IG51bWJlcikgPT4gc3RhdGUudG9kb3NbaWRdXHJcbiAgICogfSlcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIEB0ZW1wbGF0ZSBPdmVycmlkZVN0YXRlVHlwZSAtIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHN0YXRlIHVzZWQgYnkgYWxsIHN0cnVjdHVyZWQgc2VsZWN0b3JzIGNyZWF0ZWQgd2l0aCB0aGlzIHN0cnVjdHVyZWQgc2VsZWN0b3IgY3JlYXRvci5cclxuICAgKlxyXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVzdHJ1Y3R1cmVkc2VsZWN0b3IjZGVmaW5pbmctYS1wcmUtdHlwZWQtY3JlYXRlc3RydWN0dXJlZHNlbGVjdG9yIGBjcmVhdGVTZWxlY3Rvci53aXRoVHlwZXNgfVxyXG4gICAqXHJcbiAgICogQHNpbmNlIDUuMS4wXHJcbiAgICovXHJcbiAgd2l0aFR5cGVzOiA8XHJcbiAgICBPdmVycmlkZVN0YXRlVHlwZSBleHRlbmRzIFN0YXRlVHlwZVxyXG4gID4oKSA9PiBTdHJ1Y3R1cmVkU2VsZWN0b3JDcmVhdG9yPE92ZXJyaWRlU3RhdGVUeXBlPlxyXG59XHJcblxyXG4vKipcclxuICogQSBjb252ZW5pZW5jZSBmdW5jdGlvbiB0aGF0IHNpbXBsaWZpZXMgcmV0dXJuaW5nIGFuIG9iamVjdFxyXG4gKiBtYWRlIHVwIG9mIHNlbGVjdG9yIHJlc3VsdHMuXHJcbiAqXHJcbiAqIEBwYXJhbSBpbnB1dFNlbGVjdG9yc09iamVjdCAtIEEga2V5IHZhbHVlIHBhaXIgY29uc2lzdGluZyBvZiBpbnB1dCBzZWxlY3RvcnMuXHJcbiAqIEBwYXJhbSBzZWxlY3RvckNyZWF0b3IgLSBBIGN1c3RvbSBzZWxlY3RvciBjcmVhdG9yIGZ1bmN0aW9uLiBJdCBkZWZhdWx0cyB0byBgY3JlYXRlU2VsZWN0b3JgLlxyXG4gKiBAcmV0dXJucyBBIG1lbW9pemVkIHN0cnVjdHVyZWQgc2VsZWN0b3IuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxjYXB0aW9uPk1vZGVybiBVc2UgQ2FzZTwvY2FwdGlvbj5cclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IsIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gKlxyXG4gKiBpbnRlcmZhY2UgUm9vdFN0YXRlIHtcclxuICogICB0b2Rvczoge1xyXG4gKiAgICAgaWQ6IG51bWJlclxyXG4gKiAgICAgY29tcGxldGVkOiBib29sZWFuXHJcbiAqICAgICB0aXRsZTogc3RyaW5nXHJcbiAqICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAqICAgfVtdXHJcbiAqICAgYWxlcnRzOiB7IGlkOiBudW1iZXI7IHJlYWQ6IGJvb2xlYW4gfVtdXHJcbiAqIH1cclxuICpcclxuICogLy8gVGhpczpcclxuICogY29uc3Qgc3RydWN0dXJlZFNlbGVjdG9yID0gY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yKFxyXG4gKiAgIHtcclxuICogICAgIHRvZG9zOiAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUudG9kb3MsXHJcbiAqICAgICBhbGVydHM6IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5hbGVydHMsXHJcbiAqICAgICB0b2RvQnlJZDogKHN0YXRlOiBSb290U3RhdGUsIGlkOiBudW1iZXIpID0+IHN0YXRlLnRvZG9zW2lkXVxyXG4gKiAgIH0sXHJcbiAqICAgY3JlYXRlU2VsZWN0b3JcclxuICogKVxyXG4gKlxyXG4gKiAvLyBJcyBlc3NlbnRpYWxseSB0aGUgc2FtZSBhcyB0aGlzOlxyXG4gKiBjb25zdCBzZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yKFxyXG4gKiAgIFtcclxuICogICAgIChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS50b2RvcyxcclxuICogICAgIChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5hbGVydHMsXHJcbiAqICAgICAoc3RhdGU6IFJvb3RTdGF0ZSwgaWQ6IG51bWJlcikgPT4gc3RhdGUudG9kb3NbaWRdXHJcbiAqICAgXSxcclxuICogICAodG9kb3MsIGFsZXJ0cywgdG9kb0J5SWQpID0+IHtcclxuICogICAgIHJldHVybiB7XHJcbiAqICAgICAgIHRvZG9zLFxyXG4gKiAgICAgICBhbGVydHMsXHJcbiAqICAgICAgIHRvZG9CeUlkXHJcbiAqICAgICB9XHJcbiAqICAgfVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3JgfVxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yOiBTdHJ1Y3R1cmVkU2VsZWN0b3JDcmVhdG9yID1cclxuICBPYmplY3QuYXNzaWduKFxyXG4gICAgPFxyXG4gICAgICBJbnB1dFNlbGVjdG9yc09iamVjdCBleHRlbmRzIFNlbGVjdG9yc09iamVjdCxcclxuICAgICAgTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gdHlwZW9mIHdlYWtNYXBNZW1vaXplLFxyXG4gICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gdHlwZW9mIHdlYWtNYXBNZW1vaXplXHJcbiAgICA+KFxyXG4gICAgICBpbnB1dFNlbGVjdG9yc09iamVjdDogSW5wdXRTZWxlY3RvcnNPYmplY3QsXHJcbiAgICAgIHNlbGVjdG9yQ3JlYXRvcjogQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbjxcclxuICAgICAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgQXJnc01lbW9pemVGdW5jdGlvblxyXG4gICAgICA+ID0gY3JlYXRlU2VsZWN0b3IgYXMgQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbjxcclxuICAgICAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgQXJnc01lbW9pemVGdW5jdGlvblxyXG4gICAgICA+XHJcbiAgICApID0+IHtcclxuICAgICAgYXNzZXJ0SXNPYmplY3QoXHJcbiAgICAgICAgaW5wdXRTZWxlY3RvcnNPYmplY3QsXHJcbiAgICAgICAgJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBleHBlY3RzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCAnICtcclxuICAgICAgICAgIGB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIGEgc2VsZWN0b3IsIGluc3RlYWQgcmVjZWl2ZWQgYSAke3R5cGVvZiBpbnB1dFNlbGVjdG9yc09iamVjdH1gXHJcbiAgICAgIClcclxuICAgICAgY29uc3QgaW5wdXRTZWxlY3RvcktleXMgPSBPYmplY3Qua2V5cyhpbnB1dFNlbGVjdG9yc09iamVjdClcclxuICAgICAgY29uc3QgZGVwZW5kZW5jaWVzID0gaW5wdXRTZWxlY3RvcktleXMubWFwKFxyXG4gICAgICAgIGtleSA9PiBpbnB1dFNlbGVjdG9yc09iamVjdFtrZXldXHJcbiAgICAgIClcclxuICAgICAgY29uc3Qgc3RydWN0dXJlZFNlbGVjdG9yID0gc2VsZWN0b3JDcmVhdG9yKFxyXG4gICAgICAgIGRlcGVuZGVuY2llcyxcclxuICAgICAgICAoLi4uaW5wdXRTZWxlY3RvclJlc3VsdHM6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gaW5wdXRTZWxlY3RvclJlc3VsdHMucmVkdWNlKChjb21wb3NpdGlvbiwgdmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbXBvc2l0aW9uW2lucHV0U2VsZWN0b3JLZXlzW2luZGV4XV0gPSB2YWx1ZVxyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zaXRpb25cclxuICAgICAgICAgIH0sIHt9KVxyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgICByZXR1cm4gc3RydWN0dXJlZFNlbGVjdG9yXHJcbiAgICB9LFxyXG4gICAgeyB3aXRoVHlwZXM6ICgpID0+IGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciB9XHJcbiAgKSBhcyBTdHJ1Y3R1cmVkU2VsZWN0b3JDcmVhdG9yXHJc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T0FBTyxPQUFPLE1BQUEsQ0FBTyxVQUFVO1lBQzdCO1lBQ0E7WUFDQTtZQUNBLDBCQUEwQixJQUFNO1lBQ2hDLCtCQUErQixNQUFNO2dCQUNuQywyQkFBMkI7WUFDN0I7WUFDQSxZQUFZLElBQU07WUFDbEIsZ0JBQWdCLElBQU07WUFDdEIscUJBQXFCLE1BQU07Z0JBQ3pCLGlCQUFpQjtZQUNuQjtZQUNBO1lBQ0E7UUFDRixDQUFDO0lBTUg7SUFFQSxPQUFPLE1BQUEsQ0FBT0EsaUJBQWdCO1FBQzVCLFdBQVcsSUFBTUE7SUFDbkIsQ0FBQztJQUVELE9BQU9BO0FBSVQ7QUFXTyxJQUFNLGlCQUNLLGFBQUEsR0FBQSxzQkFBc0IsY0FBYzs7QUM1RS9DLElBQU0sMkJBQ1gsT0FBTyxNQUFBLENBQ0wsQ0FLRSxzQkFDQSxrQkFHSSxjQUFBLEtBSUQ7SUFDSCxlQUNFLHNCQUNBLENBQUEsc0hBQUEsRUFDMkQsT0FBTyxzQkFBQTtJQUVwRSxNQUFNLG9CQUFvQixPQUFPLElBQUEsQ0FBSyxvQkFBb0I7SUFDMUQsTUFBTSxlQUFlLGtCQUFrQixHQUFBLENBQ3JDLENBQUEsTUFBTyxvQkFBQSxDQUFxQixHQUFHLENBQUE7SUFFakMsTUFBTSxxQkFBcUIsZ0JBQ3pCLGNBQ0EsQ0FBQSxHQUFJLHlCQUFnQztRQUNsQyxPQUFPLHFCQUFxQixNQUFBLENBQU8sQ0FBQyxhQUFhLE9BQU8sVUFBVTtZQUNoRSxXQUFBLENBQVksaUJBQUEsQ0FBa0IsS0FBSyxDQUFDLENBQUEsR0FBSTtZQUN4QyxPQUFPO1FBQ1QsR0FBRyxDQUFDLENBQUM7SUFDUDtJQUVGLE9BQU87QUFDVCxHQUNBO0lBQUUsV0FBVyxJQUFNO0FBQXlCIiwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiA5NjE4LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4L3NyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4L3NyYy91dGlscy9zeW1ib2wtb2JzZXJ2YWJsZS50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC9zcmMvdXRpbHMvYWN0aW9uVHlwZXMudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgvc3JjL3V0aWxzL2lzUGxhaW5PYmplY3QudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgvc3JjL3V0aWxzL2tpbmRPZi50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC9zcmMvY3JlYXRlU3RvcmUudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgvc3JjL3V0aWxzL3dhcm5pbmcudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgvc3JjL2NvbWJpbmVSZWR1Y2Vycy50cyIsImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC9zcmMvYmluZEFjdGlvbkNyZWF0b3JzLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4L3NyYy9jb21wb3NlLnRzIiwiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4L3NyYy9hcHBseU1pZGRsZXdhcmUudHMiLCJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgvc3JjL3V0aWxzL2lzQWN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWRhcHRlZCBmcm9tIFJlYWN0OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9tYXN0ZXIvcGFja2FnZXMvc2hhcmVkL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UuanNcbiAqXG4gKiBEbyBub3QgcmVxdWlyZSB0aGlzIG1vZHVsZSBkaXJlY3RseSEgVXNlIG5vcm1hbCB0aHJvdyBlcnJvciBjYWxscy4gVGhlc2UgbWVzc2FnZXMgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGVycm9yIGNvZGVzXG4gKiBkdXJpbmcgYnVpbGQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UHJvZEVycm9yTWVzc2FnZShjb2RlOiBudW1iZXIpIHtcbiAgcmV0dXJuIGBNaW5pZmllZCBSZWR1eCBlcnJvciAjJHtjb2RlfTsgdmlzaXQgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvRXJyb3JzP2NvZGU9JHtjb2RlfSBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciBgICsgJ3VzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMuICc7XG59IiwiZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgU3ltYm9sQ29uc3RydWN0b3Ige1xuICAgIHJlYWRvbmx5IG9ic2VydmFibGU6IHN5bWJvbDtcbiAgfVxufVxuY29uc3QgJCRvYnNlcnZhYmxlID0gLyogI19fUFVSRV9fICovKCgpID0+IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgJ0BAb2JzZXJ2YWJsZScpKCk7XG5leHBvcnQgZGVmYXVsdCAkJG9ic2VydmFibGU7IiwiLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cblxuY29uc3QgcmFuZG9tU3RyaW5nID0gKCkgPT4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG5jb25zdCBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogYEBAcmVkdXgvSU5JVCR7LyogI19fUFVSRV9fICovcmFuZG9tU3RyaW5nKCl9YCxcbiAgUkVQTEFDRTogYEBAcmVkdXgvUkVQTEFDRSR7LyogI19fUFVSRV9fICovcmFuZG9tU3RyaW5nKCl9YCxcbiAgUFJPQkVfVU5LTk9XTl9BQ1RJT046ICgpID0+IGBAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OJHtyYW5kb21TdHJpbmcoKX1gXG59O1xuZXhwb3J0IGRlZmF1bHQgQWN0aW9uVHlwZXM7IiwiLyoqXG4gKiBAcGFyYW0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGFyZ3VtZW50IGFwcGVhcnMgdG8gYmUgYSBwbGFpbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqOiBhbnkpOiBvYmogaXMgb2JqZWN0IHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBsZXQgcHJvdG8gPSBvYmo7XG4gIHdoaWxlIChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pICE9PSBudWxsKSB7XG4gICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICB9XG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gcHJvdG8gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IG51bGw7XG59IiwiLy8gSW5saW5lZCAvIHNob3J0ZW5lZCB2ZXJzaW9uIG9mIGBraW5kT2ZgIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pvbnNjaGxpbmtlcnQva2luZC1vZlxuZXhwb3J0IGZ1bmN0aW9uIG1pbmlLaW5kT2YodmFsOiBhbnkpOiBzdHJpbmcge1xuICBpZiAodmFsID09PSB2b2lkIDApIHJldHVybiAndW5kZWZpbmVkJztcbiAgaWYgKHZhbCA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgY29uc3QgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICBjYXNlICdzeW1ib2wnOlxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgcmV0dXJuICdhcnJheSc7XG4gIGlmIChpc0RhdGUodmFsKSkgcmV0dXJuICdkYXRlJztcbiAgaWYgKGlzRXJyb3IodmFsKSkgcmV0dXJuICdlcnJvcic7XG4gIGNvbnN0IGNvbnN0cnVjdG9yTmFtZSA9IGN0b3JOYW1lKHZhbCk7XG4gIHN3aXRjaCAoY29uc3RydWN0b3JOYW1lKSB7XG4gICAgY2FzZSAnU3ltYm9sJzpcbiAgICBjYXNlICdQcm9taXNlJzpcbiAgICBjYXNlICdXZWFrTWFwJzpcbiAgICBjYXNlICdXZWFrU2V0JzpcbiAgICBjYXNlICdNYXAnOlxuICAgIGNhc2UgJ1NldCc6XG4gICAgICByZXR1cm4gY29uc3RydWN0b3JOYW1lO1xuICB9XG5cbiAgLy8gb3RoZXJcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJyk7XG59XG5mdW5jdGlvbiBjdG9yTmFtZSh2YWw6IGFueSk6IHN0cmluZyB8IG51bGwge1xuICByZXR1cm4gdHlwZW9mIHZhbC5jb25zdHJ1Y3RvciA9PT0gJ2Z1bmN0aW9uJyA/IHZhbC5jb25zdHJ1Y3Rvci5uYW1lIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGlzRXJyb3IodmFsOiBhbnkpIHtcbiAgcmV0dXJuIHZhbCBpbnN0YW5jZW9mIEVycm9yIHx8IHR5cGVvZiB2YWwubWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgdmFsLmNvbnN0cnVjdG9yICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3Iuc3RhY2tUcmFjZUxpbWl0ID09PSAnbnVtYmVyJztcbn1cbmZ1bmN0aW9uIGlzRGF0ZSh2YWw6IGFueSkge1xuICBpZiAodmFsIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiB0eXBlb2YgdmFsLnRvRGF0ZVN0cmluZyA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsLmdldERhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbC5zZXREYXRlID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGtpbmRPZih2YWw6IGFueSkge1xuICBsZXQgdHlwZU9mVmFsOiBzdHJpbmcgPSB0eXBlb2YgdmFsO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHR5cGVPZlZhbCA9IG1pbmlLaW5kT2YodmFsKTtcbiAgfVxuICByZXR1cm4gdHlwZU9mVmFsO1xufSIsImltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UxMyB9IGZyb20gXCJzcmMvdXRpbHMvZm9ybWF0UHJvZEVycm9yTWVzc2FnZVwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTEyIH0gZnJvbSBcInNyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlMTEgfSBmcm9tIFwic3JjL3V0aWxzL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2VcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UxMCB9IGZyb20gXCJzcmMvdXRpbHMvZm9ybWF0UHJvZEVycm9yTWVzc2FnZVwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTkgfSBmcm9tIFwic3JjL3V0aWxzL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2VcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U4IH0gZnJvbSBcInNyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlNyB9IGZyb20gXCJzcmMvdXRpbHMvZm9ybWF0UHJvZEVycm9yTWVzc2FnZVwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTYgfSBmcm9tIFwic3JjL3V0aWxzL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2VcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U1IH0gZnJvbSBcInNyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlNCB9IGZyb20gXCJzcmMvdXRpbHMvZm9ybWF0UHJvZEVycm9yTWVzc2FnZVwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMgfSBmcm9tIFwic3JjL3V0aWxzL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2VcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UyIH0gZnJvbSBcInNyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlIH0gZnJvbSBcInNyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgJCRvYnNlcnZhYmxlIGZyb20gJy4vdXRpbHMvc3ltYm9sLW9ic2VydmFibGUnO1xuaW1wb3J0IHsgU3RvcmUsIFN0b3JlRW5oYW5jZXIsIERpc3BhdGNoLCBPYnNlcnZlciwgTGlzdGVuZXJDYWxsYmFjaywgVW5rbm93bklmTm9uU3BlY2lmaWMgfSBmcm9tICcuL3R5cGVzL3N0b3JlJztcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vdHlwZXMvYWN0aW9ucyc7XG5pbXBvcnQgeyBSZWR1Y2VyIH0gZnJvbSAnLi90eXBlcy9yZWR1Y2Vycyc7XG5pbXBvcnQgQWN0aW9uVHlwZXMgZnJvbSAnLi91dGlscy9hY3Rpb25UeXBlcyc7XG5pbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICcuL3V0aWxzL2lzUGxhaW5PYmplY3QnO1xuaW1wb3J0IHsga2luZE9mIH0gZnJvbSAnLi91dGlscy9raW5kT2YnO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogKipXZSByZWNvbW1lbmQgdXNpbmcgdGhlIGBjb25maWd1cmVTdG9yZWAgbWV0aG9kXG4gKiBvZiB0aGUgYEByZWR1eGpzL3Rvb2xraXRgIHBhY2thZ2UqKiwgd2hpY2ggcmVwbGFjZXMgYGNyZWF0ZVN0b3JlYC5cbiAqXG4gKiBSZWR1eCBUb29sa2l0IGlzIG91ciByZWNvbW1lbmRlZCBhcHByb2FjaCBmb3Igd3JpdGluZyBSZWR1eCBsb2dpYyB0b2RheSxcbiAqIGluY2x1ZGluZyBzdG9yZSBzZXR1cCwgcmVkdWNlcnMsIGRhdGEgZmV0Y2hpbmcsIGFuZCBtb3JlLlxuICpcbiAqICoqRm9yIG1vcmUgZGV0YWlscywgcGxlYXNlIHJlYWQgdGhpcyBSZWR1eCBkb2NzIHBhZ2U6KipcbiAqICoqaHR0cHM6Ly9yZWR1eC5qcy5vcmcvaW50cm9kdWN0aW9uL3doeS1ydGstaXMtcmVkdXgtdG9kYXkqKlxuICpcbiAqIGBjb25maWd1cmVTdG9yZWAgZnJvbSBSZWR1eCBUb29sa2l0IGlzIGFuIGltcHJvdmVkIHZlcnNpb24gb2YgYGNyZWF0ZVN0b3JlYCB0aGF0XG4gKiBzaW1wbGlmaWVzIHNldHVwIGFuZCBoZWxwcyBhdm9pZCBjb21tb24gYnVncy5cbiAqXG4gKiBZb3Ugc2hvdWxkIG5vdCBiZSB1c2luZyB0aGUgYHJlZHV4YCBjb3JlIHBhY2thZ2UgYnkgaXRzZWxmIHRvZGF5LCBleGNlcHQgZm9yIGxlYXJuaW5nIHB1cnBvc2VzLlxuICogVGhlIGBjcmVhdGVTdG9yZWAgbWV0aG9kIGZyb20gdGhlIGNvcmUgYHJlZHV4YCBwYWNrYWdlIHdpbGwgbm90IGJlIHJlbW92ZWQsIGJ1dCB3ZSBlbmNvdXJhZ2VcbiAqIGFsbCB1c2VycyB0byBtaWdyYXRlIHRvIHVzaW5nIFJlZHV4IFRvb2xraXQgZm9yIGFsbCBSZWR1eCBjb2RlLlxuICpcbiAqIElmIHlvdSB3YW50IHRvIHVzZSBgY3JlYXRlU3RvcmVgIHdpdGhvdXQgdGhpcyB2aXN1YWwgZGVwcmVjYXRpb24gd2FybmluZywgdXNlXG4gKiB0aGUgYGxlZ2FjeV9jcmVhdGVTdG9yZWAgaW1wb3J0IGluc3RlYWQ6XG4gKlxuICogYGltcG9ydCB7IGxlZ2FjeV9jcmVhdGVTdG9yZSBhcyBjcmVhdGVTdG9yZX0gZnJvbSAncmVkdXgnYFxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0b3JlPFMsIEEgZXh0ZW5kcyBBY3Rpb24sIEV4dCBleHRlbmRzIHt9ID0ge30sIFN0YXRlRXh0IGV4dGVuZHMge30gPSB7fT4ocmVkdWNlcjogUmVkdWNlcjxTLCBBPiwgZW5oYW5jZXI/OiBTdG9yZUVuaGFuY2VyPEV4dCwgU3RhdGVFeHQ+KTogU3RvcmU8UywgQSwgVW5rbm93bklmTm9uU3BlY2lmaWM8U3RhdGVFeHQ+PiAmIEV4dDtcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiAqKldlIHJlY29tbWVuZCB1c2luZyB0aGUgYGNvbmZpZ3VyZVN0b3JlYCBtZXRob2RcbiAqIG9mIHRoZSBgQHJlZHV4anMvdG9vbGtpdGAgcGFja2FnZSoqLCB3aGljaCByZXBsYWNlcyBgY3JlYXRlU3RvcmVgLlxuICpcbiAqIFJlZHV4IFRvb2xraXQgaXMgb3VyIHJlY29tbWVuZGVkIGFwcHJvYWNoIGZvciB3cml0aW5nIFJlZHV4IGxvZ2ljIHRvZGF5LFxuICogaW5jbHVkaW5nIHN0b3JlIHNldHVwLCByZWR1Y2VycywgZGF0YSBmZXRjaGluZywgYW5kIG1vcmUuXG4gKlxuICogKipGb3IgbW9yZSBkZXRhaWxzLCBwbGVhc2UgcmVhZCB0aGlzIFJlZHV4IGRvY3MgcGFnZToqKlxuICogKipodHRwczovL3JlZHV4LmpzLm9yZy9pbnRyb2R1Y3Rpb24vd2h5LXJ0ay1pcy1yZWR1eC10b2RheSoqXG4gKlxuICogYGNvbmZpZ3VyZVN0b3JlYCBmcm9tIFJlZHV4IFRvb2xraXQgaXMgYW4gaW1wcm92ZWQgdmVyc2lvbiBvZiBgY3JlYXRlU3RvcmVgIHRoYXRcbiAqIHNpbXBsaWZpZXMgc2V0dXAgYW5kIGhlbHBzIGF2b2lkIGNvbW1vbiBidWdzLlxuICpcbiAqIFlvdSBzaG91bGQgbm90IGJlIHVzaW5nIHRoZSBgcmVkdXhgIGNvcmUgcGFja2FnZSBieSBpdHNlbGYgdG9kYXksIGV4Y2VwdCBmb3IgbGVhcm5pbmcgcHVycG9zZXMuXG4gKiBUaGUgYGNyZWF0ZVN0b3JlYCBtZXRob2QgZnJvbSB0aGUgY29yZSBgcmVkdXhgIHBhY2thZ2Ugd2lsbCBub3QgYmUgcmVtb3ZlZCwgYnV0IHdlIGVuY291cmFnZVxuICogYWxsIHVzZXJzIHRvIG1pZ3JhdGUgdG8gdXNpbmcgUmVkdXggVG9vbGtpdCBmb3IgYWxsIFJlZHV4IGNvZGUuXG4gKlxuICogSWYgeW91IHdhbnQgdG8gdXNlIGBjcmVhdGVTdG9yZWAgd2l0aG91dCB0aGlzIHZpc3VhbCBkZXByZWNhdGlvbiB3YXJuaW5nLCB1c2VcbiAqIHRoZSBgbGVnYWN5X2NyZWF0ZVN0b3JlYCBpbXBvcnQgaW5zdGVhZDpcbiAqXG4gKiBgaW1wb3J0IHsgbGVnYWN5X2NyZWF0ZVN0b3JlIGFzIGNyZWF0ZVN0b3JlfSBmcm9tICdyZWR1eCdgXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RvcmU8UywgQSBleHRlbmRzIEFjdGlvbiwgRXh0IGV4dGVuZHMge30gPSB7fSwgU3RhdGVFeHQgZXh0ZW5kcyB7fSA9IHt9LCBQcmVsb2FkZWRTdGF0ZSA9IFM+KHJlZHVjZXI6IFJlZHVjZXI8UywgQSwgUHJlbG9hZGVkU3RhdGU+LCBwcmVsb2FkZWRTdGF0ZT86IFByZWxvYWRlZFN0YXRlIHwgdW5kZWZpbmVkLCBlbmhhbmNlcj86IFN0b3JlRW5oYW5jZXI8RXh0LCBTdGF0ZUV4dD4pOiBTdG9yZTxTLCBBLCBVbmtub3duSWZOb25TcGVjaWZpYzxTdGF0ZUV4dD4+ICYgRXh0O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0b3JlPFMsIEEgZXh0ZW5kcyBBY3Rpb24sIEV4dCBleHRlbmRzIHt9ID0ge30sIFN0YXRlRXh0IGV4dGVuZHMge30gPSB7fSwgUHJlbG9hZGVkU3RhdGUgPSBTPihyZWR1Y2VyOiBSZWR1Y2VyPFMsIEEsIFByZWxvYWRlZFN0YXRlPiwgcHJlbG9hZGVkU3RhdGU/OiBQcmVsb2FkZWRTdGF0ZSB8IFN0b3JlRW5oYW5jZXI8RXh0LCBTdGF0ZUV4dD4gfCB1bmRlZmluZWQsIGVuaGFuY2VyPzogU3RvcmVFbmhhbmNlcjxFeHQsIFN0YXRlRXh0Pik6IFN0b3JlPFMsIEEsIFVua25vd25JZk5vblNwZWNpZmljPFN0YXRlRXh0Pj4gJiBFeHQge1xuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UoMikgOiBgRXhwZWN0ZWQgdGhlIHJvb3QgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJyR7a2luZE9mKHJlZHVjZXIpfSdgKTtcbiAgfVxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGFyZ3VtZW50c1szXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTIoMCkgOiAnSXQgbG9va3MgbGlrZSB5b3UgYXJlIHBhc3Npbmcgc2V2ZXJhbCBzdG9yZSBlbmhhbmNlcnMgdG8gJyArICdjcmVhdGVTdG9yZSgpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQsIGNvbXBvc2UgdGhlbSAnICsgJ3RvZ2V0aGVyIHRvIGEgc2luZ2xlIGZ1bmN0aW9uLiBTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHV0b3JpYWxzL2Z1bmRhbWVudGFscy9wYXJ0LTQtc3RvcmUjY3JlYXRpbmctYS1zdG9yZS13aXRoLWVuaGFuY2VycyBmb3IgYW4gZXhhbXBsZS4nKTtcbiAgfVxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IChwcmVsb2FkZWRTdGF0ZSBhcyBTdG9yZUVuaGFuY2VyPEV4dCwgU3RhdGVFeHQ+KTtcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMoMSkgOiBgRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnJHtraW5kT2YoZW5oYW5jZXIpfSdgKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCAocHJlbG9hZGVkU3RhdGUgYXMgUHJlbG9hZGVkU3RhdGUgfCB1bmRlZmluZWQpKTtcbiAgfVxuICBsZXQgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICBsZXQgY3VycmVudFN0YXRlOiBTIHwgUHJlbG9hZGVkU3RhdGUgfCB1bmRlZmluZWQgPSAocHJlbG9hZGVkU3RhdGUgYXMgUHJlbG9hZGVkU3RhdGUgfCB1bmRlZmluZWQpO1xuICBsZXQgY3VycmVudExpc3RlbmVyczogTWFwPG51bWJlciwgTGlzdGVuZXJDYWxsYmFjaz4gfCBudWxsID0gbmV3IE1hcCgpO1xuICBsZXQgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIGxldCBsaXN0ZW5lcklkQ291bnRlciA9IDA7XG4gIGxldCBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFRoaXMgbWFrZXMgYSBzaGFsbG93IGNvcHkgb2YgY3VycmVudExpc3RlbmVycyBzbyB3ZSBjYW4gdXNlXG4gICAqIG5leHRMaXN0ZW5lcnMgYXMgYSB0ZW1wb3JhcnkgbGlzdCB3aGlsZSBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogVGhpcyBwcmV2ZW50cyBhbnkgYnVncyBhcm91bmQgY29uc3VtZXJzIGNhbGxpbmdcbiAgICogc3Vic2NyaWJlL3Vuc3Vic2NyaWJlIGluIHRoZSBtaWRkbGUgb2YgYSBkaXNwYXRjaC5cbiAgICovXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICBjdXJyZW50TGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyLCBrZXkpID0+IHtcbiAgICAgICAgbmV4dExpc3RlbmVycy5zZXQoa2V5LCBsaXN0ZW5lcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCk6IFMge1xuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U0KDMpIDogJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuZ2V0U3RhdGUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnVGhlIHJlZHVjZXIgaGFzIGFscmVhZHkgcmVjZWl2ZWQgdGhlIHN0YXRlIGFzIGFuIGFyZ3VtZW50LiAnICsgJ1Bhc3MgaXQgZG93biBmcm9tIHRoZSB0b3AgcmVkdWNlciBpbnN0ZWFkIG9mIHJlYWRpbmcgaXQgZnJvbSB0aGUgc3RvcmUuJyk7XG4gICAgfVxuICAgIHJldHVybiAoY3VycmVudFN0YXRlIGFzIFMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cbiAgICogQHJldHVybnMgQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXI6ICgpID0+IHZvaWQpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U1KDQpIDogYEV4cGVjdGVkIHRoZSBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJyR7a2luZE9mKGxpc3RlbmVyKX0nYCk7XG4gICAgfVxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U2KDUpIDogJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuc3Vic2NyaWJlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ0lmIHlvdSB3b3VsZCBsaWtlIHRvIGJlIG5vdGlmaWVkIGFmdGVyIHRoZSBzdG9yZSBoYXMgYmVlbiB1cGRhdGVkLCBzdWJzY3JpYmUgZnJvbSBhICcgKyAnY29tcG9uZW50IGFuZCBpbnZva2Ugc3RvcmUuZ2V0U3RhdGUoKSBpbiB0aGUgY2FsbGJhY2sgdG8gYWNjZXNzIHRoZSBsYXRlc3Qgc3RhdGUuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS9zdG9yZSNzdWJzY3JpYmVsaXN0ZW5lciBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgIH1cbiAgICBsZXQgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgY29uc3QgbGlzdGVuZXJJZCA9IGxpc3RlbmVySWRDb3VudGVyKys7XG4gICAgbmV4dExpc3RlbmVycy5zZXQobGlzdGVuZXJJZCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTcoNikgOiAnWW91IG1heSBub3QgdW5zdWJzY3JpYmUgZnJvbSBhIHN0b3JlIGxpc3RlbmVyIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpL3N0b3JlI3N1YnNjcmliZWxpc3RlbmVyIGZvciBtb3JlIGRldGFpbHMuJyk7XG4gICAgICB9XG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVySWQpO1xuICAgICAgY3VycmVudExpc3RlbmVycyA9IG51bGw7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb246IEEpIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlOCg3KSA6IGBBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gSW5zdGVhZCwgdGhlIGFjdHVhbCB0eXBlIHdhczogJyR7a2luZE9mKGFjdGlvbil9Jy4gWW91IG1heSBuZWVkIHRvIGFkZCBtaWRkbGV3YXJlIHRvIHlvdXIgc3RvcmUgc2V0dXAgdG8gaGFuZGxlIGRpc3BhdGNoaW5nIG90aGVyIHZhbHVlcywgc3VjaCBhcyAncmVkdXgtdGh1bmsnIHRvIGhhbmRsZSBkaXNwYXRjaGluZyBmdW5jdGlvbnMuIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNC1zdG9yZSNtaWRkbGV3YXJlIGFuZCBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNi1hc3luYy1sb2dpYyN1c2luZy10aGUtcmVkdXgtdGh1bmstbWlkZGxld2FyZSBmb3IgZXhhbXBsZXMuYCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U5KDgpIDogJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gWW91IG1heSBoYXZlIG1pc3NwZWxsZWQgYW4gYWN0aW9uIHR5cGUgc3RyaW5nIGNvbnN0YW50LicpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlMTAoMTcpIDogYEFjdGlvbiBcInR5cGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nLiBJbnN0ZWFkLCB0aGUgYWN0dWFsIHR5cGUgd2FzOiAnJHtraW5kT2YoYWN0aW9uLnR5cGUpfScuIFZhbHVlIHdhczogJyR7YWN0aW9uLnR5cGV9JyAoc3RyaW5naWZpZWQpYCk7XG4gICAgfVxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UxMSg5KSA6ICdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH0pO1xuICAgIHJldHVybiBhY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXI6IFJlZHVjZXI8UywgQT4pOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UxMigxMCkgOiBgRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnJHtraW5kT2YobmV4dFJlZHVjZXIpfWApO1xuICAgIH1cbiAgICBjdXJyZW50UmVkdWNlciA9ICgobmV4dFJlZHVjZXIgYXMgdW5rbm93bikgYXMgUmVkdWNlcjxTLCBBLCBQcmVsb2FkZWRTdGF0ZT4pO1xuXG4gICAgLy8gVGhpcyBhY3Rpb24gaGFzIGEgc2ltaWxhciBlZmZlY3QgdG8gQWN0aW9uVHlwZXMuSU5JVC5cbiAgICAvLyBBbnkgcmVkdWNlcnMgdGhhdCBleGlzdGVkIGluIGJvdGggdGhlIG5ldyBhbmQgb2xkIHJvb3RSZWR1Y2VyXG4gICAgLy8gd2lsbCByZWNlaXZlIHRoZSBwcmV2aW91cyBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgICAvLyB0aGUgbmV3IHN0YXRlIHRyZWUgd2l0aCBhbnkgcmVsZXZhbnQgZGF0YSBmcm9tIHRoZSBvbGQgb25lLlxuICAgIGRpc3BhdGNoKCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5SRVBMQUNFXG4gICAgfSBhcyBBKSk7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG4gICAqIEByZXR1cm5zIEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgY29uc3Qgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG4gICAgICBzdWJzY3JpYmUob2JzZXJ2ZXI6IHVua25vd24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnNlcnZlciAhPT0gJ29iamVjdCcgfHwgb2JzZXJ2ZXIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UxMygxMSkgOiBgRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICcke2tpbmRPZihvYnNlcnZlcil9J2ApO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlckFzT2JzZXJ2ZXIgPSAob2JzZXJ2ZXIgYXMgT2JzZXJ2ZXI8Uz4pO1xuICAgICAgICAgIGlmIChvYnNlcnZlckFzT2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXJBc09ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmVcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBbJCRvYnNlcnZhYmxlXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG4gIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAvLyB0aGUgaW5pdGlhbCBzdGF0ZSB0cmVlLlxuICBkaXNwYXRjaCgoe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgfSBhcyBBKSk7XG4gIGNvbnN0IHN0b3JlID0gKCh7XG4gICAgZGlzcGF0Y2g6IChkaXNwYXRjaCBhcyBEaXNwYXRjaDxBPiksXG4gICAgc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyLFxuICAgIFskJG9ic2VydmFibGVdOiBvYnNlcnZhYmxlXG4gIH0gYXMgdW5rbm93bikgYXMgU3RvcmU8UywgQSwgU3RhdGVFeHQ+ICYgRXh0KTtcbiAgcmV0dXJuIHN0b3JlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICpcbiAqICoqV2UgcmVjb21tZW5kIHVzaW5nIGBjb25maWd1cmVTdG9yZWAgZnJvbSB0aGVcbiAqIGBAcmVkdXhqcy90b29sa2l0YCBwYWNrYWdlKiosIHdoaWNoIHJlcGxhY2VzIGBjcmVhdGVTdG9yZWA6XG4gKiAqKmh0dHBzOi8vcmVkdXguanMub3JnL2ludHJvZHVjdGlvbi93aHktcnRrLWlzLXJlZHV4LXRvZGF5KipcbiAqXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtwcmVsb2FkZWRTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuICogcHJldmlvdXNseSBzZXJpYWxpemVkIHVzZXIgc2Vzc2lvbi5cbiAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcbiAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2VuaGFuY2VyXSBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZWdhY3lfY3JlYXRlU3RvcmU8UywgQSBleHRlbmRzIEFjdGlvbiwgRXh0IGV4dGVuZHMge30gPSB7fSwgU3RhdGVFeHQgZXh0ZW5kcyB7fSA9IHt9PihyZWR1Y2VyOiBSZWR1Y2VyPFMsIEE+LCBlbmhhbmNlcj86IFN0b3JlRW5oYW5jZXI8RXh0LCBTdGF0ZUV4dD4pOiBTdG9yZTxTLCBBLCBVbmtub3duSWZOb25TcGVjaWZpYzxTdGF0ZUV4dD4+ICYgRXh0O1xuLyoqXG4gKiBDcmVhdGVzIGEgUmVkdXggc3RvcmUgdGhhdCBob2xkcyB0aGUgc3RhdGUgdHJlZS5cbiAqXG4gKiAqKldlIHJlY29tbWVuZCB1c2luZyBgY29uZmlndXJlU3RvcmVgIGZyb20gdGhlXG4gKiBgQHJlZHV4anMvdG9vbGtpdGAgcGFja2FnZSoqLCB3aGljaCByZXBsYWNlcyBgY3JlYXRlU3RvcmVgOlxuICogKipodHRwczovL3JlZHV4LmpzLm9yZy9pbnRyb2R1Y3Rpb24vd2h5LXJ0ay1pcy1yZWR1eC10b2RheSoqXG4gKlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmhhbmNlcl0gVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAqXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVnYWN5X2NyZWF0ZVN0b3JlPFMsIEEgZXh0ZW5kcyBBY3Rpb24sIEV4dCBleHRlbmRzIHt9ID0ge30sIFN0YXRlRXh0IGV4dGVuZHMge30gPSB7fSwgUHJlbG9hZGVkU3RhdGUgPSBTPihyZWR1Y2VyOiBSZWR1Y2VyPFMsIEEsIFByZWxvYWRlZFN0YXRlPiwgcHJlbG9hZGVkU3RhdGU/OiBQcmVsb2FkZWRTdGF0ZSB8IHVuZGVmaW5lZCwgZW5oYW5jZXI/OiBTdG9yZUVuaGFuY2VyPEV4dCwgU3RhdGVFeHQ+KTogU3RvcmU8UywgQSwgVW5rbm93bklmTm9uU3BlY2lmaWM8U3RhdGVFeHQ+PiAmIEV4dDtcbmV4cG9ydCBmdW5jdGlvbiBsZWdhY3lfY3JlYXRlU3RvcmU8UywgQSBleHRlbmRzIEFjdGlvbiwgRXh0IGV4dGVuZHMge30gPSB7fSwgU3RhdGVFeHQgZXh0ZW5kcyB7fSA9IHt9LCBQcmVsb2FkZWRTdGF0ZSA9IFM+KHJlZHVjZXI6IFJlZHVjZXI8UywgQT4sIHByZWxvYWRlZFN0YXRlPzogUHJlbG9hZGVkU3RhdGUgfCBTdG9yZUVuaGFuY2VyPEV4dCwgU3RhdGVFeHQ+IHwgdW5kZWZpbmVkLCBlbmhhbmNlcj86IFN0b3JlRW5oYW5jZXI8RXh0LCBTdGF0ZUV4dD4pOiBTdG9yZTxTLCBBLCBVbmtub3duSWZOb25TcGVjaWZpYzxTdGF0ZUV4dD4+ICYgRXh0IHtcbiAgcmV0dXJuIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIChwcmVsb2FkZWRTdGF0ZSBhcyBhbnkpLCBlbmhhbmNlcik7XG59IiwiLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9IGNhdGNoIChlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG59IiwiaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMgfSBmcm9tIFwic3JjL3V0aWxzL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2VcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UyIH0gZnJvbSBcInNyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlIH0gZnJvbSBcInNyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL3R5cGVzL2FjdGlvbnMnO1xuaW1wb3J0IHsgQWN0aW9uRnJvbVJlZHVjZXJzTWFwT2JqZWN0LCBQcmVsb2FkZWRTdGF0ZVNoYXBlRnJvbVJlZHVjZXJzTWFwT2JqZWN0LCBSZWR1Y2VyLCBTdGF0ZUZyb21SZWR1Y2Vyc01hcE9iamVjdCB9IGZyb20gJy4vdHlwZXMvcmVkdWNlcnMnO1xuaW1wb3J0IEFjdGlvblR5cGVzIGZyb20gJy4vdXRpbHMvYWN0aW9uVHlwZXMnO1xuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSAnLi91dGlscy9pc1BsYWluT2JqZWN0JztcbmltcG9ydCB3YXJuaW5nIGZyb20gJy4vdXRpbHMvd2FybmluZyc7XG5pbXBvcnQgeyBraW5kT2YgfSBmcm9tICcuL3V0aWxzL2tpbmRPZic7XG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGU6IG9iamVjdCwgcmVkdWNlcnM6IHtcbiAgW2tleTogc3RyaW5nXTogUmVkdWNlcjxhbnksIGFueSwgYW55Pjtcbn0sIGFjdGlvbjogQWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGU6IHtcbiAgW2tleTogc3RyaW5nXTogdHJ1ZTtcbn0pIHtcbiAgY29uc3QgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIGNvbnN0IGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cbiAgaWYgKCFpc1BsYWluT2JqZWN0KGlucHV0U3RhdGUpKSB7XG4gICAgcmV0dXJuIGBUaGUgJHthcmd1bWVudE5hbWV9IGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCIke2tpbmRPZihpbnB1dFN0YXRlKX1cIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBgICsgYGtleXM6IFwiJHtyZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKX1cImA7XG4gIH1cbiAgY29uc3QgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoa2V5ID0+ICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSk7XG4gIHVuZXhwZWN0ZWRLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSA9IHRydWU7XG4gIH0pO1xuICBpZiAoYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5SRVBMQUNFKSByZXR1cm47XG4gIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGBVbmV4cGVjdGVkICR7dW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknfSBgICsgYFwiJHt1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKX1cIiBmb3VuZCBpbiAke2FyZ3VtZW50TmFtZX0uIGAgKyBgRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiBgICsgYFwiJHtyZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKX1cIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC5gO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2hhcGUocmVkdWNlcnM6IHtcbiAgW2tleTogc3RyaW5nXTogUmVkdWNlcjxhbnksIGFueSwgYW55Pjtcbn0pIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuSU5JVFxuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDEyKSA6IGBUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFwiJHtrZXl9XCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gYCArIGBJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgYCArIGBleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IGAgKyBgbm90IGJlIHVuZGVmaW5lZC4gSWYgeW91IGRvbid0IHdhbnQgdG8gc2V0IGEgdmFsdWUgZm9yIHRoaXMgcmVkdWNlciwgYCArIGB5b3UgY2FuIHVzZSBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLmApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5QUk9CRV9VTktOT1dOX0FDVElPTigpXG4gICAgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UyKDEzKSA6IGBUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFwiJHtrZXl9XCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gYCArIGBEb24ndCB0cnkgdG8gaGFuZGxlICcke0FjdGlvblR5cGVzLklOSVR9JyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiIGAgKyBgbmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgYCArIGBjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBgICsgYGluIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSBgICsgYGFjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZCwgYnV0IGNhbiBiZSBudWxsLmApO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZGlmZmVyZW50IHJlZHVjZXIgZnVuY3Rpb25zLCBpbnRvIGEgc2luZ2xlXG4gKiByZWR1Y2VyIGZ1bmN0aW9uLiBJdCB3aWxsIGNhbGwgZXZlcnkgY2hpbGQgcmVkdWNlciwgYW5kIGdhdGhlciB0aGVpciByZXN1bHRzXG4gKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zLlxuICpcbiAqIEB0ZW1wbGF0ZSBTIENvbWJpbmVkIHN0YXRlIG9iamVjdCB0eXBlLlxuICpcbiAqIEBwYXJhbSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50IHJlZHVjZXJcbiAqICAgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXRcbiAqICAgaXMgdG8gdXNlIGBpbXBvcnQgKiBhcyByZWR1Y2Vyc2Agc3ludGF4LiBUaGUgcmVkdWNlcnMgbWF5IG5ldmVyXG4gKiAgIHJldHVybiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpclxuICogICBpbml0aWFsIHN0YXRlIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnRcbiAqICAgc3RhdGUgZm9yIGFueSB1bnJlY29nbml6ZWQgYWN0aW9uLlxuICpcbiAqIEByZXR1cm5zIEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlIHBhc3NlZFxuICogICBvYmplY3QsIGFuZCBidWlsZHMgYSBzdGF0ZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzPE0+KHJlZHVjZXJzOiBNKTogTVtrZXlvZiBNXSBleHRlbmRzIFJlZHVjZXI8YW55LCBhbnksIGFueT4gfCB1bmRlZmluZWQgPyBSZWR1Y2VyPFN0YXRlRnJvbVJlZHVjZXJzTWFwT2JqZWN0PE0+LCBBY3Rpb25Gcm9tUmVkdWNlcnNNYXBPYmplY3Q8TT4sIFBhcnRpYWw8UHJlbG9hZGVkU3RhdGVTaGFwZUZyb21SZWR1Y2Vyc01hcE9iamVjdDxNPj4+IDogbmV2ZXI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnM6IHtcbiAgW2tleTogc3RyaW5nXTogUmVkdWNlcjxhbnksIGFueSwgYW55Pjtcbn0pIHtcbiAgY29uc3QgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIGNvbnN0IGZpbmFsUmVkdWNlcnM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBSZWR1Y2VyPGFueSwgYW55LCBhbnk+O1xuICB9ID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3YXJuaW5nKGBObyByZWR1Y2VyIHByb3ZpZGVkIGZvciBrZXkgXCIke2tleX1cImApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgfVxuICB9XG4gIGNvbnN0IGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICAvLyBUaGlzIGlzIHVzZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IHdhcm4gYWJvdXQgdGhlIHNhbWVcbiAgLy8ga2V5cyBtdWx0aXBsZSB0aW1lcy5cbiAgbGV0IHVuZXhwZWN0ZWRLZXlDYWNoZToge1xuICAgIFtrZXk6IHN0cmluZ106IHRydWU7XG4gIH07XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlID0ge307XG4gIH1cbiAgbGV0IHNoYXBlQXNzZXJ0aW9uRXJyb3I6IHVua25vd247XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNoYXBlKGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2hhcGVBc3NlcnRpb25FcnJvciA9IGU7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKHN0YXRlOiBTdGF0ZUZyb21SZWR1Y2Vyc01hcE9iamVjdDx0eXBlb2YgcmVkdWNlcnM+ID0ge30sIGFjdGlvbjogQWN0aW9uKSB7XG4gICAgaWYgKHNoYXBlQXNzZXJ0aW9uRXJyb3IpIHtcbiAgICAgIHRocm93IHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zdCB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKTtcbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICB3YXJuaW5nKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICBjb25zdCBuZXh0U3RhdGU6IFN0YXRlRnJvbVJlZHVjZXJzTWFwT2JqZWN0PHR5cGVvZiByZWR1Y2Vycz4gPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG4gICAgICBjb25zdCByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW2tleV07XG4gICAgICBjb25zdCBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlMygxNCkgOiBgV2hlbiBjYWxsZWQgd2l0aCBhbiBhY3Rpb24gb2YgdHlwZSAke2FjdGlvblR5cGUgPyBgXCIke1N0cmluZyhhY3Rpb25UeXBlKX1cImAgOiAnKHVua25vd24gdHlwZSknfSwgdGhlIHNsaWNlIHJlZHVjZXIgZm9yIGtleSBcIiR7a2V5fVwiIHJldHVybmVkIHVuZGVmaW5lZC4gYCArIGBUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuIGAgKyBgSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuYCk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG4gICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHN0YXRlKS5sZW5ndGg7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn0iLCJpbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlIH0gZnJvbSBcInNyYy91dGlscy9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlXCI7XG5pbXBvcnQgeyBEaXNwYXRjaCB9IGZyb20gJy4vdHlwZXMvc3RvcmUnO1xuaW1wb3J0IHsgQWN0aW9uQ3JlYXRvciwgQWN0aW9uQ3JlYXRvcnNNYXBPYmplY3QsIEFjdGlvbiB9IGZyb20gJy4vdHlwZXMvYWN0aW9ucyc7XG5pbXBvcnQgeyBraW5kT2YgfSBmcm9tICcuL3V0aWxzL2tpbmRPZic7XG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcjxBIGV4dGVuZHMgQWN0aW9uPihhY3Rpb25DcmVhdG9yOiBBY3Rpb25DcmVhdG9yPEE+LCBkaXNwYXRjaDogRGlzcGF0Y2g8QT4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodGhpcywgYXJncykpO1xuICB9O1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcbiAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcbiAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFjdGlvbiBjcmVhdG9yIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcbiAqIGFuZCBnZXQgYSBkaXNwYXRjaCB3cmFwcGVkIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnM8QSwgQyBleHRlbmRzIEFjdGlvbkNyZWF0b3I8QT4+KGFjdGlvbkNyZWF0b3I6IEMsIGRpc3BhdGNoOiBEaXNwYXRjaCk6IEM7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnM8QSBleHRlbmRzIEFjdGlvbkNyZWF0b3I8YW55PiwgQiBleHRlbmRzIEFjdGlvbkNyZWF0b3I8YW55Pj4oYWN0aW9uQ3JlYXRvcjogQSwgZGlzcGF0Y2g6IERpc3BhdGNoKTogQjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yczxBLCBNIGV4dGVuZHMgQWN0aW9uQ3JlYXRvcnNNYXBPYmplY3Q8QT4+KGFjdGlvbkNyZWF0b3JzOiBNLCBkaXNwYXRjaDogRGlzcGF0Y2gpOiBNO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzPE0gZXh0ZW5kcyBBY3Rpb25DcmVhdG9yc01hcE9iamVjdCwgTiBleHRlbmRzIEFjdGlvbkNyZWF0b3JzTWFwT2JqZWN0PihhY3Rpb25DcmVhdG9yczogTSwgZGlzcGF0Y2g6IERpc3BhdGNoKTogTjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9yczogQWN0aW9uQ3JlYXRvcjxhbnk+IHwgQWN0aW9uQ3JlYXRvcnNNYXBPYmplY3QsIGRpc3BhdGNoOiBEaXNwYXRjaCkge1xuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTYpIDogYGJpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgYnV0IGluc3RlYWQgcmVjZWl2ZWQ6ICcke2tpbmRPZihhY3Rpb25DcmVhdG9ycyl9Jy4gYCArIGBEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiP2ApO1xuICB9XG4gIGNvbnN0IGJvdW5kQWN0aW9uQ3JlYXRvcnM6IEFjdGlvbkNyZWF0b3JzTWFwT2JqZWN0ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIGFjdGlvbkNyZWF0b3JzKSB7XG4gICAgY29uc3QgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufSIsInR5cGUgRnVuYzxUIGV4dGVuZHMgYW55W10sIFI+ID0gKC4uLmE6IFQpID0+IFI7XG5cbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvciB0aGVcbiAqIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIGZ1bmNzIFRoZSBmdW5jdGlvbnMgdG8gY29tcG9zZS5cbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnMgZnJvbSByaWdodFxuICogICB0byBsZWZ0LiBGb3IgZXhhbXBsZSwgYGNvbXBvc2UoZiwgZywgaClgIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogICBgKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSlgLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wb3NlKCk6IDxSPihhOiBSKSA9PiBSO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcG9zZTxGIGV4dGVuZHMgRnVuY3Rpb24+KGY6IEYpOiBGO1xuXG4vKiB0d28gZnVuY3Rpb25zICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wb3NlPEEsIFQgZXh0ZW5kcyBhbnlbXSwgUj4oZjE6IChhOiBBKSA9PiBSLCBmMjogRnVuYzxULCBBPik6IEZ1bmM8VCwgUj47XG5cbi8qIHRocmVlIGZ1bmN0aW9ucyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcG9zZTxBLCBCLCBUIGV4dGVuZHMgYW55W10sIFI+KGYxOiAoYjogQikgPT4gUiwgZjI6IChhOiBBKSA9PiBCLCBmMzogRnVuYzxULCBBPik6IEZ1bmM8VCwgUj47XG5cbi8qIGZvdXIgZnVuY3Rpb25zICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wb3NlPEEsIEIsIEMsIFQgZXh0ZW5kcyBhbnlbXSwgUj4oZjE6IChjOiBDKSA9PiBSLCBmMjogKGI6IEIpID0+IEMsIGYzOiAoYTogQSkgPT4gQiwgZjQ6IEZ1bmM8VCwgQT4pOiBGdW5jPFQsIFI+O1xuXG4vKiByZXN0ICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wb3NlPFI+KGYxOiAoYTogYW55KSA9PiBSLCAuLi5mdW5jczogRnVuY3Rpb25bXSk6ICguLi5hcmdzOiBhbnlbXSkgPT4gUjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXBvc2U8Uj4oLi4uZnVuY3M6IEZ1bmN0aW9uW10pOiAoLi4uYXJnczogYW55W10pID0+IFI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wb3NlKC4uLmZ1bmNzOiBGdW5jdGlvbltdKSB7XG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICAvLyBpbmZlciB0aGUgYXJndW1lbnQgdHlwZSBzbyBpdCBpcyB1c2FibGUgaW4gaW5mZXJlbmNlIGRvd24gdGhlIGxpbmVcbiAgICByZXR1cm4gPFQsPihhcmc6IFQpID0+IGFyZztcbiAgfVxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZ1bmNzWzBdO1xuICB9XG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoKGEsIGIpID0+ICguLi5hcmdzOiBhbnkpID0+IGEoYiguLi5hcmdzKSkpO1xufSIsImltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UgfSBmcm9tIFwic3JjL3V0aWxzL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2VcIjtcbmltcG9ydCBjb21wb3NlIGZyb20gJy4vY29tcG9zZSc7XG5pbXBvcnQgeyBNaWRkbGV3YXJlLCBNaWRkbGV3YXJlQVBJIH0gZnJvbSAnLi90eXBlcy9taWRkbGV3YXJlJztcbmltcG9ydCB7IFN0b3JlRW5oYW5jZXIsIERpc3BhdGNoIH0gZnJvbSAnLi90eXBlcy9zdG9yZSc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG4gKlxuICogQHRlbXBsYXRlIEV4dCBEaXNwYXRjaCBzaWduYXR1cmUgYWRkZWQgYnkgYSBtaWRkbGV3YXJlLlxuICogQHRlbXBsYXRlIFMgVGhlIHR5cGUgb2YgdGhlIHN0YXRlIHN1cHBvcnRlZCBieSBhIG1pZGRsZXdhcmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpOiBTdG9yZUVuaGFuY2VyO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlPEV4dDEsIFM+KG1pZGRsZXdhcmUxOiBNaWRkbGV3YXJlPEV4dDEsIFMsIGFueT4pOiBTdG9yZUVuaGFuY2VyPHtcbiAgZGlzcGF0Y2g6IEV4dDE7XG59PjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZTxFeHQxLCBFeHQyLCBTPihtaWRkbGV3YXJlMTogTWlkZGxld2FyZTxFeHQxLCBTLCBhbnk+LCBtaWRkbGV3YXJlMjogTWlkZGxld2FyZTxFeHQyLCBTLCBhbnk+KTogU3RvcmVFbmhhbmNlcjx7XG4gIGRpc3BhdGNoOiBFeHQxICYgRXh0Mjtcbn0+O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlPEV4dDEsIEV4dDIsIEV4dDMsIFM+KG1pZGRsZXdhcmUxOiBNaWRkbGV3YXJlPEV4dDEsIFMsIGFueT4sIG1pZGRsZXdhcmUyOiBNaWRkbGV3YXJlPEV4dDIsIFMsIGFueT4sIG1pZGRsZXdhcmUzOiBNaWRkbGV3YXJlPEV4dDMsIFMsIGFueT4pOiBTdG9yZUVuaGFuY2VyPHtcbiAgZGlzcGF0Y2g6IEV4dDEgJiBFeHQyICYgRXh0Mztcbn0+O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlPEV4dDEsIEV4dDIsIEV4dDMsIEV4dDQsIFM+KG1pZGRsZXdhcmUxOiBNaWRkbGV3YXJlPEV4dDEsIFMsIGFueT4sIG1pZGRsZXdhcmUyOiBNaWRkbGV3YXJlPEV4dDIsIFMsIGFueT4sIG1pZGRsZXdhcmUzOiBNaWRkbGV3YXJlPEV4dDMsIFMsIGFueT4sIG1pZGRsZXdhcmU0OiBNaWRkbGV3YXJlPEV4dDQsIFMsIGFueT4pOiBTdG9yZUVuaGFuY2VyPHtcbiAgZGlzcGF0Y2g6IEV4dDEgJiBFeHQyICYgRXh0MyAmIEV4dDQ7XG59PjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZTxFeHQxLCBFeHQyLCBFeHQzLCBFeHQ0LCBFeHQ1LCBTPihtaWRkbGV3YXJlMTogTWlkZGxld2FyZTxFeHQxLCBTLCBhbnk+LCBtaWRkbGV3YXJlMjogTWlkZGxld2FyZTxFeHQyLCBTLCBhbnk+LCBtaWRkbGV3YXJlMzogTWlkZGxld2FyZTxFeHQzLCBTLCBhbnk+LCBtaWRkbGV3YXJlNDogTWlkZGxld2FyZTxFeHQ0LCBTLCBhbnk+LCBtaWRkbGV3YXJlNTogTWlkZGxld2FyZTxFeHQ1LCBTLCBhbnk+KTogU3RvcmVFbmhhbmNlcjx7XG4gIGRpc3BhdGNoOiBFeHQxICYgRXh0MiAmIEV4dDMgJiBFeHQ0ICYgRXh0NTtcbn0+O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlPEV4dCwgUyA9IGFueT4oLi4ubWlkZGxld2FyZXM6IE1pZGRsZXdhcmU8YW55LCBTLCBhbnk+W10pOiBTdG9yZUVuaGFuY2VyPHtcbiAgZGlzcGF0Y2g6IEV4dDtcbn0+O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKC4uLm1pZGRsZXdhcmVzOiBNaWRkbGV3YXJlW10pOiBTdG9yZUVuaGFuY2VyPGFueT4ge1xuICByZXR1cm4gY3JlYXRlU3RvcmUgPT4gKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gICAgbGV0IGRpc3BhdGNoOiBEaXNwYXRjaCA9ICgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxNSkgOiAnRGlzcGF0Y2hpbmcgd2hpbGUgY29uc3RydWN0aW5nIHlvdXIgbWlkZGxld2FyZSBpcyBub3QgYWxsb3dlZC4gJyArICdPdGhlciBtaWRkbGV3YXJlIHdvdWxkIG5vdCBiZSBhcHBsaWVkIHRvIHRoaXMgZGlzcGF0Y2guJyk7XG4gICAgfTtcbiAgICBjb25zdCBtaWRkbGV3YXJlQVBJOiBNaWRkbGV3YXJlQVBJID0ge1xuICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuICAgICAgZGlzcGF0Y2g6IChhY3Rpb24sIC4uLmFyZ3MpID0+IGRpc3BhdGNoKGFjdGlvbiwgLi4uYXJncylcbiAgICB9O1xuICAgIGNvbnN0IGNoYWluID0gbWlkZGxld2FyZXMubWFwKG1pZGRsZXdhcmUgPT4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKSk7XG4gICAgZGlzcGF0Y2ggPSBjb21wb3NlPHR5cGVvZiBkaXNwYXRjaD4oLi4uY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RvcmUsXG4gICAgICBkaXNwYXRjaFxuICAgIH07XG4gIH07XG59IiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMvYWN0aW9ucyc7XG5pbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICcuL2lzUGxhaW5PYmplY3QnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBY3Rpb24oYWN0aW9uOiB1bmtub3duKTogYWN0aW9uIGlzIEFjdGlvbjxzdHJpbmc+IHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYWN0aW9uKSAmJiAndHlwZScgaW4gYWN0aW9uICYmIHR5cGVvZiAoYWN0aW9uIGFzIFJlY29yZDwndHlwZScsIHVua25vd24+KS50eXBlID09PSAnc3RyaW5nJztcbn0iXSwibmFtZXMiOlsiY3JlYXRlU3RvcmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQU9PLFNBQVMsdUJBQXVCLElBQUEsRUFBYztJQUNuRCxPQUFPLENBQUEsc0JBQUEsRUFBeUIsSUFBSSxDQUFBLHlDQUFBLEVBQTRDLElBQUksQ0FBQSwrRUFBQSxDQUFBO0FBQ3RGOztBQ0pBLElBQU0sZUFBK0IsYUFBQSxHQUFBLENBQUEsSUFBTSxPQUFPLFdBQVcsY0FBYyxPQUFPLFVBQUEsSUFBYyxjQUFBLEVBQWdCO0FBQ2hILElBQU8sNEJBQVE7O0FDQ2YsSUFBTSxlQUFlLElBQU0sS0FBSyxNQUFBLENBQU8sRUFBRSxRQUFBLENBQVMsRUFBRSxFQUFFLFNBQUEsQ0FBVSxDQUFDLEVBQUUsS0FBQSxDQUFNLEVBQUUsRUFBRSxJQUFBLENBQUssR0FBRztBQUNyRixJQUFNLGNBQWM7SUFDbEIsTUFBTSxDQUFBLFlBQUEsRUFBOEIs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LFFBQVE7UUFDdEU7SUFDRjtJQUNBLE9BQU87QUFDVDs7QUN2QmUsU0FBUixRQUFBLEdBQTRCLEtBQUEsRUFBbUI7SUFDcEQsSUFBSSxNQUFNLE1BQUEsS0FBVyxHQUFHO1FBRXRCLE9BQU8sQ0FBSyxNQUFXO0lBQ3pCO0lBQ0EsSUFBSSxNQUFNLE1BQUEsS0FBVyxHQUFHO1FBQ3RCLE9BQU8sS0FBQSxDQUFNLENBQUMsQ0FBQTtJQUNoQjtJQUNBLE9BQU8sTUFBTSxNQUFBLENBQU8sQ0FBQyxHQUFHLElBQU0sQ0FBQSxHQUFJLE9BQWMsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDL0Q7O0FDT2UsU0FBUixnQkFBQSxHQUFvQyxXQUFBLEVBQStDO0lBQ3hGLE9BQU8sQ0FBQUEsZUFBZSxDQUFDLFNBQVMsbUJBQW1CO1lBQ2pELE1BQU0sUUFBUUEsYUFBWSxTQUFTLGNBQWM7WUFDakQsSUFBSSxXQUFxQixNQUFNO2dCQUM3QixNQUFNLElBQUksTUFBTSxRQUFRLElBQUksYUFBYSxhQUFlLHVCQUF3QixFQUFFLENBQUksd0hBQTZIO1lBQ3JOO1lBQ0EsTUFBTSxnQkFBK0I7Z0JBQ25DLFVBQVUsTUFBTSxRQUFBO2dCQUNoQixVQUFVLENBQUMsUUFBQSxHQUFXLE9BQVMsU0FBUyxRQUFRLEdBQUcsSUFBSTtZQUN6RDtZQUNBLE1BQU0sUUFBUSxZQUFZLEdBQUEsQ0FBSSxDQUFBLGFBQWMsV0FBVyxhQUFhLENBQUM7WUFDckUsV0FBVyxRQUF5QixHQUFHLEtBQUssRUFBRSxNQUFNLFFBQVE7WUFDNUQsT0FBTztnQkFDTCxHQUFHLEtBQUE7Z0JBQ0g7WUFDRjtRQUNGO0FBQ0Y7O0FDMURlLFNBQVIsU0FBMEIsTUFBQSxFQUEyQztJQUMxRSxPQUFPLGNBQWMsTUFBTSxLQUFLLFVBQVUsVUFBVSxPQUFRLE9BQW1DLElBQUEsS0FBUztBQUMxRyIsImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMTAwMDAsICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgtdGh1bmsvZGlzdC9yZWR1eC10aHVuay5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2luZGV4LnRzXG5mdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuICBjb25zdCBtaWRkbGV3YXJlID0gKHsgZGlzcGF0Y2gsIGdldFN0YXRlIH0pID0+IChuZXh0KSA9PiAoYWN0aW9uKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGFjdGlvbihkaXNwYXRjaCwgZ2V0U3RhdGUsIGV4dHJhQXJndW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICB9O1xuICByZXR1cm4gbWlkZGxld2FyZTtcbn1cbnZhciB0aHVuayA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZSgpO1xudmFyIHdpdGhFeHRyYUFyZ3VtZW50ID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlO1xuZXhwb3J0IHtcbiAgdGh1bmssXG4gIHdpdGhFeHRyYUFyZ3VtZW50XG59O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGVBQWU7Ozs7O0FBQ2YsU0FBUyxzQkFBc0IsYUFBYTtJQUMxQyxNQUFNLGFBQWEsQ0FBQyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsR0FBSyxDQUFDLE9BQVMsQ0FBQztnQkFDeEQsSUFBSSxPQUFPLFdBQVcsWUFBWTtvQkFDaEMsT0FBTyxPQUFPLFVBQVUsVUFBVTtnQkFDcEM7Z0JBQ0EsT0FBTyxLQUFLO1lBQ2Q7SUFDQSxPQUFPO0FBQ1Q7QUFDQSxJQUFJLFFBQVE7QUFDWixJQUFJLG9CQUFvQiIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAxMDAyMSwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC1wZXJzaXN0L2VzL2NvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIEtFWV9QUkVGSVggPSAncGVyc2lzdDonO1xuZXhwb3J0IHZhciBGTFVTSCA9ICdwZXJzaXN0L0ZMVVNIJztcbmV4cG9ydCB2YXIgUkVIWURSQVRFID0gJ3BlcnNpc3QvUkVIWURSQVRFJztcbmV4cG9ydCB2YXIgUEFVU0UgPSAncGVyc2lzdC9QQVVTRSc7XG5leHBvcnQgdmFyIFBFUlNJU1QgPSAncGVyc2lzdC9QRVJTSVNUJztcbmV4cG9ydCB2YXIgUFVSR0UgPSAncGVyc2lzdC9QVVJHRSc7XG5leHBvcnQgdmFyIFJFR0lTVEVSID0gJ3BlcnNpc3QvUkVHSVNURVInO1xuZXhwb3J0IHZhciBERUZBVUxUX1ZFUlNJT04gPSAtMTsiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFPLElBQUksYUFBYTtBQUNqQixJQUFJLFFBQVE7QUFDWixJQUFJLFlBQVk7QUFDaEIsSUFBSSxRQUFRO0FBQ1osSUFBSSxVQUFVO0FBQ2QsSUFBSSxRQUFRO0FBQ1osSUFBSSxXQUFXO0FBQ2YsSUFBSSxrQkFBa0IsQ0FBQyIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAxMDA0MywgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC1wZXJzaXN0L2VzL3N0YXRlUmVjb25jaWxlci9hdXRvTWVyZ2VMZXZlbDEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLypcbiAgYXV0b01lcmdlTGV2ZWwxOiBcbiAgICAtIG1lcmdlcyAxIGxldmVsIG9mIHN1YnN0YXRlXG4gICAgLSBza2lwcyBzdWJzdGF0ZSBpZiBhbHJlYWR5IG1vZGlmaWVkXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0b01lcmdlTGV2ZWwxKGluYm91bmRTdGF0ZSwgb3JpZ2luYWxTdGF0ZSwgcmVkdWNlZFN0YXRlLCBfcmVmKSB7XG4gIHZhciBkZWJ1ZyA9IF9yZWYuZGVidWc7XG5cbiAgdmFyIG5ld1N0YXRlID0gX29iamVjdFNwcmVhZCh7fSwgcmVkdWNlZFN0YXRlKTsgLy8gb25seSByZWh5ZHJhdGUgaWYgaW5ib3VuZFN0YXRlIGV4aXN0cyBhbmQgaXMgYW4gb2JqZWN0XG5cblxuICBpZiAoaW5ib3VuZFN0YXRlICYmIF90eXBlb2YoaW5ib3VuZFN0YXRlKSA9PT0gJ29iamVjdCcpIHtcbiAgICBPYmplY3Qua2V5cyhpbmJvdW5kU3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgLy8gaWdub3JlIF9wZXJzaXN0IGRhdGFcbiAgICAgIGlmIChrZXkgPT09ICdfcGVyc2lzdCcpIHJldHVybjsgLy8gaWYgcmVkdWNlciBtb2RpZmllcyBzdWJzdGF0ZSwgc2tpcCBhdXRvIHJlaHlkcmF0aW9uXG5cbiAgICAgIGlmIChvcmlnaW5hbFN0YXRlW2tleV0gIT09IHJlZHVjZWRTdGF0ZVtrZXldKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGRlYnVnKSBjb25zb2xlLmxvZygncmVkdXgtcGVyc2lzdC9zdGF0ZVJlY29uY2lsZXI6IHN1YiBzdGF0ZSBmb3Iga2V5IGAlc2AgbW9kaWZpZWQsIHNraXBwaW5nLicsIGtleSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gb3RoZXJ3aXNlIGhhcmQgc2V0IHRoZSBuZXcgdmFsdWVcblxuXG4gICAgICBuZXdTdGF0ZVtrZXldID0gaW5ib3VuZFN0YXRlW2tleV07XG4gICAgfSk7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBkZWJ1ZyAmJiBpbmJvdW5kU3RhdGUgJiYgX3R5cGVvZihpbmJvdW5kU3RhdGUpID09PSAnb2JqZWN0JykgY29uc29sZS5sb2coXCJyZWR1eC1wZXJzaXN0L3N0YXRlUmVjb25jaWxlcjogcmVoeWRyYXRlZCBrZXlzICdcIi5jb25jYXQoT2JqZWN0LmtleXMoaW5ib3VuZFN0YXRlKS5qb2luKCcsICcpLCBcIidcIikpO1xuICByZXR1cm4gbmV3U3RhdGU7XG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLFNBQVMsUUFBUSxHQUFHO0lBQUksSUFBSSxPQUFPLFdBQVcsY0FBYyxPQUFPLE9BQU8sUUFBUSxLQUFLLFVBQVU7UUFBRSxVQUFVLFNBQVMsUUFBUSxHQUFHO1lBQUksT0FBTyxPQUFPO1FBQUs7SUFBRyxPQUFPO1FBQUUsVUFBVSxTQUFTLFFBQVEsR0FBRztZQUFJLE9BQU8sT0FBTyxPQUFPLFdBQVcsY0FBYyxJQUFJLFdBQVcsS0FBSyxVQUFVLFFBQVEsT0FBTyxTQUFTLEdBQUcsV0FBVyxPQUFPO1FBQUs7SUFBRztJQUFFLE9BQU8sUUFBUTtBQUFNO0FBRTlWLFNBQVMsUUFBUSxNQUFNLEVBQUUsY0FBYztJQUFJLElBQUksT0FBTyxPQUFPLElBQUksQ0FBQztJQUFTLElBQUksT0FBTyxxQkFBcUIsRUFBRTtRQUFFLElBQUksVUFBVSxPQUFPLHFCQUFxQixDQUFDO1FBQVMsSUFBSSxnQkFBZ0IsVUFBVSxRQUFRLE1BQU0sQ0FBQyxTQUFVLEdBQUc7WUFBSSxPQUFPLE9BQU8sd0JBQXdCLENBQUMsUUFBUSxLQUFLLFVBQVU7UUFBRTtRQUFJLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNO0lBQVU7SUFBRSxPQUFPO0FBQU07QUFFcFYsU0FBUyxjQUFjLE1BQU07SUFBSSxJQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxNQUFNLEVBQUUsSUFBSztRQUFFLElBQUksU0FBUyxTQUFTLENBQUMsRUFBRSxJQUFJLE9BQU8sU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBQUcsSUFBSSxJQUFJLEdBQUc7WUFBRSxRQUFRLFFBQVEsTUFBTSxPQUFPLENBQUMsU0FBVSxHQUFHO2dCQUFJLGdCQUFnQixRQUFRLEtBQUssTUFBTSxDQUFDLElBQUk7WUFBRztRQUFJLE9BQU8sSUFBSSxPQUFPLHlCQUF5QixFQUFFO1lBQUUsT0FBTyxnQkFBZ0IsQ0FBQyxRQUFRLE9BQU8seUJBQXlCLENBQUM7UUFBVSxPQUFPO1lBQUUsUUFBUSxRQUFRLE9BQU8sQ0FBQyxTQUFVLEdBQUc7Z0JBQUksT0FBTyxjQUFjLENBQUMsUUFBUSxLQUFLLE9BQU8sd0JBQXdCLENBQUMsUUFBUTtZQUFPO1FBQUk7SUFBRTtJQUFFLE9BQU87QUFBUTtBQUVyZ0IsU0FBUyxnQkFBZ0IsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLO0lBQUksSUFBSSxPQUFPLEtBQUs7UUFBRSxPQUFPLGNBQWMsQ0FBQyxLQUFLLEtBQUs7WUFBRSxPQUFPO1lBQU8sWUFBWTtZQUFNLGNBQWM7WUFBTSxVQUFVO1FBQUs7SUFBSSxPQUFPO1FBQUUsR0FBRyxDQUFDLElBQUksR0FBRztJQUFPO0lBQUUsT0FBTztBQUFLO0FBT2pNLFNBQVMsZ0JBQWdCLFlBQVksRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLElBQUk7SUFDckYsSUFBSSxRQUFRLEtBQUssS0FBSztJQUV0QixJQUFJLFdBQVcsY0FBYyxDQUFDLEdBQUcsZUFBZSx5REFBeUQ7SUFHekcsSUFBSSxnQkFBZ0IsUUFBUSxrQkFBa0IsVUFBVTtRQUN0RCxPQUFPLElBQUksQ0FBQyxjQUFjLE9BQU8sQ0FBQyxTQUFVLEdBQUc7WUFDN0MsdUJBQXVCO1lBQ3ZCLElBQUksUUFBUSxZQUFZLFFBQVEsc0RBQXNEO1lBRXRGLElBQUksYUFBYSxDQUFDLElBQUksS0FBSyxZQUFZLENBQUMsSUFBSSxFQUFFO2dCQUM1QyxJQUFJLG9EQUF5QixnQkFBZ0IsT0FBTyxRQUFRLEdBQUcsQ0FBQyw2RUFBNkU7Z0JBQzdJO1lBQ0YsRUFBRSxtQ0FBbUM7WUFHckMsUUFBUSxDQUFDLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSTtRQUNuQztJQUNGO0lBRUEsSUFBSSxvREFBeUIsZ0JBQWdCLFNBQVMsZ0JBQWdCLFFBQVEsa0JBQWtCLFVBQVUsUUFBUSxHQUFHLENBQUMsbURBQW1ELE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FBQyxjQUFjLElBQUksQ0FBQyxPQUFPO0lBQ3ROLE9BQU87QUFDVCIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAxMDEyMCwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC1wZXJzaXN0L2VzL2NyZWF0ZVBlcnNpc3RvaWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgS0VZX1BSRUZJWCwgUkVIWURSQVRFIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuLy8gQFRPRE8gcmVtb3ZlIG9uY2UgZmxvdyA8IDAuNjMgc3VwcG9ydCBpcyBubyBsb25nZXIgcmVxdWlyZWQuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVQZXJzaXN0b2lkKGNvbmZpZykge1xuICAvLyBkZWZhdWx0c1xuICB2YXIgYmxhY2tsaXN0ID0gY29uZmlnLmJsYWNrbGlzdCB8fCBudWxsO1xuICB2YXIgd2hpdGVsaXN0ID0gY29uZmlnLndoaXRlbGlzdCB8fCBudWxsO1xuICB2YXIgdHJhbnNmb3JtcyA9IGNvbmZpZy50cmFuc2Zvcm1zIHx8IFtdO1xuICB2YXIgdGhyb3R0bGUgPSBjb25maWcudGhyb3R0bGUgfHwgMDtcbiAgdmFyIHN0b3JhZ2VLZXkgPSBcIlwiLmNvbmNhdChjb25maWcua2V5UHJlZml4ICE9PSB1bmRlZmluZWQgPyBjb25maWcua2V5UHJlZml4IDogS0VZX1BSRUZJWCkuY29uY2F0KGNvbmZpZy5rZXkpO1xuICB2YXIgc3RvcmFnZSA9IGNvbmZpZy5zdG9yYWdlO1xuICB2YXIgc2VyaWFsaXplO1xuXG4gIGlmIChjb25maWcuc2VyaWFsaXplID09PSBmYWxzZSkge1xuICAgIHNlcmlhbGl6ZSA9IGZ1bmN0aW9uIHNlcmlhbGl6ZSh4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcuc2VyaWFsaXplID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc2VyaWFsaXplID0gY29uZmlnLnNlcmlhbGl6ZTtcbiAgfSBlbHNlIHtcbiAgICBzZXJpYWxpemUgPSBkZWZhdWx0U2VyaWFsaXplO1xuICB9XG5cbiAgdmFyIHdyaXRlRmFpbEhhbmRsZXIgPSBjb25maWcud3JpdGVGYWlsSGFuZGxlciB8fCBudWxsOyAvLyBpbml0aWFsaXplIHN0YXRlZnVsIHZhbHVlc1xuXG4gIHZhciBsYXN0U3RhdGUgPSB7fTtcbiAgdmFyIHN0YWdlZFN0YXRlID0ge307XG4gIHZhciBrZXlzVG9Qcm9jZXNzID0gW107XG4gIHZhciB0aW1lSXRlcmF0b3IgPSBudWxsO1xuICB2YXIgd3JpdGVQcm9taXNlID0gbnVsbDtcblxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKHN0YXRlKSB7XG4gICAgLy8gYWRkIGFueSBjaGFuZ2VkIGtleXMgdG8gdGhlIHF1ZXVlXG4gICAgT2JqZWN0LmtleXMoc3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCFwYXNzV2hpdGVsaXN0QmxhY2tsaXN0KGtleSkpIHJldHVybjsgLy8gaXMga2V5c3BhY2UgaWdub3JlZD8gbm9vcFxuXG4gICAgICBpZiAobGFzdFN0YXRlW2tleV0gPT09IHN0YXRlW2tleV0pIHJldHVybjsgLy8gdmFsdWUgdW5jaGFuZ2VkPyBub29wXG5cbiAgICAgIGlmIChrZXlzVG9Qcm9jZXNzLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHJldHVybjsgLy8gaXMga2V5IGFscmVhZHkgcXVldWVkPyBub29wXG5cbiAgICAgIGtleXNUb1Byb2Nlc3MucHVzaChrZXkpOyAvLyBhZGQga2V5IHRvIHF1ZXVlXG4gICAgfSk7IC8vaWYgYW55IGtleSBpcyBtaXNzaW5nIGluIHRoZSBuZXcgc3RhdGUgd2hpY2ggd2FzIHByZXNlbnQgaW4gdGhlIGxhc3RTdGF0ZSxcbiAgICAvL2FkZCBpdCBmb3IgcHJvY2Vzc2luZyB0b29cblxuICAgIE9iamVjdC5rZXlzKGxhc3RTdGF0ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoc3RhdGVba2V5XSA9PT0gdW5kZWZpbmVkICYmIHBhc3NXaGl0ZWxpc3RCbGFja2xpc3Qoa2V5KSAmJiBrZXlzVG9Qcm9jZXNzLmluZGV4T2Yoa2V5KSA9PT0gLTEgJiYgbGFzdFN0YXRlW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlzVG9Qcm9jZXNzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9KTsgLy8gc3RhcnQgdGhlIHRpbWUgaXRlcmF0b3IgaWYgbm90IHJ1bm5pbmcgKHJlYWQ6IHRocm90dGxlKVxuXG4gICAgaWYgKHRpbWVJdGVyYXRvciA9PT0gbnVsbCkge1xuICAgICAgdGltZUl0ZXJhdG9yID0gc2V0SW50ZXJ2YWwocHJvY2Vzc05leHRLZXksIHRocm90dGxlKTtcbiAgICB9XG5cbiAgICBsYXN0U3RhdGUgPSBzdGF0ZTtcbiAgfTtcblxuICBmdW5jdGlvbiBwcm9jZXNzTmV4dEtleSgpIHtcbiAgICBpZiAoa2V5c1RvUHJvY2Vzcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmICh0aW1lSXRlcmF0b3IpIGNsZWFySW50ZXJ2YWwodGltZUl0ZXJhdG9yKTtcbiAgICAgIHRpbWVJdGVyYXRvciA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IGtleXNUb1Byb2Nlc3Muc2hpZnQoKTtcbiAgICB2YXIgZW5kU3RhdGUgPSB0cmFuc2Zvcm1zLnJlZHVjZShmdW5jdGlvbiAoc3ViU3RhdGUsIHRyYW5zZm9ybWVyKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtZXIuaW4oc3ViU3RhdGUsIGtleSwgbGFzdFN0YXRlKTtcbiAgICB9LCBsYXN0U3RhdGVba2V5XSk7XG5cbiAgICBpZiAoZW5kU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RhZ2VkU3RhdGVba2V5XSA9IHNlcmlhbGl6ZShlbmRTdGF0ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcigncmVkdXgtcGVyc2lzdC9jcmVhdGVQZXJzaXN0b2lkOiBlcnJvciBzZXJpYWxpemluZyBzdGF0ZScsIGVycik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vaWYgdGhlIGVuZFN0YXRlIGlzIHVuZGVmaW5lZCwgbm8gbmVlZCB0byBwZXJzaXN0IHRoZSBleGlzdGluZyBzZXJpYWxpemVkIGNvbnRlbnRcbiAgICAgIGRlbGV0ZSBzdGFnZWRTdGF0ZVtrZXldO1xuICAgIH1cblxuICAgIGlmIChrZXlzVG9Qcm9jZXNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgd3JpdGVTdGFnZWRTdGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlU3RhZ2VkU3RhdGUoKSB7XG4gICAgLy8gY2xlYW51cCBhbnkgcmVtb3ZlZCBrZXlzIGp1c3QgYmVmb3JlIHdyaXRlLlxuICAgIE9iamVjdC5rZXlzKHN0YWdlZFN0YXRlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChsYXN0U3RhdGVba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGV0ZSBzdGFnZWRTdGF0ZVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdyaXRlUHJvbWlzZSA9IHN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBzZXJpYWxpemUoc3RhZ2VkU3RhdGUpKS5jYXRjaChvbldyaXRlRmFpbCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXNzV2hpdGVsaXN0QmxhY2tsaXN0KGtleSkge1xuICAgIGlmICh3aGl0ZWxpc3QgJiYgd2hpdGVsaXN0LmluZGV4T2Yoa2V5KSA9PT0gLTEgJiYga2V5ICE9PSAnX3BlcnNpc3QnKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGJsYWNrbGlzdCAmJiBibGFja2xpc3QuaW5kZXhPZihrZXkpICE9PSAtMSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Xcml0ZUZhaWwoZXJyKSB7XG4gICAgLy8gQFRPRE8gYWRkIGZhaWwgaGFuZGxlcnMgKHR5cGljYWxseSBzdG9yYWdlIGZ1bGwpXG4gICAgaWYgKHdyaXRlRmFpbEhhbmRsZXIpIHdyaXRlRmFpbEhhbmRsZXIoZXJyKTtcblxuICAgIGlmIChlcnIgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RvcmluZyBkYXRhJywgZXJyKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICB3aGlsZSAoa2V5c1RvUHJvY2Vzcy5sZW5ndGggIT09IDApIHtcbiAgICAgIHByb2Nlc3NOZXh0S2V5KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdyaXRlUHJvbWlzZSB8fCBQcm9taXNlLnJlc29sdmUoKTtcbiAgfTsgLy8gcmV0dXJuIGBwZXJzaXN0b2lkYFxuXG5cbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICBmbHVzaDogZmx1c2hcbiAgfTtcbn0gLy8gQE5PVEUgaW4gdGhlIGZ1dHVyZSB0aGlzIG1heSBiZSBleHBvc2VkIHZpYSBjb25maWdcblxuZnVuY3Rpb24gZGVmYXVsdFNlcmlhbGl6ZShkYXRhKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbn0iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0FBRWUsU0FBUyxpQkFBaUIsTUFBTTtJQUM3QyxXQUFXO0lBQ1gsSUFBSSxZQUFZLE9BQU8sU0FBUyxJQUFJO0lBQ3BDLElBQUksWUFBWSxPQUFPLFNBQVMsSUFBSTtJQUNwQyxJQUFJLGFBQWEsT0FBTyxVQUFVLElBQUksRUFBRTtJQUN4QyxJQUFJLFdBQVcsT0FBTyxRQUFRLElBQUk7SUFDbEMsSUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDLE9BQU8sU0FBUyxLQUFLLFlBQVksT0FBTyxTQUFTLEdBQUcsbUpBQUEsQ0FBQSxhQUFVLEVBQUUsTUFBTSxDQUFDLE9BQU8sR0FBRztJQUM1RyxJQUFJLFVBQVUsT0FBTyxPQUFPO0lBQzVCLElBQUk7SUFFSixJQUFJLE9BQU8sU0FBUyxLQUFLLE9BQU87UUFDOUIsWUFBWSxTQUFTLFVBQVUsQ0FBQztZQUM5QixPQUFPO1FBQ1Q7SUFDRixPQUFPLElBQUks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QXNCO0lBR3pCLE9BQU87UUFDTCxRQUFRO1FBQ1IsT0FBTztJQUNUO0FBQ0YsRUFBRSxxREFBcUQ7QUFFdkQsU0FBUyxpQkFBaUIsSUFBSTtJQUM1QixPQUFPLEtBQUssU0FBUyxDQUFDO0FBQ3hCIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDEwMjMxLCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4LXBlcnNpc3QvZXMvZ2V0U3RvcmVkU3RhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgS0VZX1BSRUZJWCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFN0b3JlZFN0YXRlKGNvbmZpZykge1xuICB2YXIgdHJhbnNmb3JtcyA9IGNvbmZpZy50cmFuc2Zvcm1zIHx8IFtdO1xuICB2YXIgc3RvcmFnZUtleSA9IFwiXCIuY29uY2F0KGNvbmZpZy5rZXlQcmVmaXggIT09IHVuZGVmaW5lZCA/IGNvbmZpZy5rZXlQcmVmaXggOiBLRVlfUFJFRklYKS5jb25jYXQoY29uZmlnLmtleSk7XG4gIHZhciBzdG9yYWdlID0gY29uZmlnLnN0b3JhZ2U7XG4gIHZhciBkZWJ1ZyA9IGNvbmZpZy5kZWJ1ZztcbiAgdmFyIGRlc2VyaWFsaXplO1xuXG4gIGlmIChjb25maWcuZGVzZXJpYWxpemUgPT09IGZhbHNlKSB7XG4gICAgZGVzZXJpYWxpemUgPSBmdW5jdGlvbiBkZXNlcmlhbGl6ZSh4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcuZGVzZXJpYWxpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBkZXNlcmlhbGl6ZSA9IGNvbmZpZy5kZXNlcmlhbGl6ZTtcbiAgfSBlbHNlIHtcbiAgICBkZXNlcmlhbGl6ZSA9IGRlZmF1bHREZXNlcmlhbGl6ZTtcbiAgfVxuXG4gIHJldHVybiBzdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSkudGhlbihmdW5jdGlvbiAoc2VyaWFsaXplZCkge1xuICAgIGlmICghc2VyaWFsaXplZCkgcmV0dXJuIHVuZGVmaW5lZDtlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgICAgICB2YXIgcmF3U3RhdGUgPSBkZXNlcmlhbGl6ZShzZXJpYWxpemVkKTtcbiAgICAgICAgT2JqZWN0LmtleXMocmF3U3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHN0YXRlW2tleV0gPSB0cmFuc2Zvcm1zLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChzdWJTdGF0ZSwgdHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lci5vdXQoc3ViU3RhdGUsIGtleSwgcmF3U3RhdGUpO1xuICAgICAgICAgIH0sIGRlc2VyaWFsaXplKHJhd1N0YXRlW2tleV0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBkZWJ1ZykgY29uc29sZS5sb2coXCJyZWR1eC1wZXJzaXN0L2dldFN0b3JlZFN0YXRlOiBFcnJvciByZXN0b3JpbmcgZGF0YSBcIi5jb25jYXQoc2VyaWFsaXplZCksIGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0RGVzZXJpYWxpemUoc2VyaWFsKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKHNlcmlhbCk7XG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBOztBQUNlLFNBQVMsZUFBZSxNQUFNO0lBQzNDLElBQUksYUFBYSxPQUFPLFVBQVUsSUFBSSxFQUFFO0lBQ3hDLElBQUksYUFBYSxHQUFHLE1BQU0sQ0FBQyxPQUFPLFNBQVMsS0FBSyxZQUFZLE9BQU8sU0FBUyxHQUFHLG1KQUFBLENBQUEsYUFBVSxFQUFFLE1BQU0sQ0FBQyxPQUFPLEdBQUc7SUFDNUcsSUFBSSxVQUFVLE9BQU8sT0FBTztJQUM1QixJQUFJLFFBQVEsT0FBTyxLQUFLO0lBQ3hCLElBQUk7SUFFSixJQUFJLE9BQU8sV0FBVyxLQUFLLE9BQU87UUFDaEMsY0FBYyxTQUFTLFlBQVksQ0FBQztZQUNsQyxPQUFPO1FBQ1Q7SUFDRixPQUFPLElBQUksT0FBTyxPQUFPLFdBQVcsS0FBSyxZQUFZO1FBQ25ELGNBQWMsT0FBTyxXQUFXO0lBQ2xDLE9BQU87UUFDTCxjQUFjO0lBQ2hCO0lBRUEsT0FBTyxRQUFRLE9BQU8sQ0FBQyxZQUFZLElBQUksQ0FBQyxTQUFVLFVBQVU7UUFDMUQsSUFBSSxDQUFDLFlBQVksT0FBTzthQUFlO1lBQ3JDLElBQUk7Z0JBQ0YsSUFBSSxRQUFRLENBQUM7Z0JBQ2IsSUFBSSxXQUFXLFlBQVk7Z0JBQzNCLE9BQU8sSUFBSSxDQUFDLFVBQVUsT0FBTyxDQUFDLFNBQVUsR0FBRztvQkFDekMsS0FBSyxDQUFDLElBQUksR0FBRyxXQUFXLFdBQVcsQ0FBQyxTQUFVLFFBQVEsRUFBRSxXQUFXO3dCQUNqRSxPQUFPLFlBQVksR0FBRyxDQUFDLFVBQVUsS0FBSztvQkFDeEMsR0FBRyxZQUFZLFFBQVEsQ0FBQyxJQUFJO2dCQUM5QjtnQkFDQSxPQUFPO1lBQ1QsRUFBRSxPQUFPLEtBQUs7Z0JBQ1osSUFBSSxvREFBeUIsZ0JBQWdCLE9BQU8sUUFBUSxHQUFHLENBQUMsc0RBQXNELE1BQU0sQ0FBQyxhQUFhO2dCQUMxSSxNQUFNO1lBQ1I7UUFDRjtJQUNGO0FBQ0Y7QUFFQSxTQUFTLG1CQUFtQixNQUFNO0lBQ2hDLE9BQU8sS0FBSyxLQUFLLENBQUM7QUFDcEIiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMTAyNzcsICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgtcGVyc2lzdC9lcy9wdXJnZVN0b3JlZFN0YXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtFWV9QUkVGSVggfSBmcm9tICcuL2NvbnN0YW50cyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwdXJnZVN0b3JlZFN0YXRlKGNvbmZpZykge1xuICB2YXIgc3RvcmFnZSA9IGNvbmZpZy5zdG9yYWdlO1xuICB2YXIgc3RvcmFnZUtleSA9IFwiXCIuY29uY2F0KGNvbmZpZy5rZXlQcmVmaXggIT09IHVuZGVmaW5lZCA/IGNvbmZpZy5rZXlQcmVmaXggOiBLRVlfUFJFRklYKS5jb25jYXQoY29uZmlnLmtleSk7XG4gIHJldHVybiBzdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmFnZUtleSwgd2FybklmUmVtb3ZlRXJyb3IpO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZSZW1vdmVFcnJvcihlcnIpIHtcbiAgaWYgKGVyciAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcigncmVkdXgtcGVyc2lzdC9wdXJnZVN0b3JlZFN0YXRlOiBFcnJvciBwdXJnaW5nIGRhdGEgc3RvcmVkIHN0YXRlJywgZXJyKTtcbiAgfVxufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTs7QUFDZSxTQUFTLGlCQUFpQixNQUFNO0lBQzdDLElBQUksVUFBVSxPQUFPLE9BQU87SUFDNUIsSUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDLE9BQU8sU0FBUyxLQUFLLFlBQVksT0FBTyxTQUFTLEdBQUcsbUpBQUEsQ0FBQSxhQUFVLEVBQUUsTUFBTSxDQUFDLE9BQU8sR0FBRztJQUM1RyxPQUFPLFFBQVEsVUFBVSxDQUFDLFlBQVk7QUFDeEM7QUFFQSxTQUFTLGtCQUFrQixHQUFHO0lBQzVCLElBQUksT0FBTyxvREFBeUIsY0FBYztRQUNoRCxRQUFRLEtBQUssQ0FBQyxtRUFBbUU7SUFDbkY7QUFDRiIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAxMDI5NiwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC1wZXJzaXN0L2VzL3BlcnNpc3RSZWR1Y2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCB7IEZMVVNILCBQQVVTRSwgUEVSU0lTVCwgUFVSR0UsIFJFSFlEUkFURSwgREVGQVVMVF9WRVJTSU9OIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGF1dG9NZXJnZUxldmVsMSBmcm9tICcuL3N0YXRlUmVjb25jaWxlci9hdXRvTWVyZ2VMZXZlbDEnO1xuaW1wb3J0IGNyZWF0ZVBlcnNpc3RvaWQgZnJvbSAnLi9jcmVhdGVQZXJzaXN0b2lkJztcbmltcG9ydCBkZWZhdWx0R2V0U3RvcmVkU3RhdGUgZnJvbSAnLi9nZXRTdG9yZWRTdGF0ZSc7XG5pbXBvcnQgcHVyZ2VTdG9yZWRTdGF0ZSBmcm9tICcuL3B1cmdlU3RvcmVkU3RhdGUnO1xudmFyIERFRkFVTFRfVElNRU9VVCA9IDUwMDA7XG4vKlxuICBAVE9ETyBhZGQgdmFsaWRhdGlvbiAvIGhhbmRsaW5nIGZvcjpcbiAgLSBwZXJzaXN0aW5nIGEgcmVkdWNlciB3aGljaCBoYXMgbmVzdGVkIF9wZXJzaXN0XG4gIC0gaGFuZGxpbmcgYWN0aW9ucyB0aGF0IGZpcmUgYmVmb3JlIHJleWRyYXRlIGlzIGNhbGxlZFxuKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGVyc2lzdFJlZHVjZXIoY29uZmlnLCBiYXNlUmVkdWNlcikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghY29uZmlnKSB0aHJvdyBuZXcgRXJyb3IoJ2NvbmZpZyBpcyByZXF1aXJlZCBmb3IgcGVyc2lzdFJlZHVjZXInKTtcbiAgICBpZiAoIWNvbmZpZy5rZXkpIHRocm93IG5ldyBFcnJvcigna2V5IGlzIHJlcXVpcmVkIGluIHBlcnNpc3RvciBjb25maWcnKTtcbiAgICBpZiAoIWNvbmZpZy5zdG9yYWdlKSB0aHJvdyBuZXcgRXJyb3IoXCJyZWR1eC1wZXJzaXN0OiBjb25maWcuc3RvcmFnZSBpcyByZXF1aXJlZC4gVHJ5IHVzaW5nIG9uZSBvZiB0aGUgcHJvdmlkZWQgc3RvcmFnZSBlbmdpbmVzIGBpbXBvcnQgc3RvcmFnZSBmcm9tICdyZWR1eC1wZXJzaXN0L2xpYi9zdG9yYWdlJ2BcIik7XG4gIH1cblxuICB2YXIgdmVyc2lvbiA9IGNvbmZpZy52ZXJzaW9uICE9PSB1bmRlZmluZWQgPyBjb25maWcudmVyc2lvbiA6IERFRkFVTFRfVkVSU0lPTjtcbiAgdmFyIGRlYnVnID0gY29uZmlnLmRlYnVnIHx8IGZhbHNlO1xuICB2YXIgc3RhdGVSZWNvbmNpbGVyID0gY29uZmlnLnN0YXRlUmVjb25jaWxlciA9PT0gdW5kZWZpbmVkID8gYXV0b01lcmdlTGV2ZWwxIDogY29uZmlnLnN0YXRlUmVjb25jaWxlcjtcbiAgdmFyIGdldFN0b3JlZFN0YXRlID0gY29uZmlnLmdldFN0b3JlZFN0YXRlIHx8IGRlZmF1bHRHZXRTdG9yZWRTdGF0ZTtcbiAgdmFyIHRpbWVvdXQgPSBjb25maWcudGltZW91dCAhPT0gdW5kZWZpbmVkID8gY29uZmlnLnRpbWVvdXQgOiBERUZBVUxUX1RJTUVPVVQ7XG4gIHZhciBfcGVyc2lzdG9pZCA9IG51bGw7XG4gIHZhciBfcHVyZ2UgPSBmYWxzZTtcbiAgdmFyIF9wYXVzZWQgPSB0cnVlO1xuXG4gIHZhciBjb25kaXRpb25hbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbmRpdGlvbmFsVXBkYXRlKHN0YXRlKSB7XG4gICAgLy8gdXBkYXRlIHRoZSBwZXJzaXN0b2lkIG9ubHkgaWYgd2UgYXJlIHJlaHlkcmF0ZWQgYW5kIG5vdCBwYXVzZWRcbiAgICBzdGF0ZS5fcGVyc2lzdC5yZWh5ZHJhdGVkICYmIF9wZXJzaXN0b2lkICYmICFfcGF1c2VkICYmIF9wZXJzaXN0b2lkLnVwZGF0ZShzdGF0ZSk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIHZhciBfcmVmID0gc3RhdGUgfHwge30sXG4gICAgICAgIF9wZXJzaXN0ID0gX3JlZi5fcGVyc2lzdCxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJfcGVyc2lzdFwiXSk7IC8vICRGbG93SWdub3JlIG5lZWQgdG8gdXBkYXRlIFN0YXRlIHR5cGVcblxuXG4gICAgdmFyIHJlc3RTdGF0ZSA9IHJlc3Q7XG5cbiAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFBFUlNJU1QpIHtcbiAgICAgIHZhciBfc2VhbGVkID0gZmFsc2U7XG5cbiAgICAgIHZhciBfcmVoeWRyYXRlID0gZnVuY3Rpb24gX3JlaHlkcmF0ZShwYXlsb2FkLCBlcnIpIHtcbiAgICAgICAgLy8gZGV2IHdhcm5pbmcgaWYgd2UgYXJlIGFscmVhZHkgc2VhbGVkXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIF9zZWFsZWQpIGNvbnNvbGUuZXJyb3IoXCJyZWR1eC1wZXJzaXN0OiByZWh5ZHJhdGUgZm9yIFxcXCJcIi5jb25jYXQoY29uZmlnLmtleSwgXCJcXFwiIGNhbGxlZCBhZnRlciB0aW1lb3V0LlwiKSwgcGF5bG9hZCwgZXJyKTsgLy8gb25seSByZWh5ZHJhdGUgaWYgd2UgYXJlIG5vdCBhbHJlYWR5IHNlYWxlZFxuXG4gICAgICAgIGlmICghX3NlYWxlZCkge1xuICAgICAgICAgIGFjdGlvbi5yZWh5ZHJhdGUoY29uZmlnLmtleSwgcGF5bG9hZCwgZXJyKTtcbiAgICAgICAgICBfc2VhbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGltZW91dCAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIV9zZWFsZWQgJiYgX3JlaHlkcmF0ZSh1bmRlZmluZWQsIG5ldyBFcnJvcihcInJlZHV4LXBlcnNpc3Q6IHBlcnNpc3QgdGltZWQgb3V0IGZvciBwZXJzaXN0IGtleSBcXFwiXCIuY29uY2F0KGNvbmZpZy5rZXksIFwiXFxcIlwiKSkpO1xuICAgICAgfSwgdGltZW91dCk7IC8vIEBOT1RFIFBFUlNJU1QgcmVzdW1lcyBpZiBwYXVzZWQuXG5cbiAgICAgIF9wYXVzZWQgPSBmYWxzZTsgLy8gQE5PVEUgb25seSBldmVyIGNyZWF0ZSBwZXJzaXN0b2lkIG9uY2UsIGVuc3VyZSB3ZSBjYWxsIGl0IGF0IGxlYXN0IG9uY2UsIGV2ZW4gaWYgX3BlcnNpc3QgaGFzIGFscmVhZHkgYmVlbiBzZXRcblxuICAgICAgaWYgKCFfcGVyc2lzdG9pZCkgX3BlcnNpc3RvaWQgPSBjcmVhdGVQZXJzaXN0b2lkKGNvbmZpZyk7IC8vIEBOT1RFIFBFUlNJU1QgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgbm9vcCBhZnRlciB0aGUgZmlyc3RcblxuICAgICAgaWYgKF9wZXJzaXN0KSB7XG4gICAgICAgIC8vIFdlIHN0aWxsIG5lZWQgdG8gY2FsbCB0aGUgYmFzZSByZWR1Y2VyIGJlY2F1c2UgdGhlcmUgbWlnaHQgYmUgbmVzdGVkXG4gICAgICAgIC8vIHVzZXMgb2YgcGVyc2lzdFJlZHVjZXIgd2hpY2ggbmVlZCB0byBiZSBhd2FyZSBvZiB0aGUgUEVSU0lTVCBhY3Rpb25cbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGJhc2VSZWR1Y2VyKHJlc3RTdGF0ZSwgYWN0aW9uKSwge1xuICAgICAgICAgIF9wZXJzaXN0OiBfcGVyc2lzdFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhY3Rpb24ucmVoeWRyYXRlICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBhY3Rpb24ucmVnaXN0ZXIgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFcnJvcigncmVkdXgtcGVyc2lzdDogZWl0aGVyIHJlaHlkcmF0ZSBvciByZWdpc3RlciBpcyBub3QgYSBmdW5jdGlvbiBvbiB0aGUgUEVSU0lTVCBhY3Rpb24uIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgYWN0aW9uIGlzIGJlaW5nIHJlcGxheWVkLiBUaGlzIGlzIGFuIHVuZXhwbG9yZWQgdXNlIGNhc2UsIHBsZWFzZSBvcGVuIGFuIGlzc3VlIGFuZCB3ZSB3aWxsIGZpZ3VyZSBvdXQgYSByZXNvbHV0aW9uLicpO1xuICAgICAgYWN0aW9uLnJlZ2lzdGVyKGNvbmZpZy5rZXkpO1xuICAgICAgZ2V0U3RvcmVkU3RhdGUoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXN0b3JlZFN0YXRlKSB7XG4gICAgICAgIHZhciBtaWdyYXRlID0gY29uZmlnLm1pZ3JhdGUgfHwgZnVuY3Rpb24gKHMsIHYpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1pZ3JhdGUocmVzdG9yZWRTdGF0ZSwgdmVyc2lvbikudGhlbihmdW5jdGlvbiAobWlncmF0ZWRTdGF0ZSkge1xuICAgICAgICAgIF9yZWh5ZHJhdGUobWlncmF0ZWRTdGF0ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChtaWdyYXRlRXJyKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgbWlncmF0ZUVycikgY29uc29sZS5lcnJvcigncmVkdXgtcGVyc2lzdDogbWlncmF0aW9uIGVycm9yJywgbWlncmF0ZUVycik7XG5cbiAgICAgICAgICBfcmVoeWRyYXRlKHVuZGVmaW5lZCwgbWlncmF0ZUVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfcmVoeWRyYXRlKHVuZGVmaW5lZCwgZXJyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGJhc2VSZWR1Y2VyKHJlc3RTdGF0ZSwgYWN0aW9uKSwge1xuICAgICAgICBfcGVyc2lzdDoge1xuICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgICAgcmVoeWRyYXRlZDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gUFVSR0UpIHtcbiAgICAgIF9wdXJnZSA9IHRydWU7XG4gICAgICBhY3Rpb24ucmVzdWx0KHB1cmdlU3RvcmVkU3RhdGUoY29uZmlnKSk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgYmFzZVJlZHVjZXIocmVzdFN0YXRlLCBhY3Rpb24pLCB7XG4gICAgICAgIF9wZXJzaXN0OiBfcGVyc2lzdFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gRkxVU0gpIHtcbiAgICAgIGFjdGlvbi5yZXN1bHQoX3BlcnNpc3RvaWQgJiYgX3BlcnNpc3RvaWQuZmx1c2goKSk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgYmFzZVJlZHVjZXIocmVzdFN0YXRlLCBhY3Rpb24pLCB7XG4gICAgICAgIF9wZXJzaXN0OiBfcGVyc2lzdFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gUEFVU0UpIHtcbiAgICAgIF9wYXVzZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uLnR5cGUgPT09IFJFSFlEUkFURSkge1xuICAgICAgLy8gbm9vcCBvbiByZXN0U3RhdGUgaWYgcHVyZ2luZ1xuICAgICAgaWYgKF9wdXJnZSkgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHJlc3RTdGF0ZSwge1xuICAgICAgICBfcGVyc2lzdDogX29iamVjdFNwcmVhZCh7fSwgX3BlcnNpc3QsIHtcbiAgICAgICAgICByZWh5ZHJhdGVkOiB0cnVlXG4gICAgICAgIH0pIC8vIEBOT1RFIGlmIGtleSBkb2VzIG5vdCBtYXRjaCwgd2lsbCBjb250aW51ZSB0byBkZWZhdWx0IGVsc2UgYmVsb3dcblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhY3Rpb24ua2V5ID09PSBjb25maWcua2V5KSB7XG4gICAgICAgIHZhciByZWR1Y2VkU3RhdGUgPSBiYXNlUmVkdWNlcihyZXN0U3RhdGUsIGFjdGlvbik7XG4gICAgICAgIHZhciBpbmJvdW5kU3RhdGUgPSBhY3Rpb24ucGF5bG9hZDsgLy8gb25seSByZWNvbmNpbGUgc3RhdGUgaWYgc3RhdGVSZWNvbmNpbGVyIGFuZCBpbmJvdW5kU3RhdGUgYXJlIGJvdGggZGVmaW5lZFxuXG4gICAgICAgIHZhciByZWNvbmNpbGVkUmVzdCA9IHN0YXRlUmVjb25jaWxlciAhPT0gZmFsc2UgJiYgaW5ib3VuZFN0YXRlICE9PSB1bmRlZmluZWQgPyBzdGF0ZVJlY29uY2lsZXIoaW5ib3VuZFN0YXRlLCBzdGF0ZSwgcmVkdWNlZFN0YXRlLCBjb25maWcpIDogcmVkdWNlZFN0YXRlO1xuXG4gICAgICAgIHZhciBfbmV3U3RhdGUgPSBfb2JqZWN0U3ByZWFkKHt9LCByZWNvbmNpbGVkUmVzdCwge1xuICAgICAgICAgIF9wZXJzaXN0OiBfb2JqZWN0U3ByZWFkKHt9LCBfcGVyc2lzdCwge1xuICAgICAgICAgICAgcmVoeWRyYXRlZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb25kaXRpb25hbFVwZGF0ZShfbmV3U3RhdGUpO1xuICAgICAgfVxuICAgIH0gLy8gaWYgd2UgaGF2ZSBub3QgYWxyZWFkeSBoYW5kbGVkIFBFUlNJU1QsIHN0cmFpZ2h0IHBhc3N0aHJvdWdoXG5cblxuICAgIGlmICghX3BlcnNpc3QpIHJldHVybiBiYXNlUmVkdWNlcihzdGF0ZSwgYWN0aW9uKTsgLy8gcnVuIGJhc2UgcmVkdWNlcjpcbiAgICAvLyBpcyBzdGF0ZSBtb2RpZmllZCA/IHJldHVybiBvcmlnaW5hbCA6IHJldHVybiB1cGRhdGVkXG5cbiAgICB2YXIgbmV3U3RhdGUgPSBiYXNlUmVkdWNlcihyZXN0U3RhdGUsIGFjdGlvbik7XG4gICAgaWYgKG5ld1N0YXRlID09PSByZXN0U3RhdGUpIHJldHVybiBzdGF0ZTtcbiAgICByZXR1cm4gY29uZGl0aW9uYWxVcGRhdGUoX29iamVjdFNwcmVhZCh7fSwgbmV3U3RhdGUsIHtcbiAgICAgIF9wZXJzaXN0OiBfcGVyc2lzdFxuICAgIH0pKTtcbiAgfTtcbn0iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBLFNBQVMsUUFBUSxNQUFNLEVBQUUsY0FBYztJQUFJLElBQUksT0FBTyxPQUFPLElBQUksQ0FBQztJQUFTLElBQUksT0FBTyxxQkFBcUIsRUFBRTtRQUFFLElBQUksVUFBVSxPQUFPLHFCQUFxQixDQUFDO1FBQVMsSUFBSSxnQkFBZ0IsVUFBVSxRQUFRLE1BQU0sQ0FBQyxTQUFVLEdBQUc7WUFBSSxPQUFPLE9BQU8sd0JBQXdCLENBQUMsUUFBUSxLQUFLLFVBQVU7UUFBRTtRQUFJLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNO0lBQVU7SUFBRSxPQUFPO0FBQU07QUFFcFYsU0FBUyxjQUFjLE1BQU07SUFBSSxJQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxNQUFNLEVBQUUsSUFBSztRQUFFLElBQUksU0FBUyxTQUFTLENBQUMsRUFBRSxJQUFJLE9BQU8sU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBQUcsSUFBSSxJQUFJLEdBQUc7WUFBRSxRQUFRLFFBQVEsTUFBTSxPQUFPLENBQUMsU0FBVSxHQUFHO2dCQUFJLGdCQUFnQixRQUFRLEtBQUssTUFBTSxDQUFDLElBQUk7WUFBRztRQUFJLE9B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LFlBQVksV0FBVztnQkFDMUMsSUFBSSxlQUFlLE9BQU8sT0FBTyxFQUFFLDRFQUE0RTtnQkFFL0csSUFBSSxpQkFBaUIsb0JBQW9CLFNBQVMsaUJBQWlCLFlBQVksZ0JBQWdCLGNBQWMsT0FBTyxjQUFjLFVBQVU7Z0JBRTVJLElBQUksWUFBWSxjQUFjLENBQUMsR0FBRyxnQkFBZ0I7b0JBQ2hELFVBQVUsY0FBYyxDQUFDLEdBQUcsVUFBVTt3QkFDcEMsWUFBWTtvQkFDZDtnQkFDRjtnQkFFQSxPQUFPLGtCQUFrQjtZQUMzQjtRQUNGLEVBQUUsK0RBQStEO1FBR2pFLElBQUksQ0FBQyxVQUFVLE9BQU8sWUFBWSxPQUFPLFNBQVMsb0JBQW9CO1FBQ3RFLHVEQUF1RDtRQUV2RCxJQUFJLFdBQVcsWUFBWSxXQUFXO1FBQ3RDLElBQUksYUFBYSxXQUFXLE9BQU87UUFDbkMsT0FBTyxrQkFBa0IsY0FBYyxDQUFDLEdBQUcsVUFBVTtZQUNuRCxVQUFVO1FBQ1o7SUFDRjtBQUNGIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDEwNDkwLCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4LXBlcnNpc3QvZXMvc3RhdGVSZWNvbmNpbGVyL2F1dG9NZXJnZUxldmVsMi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vKlxuICBhdXRvTWVyZ2VMZXZlbDI6IFxuICAgIC0gbWVyZ2VzIDIgbGV2ZWwgb2Ygc3Vic3RhdGVcbiAgICAtIHNraXBzIHN1YnN0YXRlIGlmIGFscmVhZHkgbW9kaWZpZWRcbiAgICAtIHRoaXMgaXMgZXNzZW50aWFsbHkgcmVkdXgtcGVyaXN0IHY0IGJlaGF2aW9yXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0b01lcmdlTGV2ZWwyKGluYm91bmRTdGF0ZSwgb3JpZ2luYWxTdGF0ZSwgcmVkdWNlZFN0YXRlLCBfcmVmKSB7XG4gIHZhciBkZWJ1ZyA9IF9yZWYuZGVidWc7XG5cbiAgdmFyIG5ld1N0YXRlID0gX29iamVjdFNwcmVhZCh7fSwgcmVkdWNlZFN0YXRlKTsgLy8gb25seSByZWh5ZHJhdGUgaWYgaW5ib3VuZFN0YXRlIGV4aXN0cyBhbmQgaXMgYW4gb2JqZWN0XG5cblxuICBpZiAoaW5ib3VuZFN0YXRlICYmIF90eXBlb2YoaW5ib3VuZFN0YXRlKSA9PT0gJ29iamVjdCcpIHtcbiAgICBPYmplY3Qua2V5cyhpbmJvdW5kU3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgLy8gaWdub3JlIF9wZXJzaXN0IGRhdGFcbiAgICAgIGlmIChrZXkgPT09ICdfcGVyc2lzdCcpIHJldHVybjsgLy8gaWYgcmVkdWNlciBtb2RpZmllcyBzdWJzdGF0ZSwgc2tpcCBhdXRvIHJlaHlkcmF0aW9uXG5cbiAgICAgIGlmIChvcmlnaW5hbFN0YXRlW2tleV0gIT09IHJlZHVjZWRTdGF0ZVtrZXldKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGRlYnVnKSBjb25zb2xlLmxvZygncmVkdXgtcGVyc2lzdC9zdGF0ZVJlY29uY2lsZXI6IHN1YiBzdGF0ZSBmb3Iga2V5IGAlc2AgbW9kaWZpZWQsIHNraXBwaW5nLicsIGtleSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzUGxhaW5Fbm91Z2hPYmplY3QocmVkdWNlZFN0YXRlW2tleV0pKSB7XG4gICAgICAgIC8vIGlmIG9iamVjdCBpcyBwbGFpbiBlbm91Z2ggc2hhbGxvdyBtZXJnZSB0aGUgbmV3IHZhbHVlcyAoaGVuY2UgXCJMZXZlbDJcIilcbiAgICAgICAgbmV3U3RhdGVba2V5XSA9IF9vYmplY3RTcHJlYWQoe30sIG5ld1N0YXRlW2tleV0sIHt9LCBpbmJvdW5kU3RhdGVba2V5XSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gb3RoZXJ3aXNlIGhhcmQgc2V0XG5cblxuICAgICAgbmV3U3RhdGVba2V5XSA9IGluYm91bmRTdGF0ZVtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGVidWcgJiYgaW5ib3VuZFN0YXRlICYmIF90eXBlb2YoaW5ib3VuZFN0YXRlKSA9PT0gJ29iamVjdCcpIGNvbnNvbGUubG9nKFwicmVkdXgtcGVyc2lzdC9zdGF0ZVJlY29uY2lsZXI6IHJlaHlkcmF0ZWQga2V5cyAnXCIuY29uY2F0KE9iamVjdC5rZXlzKGluYm91bmRTdGF0ZSkuam9pbignLCAnKSwgXCInXCIpKTtcbiAgcmV0dXJuIG5ld1N0YXRlO1xufVxuXG5mdW5jdGlvbiBpc1BsYWluRW5vdWdoT2JqZWN0KG8pIHtcbiAgcmV0dXJuIG8gIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkobykgJiYgX3R5cGVvZihvKSA9PT0gJ29iamVjdCc7XG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLFNBQVMsUUFBUSxHQUFHO0lBQUksSUFBSSxPQUFPLFdBQVcsY0FBYyxPQUFPLE9BQU8sUUFBUSxLQUFLLFVBQVU7UUFBRSxVQUFVLFNBQVMsUUFBUSxHQUFHO1lBQUksT0FBTyxPQUFPO1FBQUs7SUFBRyxPQUFPO1FBQUUsVUFBVSxTQUFTLFFBQVEsR0FBRztZQUFJLE9BQU8sT0FBTyxPQUFPLFdBQVcsY0FBYyxJQUFJLFdBQVcsS0FBSyxVQUFVLFFBQVEsT0FBTyxTQUFTLEdBQUcsV0FBVyxPQUFPO1FBQUs7SUFBRztJQUFFLE9BQU8sUUFBUTtBQUFNO0FBRTlWLFNBQVMsUUFBUSxNQUFNLEVBQUUsY0FBYztJQUFJLElBQUksT0FBTyxPQUFPLElBQUksQ0FBQztJQUFTLElBQUksT0FBTyxxQkFBcUIsRUFBRTtRQUFFLElBQUksVUFBVSxPQUFPLHFCQUFxQixDQUFDO1FBQVMsSUFBSSxnQkFBZ0IsVUFBVSxRQUFRLE1BQU0sQ0FBQyxTQUFVLEdBQUc7WUFBSSxPQUFPLE9BQU8sd0JBQXdCLENBQUMsUUFBUSxLQUFLLFVBQVU7UUFBRTtRQUFJLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNO0lBQVU7SUFBRSxPQUFPO0FBQU07QUFFcFYsU0FBUyxjQUFjLE1BQU07SUFBSSxJQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxNQUFNLEVBQUUsSUFBSztRQUFFLElBQUksU0FBUyxTQUFTLENBQUMsRUFBRSxJQUFJLE9BQU8sU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBQUcsSUFBSSxJQUFJLEdBQUc7WUFBRSxRQUFRLFFBQVEsTUFBTSxPQUFPLENBQUMsU0FBVSxHQUFHO2dCQUFJLGdCQUFnQixRQUFRLEtBQUssTUFBTSxDQUFDLElBQUk7WUFBRztRQUFJLE9BQU8sSUFBSSxPQUFPLHlCQUF5QixFQUFFO1lBQUUsT0FBTyxnQkFBZ0IsQ0FBQyxRQUFRLE9BQU8seUJBQXlCLENBQUM7UUFBVSxPQUFPO1lBQUUsUUFBUSxRQUFRLE9BQU8sQ0FBQyxTQUFVLEdBQUc7Z0JBQUksT0FBTyxjQUFjLENBQUMsUUFBUSxLQUFLLE9BQU8sd0JBQXdCLENBQUMsUUFBUTtZQUFPO1FBQUk7SUFBRTtJQUFFLE9BQU87QUFBUTtBQUVyZ0IsU0FBUyxnQkFBZ0IsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLO0lBQUksSUFBSSxPQUFPLEtBQUs7UUFBRSxPQUFPLGNBQWMsQ0FBQyxLQUFLLEtBQUs7WUFBRSxPQUFPO1lBQU8sWUFBWTtZQUFNLGNBQWM7WUFBTSxVQUFVO1FBQUs7SUFBSSxPQUFPO1FBQUUsR0FBRyxDQUFDLElBQUksR0FBRztJQUFPO0lBQUUsT0FBTztBQUFLO0FBUWpNLFNBQVMsZ0JBQWdCLFlBQVksRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLElBQUk7SUFDckYsSUFBSSxRQUFRLEtBQUssS0FBSztJQUV0QixJQUFJLFdBQVcsY0FBYyxDQUFDLEdBQUcsZUFBZSx5REFBeUQ7SUFHekcsSUFBSSxnQkFBZ0IsUUFBUSxrQkFBa0IsVUFBVTtRQUN0RCxPQUFPLElBQUksQ0FBQyxjQUFjLE9BQU8sQ0FBQyxTQUFVLEdBQUc7WUFDN0MsdUJBQXVCO1lBQ3ZCLElBQUksUUFBUSxZQUFZLFFBQVEsc0RBQXNEO1lBRXRGLElBQUksYUFBYSxDQUFDLElBQUksS0FBSyxZQUFZLENBQUMsSUFBSSxFQUFFO2dCQUM1QyxJQUFJLG9EQUF5QixnQkFBZ0IsT0FBTyxRQUFRLEdBQUcsQ0FBQyw2RUFBNkU7Z0JBQzdJO1lBQ0Y7WUFFQSxJQUFJLG9CQUFvQixZQUFZLENBQUMsSUFBSSxHQUFHO2dCQUMxQywwRUFBMEU7Z0JBQzFFLFFBQVEsQ0FBQyxJQUFJLEdBQUcsY0FBYyxDQUFDLEdBQUcsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsWUFBWSxDQUFDLElBQUk7Z0JBQ3RFO1lBQ0YsRUFBRSxxQkFBcUI7WUFHdkIsUUFBUSxDQUFDLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSTtRQUNuQztJQUNGO0lBRUEsSUFBSSxvREFBeUIsZ0JBQWdCLFNBQVMsZ0JBQWdCLFFBQVEsa0JBQWtCLFVBQVUsUUFBUSxHQUFHLENBQUMsbURBQW1ELE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FBQyxjQUFjLElBQUksQ0FBQyxPQUFPO0lBQ3ROLE9BQU87QUFDVDtBQUVBLFNBQVMsb0JBQW9CLENBQUM7SUFDNUIsT0FBTyxNQUFNLFFBQVEsQ0FBQyxNQUFNLE9BQU8sQ0FBQyxNQUFNLFFBQVEsT0FBTztBQUMzRCIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAxMDU3NSwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC1wZXJzaXN0L2VzL3BlcnNpc3RDb21iaW5lUmVkdWNlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHBlcnNpc3RSZWR1Y2VyIGZyb20gJy4vcGVyc2lzdFJlZHVjZXInO1xuaW1wb3J0IGF1dG9NZXJnZUxldmVsMiBmcm9tICcuL3N0YXRlUmVjb25jaWxlci9hdXRvTWVyZ2VMZXZlbDInO1xuLy8gY29tYmluZVJlZHVjZXJzICsgcGVyc2lzdFJlZHVjZXIgd2l0aCBzdGF0ZVJlY29uY2lsZXIgZGVmYXVsdGVkIHRvIGF1dG9NZXJnZUxldmVsMlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGVyc2lzdENvbWJpbmVSZWR1Y2Vycyhjb25maWcsIHJlZHVjZXJzKSB7XG4gIGNvbmZpZy5zdGF0ZVJlY29uY2lsZXIgPSBjb25maWcuc3RhdGVSZWNvbmNpbGVyID09PSB1bmRlZmluZWQgPyBhdXRvTWVyZ2VMZXZlbDIgOiBjb25maWcuc3RhdGVSZWNvbmNpbGVyO1xuICByZXR1cm4gcGVyc2lzdFJlZHVjZXIoY29uZmlnLCBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpKTtcbn0iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBOzs7O0FBRWUsU0FBUyx1QkFBdUIsTUFBTSxFQUFFLFFBQVE7SUFDN0QsT0FBTyxlQUFlLEdBQUcsT0FBTyxlQUFlLEtBQUssWUFBWSw0S0FBQSxDQUFBLFVBQWUsR0FBRyxPQUFPLGVBQWU7SUFDeEcsT0FBTyxDQUFBLEdBQUEsd0pBQUEsQ0FBQSxVQUFjLEFBQUQsRUFBRSxRQUFRLENBQUEsR0FBQSx1SUFBQSxDQUFBLGtCQUFlLEFBQUQsRUFBRTtBQUNoRCIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAxMDU5MiwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC1wZXJzaXN0L2VzL3BlcnNpc3RTdG9yZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IEZMVVNILCBQQVVTRSwgUEVSU0lTVCwgUFVSR0UsIFJFR0lTVEVSLCBSRUhZRFJBVEUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG52YXIgaW5pdGlhbFN0YXRlID0ge1xuICByZWdpc3RyeTogW10sXG4gIGJvb3RzdHJhcHBlZDogZmFsc2Vcbn07XG5cbnZhciBwZXJzaXN0b3JSZWR1Y2VyID0gZnVuY3Rpb24gcGVyc2lzdG9yUmVkdWNlcigpIHtcbiAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpbml0aWFsU3RhdGU7XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBSRUdJU1RFUjpcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwge1xuICAgICAgICByZWdpc3RyeTogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5yZWdpc3RyeSksIFthY3Rpb24ua2V5XSlcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBSRUhZRFJBVEU6XG4gICAgICB2YXIgZmlyc3RJbmRleCA9IHN0YXRlLnJlZ2lzdHJ5LmluZGV4T2YoYWN0aW9uLmtleSk7XG5cbiAgICAgIHZhciByZWdpc3RyeSA9IF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5yZWdpc3RyeSk7XG5cbiAgICAgIHJlZ2lzdHJ5LnNwbGljZShmaXJzdEluZGV4LCAxKTtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwge1xuICAgICAgICByZWdpc3RyeTogcmVnaXN0cnksXG4gICAgICAgIGJvb3RzdHJhcHBlZDogcmVnaXN0cnkubGVuZ3RoID09PSAwXG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBlcnNpc3RTdG9yZShzdG9yZSwgb3B0aW9ucywgY2IpIHtcbiAgLy8gaGVscCBjYXRjaCBpbmNvcnJlY3QgdXNhZ2Ugb2YgcGFzc2luZyBQZXJzaXN0Q29uZmlnIGluIGFzIFBlcnNpc3Rvck9wdGlvbnNcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgb3B0aW9uc1RvVGVzdCA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGJhbm5lZEtleXMgPSBbJ2JsYWNrbGlzdCcsICd3aGl0ZWxpc3QnLCAndHJhbnNmb3JtcycsICdzdG9yYWdlJywgJ2tleVByZWZpeCcsICdtaWdyYXRlJ107XG4gICAgYmFubmVkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBpZiAoISFvcHRpb25zVG9UZXN0W2tdKSBjb25zb2xlLmVycm9yKFwicmVkdXgtcGVyc2lzdDogaW52YWxpZCBvcHRpb24gcGFzc2VkIHRvIHBlcnNpc3RTdG9yZTogXFxcIlwiLmNvbmNhdChrLCBcIlxcXCIuIFlvdSBtYXkgYmUgaW5jb3JyZWN0bHkgcGFzc2luZyBwZXJzaXN0Q29uZmlnIGludG8gcGVyc2lzdFN0b3JlLCB3aGVyZWFzIGl0IHNob3VsZCBiZSBwYXNzZWQgaW50byBwZXJzaXN0UmVkdWNlci5cIikpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGJvb3N0cmFwcGVkQ2IgPSBjYiB8fCBmYWxzZTtcblxuICB2YXIgX3BTdG9yZSA9IGNyZWF0ZVN0b3JlKHBlcnNpc3RvclJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgb3B0aW9ucyAmJiBvcHRpb25zLmVuaGFuY2VyID8gb3B0aW9ucy5lbmhhbmNlciA6IHVuZGVmaW5lZCk7XG5cbiAgdmFyIHJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIoa2V5KSB7XG4gICAgX3BTdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiBSRUdJU1RFUixcbiAgICAgIGtleToga2V5XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlaHlkcmF0ZSA9IGZ1bmN0aW9uIHJlaHlkcmF0ZShrZXksIHBheWxvYWQsIGVycikge1xuICAgIHZhciByZWh5ZHJhdGVBY3Rpb24gPSB7XG4gICAgICB0eXBlOiBSRUhZRFJBVEUsXG4gICAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgICAgZXJyOiBlcnIsXG4gICAgICBrZXk6IGtleSAvLyBkaXNwYXRjaCB0byBgc3RvcmVgIHRvIHJlaHlkcmF0ZSBhbmQgYHBlcnNpc3RvcmAgdG8gdHJhY2sgcmVzdWx0XG5cbiAgICB9O1xuICAgIHN0b3JlLmRpc3BhdGNoKHJlaHlkcmF0ZUFjdGlvbik7XG5cbiAgICBfcFN0b3JlLmRpc3BhdGNoKHJlaHlkcmF0ZUFjdGlvbik7XG5cbiAgICBpZiAoYm9vc3RyYXBwZWRDYiAmJiBwZXJzaXN0b3IuZ2V0U3RhdGUoKS5ib290c3RyYXBwZWQpIHtcbiAgICAgIGJvb3N0cmFwcGVkQ2IoKTtcbiAgICAgIGJvb3N0cmFwcGVkQ2IgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHBlcnNpc3RvciA9IF9vYmplY3RTcHJlYWQoe30sIF9wU3RvcmUsIHtcbiAgICBwdXJnZTogZnVuY3Rpb24gcHVyZ2UoKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBQVVJHRSxcbiAgICAgICAgcmVzdWx0OiBmdW5jdGlvbiByZXN1bHQocHVyZ2VSZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gocHVyZ2VSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHRzKTtcbiAgICB9LFxuICAgIGZsdXNoOiBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEZMVVNILFxuICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChmbHVzaFJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChmbHVzaFJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMpO1xuICAgIH0sXG4gICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBQQVVTRVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBwZXJzaXN0OiBmdW5jdGlvbiBwZXJzaXN0KCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBQRVJTSVNULFxuICAgICAgICByZWdpc3RlcjogcmVnaXN0ZXIsXG4gICAgICAgIHJlaHlkcmF0ZTogcmVoeWRyYXRlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICghKG9wdGlvbnMgJiYgb3B0aW9ucy5tYW51YWxQZXJzaXN0KSkge1xuICAgIHBlcnNpc3Rvci5wZXJzaXN0KCk7XG4gIH1cblxuICByZXR1cm4gcGVyc2lzdG9yO1xufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFjQTtBQUNBO0FBZkEsU0FBUyxtQkFBbUIsR0FBRztJQUFJLE9BQU8sbUJBQW1CLFFBQVEsaUJBQWlCLFFBQVE7QUFBc0I7QUFFcEgsU0FBUztJQUF1QixNQUFNLElBQUksVUFBVTtBQUFvRDtBQUV4RyxTQUFTLGlCQUFpQixJQUFJO0lBQUksSUFBSSxPQUFPLFFBQVEsSUFBSSxPQUFPLFNBQVMsT0FBTyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLHNCQUFzQixPQUFPLE1BQU0sSUFBSSxDQUFDO0FBQU87QUFFakssU0FBUyxtQkFBbUIsR0FBRztJQUFJLElBQUksTUFBTSxPQUFPLENBQUMsTUFBTTtRQUFFLElBQUssSUFBSSxJQUFJLEdBQUcsT0FBTyxJQUFJLE1BQU0sSUFBSSxNQUFNLEdBQUcsSUFBSSxJQUFJLE1BQU0sRUFBRSxJQUFLO1lBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRTtRQUFFO1FBQUUsT0FBTztJQUFNO0FBQUU7QUFFckssU0FBUyxRQUFRLE1BQU0sRUFBRSxjQUFjO0lBQUksSUFBSSxPQUFPLE9BQU8sSUFBSSxDQUFDO0lBQVMsSUFBSSxPQUFPLHFCQUFxQixFQUFFO1FBQUUsSUFBSSxVQUFVLE9BQU8scUJBQXFCLENBQUM7UUFBUyxJQUFJLGdCQUFnQixVQUFVLFFBQVEsTUFBTSxDQUFDLFNBQVUsR0FBRztZQUFJLE9BQU8sT0FBTyx3QkFBd0IsQ0FBQyxRQUFRLEtBQUssVUFBVTtRQUFFO1FBQUksS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU07SUFBVTtJQUFFLE9BQU87QUFBTTtBQUVwVixTQUFTLGNBQWMsTUFBTTtJQUFJLElBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxVQUFVLE1BQU0sRUFBRSxJQUFLO1FBQUUsSUFBSSxTQUFTLFNBQVMsQ0FB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QUFRLFFBQVEsQ0FBQztRQUVqQixJQUFJLGlCQUFpQixVQUFVLFFBQVEsR0FBRyxZQUFZLEVBQUU7WUFDdEQ7WUFDQSxnQkFBZ0I7UUFDbEI7SUFDRjtJQUVBLElBQUksWUFBWSxjQUFjLENBQUMsR0FBRyxTQUFTO1FBQ3pDLE9BQU8sU0FBUztZQUNkLElBQUksVUFBVSxFQUFFO1lBQ2hCLE1BQU0sUUFBUSxDQUFDO2dCQUNiLE1BQU0sbUpBQUEsQ0FBQSxRQUFLO2dCQUNYLFFBQVEsU0FBUyxPQUFPLFdBQVc7b0JBQ2pDLFFBQVEsSUFBSSxDQUFDO2dCQUNmO1lBQ0Y7WUFDQSxPQUFPLFFBQVEsR0FBRyxDQUFDO1FBQ3JCO1FBQ0EsT0FBTyxTQUFTO1lBQ2QsSUFBSSxVQUFVLEVBQUU7WUFDaEIsTUFBTSxRQUFRLENBQUM7Z0JBQ2IsTUFBTSxtSkFBQSxDQUFBLFFBQUs7Z0JBQ1gsUUFBUSxTQUFTLE9BQU8sV0FBVztvQkFDakMsUUFBUSxJQUFJLENBQUM7Z0JBQ2Y7WUFDRjtZQUNBLE9BQU8sUUFBUSxHQUFHLENBQUM7UUFDckI7UUFDQSxPQUFPLFNBQVM7WUFDZCxNQUFNLFFBQVEsQ0FBQztnQkFDYixNQUFNLG1KQUFBLENBQUEsUUFBSztZQUNiO1FBQ0Y7UUFDQSxTQUFTLFNBQVM7WUFDaEIsTUFBTSxRQUFRLENBQUM7Z0JBQ2IsTUFBTSxtSkFBQSxDQUFBLFVBQU87Z0JBQ2IsVUFBVTtnQkFDVixXQUFXO1lBQ2I7UUFDRjtJQUNGO0lBRUEsSUFBSSxDQUFDLENBQUMsV0FBVyxRQUFRLGFBQWEsR0FBRztRQUN2QyxVQUFVLE9BQU87SUFDbkI7SUFFQSxPQUFPO0FBQ1QiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMTA3NjQsICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgtcGVyc2lzdC9lcy9jcmVhdGVNaWdyYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERFRkFVTFRfVkVSU0lPTiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1pZ3JhdGUobWlncmF0aW9ucywgY29uZmlnKSB7XG4gIHZhciBfcmVmID0gY29uZmlnIHx8IHt9LFxuICAgICAgZGVidWcgPSBfcmVmLmRlYnVnO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGN1cnJlbnRWZXJzaW9uKSB7XG4gICAgaWYgKCFzdGF0ZSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGVidWcpIGNvbnNvbGUubG9nKCdyZWR1eC1wZXJzaXN0OiBubyBpbmJvdW5kIHN0YXRlLCBza2lwcGluZyBtaWdyYXRpb24nKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICB2YXIgaW5ib3VuZFZlcnNpb24gPSBzdGF0ZS5fcGVyc2lzdCAmJiBzdGF0ZS5fcGVyc2lzdC52ZXJzaW9uICE9PSB1bmRlZmluZWQgPyBzdGF0ZS5fcGVyc2lzdC52ZXJzaW9uIDogREVGQVVMVF9WRVJTSU9OO1xuXG4gICAgaWYgKGluYm91bmRWZXJzaW9uID09PSBjdXJyZW50VmVyc2lvbikge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGVidWcpIGNvbnNvbGUubG9nKCdyZWR1eC1wZXJzaXN0OiB2ZXJzaW9ucyBtYXRjaCwgbm9vcCBtaWdyYXRpb24nKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChpbmJvdW5kVmVyc2lvbiA+IGN1cnJlbnRWZXJzaW9uKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgY29uc29sZS5lcnJvcigncmVkdXgtcGVyc2lzdDogZG93bmdyYWRpbmcgdmVyc2lvbiBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0YXRlKTtcbiAgICB9XG5cbiAgICB2YXIgbWlncmF0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG1pZ3JhdGlvbnMpLm1hcChmdW5jdGlvbiAodmVyKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQodmVyKTtcbiAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRWZXJzaW9uID49IGtleSAmJiBrZXkgPiBpbmJvdW5kVmVyc2lvbjtcbiAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgfSk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGVidWcpIGNvbnNvbGUubG9nKCdyZWR1eC1wZXJzaXN0OiBtaWdyYXRpb25LZXlzJywgbWlncmF0aW9uS2V5cyk7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIG1pZ3JhdGVkU3RhdGUgPSBtaWdyYXRpb25LZXlzLnJlZHVjZShmdW5jdGlvbiAoc3RhdGUsIHZlcnNpb25LZXkpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGVidWcpIGNvbnNvbGUubG9nKCdyZWR1eC1wZXJzaXN0OiBydW5uaW5nIG1pZ3JhdGlvbiBmb3IgdmVyc2lvbktleScsIHZlcnNpb25LZXkpO1xuICAgICAgICByZXR1cm4gbWlncmF0aW9uc1t2ZXJzaW9uS2V5XShzdGF0ZSk7XG4gICAgICB9LCBzdGF0ZSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1pZ3JhdGVkU3RhdGUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfVxuICB9O1xufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTs7QUFDZSxTQUFTLGNBQWMsVUFBVSxFQUFFLE1BQU07SUFDdEQsSUFBSSxPQUFPLFVBQVUsQ0FBQyxHQUNsQixRQUFRLEtBQUssS0FBSztJQUV0QixPQUFPLFNBQVUsS0FBSyxFQUFFLGNBQWM7UUFDcEMsSUFBSSxDQUFDLE9BQU87WUFDVixJQUFJLG9EQUF5QixnQkFBZ0IsT0FBTyxRQUFRLEdBQUcsQ0FBQztZQUNoRSxPQUFPLFFBQVEsT0FBTyxDQUFDO1FBQ3pCO1FBRUEsSUFBSSxpQkFBaUIsTUFBTSxRQUFRLElBQUksTUFBTSxRQUFRLENBQUMsT0FBTyxLQUFLLFlBQVksTUFBTSxRQUFRLENBQUMsT0FBTyxHQUFHLG1KQUFBLENBQUEsa0JBQWU7UUFFdEgsSUFBSSxtQkFBbUIsZ0JBQWdCO1lBQ3JDLElBQUksb0RBQXlCLGdCQUFnQixPQUFPLFFBQVEsR0FBRyxDQUFDO1lBQ2hFLE9BQU8sUUFBUSxPQUFPLENBQUM7UUFDekI7UUFFQSxJQUFJLGlCQUFpQixnQkFBZ0I7WUFDbkMsd0NBQTJDLFFBQVEsS0FBSyxDQUFDO1lBQ3pELE9BQU8sUUFBUSxPQUFPLENBQUM7UUFDekI7UUFFQSxJQUFJLGdCQUFnQixPQUFPLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxTQUFVLEdBQUc7WUFDM0QsT0FBTyxTQUFTO1FBQ2xCLEdBQUcsTUFBTSxDQUFDLFNBQVUsR0FBRztZQUNyQixPQUFPLGtCQUFrQixPQUFPLE1BQU07UUFDeEMsR0FBRyxJQUFJLENBQUMsU0FBVSxDQUFDLEVBQUUsQ0FBQztZQUNwQixPQUFPLElBQUk7UUFDYjtRQUNBLElBQUksb0RBQXlCLGdCQUFnQixPQUFPLFFBQVEsR0FBRyxDQUFDLGdDQUFnQztRQUVoRyxJQUFJO1lBQ0YsSUFBSSxnQkFBZ0IsY0FBYyxNQUFNLENBQUMsU0FBVSxLQUFLLEVBQUUsVUFBVTtnQkFDbEUsSUFBSSxvREFBeUIsZ0JBQWdCLE9BQU8sUUFBUSxHQUFHLENBQUMsbURBQW1EO2dCQUNuSCxPQUFPLFVBQVUsQ0FBQyxXQUFXLENBQUM7WUFDaEMsR0FBRztZQUNILE9BQU8sUUFBUSxPQUFPLENBQUM7UUFDekIsRUFBRSxPQUFPLEtBQUs7WUFDWixPQUFPLFFBQVEsTUFBTSxDQUFDO1FBQ3hCO0lBQ0Y7QUFDRiIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAxMDgwOCwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC1wZXJzaXN0L2VzL2NyZWF0ZVRyYW5zZm9ybS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm0oIC8vIEBOT1RFIGluYm91bmQ6IHRyYW5zZm9ybSBzdGF0ZSBjb21pbmcgZnJvbSByZWR1eCBvbiBpdHMgd2F5IHRvIGJlaW5nIHNlcmlhbGl6ZWQgYW5kIHN0b3JlZFxuaW5ib3VuZCwgLy8gQE5PVEUgb3V0Ym91bmQ6IHRyYW5zZm9ybSBzdGF0ZSBjb21pbmcgZnJvbSBzdG9yYWdlLCBvbiBpdHMgd2F5IHRvIGJlIHJlaHlkcmF0ZWQgaW50byByZWR1eFxub3V0Ym91bmQpIHtcbiAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIHZhciB3aGl0ZWxpc3QgPSBjb25maWcud2hpdGVsaXN0IHx8IG51bGw7XG4gIHZhciBibGFja2xpc3QgPSBjb25maWcuYmxhY2tsaXN0IHx8IG51bGw7XG5cbiAgZnVuY3Rpb24gd2hpdGVsaXN0QmxhY2tsaXN0Q2hlY2soa2V5KSB7XG4gICAgaWYgKHdoaXRlbGlzdCAmJiB3aGl0ZWxpc3QuaW5kZXhPZihrZXkpID09PSAtMSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGJsYWNrbGlzdCAmJiBibGFja2xpc3QuaW5kZXhPZihrZXkpICE9PSAtMSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbjogZnVuY3Rpb24gX2luKHN0YXRlLCBrZXksIGZ1bGxTdGF0ZSkge1xuICAgICAgcmV0dXJuICF3aGl0ZWxpc3RCbGFja2xpc3RDaGVjayhrZXkpICYmIGluYm91bmQgPyBpbmJvdW5kKHN0YXRlLCBrZXksIGZ1bGxTdGF0ZSkgOiBzdGF0ZTtcbiAgICB9LFxuICAgIG91dDogZnVuY3Rpb24gb3V0KHN0YXRlLCBrZXksIGZ1bGxTdGF0ZSkge1xuICAgICAgcmV0dXJuICF3aGl0ZWxpc3RCbGFja2xpc3RDaGVjayhrZXkpICYmIG91dGJvdW5kID8gb3V0Ym91bmQoc3RhdGUsIGtleSwgZnVsbFN0YXRlKSA6IHN0YXRlO1xuICAgIH1cbiAgfTtcbn0iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQWUsU0FBUyxnQkFDeEIsT0FBTyxFQUNQLFFBQVE7SUFDTixJQUFJLFNBQVMsVUFBVSxNQUFNLEdBQUcsS0FBSyxTQUFTLENBQUMsRUFBRSxLQUFLLFlBQVksU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO0lBQ2xGLElBQUksWUFBWSxPQUFPLFNBQVMsSUFBSTtJQUNwQyxJQUFJLFlBQVksT0FBTyxTQUFTLElBQUk7SUFFcEMsU0FBUyx3QkFBd0IsR0FBRztRQUNsQyxJQUFJLGFBQWEsVUFBVSxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsT0FBTztRQUN2RCxJQUFJLGFBQWEsVUFBVSxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsT0FBTztRQUN2RCxPQUFPO0lBQ1Q7SUFFQSxPQUFPO1FBQ0wsSUFBSSxTQUFTLElBQUksS0FBSyxFQUFFLEdBQUcsRUFBRSxTQUFTO1lBQ3BDLE9BQU8sQ0FBQyx3QkFBd0IsUUFBUSxVQUFVLFFBQVEsT0FBTyxLQUFLLGFBQWE7UUFDckY7UUFDQSxLQUFLLFNBQVMsSUFBSSxLQUFLLEVBQUUsR0FBRyxFQUFFLFNBQVM7WUFDckMsT0FBTyxDQUFDLHdCQUF3QixRQUFRLFdBQVcsU0FBUyxPQUFPLEtBQUssYUFBYTtRQUN2RjtJQUNGO0FBQ0YiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMTA4MzMsICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvcmVkdXgtcGVyc2lzdC9lcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBkZWZhdWx0IGFzIHBlcnNpc3RSZWR1Y2VyIH0gZnJvbSAnLi9wZXJzaXN0UmVkdWNlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBlcnNpc3RDb21iaW5lUmVkdWNlcnMgfSBmcm9tICcuL3BlcnNpc3RDb21iaW5lUmVkdWNlcnMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwZXJzaXN0U3RvcmUgfSBmcm9tICcuL3BlcnNpc3RTdG9yZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZU1pZ3JhdGUgfSBmcm9tICcuL2NyZWF0ZU1pZ3JhdGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVUcmFuc2Zvcm0gfSBmcm9tICcuL2NyZWF0ZVRyYW5zZm9ybSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGdldFN0b3JlZFN0YXRlIH0gZnJvbSAnLi9nZXRTdG9yZWRTdGF0ZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZVBlcnNpc3RvaWQgfSBmcm9tICcuL2NyZWF0ZVBlcnNpc3RvaWQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwdXJnZVN0b3JlZFN0YXRlIH0gZnJvbSAnLi9wdXJnZVN0b3JlZFN0YXRlJztcbmV4cG9ydCAqIGZyb20gJy4vY29uc3RhbnRzJzsiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImlnbm9yZUxpc3QiOlswXSwiZGVidWdJZCI6bnVsbH19LAogICAgeyJvZmZzZXQiOiB7ImxpbmUiOiAxMDg4OSwgImNvbHVtbiI6IDB9LCAibWFwIjogeyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vRDovRG9jdW1lbnRzL05ldyUyMGZvbGRlci9UYXNrLUZsb3cvY2xpZW50L25vZGVfbW9kdWxlcy9yZWR1eC1wZXJzaXN0L2xpYi9zdG9yYWdlL2dldFN0b3JhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZXRTdG9yYWdlO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIG5vb3BTdG9yYWdlID0ge1xuICBnZXRJdGVtOiBub29wLFxuICBzZXRJdGVtOiBub29wLFxuICByZW1vdmVJdGVtOiBub29wXG59O1xuXG5mdW5jdGlvbiBoYXNTdG9yYWdlKHN0b3JhZ2VUeXBlKSB7XG4gIGlmICgodHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihzZWxmKSkgIT09ICdvYmplY3QnIHx8ICEoc3RvcmFnZVR5cGUgaW4gc2VsZikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBzdG9yYWdlID0gc2VsZltzdG9yYWdlVHlwZV07XG4gICAgdmFyIHRlc3RLZXkgPSBcInJlZHV4LXBlcnNpc3QgXCIuY29uY2F0KHN0b3JhZ2VUeXBlLCBcIiB0ZXN0XCIpO1xuICAgIHN0b3JhZ2Uuc2V0SXRlbSh0ZXN0S2V5LCAndGVzdCcpO1xuICAgIHN0b3JhZ2UuZ2V0SXRlbSh0ZXN0S2V5KTtcbiAgICBzdG9yYWdlLnJlbW92ZUl0ZW0odGVzdEtleSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgY29uc29sZS53YXJuKFwicmVkdXgtcGVyc2lzdCBcIi5jb25jYXQoc3RvcmFnZVR5cGUsIFwiIHRlc3QgZmFpbGVkLCBwZXJzaXN0ZW5jZSB3aWxsIGJlIGRpc2FibGVkLlwiKSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGdldFN0b3JhZ2UodHlwZSkge1xuICB2YXIgc3RvcmFnZVR5cGUgPSBcIlwiLmNvbmNhdCh0eXBlLCBcIlN0b3JhZ2VcIik7XG4gIGlmIChoYXNTdG9yYWdlKHN0b3JhZ2VUeXBlKSkgcmV0dXJuIHNlbGZbc3RvcmFnZVR5cGVdO2Vsc2Uge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwicmVkdXgtcGVyc2lzdCBmYWlsZWQgdG8gY3JlYXRlIHN5bmMgc3RvcmFnZS4gZmFsbGluZyBiYWNrIHRvIG5vb3Agc3RvcmFnZS5cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vb3BTdG9yYWdlO1xuICB9XG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLFFBQVEsVUFBVSxHQUFHO0FBQ3JCLFFBQVEsT0FBTyxHQUFHO0FBRWxCLFNBQVMsUUFBUSxHQUFHO0lBQUksSUFBSSxPQUFPLFdBQVcsY0FBYyxPQUFPLE9BQU8sUUFBUSxLQUFLLFVBQVU7UUFBRSxVQUFVLFNBQVMsUUFBUSxHQUFHO1lBQUksT0FBTyxPQUFPO1FBQUs7SUFBRyxPQUFPO1FBQUUsVUFBVSxTQUFTLFFBQVEsR0FBRztZQUFJLE9BQU8sT0FBTyxPQUFPLFdBQVcsY0FBYyxJQUFJLFdBQVcsS0FBSyxVQUFVLFFBQVEsT0FBTyxTQUFTLEdBQUcsV0FBVyxPQUFPO1FBQUs7SUFBRztJQUFFLE9BQU8sUUFBUTtBQUFNO0FBRTlWLFNBQVMsUUFBUTtBQUVqQixJQUFJLGNBQWM7SUFDaEIsU0FBUztJQUNULFNBQVM7SUFDVCxZQUFZO0FBQ2Q7QUFFQSxTQUFTLFdBQVcsV0FBVztJQUM3QixJQUFJLENBQUMsT0FBTyxTQUFTLGNBQWMsY0FBYyxRQUFRLEtBQUssTUFBTSxZQUFZLENBQUMsQ0FBQyxlQUFlLElBQUksR0FBRztRQUN0RyxPQUFPO0lBQ1Q7SUFFQSxJQUFJO1FBQ0YsSUFBSSxVQUFVLElBQUksQ0FBQyxZQUFZO1FBQy9CLElBQUksVUFBVSxpQkFBaUIsTUFBTSxDQUFDLGFBQWE7UUFDbkQsUUFBUSxPQUFPLENBQUMsU0FBUztRQUN6QixRQUFRLE9BQU8sQ0FBQztRQUNoQixRQUFRLFVBQVUsQ0FBQztJQUNyQixFQUFFLE9BQU8sR0FBRztRQUNWLHdDQUEyQyxRQUFRLElBQUksQ0FBQyxpQkFBaUIsTUFBTSxDQUFDLGFBQWE7UUFDN0YsT0FBTztJQUNUO0lBRUEsT0FBTztBQUNUO0FBRUEsU0FBUyxXQUFXLElBQUk7SUFDdEIsSUFBSSxjQUFjLEdBQUcsTUFBTSxDQUFDLE1BQU07SUFDbEMsSUFBSSxXQUFXLGNBQWMsT0FBTyxJQUFJLENBQUMsWUFBWTtTQUFNO1FBQ3pELHdDQUEyQztZQUN6QyxRQUFRLEtBQUssQ0FBQztRQUNoQjtRQUVBLE9BQU87SUFDVDtBQUNGIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDEwOTQxLCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4LXBlcnNpc3QvbGliL3N0b3JhZ2UvY3JlYXRlV2ViU3RvcmFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVdlYlN0b3JhZ2U7XG5cbnZhciBfZ2V0U3RvcmFnZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZ2V0U3RvcmFnZVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZVdlYlN0b3JhZ2UodHlwZSkge1xuICB2YXIgc3RvcmFnZSA9ICgwLCBfZ2V0U3RvcmFnZS5kZWZhdWx0KSh0eXBlKTtcbiAgcmV0dXJuIHtcbiAgICBnZXRJdGVtOiBmdW5jdGlvbiBnZXRJdGVtKGtleSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmVzb2x2ZShzdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNldEl0ZW06IGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCBpdGVtKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByZXNvbHZlKHN0b3JhZ2Uuc2V0SXRlbShrZXksIGl0ZW0pKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbTogZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXkpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlc29sdmUoc3RvcmFnZS5yZW1vdmVJdGVtKGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxRQUFRLFVBQVUsR0FBRztBQUNyQixRQUFRLE9BQU8sR0FBRztBQUVsQixJQUFJLGNBQWM7QUFFbEIsU0FBUyx1QkFBdUIsR0FBRztJQUFJLE9BQU8sT0FBTyxJQUFJLFVBQVUsR0FBRyxNQUFNO1FBQUUsU0FBUztJQUFJO0FBQUc7QUFFOUYsU0FBUyxpQkFBaUIsSUFBSTtJQUM1QixJQUFJLFVBQVUsQ0FBQyxHQUFHLFlBQVksT0FBTyxFQUFFO0lBQ3ZDLE9BQU87UUFDTCxTQUFTLFNBQVMsUUFBUSxHQUFHO1lBQzNCLE9BQU8sSUFBSSxRQUFRLFNBQVUsT0FBTyxFQUFFLE1BQU07Z0JBQzFDLFFBQVEsUUFBUSxPQUFPLENBQUM7WUFDMUI7UUFDRjtRQUNBLFNBQVMsU0FBUyxRQUFRLEdBQUcsRUFBRSxJQUFJO1lBQ2pDLE9BQU8sSUFBSSxRQUFRLFNBQVUsT0FBTyxFQUFFLE1BQU07Z0JBQzFDLFFBQVEsUUFBUSxPQUFPLENBQUMsS0FBSztZQUMvQjtRQUNGO1FBQ0EsWUFBWSxTQUFTLFdBQVcsR0FBRztZQUNqQyxPQUFPLElBQUksUUFBUSxTQUFVLE9BQU8sRUFBRSxNQUFNO2dCQUMxQyxRQUFRLFFBQVEsVUFBVSxDQUFDO1lBQzdCO1FBQ0Y7SUFDRjtBQUNGIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDEwOTc1LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4LXBlcnNpc3QvbGliL3N0b3JhZ2UvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfY3JlYXRlV2ViU3RvcmFnZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY3JlYXRlV2ViU3RvcmFnZVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlV2ViU3RvcmFnZS5kZWZhdWx0KSgnbG9jYWwnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLFFBQVEsVUFBVSxHQUFHO0FBQ3JCLFFBQVEsT0FBTyxHQUFHLEtBQUs7QUFFdkIsSUFBSSxvQkFBb0I7QUFFeEIsU0FBUyx1QkFBdUIsR0FBRztJQUFJLE9BQU8sT0FBTyxJQUFJLFVBQVUsR0FBRyxNQUFNO1FBQUUsU0FBUztJQUFJO0FBQUc7QUFFOUYsSUFBSSxXQUFXLENBQUMsR0FBRyxrQkFBa0IsT0FBTyxFQUFFO0FBRTlDLFFBQVEsT0FBTyxHQUFHIiwiaWdub3JlTGlzdCI6WzBdLCJkZWJ1Z0lkIjpudWxsfX0sCiAgICB7Im9mZnNldCI6IHsibGluZSI6IDEwOTg5LCAiY29sdW1uIjogMH0sICJtYXAiOiB7InZlcnNpb24iOjMsInNvdXJjZXMiOlsiZmlsZTovLy9EOi9Eb2N1bWVudHMvTmV3JTIwZm9sZGVyL1Rhc2stRmxvdy9jbGllbnQvbm9kZV9tb2R1bGVzL3JlZHV4LXBlcnNpc3QvZXMvaW50ZWdyYXRpb24vcmVhY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9uby11bnJlc29sdmVkXG5cbmV4cG9ydCB2YXIgUGVyc2lzdEdhdGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQZXJzaXN0R2F0ZSwgX1B1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBlcnNpc3RHYXRlKCkge1xuICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyO1xuXG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBlcnNpc3RHYXRlKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFBlcnNpc3RHYXRlKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge1xuICAgICAgYm9vdHN0cmFwcGVkOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl91bnN1YnNjcmliZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZVBlcnNpc3RvclN0YXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwZXJzaXN0b3IgPSBfdGhpcy5wcm9wcy5wZXJzaXN0b3I7XG5cbiAgICAgIHZhciBfcGVyc2lzdG9yJGdldFN0YXRlID0gcGVyc2lzdG9yLmdldFN0YXRlKCksXG4gICAgICAgICAgYm9vdHN0cmFwcGVkID0gX3BlcnNpc3RvciRnZXRTdGF0ZS5ib290c3RyYXBwZWQ7XG5cbiAgICAgIGlmIChib290c3RyYXBwZWQpIHtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQmVmb3JlTGlmdCkge1xuICAgICAgICAgIFByb21pc2UucmVzb2x2ZShfdGhpcy5wcm9wcy5vbkJlZm9yZUxpZnQoKSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBib290c3RyYXBwZWQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGJvb3RzdHJhcHBlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuX3Vuc3Vic2NyaWJlICYmIF90aGlzLl91bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBlcnNpc3RHYXRlLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdGhpcy5wcm9wcy5wZXJzaXN0b3Iuc3Vic2NyaWJlKHRoaXMuaGFuZGxlUGVyc2lzdG9yU3RhdGUpO1xuICAgICAgdGhpcy5oYW5kbGVQZXJzaXN0b3JTdGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlICYmIHRoaXMuX3Vuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgJiYgdGhpcy5wcm9wcy5sb2FkaW5nKSBjb25zb2xlLmVycm9yKCdyZWR1eC1wZXJzaXN0OiBQZXJzaXN0R2F0ZSBleHBlY3RzIGVpdGhlciBhIGZ1bmN0aW9uIGNoaWxkIG9yIGxvYWRpbmcgcHJvcCwgYnV0IG5vdCBib3RoLiBUaGUgbG9hZGluZyBwcm9wIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLmNoaWxkcmVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuKHRoaXMuc3RhdGUuYm9vdHN0cmFwcGVkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYm9vdHN0cmFwcGVkID8gdGhpcy5wcm9wcy5jaGlsZHJlbiA6IHRoaXMucHJvcHMubG9hZGluZztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGVyc2lzdEdhdGU7XG59KFB1cmVDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoUGVyc2lzdEdhdGUsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgY2hpbGRyZW46IG51bGwsXG4gIGxvYWRpbmc6IG51bGxcbn0pOyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFvQkEsb1ZBQThDLDJDQUEyQztBQXBCekYsU0FBUyxRQUFRLEdBQUc7SUFBSSxJQUFJLE9BQU8sV0FBVyxjQUFjLE9BQU8sT0FBTyxRQUFRLEtBQUssVUFBVTtRQUFFLFVBQVUsU0FBUyxRQUFRLEdBQUc7WUFBSSxPQUFPLE9BQU87UUFBSztJQUFHLE9BQU87UUFBRSxVQUFVLFNBQVMsUUFBUSxHQUFHO1lBQUksT0FBTyxPQUFPLE9BQU8sV0FBVyxjQUFjLElBQUksV0FBVyxLQUFLLFVBQVUsUUFBUSxPQUFPLFNBQVMsR0FBRyxXQUFXLE9BQU87UUFBSztJQUFHO0lBQUUsT0FBTyxRQUFRO0FBQU07QUFFOVYsU0FBUyxnQkFBZ0IsUUFBUSxFQUFFLFdBQVc7SUFBSSxJQUFJLENBQUMsQ0FBQyxvQkFBb0IsV0FBVyxHQUFHO1FBQUUsTUFBTSxJQUFJLFVBQVU7SUFB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QUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTztZQUMzRTtRQUNGO0tBQUU7SUFFRixPQUFPO0FBQ1QsRUFBRSxxTUFBQSxDQUFBLGdCQUFhO0FBRWYsZ0JBQWdCLGFBQWEsZ0JBQWdCO0lBQzNDLFVBQVU7SUFDVixTQUFTO0FBQ1giLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fSwKICAgIHsib2Zmc2V0IjogeyJsaW5lIjogMTExNDksICJjb2x1bW4iOiAwfSwgIm1hcCI6IHsidmVyc2lvbiI6Mywic291cmNlcyI6WyJmaWxlOi8vL0Q6L0RvY3VtZW50cy9OZXclMjBmb2xkZXIvVGFzay1GbG93L2NsaWVudC9ub2RlX21vZHVsZXMvJTQwc3RhbmRhcmQtc2NoZW1hL3V0aWxzL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2dldERvdFBhdGgvZ2V0RG90UGF0aC50c1xuZnVuY3Rpb24gZ2V0RG90UGF0aChpc3N1ZSkge1xuICBpZiAoaXNzdWUucGF0aD8ubGVuZ3RoKSB7XG4gICAgbGV0IGRvdFBhdGggPSBcIlwiO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpc3N1ZS5wYXRoKSB7XG4gICAgICBjb25zdCBrZXkgPSB0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiA/IGl0ZW0ua2V5IDogaXRlbTtcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBrZXkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKGRvdFBhdGgpIHtcbiAgICAgICAgICBkb3RQYXRoICs9IGAuJHtrZXl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb3RQYXRoICs9IGtleTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkb3RQYXRoO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBzcmMvU2NoZW1hRXJyb3IvU2NoZW1hRXJyb3IudHNcbnZhciBTY2hlbWFFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogVGhlIHNjaGVtYSBpc3N1ZXMuXG4gICAqL1xuICBpc3N1ZXM7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2NoZW1hIGVycm9yIHdpdGggdXNlZnVsIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gaXNzdWVzIFRoZSBzY2hlbWEgaXNzdWVzLlxuICAgKi9cbiAgY29uc3RydWN0b3IoaXNzdWVzKSB7XG4gICAgc3VwZXIoaXNzdWVzWzBdLm1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiU2NoZW1hRXJyb3JcIjtcbiAgICB0aGlzLmlzc3VlcyA9IGlzc3VlcztcbiAgfVxufTtcbmV4cG9ydCB7XG4gIFNjaGVtYUVycm9yLFxuICBnZXREb3RQYXRoXG59O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtCQUErQjs7Ozs7QUFDL0IsU0FBUyxXQUFXLEtBQUs7SUFDdkIsSUFBSSxNQUFNLElBQUksRUFBRSxRQUFRO1FBQ3RCLElBQUksVUFBVTtRQUNkLEtBQUssTUFBTSxRQUFRLE1BQU0sSUFBSSxDQUFFO1lBQzdCLE1BQU0sTUFBTSxPQUFPLFNBQVMsV0FBVyxLQUFLLEdBQUcsR0FBRztZQUNsRCxJQUFJLE9BQU8sUUFBUSxZQUFZLE9BQU8sUUFBUSxVQUFVO2dCQUN0RCxJQUFJLFNBQVM7b0JBQ1gsV0FBVyxDQUFDLENBQUMsRUFBRSxLQUFLO2dCQUN0QixPQUFPO29CQUNMLFdBQVc7Z0JBQ2I7WUFDRixPQUFPO2dCQUNMLE9BQU87WUFDVDtRQUNGO1FBQ0EsT0FBTztJQUNUO0lBQ0EsT0FBTztBQUNUO0FBRUEsaUNBQWlDO0FBQ2pDLElBQUksY0FBYyxjQUFjO0lBQzlCOztHQUVDLEdBQ0QsT0FBTztJQUNQOzs7O0dBSUMsR0FDRCxZQUFZLE1BQU0sQ0FBRTtRQUNsQixLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUc7UUFDWixJQUFJLENBQUMsTUFBTSxHQUFHO0lBQ2hCO0FBQ0YiLCJpZ25vcmVMaXN0IjpbMF0sImRlYnVnSWQiOm51bGx9fV0KfQ==